{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _slicedToArray from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Global\\\\Option\\\\ProgramForm.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Modal, Form, Input, Spin, Tooltip, Select } from 'antd';\nimport { useForm } from 'react-hook-form';\nimport EditorSimple from '~/components/Elements/EditorSimple';\nimport { numberWithCommas } from '~/utils/functions';\nvar ProgramForm = /*#__PURE__*/React.memo(_c = _s(function (props) {\n  _s();\n\n  var _useState = useState(false),\n      isModalVisible = _useState[0],\n      setIsModalVisible = _useState[1];\n\n  var isLoading = props.isLoading,\n      rowData = props.rowData,\n      dataGrade = props.dataGrade,\n      _onSubmit = props._onSubmit,\n      programID = props.programID,\n      getIndex = props.getIndex;\n\n  var _useForm = useForm(),\n      handleSubmit = _useForm.handleSubmit,\n      setValue = _useForm.setValue;\n\n  var Option = Select.Option;\n\n  var _Form$useForm = Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0]; // HANDLE SUBMIT\n\n\n  var onSubmit = handleSubmit(function (data) {\n    console.log('data submit: ', data);\n\n    var res = _onSubmit(data);\n\n    res.then(function (rs) {\n      rs && rs.status == 200 && (setIsModalVisible(false), form.resetFields());\n    });\n  }); // FORMAT NUMBER\n\n  var formatNumber = function formatNumber(e) {\n    var value = e.target.value;\n    value = parseInt(value.replace(/\\,/g, ''), 10);\n\n    if (!isNaN(value)) {\n      form.setFieldsValue({\n        Price: numberWithCommas(value)\n      });\n      setValue('Price', value);\n    } else {\n      form.setFieldsValue({\n        Price: ''\n      });\n      setValue('Price', '');\n    }\n  }; // HANDLE SELECT\n\n\n  var onChangeSelect = function onChangeSelect(name) {\n    return function (value) {\n      setValue(name, value);\n      console.log('Value: ', value);\n    };\n  }; // IS VISIBLE MODAL\n\n\n  useEffect(function () {\n    if (isModalVisible) {\n      if (programID) {\n        getIndex();\n        Object.keys(rowData).forEach(function (key) {\n          setValue(key, rowData[key]);\n        });\n        form.setFieldsValue(rowData);\n      }\n    }\n  }, [isModalVisible]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [programID ? /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-icon edit\",\n      onClick: function onClick() {\n        setIsModalVisible(true);\n      },\n      children: /*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"C\\u1EADp nh\\u1EADt\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-edit\",\n          style: {\n            color: '#34c4a4',\n            fontSize: 16,\n            marginBottom: -1\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 7\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 6\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }, _this) : /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-warning add-new\",\n      onClick: function onClick() {\n        setIsModalVisible(true);\n      },\n      children: \"Th\\xEAm m\\u1EDBi\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }, _this), /*#__PURE__*/_jsxDEV(Modal, {\n      title: \"\".concat(programID ? 'Sửa' : 'Tạo', \" ch\\u01B0\\u01A1ng tr\\xECnh h\\u1ECDc\"),\n      visible: isModalVisible,\n      onCancel: function onCancel() {\n        return setIsModalVisible(false);\n      },\n      footer: null,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid\",\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          form: form,\n          layout: \"vertical\",\n          onFinish: onSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-6 col-12\",\n              children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                name: \"GradeID\",\n                label: \"Kh\\u1ED1i h\\u1ECDc\",\n                rules: [{\n                  required: true,\n                  message: 'Bạn không được để trống'\n                }],\n                children: /*#__PURE__*/_jsxDEV(Select, {\n                  style: {\n                    width: '100%'\n                  },\n                  className: \"style-input\",\n                  showSearch: true,\n                  placeholder: \"Ch\\u1ECDn kh\\u1ED1i h\\u1ECDc\",\n                  optionFilterProp: \"children\",\n                  onChange: onChangeSelect('GradeID'),\n                  children: (dataGrade === null || dataGrade === void 0 ? void 0 : dataGrade.length) > 0 ? dataGrade === null || dataGrade === void 0 ? void 0 : dataGrade.map(function (item, index) {\n                    return /*#__PURE__*/_jsxDEV(Option, {\n                      value: item.ID,\n                      children: item.GradeName\n                    }, index, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 105,\n                      columnNumber: 13\n                    }, _this);\n                  }) : /*#__PURE__*/_jsxDEV(Option, {\n                    value: 'none',\n                    children: \"Kh\\xF4ng c\\xF3 d\\u1EEF li\\u1EC7u\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 110,\n                    columnNumber: 12\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 10\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 9\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 8\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-6 col-12\",\n              children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                name: \"ProgramCode\",\n                label: \"M\\xE3 ch\\u01B0\\u01A1ng tr\\xECnh h\\u1ECDc\",\n                rules: [{\n                  required: true,\n                  message: 'Bạn không được để trống'\n                }],\n                children: /*#__PURE__*/_jsxDEV(Input, {\n                  placeholder: \"\",\n                  className: \"style-input\",\n                  onChange: function onChange(e) {\n                    return setValue('ProgramCode', e.target.value);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 118,\n                  columnNumber: 10\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 9\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 8\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-6 col-12\",\n              children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                name: \"ProgramName\",\n                label: \"T\\xEAn ch\\u01B0\\u01A1ng tr\\xECnh h\\u1ECDc\",\n                rules: [{\n                  required: true,\n                  message: 'Bạn không được để trống'\n                }],\n                children: /*#__PURE__*/_jsxDEV(Input, {\n                  placeholder: \"\",\n                  className: \"style-input\",\n                  onChange: function onChange(e) {\n                    return setValue('ProgramName', e.target.value);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 124,\n                  columnNumber: 10\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 9\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 8\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-6 col-12\",\n              children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                name: \"Price\",\n                label: \"H\\u1ECDc ph\\xED\",\n                rules: [{\n                  required: true,\n                  message: 'Bạn không được để trống'\n                }],\n                children: /*#__PURE__*/_jsxDEV(Input, {\n                  placeholder: \"\",\n                  className: \"style-input \",\n                  onChange: function onChange(e) {\n                    return formatNumber(e);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 10\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 9\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 8\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-6 col-12\",\n              children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                name: \"Type\",\n                label: \"Lo\\u1EA1i\",\n                rules: [{\n                  required: true,\n                  message: 'Bạn không được để trống'\n                }],\n                children: /*#__PURE__*/_jsxDEV(Select, {\n                  style: {\n                    width: '100%'\n                  },\n                  className: \"style-input\",\n                  showSearch: true,\n                  placeholder: \"Ch\\u1ECDn lo\\u1EA1i\",\n                  optionFilterProp: \"children\",\n                  onChange: onChangeSelect('Type'),\n                  children: /*#__PURE__*/_jsxDEV(Option, {\n                    value: 3,\n                    children: \"Video\"\n                  }, 3, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 144,\n                    columnNumber: 11\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 10\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 9\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 8\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-6 col-12\",\n              children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                name: \"Level\",\n                label: \"Level\",\n                rules: [{\n                  required: true,\n                  message: 'Bạn không được để trống'\n                }],\n                children: /*#__PURE__*/_jsxDEV(Input, {\n                  placeholder: \"\",\n                  className: \"style-input\",\n                  onChange: function onChange(e) {\n                    return setValue('Level', e.target.value);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 10\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 9\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 8\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12\",\n              children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                name: \"Description\",\n                label: \"M\\xF4 t\\u1EA3\",\n                children: /*#__PURE__*/_jsxDEV(EditorSimple, {\n                  defaultValue: \"\",\n                  isSimpleTool: true,\n                  handleChange: function handleChange(value) {\n                    return setValue('Description', value);\n                  },\n                  isTranslate: false,\n                  height: 80\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 10\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 9\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 8\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row \",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \" col-12 text-center\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn btn-primary \",\n                children: [\"L\\u01B0u\", isLoading.type == 'ADD_DATA' && isLoading.status && /*#__PURE__*/_jsxDEV(Spin, {\n                  className: \"loading-base\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 63\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 9\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 8\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 7\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 6\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 4\n    }, _this)]\n  }, void 0, true);\n}, \"vLPAON74ngTQbbzkNjkc/DgPiYc=\", false, function () {\n  return [useForm, Form.useForm];\n}));\n_c2 = ProgramForm;\nexport default ProgramForm;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ProgramForm$React.memo\");\n$RefreshReg$(_c2, \"ProgramForm\");","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Global/Option/ProgramForm.tsx"],"names":["React","useEffect","useState","Modal","Form","Input","Spin","Tooltip","Select","useForm","EditorSimple","numberWithCommas","ProgramForm","memo","props","isModalVisible","setIsModalVisible","isLoading","rowData","dataGrade","_onSubmit","programID","getIndex","handleSubmit","setValue","Option","form","onSubmit","data","console","log","res","then","rs","status","resetFields","formatNumber","e","value","target","parseInt","replace","isNaN","setFieldsValue","Price","onChangeSelect","name","Object","keys","forEach","key","color","fontSize","marginBottom","required","message","width","length","map","item","index","ID","GradeName","type"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Modal, Form, Input, Spin, Tooltip, Select } from 'antd'\r\nimport { RotateCcw } from 'react-feather'\r\nimport { useForm } from 'react-hook-form'\r\nimport EditorSimple from '~/components/Elements/EditorSimple'\r\nimport { numberWithCommas } from '~/utils/functions'\r\n\r\nconst ProgramForm = React.memo((props: any) => {\r\n\tconst [isModalVisible, setIsModalVisible] = useState(false)\r\n\tconst { isLoading, rowData, dataGrade, _onSubmit, programID, getIndex } = props\r\n\r\n\tconst { handleSubmit, setValue } = useForm()\r\n\tconst { Option } = Select\r\n\tconst [form] = Form.useForm()\r\n\r\n\t// HANDLE SUBMIT\r\n\tconst onSubmit = handleSubmit((data: any) => {\r\n\t\tconsole.log('data submit: ', data)\r\n\t\tlet res = _onSubmit(data)\r\n\r\n\t\tres.then(function (rs: any) {\r\n\t\t\trs && rs.status == 200 && (setIsModalVisible(false), form.resetFields())\r\n\t\t})\r\n\t})\r\n\r\n\t// FORMAT NUMBER\r\n\tconst formatNumber = (e) => {\r\n\t\tlet value = e.target.value\r\n\r\n\t\tvalue = parseInt(value.replace(/\\,/g, ''), 10)\r\n\r\n\t\tif (!isNaN(value)) {\r\n\t\t\tform.setFieldsValue({ Price: numberWithCommas(value) })\r\n\t\t\tsetValue('Price', value)\r\n\t\t} else {\r\n\t\t\tform.setFieldsValue({ Price: '' })\r\n\t\t\tsetValue('Price', '')\r\n\t\t}\r\n\t}\r\n\r\n\t// HANDLE SELECT\r\n\tconst onChangeSelect = (name: any) => (value: any) => {\r\n\t\tsetValue(name, value)\r\n\t\tconsole.log('Value: ', value)\r\n\t}\r\n\r\n\t// IS VISIBLE MODAL\r\n\tuseEffect(() => {\r\n\t\tif (isModalVisible) {\r\n\t\t\tif (programID) {\r\n\t\t\t\tgetIndex()\r\n\t\t\t\tObject.keys(rowData).forEach(function (key) {\r\n\t\t\t\t\tsetValue(key, rowData[key])\r\n\t\t\t\t})\r\n\t\t\t\tform.setFieldsValue(rowData)\r\n\t\t\t}\r\n\t\t}\r\n\t}, [isModalVisible])\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{programID ? (\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName=\"btn btn-icon edit\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetIsModalVisible(true)\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Tooltip title=\"Cập nhật\">\r\n\t\t\t\t\t\t<i className=\"fas fa-edit\" style={{ color: '#34c4a4', fontSize: 16, marginBottom: -1 }}></i>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t</button>\r\n\t\t\t) : (\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName=\"btn btn-warning add-new\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetIsModalVisible(true)\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tThêm mới\r\n\t\t\t\t</button>\r\n\t\t\t)}\r\n\r\n\t\t\t<Modal\r\n\t\t\t\ttitle={`${programID ? 'Sửa' : 'Tạo'} chương trình học`}\r\n\t\t\t\tvisible={isModalVisible}\r\n\t\t\t\tonCancel={() => setIsModalVisible(false)}\r\n\t\t\t\tfooter={null}\r\n\t\t\t>\r\n\t\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t\t<Form form={form} layout=\"vertical\" onFinish={onSubmit}>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-md-6 col-12\">\r\n\t\t\t\t\t\t\t\t<Form.Item name=\"GradeID\" label=\"Khối học\" rules={[{ required: true, message: 'Bạn không được để trống' }]}>\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: '100%' }}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"style-input\"\r\n\t\t\t\t\t\t\t\t\t\tshowSearch\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Chọn khối học\"\r\n\t\t\t\t\t\t\t\t\t\toptionFilterProp=\"children\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={onChangeSelect('GradeID')}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{dataGrade?.length > 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\tdataGrade?.map((item: any, index: number) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option key={index} value={item.ID}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.GradeName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value={'none'}>Không có dữ liệu</Option>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"col-md-6 col-12\">\r\n\t\t\t\t\t\t\t\t<Form.Item name=\"ProgramCode\" label=\"Mã chương trình học\" rules={[{ required: true, message: 'Bạn không được để trống' }]}>\r\n\t\t\t\t\t\t\t\t\t<Input placeholder=\"\" className=\"style-input\" onChange={(e) => setValue('ProgramCode', e.target.value)} />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"col-md-6 col-12\">\r\n\t\t\t\t\t\t\t\t<Form.Item name=\"ProgramName\" label=\"Tên chương trình học\" rules={[{ required: true, message: 'Bạn không được để trống' }]}>\r\n\t\t\t\t\t\t\t\t\t<Input placeholder=\"\" className=\"style-input\" onChange={(e) => setValue('ProgramName', e.target.value)} />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"col-md-6 col-12\">\r\n\t\t\t\t\t\t\t\t<Form.Item name=\"Price\" label=\"Học phí\" rules={[{ required: true, message: 'Bạn không được để trống' }]}>\r\n\t\t\t\t\t\t\t\t\t<Input placeholder=\"\" className=\"style-input \" onChange={(e) => formatNumber(e)} />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"col-md-6 col-12\">\r\n\t\t\t\t\t\t\t\t<Form.Item name=\"Type\" label=\"Loại\" rules={[{ required: true, message: 'Bạn không được để trống' }]}>\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: '100%' }}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"style-input\"\r\n\t\t\t\t\t\t\t\t\t\tshowSearch\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Chọn loại\"\r\n\t\t\t\t\t\t\t\t\t\toptionFilterProp=\"children\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={onChangeSelect('Type')}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Option key={3} value={3}>\r\n\t\t\t\t\t\t\t\t\t\t\tVideo\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"col-md-6 col-12\">\r\n\t\t\t\t\t\t\t\t<Form.Item name=\"Level\" label=\"Level\" rules={[{ required: true, message: 'Bạn không được để trống' }]}>\r\n\t\t\t\t\t\t\t\t\t<Input placeholder=\"\" className=\"style-input\" onChange={(e) => setValue('Level', e.target.value)} />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t\t\t<Form.Item name=\"Description\" label=\"Mô tả\">\r\n\t\t\t\t\t\t\t\t\t<EditorSimple\r\n\t\t\t\t\t\t\t\t\t\tdefaultValue=\"\"\r\n\t\t\t\t\t\t\t\t\t\tisSimpleTool={true}\r\n\t\t\t\t\t\t\t\t\t\thandleChange={(value) => setValue('Description', value)}\r\n\t\t\t\t\t\t\t\t\t\tisTranslate={false}\r\n\t\t\t\t\t\t\t\t\t\theight={80}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"row \">\r\n\t\t\t\t\t\t\t<div className=\" col-12 text-center\">\r\n\t\t\t\t\t\t\t\t<button type=\"submit\" className=\"btn btn-primary \">\r\n\t\t\t\t\t\t\t\t\tLưu\r\n\t\t\t\t\t\t\t\t\t{isLoading.type == 'ADD_DATA' && isLoading.status && <Spin className=\"loading-base\" />}\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</div>\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t)\r\n})\r\n\r\nexport default ProgramForm\r\n"]},"metadata":{},"sourceType":"module"}