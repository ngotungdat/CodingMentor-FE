{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\pages\\\\video-course\\\\index.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Card, Input, List, Modal, notification } from 'antd';\nimport 'antd/dist/antd.css';\nimport { useRouter } from 'next/router';\nimport React, { useEffect, useState } from 'react';\nimport { VideoCourseListApi } from '~/apiBase';\nimport { teacherApi } from '~/apiBase';\nimport { VideoCourseCardApi, VideoCourseStoreApi } from '~/apiBase/video-course-store';\nimport { VideoCourseCategoryApi } from '~/apiBase/video-course-store/category';\nimport { VideoCourseCurriculumApi } from '~/apiBase/video-course-store/get-list-curriculum';\nimport { VideoCourseLevelApi } from '~/apiBase/video-course-store/level';\nimport { videoTagApi } from '~/apiBase/video-tag';\nimport FilterVideoCourses from '~/components/Global/Option/FilterTable/FilterVideoCourses';\nimport LayoutBase from '~/components/LayoutBase';\nimport RenderItemCard from '~/components/VideoCourse/RenderItemCourseStudent';\nimport { useWrap } from '~/context/wrap';\nimport ModalCreateVideoCourse from '~/lib/video-course/modal-create-video-course';\nconst key = 'updatable';\nconst {\n  Search\n} = Input;\nlet pageIndex = 1;\nconst baseTodo = {\n  pageIndex: pageIndex,\n  search: null,\n  categoryId: null,\n  levelId: null,\n  fromDate: null,\n  toDate: null,\n  Category: null,\n  Level: null\n};\n\nconst VideoCourseStore = () => {\n  const router = useRouter();\n  const {\n    userInformation,\n    pageSize,\n    showNoti,\n    handleReloadNoti,\n    getTitlePage\n  } = useWrap();\n  const {\n    0: data,\n    1: setData\n  } = useState([]);\n  const {\n    0: showModal,\n    1: setShowModal\n  } = useState(false);\n  const {\n    0: rerender,\n    1: setRender\n  } = useState('');\n  const {\n    0: isLoading,\n    1: setIsLoading\n  } = useState({\n    type: 'GET_ALL',\n    status: true\n  });\n  const {\n    0: addToCardLoading,\n    1: setAddToCardLoading\n  } = useState(false);\n  const {\n    0: totalPage,\n    1: setTotalPage\n  } = useState(null);\n\n  const listTodoApi = _objectSpread(_objectSpread({}, baseTodo), {}, {\n    pageIndex: pageIndex\n  });\n\n  const {\n    0: todoApi,\n    1: setTodoApi\n  } = useState(listTodoApi);\n  const {\n    0: dataCurriculum,\n    1: setDataCurriculum\n  } = useState([]);\n  const {\n    0: dataTeacher,\n    1: setDataTeacher\n  } = useState([]);\n  const {\n    0: category,\n    1: setCategory\n  } = useState([]);\n  const {\n    0: categoryLevel,\n    1: setCategoryLevel\n  } = useState([]);\n  const {\n    0: buyNowLoading,\n    1: setByNowLoading\n  } = useState(false);\n\n  const openNotification = () => {\n    notification.open({\n      key,\n      message: 'Không thành công',\n      description: 'Vui lòng kiểm tra lại!'\n    });\n    setTimeout(() => {\n      notification.open({\n        key,\n        message: 'Không thành công',\n        description: 'Vui lòng kiểm tra lại!'\n      });\n    }, 1000);\n  }; // FIRST GET DATA\n\n\n  useEffect(() => {\n    if (userInformation !== null) {\n      // ADMIN & HOC VIEN\n      getAllArea();\n    }\n\n    getTitlePage('Khóa học video');\n  }, [userInformation]); //GET DATA\n\n  const getAllArea = async () => {\n    // ADMIN & HOC VIEN\n    setIsLoading({\n      type: 'GET_ALL',\n      status: true\n    });\n    getCategory();\n\n    try {\n      if ((userInformation === null || userInformation === void 0 ? void 0 : userInformation.RoleID) == 1 || (userInformation === null || userInformation === void 0 ? void 0 : userInformation.RoleID) == 2 || (userInformation === null || userInformation === void 0 ? void 0 : userInformation.RoleID) == 6) {\n        // ADMIN\n        const res = await VideoCourseStoreApi.getAll(todoApi);\n        res.status == 200 && (setData(res.data.data), setTotalPage(res.data.totalRow));\n\n        if ((userInformation === null || userInformation === void 0 ? void 0 : userInformation.RoleID) != 6) {\n          getCurriculum();\n          getTeacherOption();\n        }\n\n        setRender(res + '');\n        setIsLoading({\n          type: 'GET_ALL',\n          status: false\n        });\n      } else {\n        // HOC VIEN\n        const res = await VideoCourseStoreApi.getAllForStudent(_objectSpread(_objectSpread({}, todoApi), {}, {\n          pageSize: 10\n        }));\n        res.status == 200 && (setData(res.data.data), setTotalPage(res.data.totalRow));\n        setRender(res + '');\n        setIsLoading({\n          type: 'GET_ALL',\n          status: false\n        });\n      }\n    } catch (err) {}\n  }; // GET TEACHER LEVEL\n\n\n  const getTeacherOption = async () => {\n    try {\n      const res = await teacherApi.getAll({\n        pageIndex: 1,\n        pageSize: 9999,\n        search: null\n      });\n      res.status == 200 && setDataTeacher(res.data.data);\n      setRender(res + '');\n    } catch (err) {}\n  }; //GET DATA CURRICULUM LEVEL\n\n\n  const getCurriculum = async () => {\n    try {\n      const res = await VideoCourseCurriculumApi.getCurriculum();\n      res.status == 200 && setDataCurriculum(res.data.data);\n      setRender(res + '');\n    } catch (err) {}\n  }; //GET DATA CATEGORY LEVEL\n\n\n  const getCategory = async () => {\n    try {\n      const res = await VideoCourseCategoryApi.getAll({\n        pageIndex: 1,\n        pageSize: 9999,\n        search: null\n      });\n      res.status == 200 && setCategory(res.data.data);\n      setRender(res + '');\n      getCategoryLevel();\n    } catch (err) {}\n  };\n\n  const {\n    0: tags,\n    1: setTags\n  } = useState([]); //GET DATA CATEGORY LEVEL\n\n  const getCategoryLevel = async () => {\n    try {\n      const res = await VideoCourseLevelApi.getAll({\n        pageIndex: 1,\n        pageSize: 9999,\n        search: null\n      });\n      res.status == 200 && setCategoryLevel(res.data.data);\n      getTags();\n      setRender(res + '');\n    } catch (err) {}\n  };\n\n  const getTags = async () => {\n    try {\n      const response = await videoTagApi.getAll();\n      response.status == 200 && setTags(response.data.data);\n    } catch (error) {\n      showNoti('danger', 'Không lấy được tag');\n    }\n  }; // ADD COURSE VIDEO TO CART\n\n\n  const postAddToCard = async (data, type) => {\n    try {\n      const res = await VideoCourseCardApi.add(data);\n\n      if (type == 1) {\n        res.status == 200 && setShowModal(true);\n        res.status !== 200 && openNotification();\n        handleReloadNoti();\n      } else {\n        router.push('/cart/check-out');\n      }\n    } catch (error) {} finally {\n      if (type == 1) {\n        setAddToCardLoading(false);\n        setByNowLoading(false);\n      }\n    }\n  }; // HANDLE AD TO CARD (STUDENT)\n\n\n  const addToCard = (p, type) => {\n    type == 1 ? setAddToCardLoading(true) : setByNowLoading(true);\n    let temp = {\n      VideoCourseID: p.ID,\n      Quantity: 1\n    };\n    postAddToCard(temp, type);\n  }; // CREATE NEW COURSE\n\n\n  const createNewCourse = async param => {\n    setIsLoading({\n      type: 'GET_ALL',\n      status: true\n    });\n    let temp = {\n      CategoryID: param.CategoryID,\n      TagArray: param.TagArray,\n      LevelID: param.LevelID,\n      CurriculumID: param.CurriculumID,\n      VideoCourseName: param.VideoCourseName,\n      EnglishName: param.EnglishName,\n      ChineseName: param.ChineseName,\n      ImageThumbnails: param.ImageThumbnails,\n      OriginalPrice: param.OriginalPrice,\n      SellPrice: param.SellPrice,\n      Slogan: param.Slogan,\n      Requirements: param.Requirements,\n      Description: param.Description,\n      ResultsAchieved: param.ResultsAchieved,\n      CourseForObject: param.CourseForObject,\n      TeacherID: param.TeacherID,\n      ExpiryDays: param.ExpiryDays,\n      LimitMinutes: param.LimitMinutes,\n      LimitBooking: param.LimitBooking,\n      RequestPoint: param.RequestPoint\n    };\n\n    try {\n      const res = await VideoCourseStoreApi.add(temp);\n      res.status == 200 && showNoti('success', 'Thêm thành công');\n      res.status !== 200 && showNoti('danger', 'Thêm không thành công');\n      getAllArea();\n    } catch (error) {\n      showNoti('danger', 'Thêm không thành công');\n    } finally {\n      setIsLoading({\n        type: 'GET_ALL',\n        status: false\n      });\n    }\n  };\n\n  useEffect(() => {\n    if (todoApi !== listTodoApi) {\n      getAllArea();\n    }\n  }, [todoApi]); // HANDLE SEARCH\n\n  const handleSearch = e => {\n    let newTodoApi = _objectSpread(_objectSpread({}, listTodoApi), {}, {\n      pageIndex: 1,\n      search: e\n    });\n\n    setTodoApi(newTodoApi);\n  }; // RESET FILTER\n\n\n  const handleReset = () => {\n    setTodoApi(_objectSpread(_objectSpread({}, listTodoApi), {}, {\n      pageIndex: 1\n    }));\n  }; // FILTER\n\n\n  const handleFilter = paramFilter => {\n    let newTodoApi = _objectSpread(_objectSpread({}, listTodoApi), {}, {\n      categoryId: paramFilter.Type,\n      levelId: paramFilter.Level,\n      fromDate: paramFilter.fromDate,\n      toDate: paramFilter.toDate\n    });\n\n    setTodoApi(newTodoApi);\n  }; // HANDLE CHANGE PAGE\n\n\n  const getPagination = pageNumber => {\n    pageIndex = pageNumber;\n    setTodoApi(_objectSpread(_objectSpread({}, todoApi), {}, {\n      pageIndex: pageIndex\n    }));\n  };\n\n  const {\n    0: activeLoading,\n    1: setActiveLoading\n  } = useState(false); // UPDATE COURSE\n\n  const handleActive = async param => {\n    setActiveLoading(true);\n\n    try {\n      const res = await VideoCourseListApi.updateActiveCode(param);\n      res.status == 200 && showNoti('success', 'Thành công');\n      res.status === 204 && showNoti('danger', 'Thành công');\n      getAllArea();\n    } catch (error) {\n      showNoti('danger', error.message);\n    } finally {\n      setActiveLoading(false);\n    }\n  }; // CARD EXTRA\n\n\n  const Extra = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row m-0 vc-teach-extra\",\n      children: [/*#__PURE__*/_jsxDEV(FilterVideoCourses, {\n        handleReset: handleReset,\n        dataLevel: categoryLevel,\n        dataCategory: category,\n        handleFilter: value => handleFilter(value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Search, {\n        className: \"fb-btn-search style-input vc-teach-modal_search\",\n        size: \"large\",\n        placeholder: \"T\\xECm ki\\u1EBFm\",\n        onSearch: e => handleSearch(e),\n        style: {\n          flex: 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 4\n    }, this);\n  };\n\n  const {\n    0: miniFilter,\n    1: setMiniFilter\n  } = useState({});\n\n  const getTop5 = () => {\n    let temp = [];\n    temp.push({\n      ID: -1,\n      Title: 'Tất cả',\n      Type: 'category'\n    });\n\n    for (let i = 0; i < category.length; i++) {\n      const element = category[i];\n\n      if (i < 2) {\n        temp.push({\n          ID: element.ID,\n          Title: element.CategoryName,\n          Type: 'category'\n        });\n      }\n    }\n\n    for (let i = 0; i < categoryLevel.length; i++) {\n      const element = categoryLevel[i];\n\n      if (i < 2) {\n        temp.push({\n          ID: element.ID,\n          Title: element.LevelName,\n          Type: 'level'\n        });\n      }\n    }\n\n    return temp;\n  };\n\n  const _clickMiniFilter = param => {\n    setMiniFilter(param);\n\n    if (param.ID == -1) {\n      setTodoApi(_objectSpread(_objectSpread({}, todoApi), {}, {\n        levelId: null,\n        categoryId: null\n      }));\n    } else {\n      if ((param === null || param === void 0 ? void 0 : param.Type) == 'category') {\n        setTodoApi(_objectSpread(_objectSpread({}, todoApi), {}, {\n          levelId: null,\n          categoryId: param.ID\n        }));\n      } else {\n        setTodoApi(_objectSpread(_objectSpread({}, todoApi), {}, {\n          categoryId: null,\n          levelId: param.ID\n        }));\n      }\n    }\n  }; // RENDER\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"\",\n    children: userInformation !== null && /*#__PURE__*/_jsxDEV(Card, {\n      style: {\n        width: '100%'\n      },\n      loading: isLoading.status,\n      title: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"m-2\",\n        children: Extra()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 13\n      }, this),\n      extra: (userInformation === null || userInformation === void 0 ? void 0 : userInformation.RoleID) !== 1 ? null : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"vc-teach-modal_header\",\n        children: /*#__PURE__*/_jsxDEV(ModalCreateVideoCourse, {\n          dataTeacher: dataTeacher,\n          _onSubmit: data => createNewCourse(data),\n          dataLevel: categoryLevel,\n          dataCategory: category,\n          dataCurriculum: dataCurriculum,\n          showAdd: false,\n          isLoading: false,\n          refeshData: () => getAllArea(),\n          tags: tags,\n          onRefeshTags: () => getTags()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 8\n      }, this),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row ml-2 mr-2 w-100\",\n        children: getTop5().map((value, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => _clickMiniFilter(value),\n          className: \"mb-3 btn-recommend none-selection\",\n          children: value === null || value === void 0 ? void 0 : value.Title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 8\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ml-2 size-16\",\n        children: [\"\\u0110\\u01B0\\u1EE3c \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"bold purple\",\n          children: \"\\u0111\\u1EB7t l\\u1ECBch th\\u1EF1c h\\xE0nh luy\\u1EC7n t\\u1EADp ph\\xE1t \\xE2m, trao \\u0111\\u1ED5i tr\\u1EF1c ti\\u1EBFp v\\u1EDBi gi\\xE1o vi\\xEAn\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 12\n        }, this), \" tr\\xEAn h\\u1EC7 th\\u1ED1ng ph\\xF2ng h\\u1ECDc online c\\u1EE7a\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"bold orange\",\n          children: \" IELTS Nguy\\u1EC5n Huy\\u1EC1n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(List, {\n          itemLayout: \"horizontal\",\n          dataSource: data,\n          grid: {\n            gutter: 16,\n            xs: 1,\n            sm: 2,\n            md: 3,\n            lg: 3,\n            xl: 4,\n            xxl: 5\n          },\n          renderItem: item => /*#__PURE__*/_jsxDEV(RenderItemCard, {\n            loading: addToCardLoading,\n            buyNowLoading: buyNowLoading,\n            activeLoading: activeLoading,\n            addToCard: addToCard,\n            item: item,\n            dataTeacher: dataTeacher,\n            handleActive: handleActive,\n            refeshData: () => getAllArea(),\n            categoryLevel: categoryLevel,\n            dataCategory: category,\n            dataCurriculum: dataCurriculum,\n            tags: tags,\n            onRefeshTags: () => getTags()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 9\n          }, this),\n          pagination: {\n            onChange: getPagination,\n            total: totalPage,\n            size: 'small',\n            current: pageIndex\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Modal, {\n          title: \"Th\\xEAm v\\xE0o gi\\u1ECF h\\xE0ng\",\n          visible: showModal,\n          confirmLoading: false,\n          className: \"vc-store_modal\",\n          footer: null,\n          onCancel: () => setShowModal(false),\n          width: 500,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"m-0 row vc-store-center vc-store-space-beetween\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"m-0 row vc-store-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-check-circle vc-store_modal_icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"vc-store_modal_title\",\n                children: \"Th\\xEAm th\\xE0nh c\\xF4ng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 10\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/cart/shopping-cart\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-primary\",\n                children: \"\\u0110\\u1EBFn gi\\u1ECF h\\xE0ng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 330,\n    columnNumber: 3\n  }, this);\n};\n\nVideoCourseStore.layout = LayoutBase;\nexport default VideoCourseStore;","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/pages/video-course/index.tsx"],"names":["Card","Input","List","Modal","notification","useRouter","React","useEffect","useState","VideoCourseListApi","teacherApi","VideoCourseCardApi","VideoCourseStoreApi","VideoCourseCategoryApi","VideoCourseCurriculumApi","VideoCourseLevelApi","videoTagApi","FilterVideoCourses","LayoutBase","RenderItemCard","useWrap","ModalCreateVideoCourse","key","Search","pageIndex","baseTodo","search","categoryId","levelId","fromDate","toDate","Category","Level","VideoCourseStore","router","userInformation","pageSize","showNoti","handleReloadNoti","getTitlePage","data","setData","showModal","setShowModal","rerender","setRender","isLoading","setIsLoading","type","status","addToCardLoading","setAddToCardLoading","totalPage","setTotalPage","listTodoApi","todoApi","setTodoApi","dataCurriculum","setDataCurriculum","dataTeacher","setDataTeacher","category","setCategory","categoryLevel","setCategoryLevel","buyNowLoading","setByNowLoading","openNotification","open","message","description","setTimeout","getAllArea","getCategory","RoleID","res","getAll","totalRow","getCurriculum","getTeacherOption","getAllForStudent","err","getCategoryLevel","tags","setTags","getTags","response","error","postAddToCard","add","push","addToCard","p","temp","VideoCourseID","ID","Quantity","createNewCourse","param","CategoryID","TagArray","LevelID","CurriculumID","VideoCourseName","EnglishName","ChineseName","ImageThumbnails","OriginalPrice","SellPrice","Slogan","Requirements","Description","ResultsAchieved","CourseForObject","TeacherID","ExpiryDays","LimitMinutes","LimitBooking","RequestPoint","handleSearch","e","newTodoApi","handleReset","handleFilter","paramFilter","Type","getPagination","pageNumber","activeLoading","setActiveLoading","handleActive","updateActiveCode","Extra","value","flex","miniFilter","setMiniFilter","getTop5","Title","i","length","element","CategoryName","LevelName","_clickMiniFilter","width","map","index","gutter","xs","sm","md","lg","xl","xxl","item","onChange","total","size","current","layout"],"mappings":"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","sourcesContent":["import { Card, Input, List, Modal, notification } from 'antd'\r\nimport 'antd/dist/antd.css'\r\nimport { useRouter } from 'next/router'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { VideoCourseListApi } from '~/apiBase'\r\nimport { teacherApi } from '~/apiBase'\r\nimport { VideoCourseCardApi, VideoCourseStoreApi } from '~/apiBase/video-course-store'\r\nimport { VideoCourseCategoryApi } from '~/apiBase/video-course-store/category'\r\nimport { VideoCourseCurriculumApi } from '~/apiBase/video-course-store/get-list-curriculum'\r\nimport { VideoCourseLevelApi } from '~/apiBase/video-course-store/level'\r\nimport { videoTagApi } from '~/apiBase/video-tag'\r\nimport FilterVideoCourses from '~/components/Global/Option/FilterTable/FilterVideoCourses'\r\nimport LayoutBase from '~/components/LayoutBase'\r\nimport RenderItemCard from '~/components/VideoCourse/RenderItemCourseStudent'\r\nimport { useWrap } from '~/context/wrap'\r\nimport ModalCreateVideoCourse from '~/lib/video-course/modal-create-video-course'\r\n\r\nconst key = 'updatable'\r\nconst { Search } = Input\r\n\r\nlet pageIndex = 1\r\n\r\nconst baseTodo = {\r\n\tpageIndex: pageIndex,\r\n\tsearch: null,\r\n\tcategoryId: null,\r\n\tlevelId: null,\r\n\tfromDate: null,\r\n\ttoDate: null,\r\n\tCategory: null,\r\n\tLevel: null\r\n}\r\n\r\nconst VideoCourseStore = () => {\r\n\tconst router = useRouter()\r\n\tconst { userInformation, pageSize, showNoti, handleReloadNoti, getTitlePage } = useWrap()\r\n\tconst [data, setData] = useState([])\r\n\tconst [showModal, setShowModal] = useState(false)\r\n\tconst [rerender, setRender] = useState('')\r\n\tconst [isLoading, setIsLoading] = useState({ type: 'GET_ALL', status: true })\r\n\tconst [addToCardLoading, setAddToCardLoading] = useState(false)\r\n\tconst [totalPage, setTotalPage] = useState(null)\r\n\tconst listTodoApi = { ...baseTodo, pageIndex: pageIndex }\r\n\tconst [todoApi, setTodoApi] = useState(listTodoApi)\r\n\tconst [dataCurriculum, setDataCurriculum] = useState([])\r\n\tconst [dataTeacher, setDataTeacher] = useState([])\r\n\tconst [category, setCategory] = useState([])\r\n\tconst [categoryLevel, setCategoryLevel] = useState([])\r\n\tconst [buyNowLoading, setByNowLoading] = useState(false)\r\n\r\n\tconst openNotification = () => {\r\n\t\tnotification.open({\r\n\t\t\tkey,\r\n\t\t\tmessage: 'Không thành công',\r\n\t\t\tdescription: 'Vui lòng kiểm tra lại!'\r\n\t\t})\r\n\t\tsetTimeout(() => {\r\n\t\t\tnotification.open({\r\n\t\t\t\tkey,\r\n\t\t\t\tmessage: 'Không thành công',\r\n\t\t\t\tdescription: 'Vui lòng kiểm tra lại!'\r\n\t\t\t})\r\n\t\t}, 1000)\r\n\t}\r\n\r\n\t// FIRST GET DATA\r\n\tuseEffect(() => {\r\n\t\tif (userInformation !== null) {\r\n\t\t\t// ADMIN & HOC VIEN\r\n\t\t\tgetAllArea()\r\n\t\t}\r\n\t\tgetTitlePage('Khóa học video')\r\n\t}, [userInformation])\r\n\r\n\t//GET DATA\r\n\tconst getAllArea = async () => {\r\n\t\t// ADMIN & HOC VIEN\r\n\t\tsetIsLoading({ type: 'GET_ALL', status: true })\r\n\r\n\t\tgetCategory()\r\n\r\n\t\ttry {\r\n\t\t\tif (userInformation?.RoleID == 1 || userInformation?.RoleID == 2 || userInformation?.RoleID == 6) {\r\n\t\t\t\t// ADMIN\r\n\t\t\t\tconst res = await VideoCourseStoreApi.getAll(todoApi)\r\n\t\t\t\tres.status == 200 && (setData(res.data.data), setTotalPage(res.data.totalRow))\r\n\t\t\t\tif (userInformation?.RoleID != 6) {\r\n\t\t\t\t\tgetCurriculum()\r\n\t\t\t\t\tgetTeacherOption()\r\n\t\t\t\t}\r\n\t\t\t\tsetRender(res + '')\r\n\t\t\t\tsetIsLoading({ type: 'GET_ALL', status: false })\r\n\t\t\t} else {\r\n\t\t\t\t// HOC VIEN\r\n\t\t\t\tconst res = await VideoCourseStoreApi.getAllForStudent({ ...todoApi, pageSize: 10 })\r\n\t\t\t\tres.status == 200 && (setData(res.data.data), setTotalPage(res.data.totalRow))\r\n\t\t\t\tsetRender(res + '')\r\n\t\t\t\tsetIsLoading({ type: 'GET_ALL', status: false })\r\n\t\t\t}\r\n\t\t} catch (err) {}\r\n\t}\r\n\r\n\t// GET TEACHER LEVEL\r\n\tconst getTeacherOption = async () => {\r\n\t\ttry {\r\n\t\t\tconst res = await teacherApi.getAll({ pageIndex: 1, pageSize: 9999, search: null })\r\n\t\t\tres.status == 200 && setDataTeacher(res.data.data)\r\n\t\t\tsetRender(res + '')\r\n\t\t} catch (err) {}\r\n\t}\r\n\r\n\t//GET DATA CURRICULUM LEVEL\r\n\tconst getCurriculum = async () => {\r\n\t\ttry {\r\n\t\t\tconst res = await VideoCourseCurriculumApi.getCurriculum()\r\n\t\t\tres.status == 200 && setDataCurriculum(res.data.data)\r\n\t\t\tsetRender(res + '')\r\n\t\t} catch (err) {}\r\n\t}\r\n\r\n\t//GET DATA CATEGORY LEVEL\r\n\tconst getCategory = async () => {\r\n\t\ttry {\r\n\t\t\tconst res = await VideoCourseCategoryApi.getAll({ pageIndex: 1, pageSize: 9999, search: null })\r\n\t\t\tres.status == 200 && setCategory(res.data.data)\r\n\t\t\tsetRender(res + '')\r\n\t\t\tgetCategoryLevel()\r\n\t\t} catch (err) {}\r\n\t}\r\n\r\n\tconst [tags, setTags] = useState([])\r\n\r\n\t//GET DATA CATEGORY LEVEL\r\n\tconst getCategoryLevel = async () => {\r\n\t\ttry {\r\n\t\t\tconst res = await VideoCourseLevelApi.getAll({ pageIndex: 1, pageSize: 9999, search: null })\r\n\t\t\tres.status == 200 && setCategoryLevel(res.data.data)\r\n\t\t\tgetTags()\r\n\t\t\tsetRender(res + '')\r\n\t\t} catch (err) {}\r\n\t}\r\n\r\n\tconst getTags = async () => {\r\n\t\ttry {\r\n\t\t\tconst response = await videoTagApi.getAll()\r\n\t\t\tresponse.status == 200 && setTags(response.data.data)\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', 'Không lấy được tag')\r\n\t\t}\r\n\t}\r\n\r\n\t// ADD COURSE VIDEO TO CART\r\n\tconst postAddToCard = async (data, type) => {\r\n\t\ttry {\r\n\t\t\tconst res = await VideoCourseCardApi.add(data)\r\n\t\t\tif (type == 1) {\r\n\t\t\t\tres.status == 200 && setShowModal(true)\r\n\t\t\t\tres.status !== 200 && openNotification()\r\n\t\t\t\thandleReloadNoti()\r\n\t\t\t} else {\r\n\t\t\t\trouter.push('/cart/check-out')\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t} finally {\r\n\t\t\tif (type == 1) {\r\n\t\t\t\tsetAddToCardLoading(false)\r\n\t\t\t\tsetByNowLoading(false)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// HANDLE AD TO CARD (STUDENT)\r\n\tconst addToCard = (p, type) => {\r\n\t\ttype == 1 ? setAddToCardLoading(true) : setByNowLoading(true)\r\n\r\n\t\tlet temp = {\r\n\t\t\tVideoCourseID: p.ID,\r\n\t\t\tQuantity: 1\r\n\t\t}\r\n\t\tpostAddToCard(temp, type)\r\n\t}\r\n\r\n\t// CREATE NEW COURSE\r\n\tconst createNewCourse = async (param) => {\r\n\t\tsetIsLoading({ type: 'GET_ALL', status: true })\r\n\t\tlet temp = {\r\n\t\t\tCategoryID: param.CategoryID,\r\n\t\t\tTagArray: param.TagArray,\r\n\t\t\tLevelID: param.LevelID,\r\n\t\t\tCurriculumID: param.CurriculumID,\r\n\t\t\tVideoCourseName: param.VideoCourseName,\r\n\t\t\tEnglishName: param.EnglishName,\r\n\t\t\tChineseName: param.ChineseName,\r\n\t\t\tImageThumbnails: param.ImageThumbnails,\r\n\t\t\tOriginalPrice: param.OriginalPrice,\r\n\t\t\tSellPrice: param.SellPrice,\r\n\t\t\tSlogan: param.Slogan,\r\n\t\t\tRequirements: param.Requirements,\r\n\t\t\tDescription: param.Description,\r\n\t\t\tResultsAchieved: param.ResultsAchieved,\r\n\t\t\tCourseForObject: param.CourseForObject,\r\n\t\t\tTeacherID: param.TeacherID,\r\n\t\t\tExpiryDays: param.ExpiryDays,\r\n\t\t\tLimitMinutes: param.LimitMinutes,\r\n\t\t\tLimitBooking: param.LimitBooking,\r\n\t\t\tRequestPoint: param.RequestPoint\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tconst res = await VideoCourseStoreApi.add(temp)\r\n\t\t\tres.status == 200 && showNoti('success', 'Thêm thành công')\r\n\t\t\tres.status !== 200 && showNoti('danger', 'Thêm không thành công')\r\n\t\t\tgetAllArea()\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', 'Thêm không thành công')\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({ type: 'GET_ALL', status: false })\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (todoApi !== listTodoApi) {\r\n\t\t\tgetAllArea()\r\n\t\t}\r\n\t}, [todoApi])\r\n\r\n\t// HANDLE SEARCH\r\n\tconst handleSearch = (e) => {\r\n\t\tlet newTodoApi = { ...listTodoApi, pageIndex: 1, search: e }\r\n\t\tsetTodoApi(newTodoApi)\r\n\t}\r\n\r\n\t// RESET FILTER\r\n\tconst handleReset = () => {\r\n\t\tsetTodoApi({ ...listTodoApi, pageIndex: 1 })\r\n\t}\r\n\r\n\t// FILTER\r\n\tconst handleFilter = (paramFilter: any) => {\r\n\t\tlet newTodoApi = {\r\n\t\t\t...listTodoApi,\r\n\t\t\tcategoryId: paramFilter.Type,\r\n\t\t\tlevelId: paramFilter.Level,\r\n\t\t\tfromDate: paramFilter.fromDate,\r\n\t\t\ttoDate: paramFilter.toDate\r\n\t\t}\r\n\t\tsetTodoApi(newTodoApi)\r\n\t}\r\n\r\n\t// HANDLE CHANGE PAGE\r\n\tconst getPagination = (pageNumber: number) => {\r\n\t\tpageIndex = pageNumber\r\n\t\tsetTodoApi({ ...todoApi, pageIndex: pageIndex })\r\n\t}\r\n\r\n\tconst [activeLoading, setActiveLoading] = useState(false)\r\n\r\n\t// UPDATE COURSE\r\n\tconst handleActive = async (param) => {\r\n\t\tsetActiveLoading(true)\r\n\t\ttry {\r\n\t\t\tconst res = await VideoCourseListApi.updateActiveCode(param)\r\n\t\t\tres.status == 200 && showNoti('success', 'Thành công')\r\n\t\t\tres.status === 204 && showNoti('danger', 'Thành công')\r\n\t\t\tgetAllArea()\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetActiveLoading(false)\r\n\t\t}\r\n\t}\r\n\r\n\t// CARD EXTRA\r\n\tconst Extra = () => {\r\n\t\treturn (\r\n\t\t\t<div className=\"row m-0 vc-teach-extra\">\r\n\t\t\t\t<FilterVideoCourses\r\n\t\t\t\t\thandleReset={handleReset}\r\n\t\t\t\t\tdataLevel={categoryLevel}\r\n\t\t\t\t\tdataCategory={category}\r\n\t\t\t\t\thandleFilter={(value: any) => handleFilter(value)}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Search\r\n\t\t\t\t\tclassName=\"fb-btn-search style-input vc-teach-modal_search\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tplaceholder=\"Tìm kiếm\"\r\n\t\t\t\t\tonSearch={(e) => handleSearch(e)}\r\n\t\t\t\t\tstyle={{ flex: 1 }}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\tconst [miniFilter, setMiniFilter] = useState<any>({})\r\n\r\n\tconst getTop5 = () => {\r\n\t\tlet temp = []\r\n\t\ttemp.push({ ID: -1, Title: 'Tất cả', Type: 'category' })\r\n\t\tfor (let i = 0; i < category.length; i++) {\r\n\t\t\tconst element: any = category[i]\r\n\t\t\tif (i < 2) {\r\n\t\t\t\ttemp.push({ ID: element.ID, Title: element.CategoryName, Type: 'category' })\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (let i = 0; i < categoryLevel.length; i++) {\r\n\t\t\tconst element: any = categoryLevel[i]\r\n\t\t\tif (i < 2) {\r\n\t\t\t\ttemp.push({ ID: element.ID, Title: element.LevelName, Type: 'level' })\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn temp\r\n\t}\r\n\r\n\tconst _clickMiniFilter = (param: any) => {\r\n\t\tsetMiniFilter(param)\r\n\t\tif (param.ID == -1) {\r\n\t\t\tsetTodoApi({ ...todoApi, levelId: null, categoryId: null })\r\n\t\t} else {\r\n\t\t\tif (param?.Type == 'category') {\r\n\t\t\t\tsetTodoApi({ ...todoApi, levelId: null, categoryId: param.ID })\r\n\t\t\t} else {\r\n\t\t\t\tsetTodoApi({ ...todoApi, categoryId: null, levelId: param.ID })\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// RENDER\r\n\treturn (\r\n\t\t<div className=\"\">\r\n\t\t\t{userInformation !== null && (\r\n\t\t\t\t<Card\r\n\t\t\t\t\tstyle={{ width: '100%' }}\r\n\t\t\t\t\tloading={isLoading.status}\r\n\t\t\t\t\ttitle={<div className=\"m-2\">{Extra()}</div>}\r\n\t\t\t\t\textra={\r\n\t\t\t\t\t\tuserInformation?.RoleID !== 1 ? null : (\r\n\t\t\t\t\t\t\t<div className=\"vc-teach-modal_header\">\r\n\t\t\t\t\t\t\t\t<ModalCreateVideoCourse\r\n\t\t\t\t\t\t\t\t\tdataTeacher={dataTeacher}\r\n\t\t\t\t\t\t\t\t\t_onSubmit={(data: any) => createNewCourse(data)}\r\n\t\t\t\t\t\t\t\t\tdataLevel={categoryLevel}\r\n\t\t\t\t\t\t\t\t\tdataCategory={category}\r\n\t\t\t\t\t\t\t\t\tdataCurriculum={dataCurriculum}\r\n\t\t\t\t\t\t\t\t\tshowAdd={false}\r\n\t\t\t\t\t\t\t\t\tisLoading={false}\r\n\t\t\t\t\t\t\t\t\trefeshData={() => getAllArea()}\r\n\t\t\t\t\t\t\t\t\ttags={tags}\r\n\t\t\t\t\t\t\t\t\tonRefeshTags={() => getTags()}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className=\"row ml-2 mr-2 w-100\">\r\n\t\t\t\t\t\t{getTop5().map((value: any, index: number) => (\r\n\t\t\t\t\t\t\t<div onClick={() => _clickMiniFilter(value)} className=\"mb-3 btn-recommend none-selection\">\r\n\t\t\t\t\t\t\t\t{value?.Title}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"ml-2 size-16\">\r\n\t\t\t\t\t\tĐược <span className=\"bold purple\">đặt lịch thực hành luyện tập phát âm, trao đổi trực tiếp với giáo viên</span> trên hệ thống\r\n\t\t\t\t\t\tphòng học online của\r\n\t\t\t\t\t\t<span className=\"bold orange\"> IELTS Nguyễn Huyền</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<List\r\n\t\t\t\t\t\t\titemLayout=\"horizontal\"\r\n\t\t\t\t\t\t\tdataSource={data}\r\n\t\t\t\t\t\t\tgrid={{ gutter: 16, xs: 1, sm: 2, md: 3, lg: 3, xl: 4, xxl: 5 }}\r\n\t\t\t\t\t\t\trenderItem={(item) => (\r\n\t\t\t\t\t\t\t\t<RenderItemCard\r\n\t\t\t\t\t\t\t\t\tloading={addToCardLoading}\r\n\t\t\t\t\t\t\t\t\tbuyNowLoading={buyNowLoading}\r\n\t\t\t\t\t\t\t\t\tactiveLoading={activeLoading}\r\n\t\t\t\t\t\t\t\t\taddToCard={addToCard}\r\n\t\t\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\t\t\tdataTeacher={dataTeacher}\r\n\t\t\t\t\t\t\t\t\thandleActive={handleActive}\r\n\t\t\t\t\t\t\t\t\trefeshData={() => getAllArea()}\r\n\t\t\t\t\t\t\t\t\tcategoryLevel={categoryLevel}\r\n\t\t\t\t\t\t\t\t\tdataCategory={category}\r\n\t\t\t\t\t\t\t\t\tdataCurriculum={dataCurriculum}\r\n\t\t\t\t\t\t\t\t\ttags={tags}\r\n\t\t\t\t\t\t\t\t\tonRefeshTags={() => getTags()}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\tpagination={{\r\n\t\t\t\t\t\t\t\tonChange: getPagination,\r\n\t\t\t\t\t\t\t\ttotal: totalPage,\r\n\t\t\t\t\t\t\t\tsize: 'small',\r\n\t\t\t\t\t\t\t\tcurrent: pageIndex\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<Modal\r\n\t\t\t\t\t\t\ttitle=\"Thêm vào giỏ hàng\"\r\n\t\t\t\t\t\t\tvisible={showModal}\r\n\t\t\t\t\t\t\tconfirmLoading={false}\r\n\t\t\t\t\t\t\tclassName=\"vc-store_modal\"\r\n\t\t\t\t\t\t\tfooter={null}\r\n\t\t\t\t\t\t\tonCancel={() => setShowModal(false)}\r\n\t\t\t\t\t\t\twidth={500}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div className=\"m-0 row vc-store-center vc-store-space-beetween\">\r\n\t\t\t\t\t\t\t\t<div className=\"m-0 row vc-store-center\">\r\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-check-circle vc-store_modal_icon\"></i>\r\n\t\t\t\t\t\t\t\t\t<span className=\"vc-store_modal_title\">Thêm thành công</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<a href=\"/cart/shopping-cart\">\r\n\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary\">\r\n\t\t\t\t\t\t\t\t\t\tĐến giỏ hàng\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Modal>\r\n\t\t\t\t\t</>\r\n\t\t\t\t</Card>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nVideoCourseStore.layout = LayoutBase\r\nexport default VideoCourseStore\r\n"]},"metadata":{},"sourceType":"module"}