{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Global\\\\NewsFeed\\\\SideBarNewsFeed.tsx\";\nimport { Card, Drawer, Input, Select } from 'antd';\nimport Link from 'next/link';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nimport { MoreHorizontal } from 'react-feather';\nimport { packageApi, packageStudentApi } from '~/apiBase';\nimport { useWrap } from '~/context/wrap';\nimport { optionCommonPropTypes } from '~/utils/proptypes';\nimport TopPackageNewsFeed from './TopPackageNewsFeed';\nconst {\n  Search\n} = Input;\nconst {\n  Option\n} = Select;\nSideBarNewsFeed.propTypes = {\n  optionList: PropTypes.shape({\n    teamOptionList: optionCommonPropTypes,\n    groupOptionList: optionCommonPropTypes\n  }),\n  filtersData: PropTypes.shape({\n    name: PropTypes.string,\n    idTeam: PropTypes.number,\n    idGroup: PropTypes.number\n  }),\n  handleBack: PropTypes.func,\n  handleFilters: PropTypes.func,\n  groupFormComponent: PropTypes.element\n};\nSideBarNewsFeed.defaultProps = {\n  optionList: {\n    teamOptionList: [],\n    groupOptionList: []\n  },\n  filtersData: {\n    name: '',\n    idTeam: 0,\n    idGroup: 0\n  },\n  handleBack: null,\n  handleFilters: null,\n  groupFormComponent: null\n};\n\nfunction SideBarNewsFeed(props) {\n  const {\n    optionList,\n    filtersData,\n    handleBack,\n    handleFilters,\n    groupFormComponent\n  } = props;\n  const {\n    name,\n    idTeam,\n    idGroup\n  } = filtersData;\n  const {\n    teamOptionList,\n    groupOptionList\n  } = optionList;\n  const {\n    0: visible,\n    1: setVisible\n  } = useState(false);\n  const {\n    0: isLoading,\n    1: setIsLoading\n  } = useState({\n    type: '',\n    status: false\n  });\n  const {\n    showNoti,\n    userInformation\n  } = useWrap(); // PACKAGE TOP LIST\n\n  const {\n    0: topPackageList,\n    1: setTopPackageList\n  } = useState([]);\n\n  const showSideBar = () => {\n    setVisible(true);\n  };\n\n  const closeSideBar = () => {\n    setVisible(false);\n  };\n\n  const checkHandleFilters = (field, value) => {\n    if (!handleFilters) return;\n    handleFilters(field, value);\n  };\n\n  const checkHandleFiltersMobile = (field, value) => {\n    if (!handleFilters) return;\n    handleFilters(field, value);\n    closeSideBar();\n  }; // PACKAGE\n\n\n  const fetchTopPackageList = async () => {\n    try {\n      if ((userInformation === null || userInformation === void 0 ? void 0 : userInformation.RoleID) !== 3) return;\n      const res = await packageApi.getAll({\n        Type: 2\n      });\n\n      if (res.status === 200) {\n        setTopPackageList(res.data.data);\n      }\n    } catch (error) {\n      console.log('fetchTopPackageList', error.message);\n    }\n  };\n\n  useEffect(() => {\n    fetchTopPackageList();\n  }, [userInformation]);\n\n  const onBuyPackage = async data => {\n    setIsLoading({\n      type: 'ADD_DATA',\n      status: true\n    });\n\n    try {\n      const {\n        ID,\n        Price,\n        PaymentMethodsID,\n        Note\n      } = data;\n      const newPackageStudent = {\n        StudentID: userInformation.UserInformationID,\n        SetPackageID: ID,\n        Paid: parseInt(Price.toString().replace(/\\D/g, '')),\n        PaymentMethodsID,\n        Note\n      };\n      const res = await packageStudentApi.add(newPackageStudent);\n\n      if (res.status === 200) {\n        showNoti('success', res.data.message);\n        fetchTopPackageList();\n      }\n\n      return res;\n    } catch (error) {\n      showNoti('danger', error.message);\n    } finally {\n      setIsLoading({\n        type: 'ADD_DATA',\n        status: false\n      });\n    }\n  };\n\n  const SideBar = () => /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Card, {\n      className: \"card-newsfeed\",\n      bordered: false,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"card-newsfeed__label font-weight-black\",\n        children: \"T\\xCCM KI\\u1EBEM\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Search, {\n        className: \"style-input\",\n        placeholder: \"Nh\\u1EADp t\\u1EEB kh\\xF3a\",\n        allowClear: true,\n        onSearch: value => checkHandleFilters('name', value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      className: \"card-newsfeed\",\n      bordered: false,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-newsfeed-wrap__label\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-newsfeed__label font-weight-black\",\n          children: \"Trung t\\xE2m\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Select, {\n        value: idTeam,\n        className: \"style-input list-group-nf__mobile\",\n        placeholder: \"Ch\\u1ECDn trung t\\xE2m\",\n        onChange: value => checkHandleFiltersMobile('idTeam', value),\n        children: teamOptionList.map((item, index) => /*#__PURE__*/_jsxDEV(Option, {\n          value: item.value,\n          children: item.title\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 7\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"list-group-nf\",\n        children: teamOptionList.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: idTeam === item.value ? 'active' : '',\n          onClick: () => checkHandleFilters('idTeam', item.value),\n          children: item.title\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 7\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-newsfeed-wrap__label\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-newsfeed__label have-plus font-weight-black\",\n          children: \"Nh\\xF3m\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 6\n        }, this), groupFormComponent]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Select, {\n        value: idGroup,\n        className: \"style-input list-group-nf__mobile mb-0\",\n        placeholder: \"Ch\\u1ECDn nh\\xF3m\",\n        onChange: value => checkHandleFiltersMobile('idGroup', value),\n        children: groupOptionList.map((item, index) => /*#__PURE__*/_jsxDEV(Option, {\n          value: item.value,\n          children: item.title\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 7\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"list-group-nf mb-0\",\n        children: groupOptionList.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: idGroup === item.value ? 'active' : '',\n          onClick: () => checkHandleFilters('idGroup', item.value),\n          children: item.title\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 7\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 4\n    }, this), (userInformation === null || userInformation === void 0 ? void 0 : userInformation.RoleID) === 3 && /*#__PURE__*/_jsxDEV(Card, {\n      className: \"card-newsfeed\",\n      bordered: false,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-newsfeed__label font-weight-black d-flex justify-content-between\",\n        children: [\"B\\u1ED8 \\u0110\\u1EC0 CAO C\\u1EA4P\", /*#__PURE__*/_jsxDEV(Link, {\n          href: \"/package/package-store?type=2\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"label-nf font-weight-black\",\n            children: \"Xem th\\xEAm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(TopPackageNewsFeed, {\n        isLoading: isLoading,\n        topPackageList: topPackageList,\n        handleBuyPackage: onBuyPackage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar-desktop\",\n      children: SideBar()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar-mobile\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          cursor: 'pointer'\n        },\n        className: \"label-nf font-weight-black\",\n        onClick: e => {\n          if (handleBack) {\n            handleBack();\n          }\n        },\n        children: \"NewsFeed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-light\",\n        onClick: showSideBar,\n        children: /*#__PURE__*/_jsxDEV(MoreHorizontal, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Drawer, {\n        placement: \"right\",\n        closable: false,\n        onClose: closeSideBar,\n        visible: visible,\n        className: \"drawer-newsfeed\",\n        children: SideBar()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n}\n\nexport default SideBarNewsFeed;","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Global/NewsFeed/SideBarNewsFeed.tsx"],"names":["Card","Drawer","Input","Select","Link","PropTypes","React","useEffect","useState","MoreHorizontal","packageApi","packageStudentApi","useWrap","optionCommonPropTypes","TopPackageNewsFeed","Search","Option","SideBarNewsFeed","propTypes","optionList","shape","teamOptionList","groupOptionList","filtersData","name","string","idTeam","number","idGroup","handleBack","func","handleFilters","groupFormComponent","element","defaultProps","props","visible","setVisible","isLoading","setIsLoading","type","status","showNoti","userInformation","topPackageList","setTopPackageList","showSideBar","closeSideBar","checkHandleFilters","field","value","checkHandleFiltersMobile","fetchTopPackageList","RoleID","res","getAll","Type","data","error","console","log","message","onBuyPackage","ID","Price","PaymentMethodsID","Note","newPackageStudent","StudentID","UserInformationID","SetPackageID","Paid","parseInt","toString","replace","add","SideBar","map","item","index","title","cursor","e"],"mappings":"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","sourcesContent":["import { Card, Drawer, Input, Select } from 'antd';\r\nimport Link from 'next/link';\r\nimport PropTypes from 'prop-types';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { MoreHorizontal } from 'react-feather';\r\nimport { packageApi, packageStudentApi } from '~/apiBase';\r\nimport { useWrap } from '~/context/wrap';\r\nimport { optionCommonPropTypes } from '~/utils/proptypes';\r\nimport TopPackageNewsFeed from './TopPackageNewsFeed';\r\nconst { Search } = Input;\r\nconst { Option } = Select;\r\n\r\nSideBarNewsFeed.propTypes = {\r\n\toptionList: PropTypes.shape({\r\n\t\tteamOptionList: optionCommonPropTypes,\r\n\t\tgroupOptionList: optionCommonPropTypes\r\n\t}),\r\n\tfiltersData: PropTypes.shape({\r\n\t\tname: PropTypes.string,\r\n\t\tidTeam: PropTypes.number,\r\n\t\tidGroup: PropTypes.number\r\n\t}),\r\n\thandleBack: PropTypes.func,\r\n\thandleFilters: PropTypes.func,\r\n\tgroupFormComponent: PropTypes.element\r\n};\r\nSideBarNewsFeed.defaultProps = {\r\n\toptionList: {\r\n\t\tteamOptionList: [],\r\n\t\tgroupOptionList: []\r\n\t},\r\n\tfiltersData: {\r\n\t\tname: '',\r\n\t\tidTeam: 0,\r\n\t\tidGroup: 0\r\n\t},\r\n\thandleBack: null,\r\n\thandleFilters: null,\r\n\tgroupFormComponent: null\r\n};\r\n\r\nfunction SideBarNewsFeed(props) {\r\n\tconst { optionList, filtersData, handleBack, handleFilters, groupFormComponent } = props;\r\n\tconst { name, idTeam, idGroup } = filtersData;\r\n\tconst { teamOptionList, groupOptionList } = optionList;\r\n\tconst [visible, setVisible] = useState(false);\r\n\tconst [isLoading, setIsLoading] = useState({\r\n\t\ttype: '',\r\n\t\tstatus: false\r\n\t});\r\n\tconst { showNoti, userInformation } = useWrap();\r\n\t// PACKAGE TOP LIST\r\n\tconst [topPackageList, setTopPackageList] = useState<IPackage[]>([]);\r\n\r\n\tconst showSideBar = () => {\r\n\t\tsetVisible(true);\r\n\t};\r\n\tconst closeSideBar = () => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\tconst checkHandleFilters = (field: string, value: string | number) => {\r\n\t\tif (!handleFilters) return;\r\n\t\thandleFilters(field, value);\r\n\t};\r\n\tconst checkHandleFiltersMobile = (field: string, value: string | number) => {\r\n\t\tif (!handleFilters) return;\r\n\t\thandleFilters(field, value);\r\n\t\tcloseSideBar();\r\n\t};\r\n\r\n\t// PACKAGE\r\n\tconst fetchTopPackageList = async () => {\r\n\t\ttry {\r\n\t\t\tif (userInformation?.RoleID !== 3) return;\r\n\t\t\tconst res = await packageApi.getAll({ Type: 2 });\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tsetTopPackageList(res.data.data);\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log('fetchTopPackageList', error.message);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchTopPackageList();\r\n\t}, [userInformation]);\r\n\r\n\tconst onBuyPackage = async (data: { ID: number; Price: string; PaymentMethodsID: number; Note: string }) => {\r\n\t\tsetIsLoading({\r\n\t\t\ttype: 'ADD_DATA',\r\n\t\t\tstatus: true\r\n\t\t});\r\n\t\ttry {\r\n\t\t\tconst { ID, Price, PaymentMethodsID, Note } = data;\r\n\t\t\tconst newPackageStudent = {\r\n\t\t\t\tStudentID: userInformation.UserInformationID,\r\n\t\t\t\tSetPackageID: ID,\r\n\t\t\t\tPaid: parseInt(Price.toString().replace(/\\D/g, '')),\r\n\t\t\t\tPaymentMethodsID,\r\n\t\t\t\tNote\r\n\t\t\t};\r\n\t\t\tconst res = await packageStudentApi.add(newPackageStudent);\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tshowNoti('success', res.data.message);\r\n\t\t\t\tfetchTopPackageList();\r\n\t\t\t}\r\n\t\t\treturn res;\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message);\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({\r\n\t\t\t\ttype: 'ADD_DATA',\r\n\t\t\t\tstatus: false\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst SideBar = () => (\r\n\t\t<>\r\n\t\t\t<Card className=\"card-newsfeed\" bordered={false}>\r\n\t\t\t\t<p className=\"card-newsfeed__label font-weight-black\">TÌM KIẾM</p>\r\n\t\t\t\t<Search\r\n\t\t\t\t\tclassName=\"style-input\"\r\n\t\t\t\t\tplaceholder=\"Nhập từ khóa\"\r\n\t\t\t\t\tallowClear\r\n\t\t\t\t\tonSearch={(value) => checkHandleFilters('name', value)}\r\n\t\t\t\t/>\r\n\t\t\t</Card>\r\n\t\t\t<Card className=\"card-newsfeed\" bordered={false}>\r\n\t\t\t\t<div className=\"card-newsfeed-wrap__label\">\r\n\t\t\t\t\t<p className=\"card-newsfeed__label font-weight-black\">Trung tâm</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Select\r\n\t\t\t\t\tvalue={idTeam}\r\n\t\t\t\t\tclassName=\"style-input list-group-nf__mobile\"\r\n\t\t\t\t\tplaceholder=\"Chọn trung tâm\"\r\n\t\t\t\t\tonChange={(value) => checkHandleFiltersMobile('idTeam', value)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{teamOptionList.map((item, index) => (\r\n\t\t\t\t\t\t<Option key={index} value={item.value}>\r\n\t\t\t\t\t\t\t{item.title}\r\n\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</Select>\r\n\t\t\t\t<ul className=\"list-group-nf\">\r\n\t\t\t\t\t{teamOptionList.map((item, index) => (\r\n\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\tclassName={idTeam === item.value ? 'active' : ''}\r\n\t\t\t\t\t\t\tonClick={() => checkHandleFilters('idTeam', item.value)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{item.title}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</ul>\r\n\t\t\t\t{/* CHIA CÁCH BÌNH YÊN */}\r\n\t\t\t\t<div className=\"card-newsfeed-wrap__label\">\r\n\t\t\t\t\t<p className=\"card-newsfeed__label have-plus font-weight-black\">Nhóm</p>\r\n\t\t\t\t\t{groupFormComponent}\r\n\t\t\t\t</div>\r\n\t\t\t\t<Select\r\n\t\t\t\t\tvalue={idGroup}\r\n\t\t\t\t\tclassName=\"style-input list-group-nf__mobile mb-0\"\r\n\t\t\t\t\tplaceholder=\"Chọn nhóm\"\r\n\t\t\t\t\tonChange={(value) => checkHandleFiltersMobile('idGroup', value)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{groupOptionList.map((item, index) => (\r\n\t\t\t\t\t\t<Option key={index} value={item.value}>\r\n\t\t\t\t\t\t\t{item.title}\r\n\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</Select>\r\n\t\t\t\t<ul className=\"list-group-nf mb-0\">\r\n\t\t\t\t\t{groupOptionList.map((item, index) => (\r\n\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\tclassName={idGroup === item.value ? 'active' : ''}\r\n\t\t\t\t\t\t\tonClick={() => checkHandleFilters('idGroup', item.value)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{item.title}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</ul>\r\n\t\t\t</Card>\r\n\t\t\t{/* PACKAGE ONLY STUDENT */}\r\n\t\t\t{userInformation?.RoleID === 3 && (\r\n\t\t\t\t<Card className=\"card-newsfeed\" bordered={false}>\r\n\t\t\t\t\t<div className=\"card-newsfeed__label font-weight-black d-flex justify-content-between\">\r\n\t\t\t\t\t\tBỘ ĐỀ CAO CẤP\r\n\t\t\t\t\t\t<Link href=\"/package/package-store?type=2\">\r\n\t\t\t\t\t\t\t<a className=\"label-nf font-weight-black\">Xem thêm</a>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<TopPackageNewsFeed isLoading={isLoading} topPackageList={topPackageList} handleBuyPackage={onBuyPackage} />\r\n\t\t\t\t</Card>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"sidebar-desktop\">{SideBar()}</div>\r\n\t\t\t<div className=\"sidebar-mobile\">\r\n\t\t\t\t<p\r\n\t\t\t\t\tstyle={{ cursor: 'pointer' }}\r\n\t\t\t\t\tclassName=\"label-nf font-weight-black\"\r\n\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\tif (handleBack) {\r\n\t\t\t\t\t\t\thandleBack();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tNewsFeed\r\n\t\t\t\t</p>\r\n\t\t\t\t<button className=\"btn btn-light\" onClick={showSideBar}>\r\n\t\t\t\t\t<MoreHorizontal />\r\n\t\t\t\t</button>\r\n\t\t\t\t<Drawer placement=\"right\" closable={false} onClose={closeSideBar} visible={visible} className=\"drawer-newsfeed\">\r\n\t\t\t\t\t{SideBar()}\r\n\t\t\t\t</Drawer>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default SideBarNewsFeed;\r\n"]},"metadata":{},"sourceType":"module"}