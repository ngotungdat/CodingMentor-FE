{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _slicedToArray from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Global\\\\Option\\\\NotificationForm.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { Form, Input, Modal, Select, Spin, Switch } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport EditorBase from '~/components/Elements/EditorBase';\nimport { useWrap } from '~/context/wrap';\nvar NotificationForm = /*#__PURE__*/React.memo(_c = _s(function (props) {\n  _s();\n\n  var Option = Select.Option;\n\n  var _useState = useState(false),\n      isModalVisible = _useState[0],\n      setIsModalVisible = _useState[1];\n\n  var _Form$useForm = Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var _useWrap = useWrap(),\n      useAllRoles = _useWrap.useAllRoles,\n      useStaffRoles = _useWrap.useStaffRoles;\n\n  var _useState2 = useState(false),\n      sendMail = _useState2[0],\n      setSendMail = _useState2[1];\n\n  var onChange = function onChange() {\n    setSendMail(!sendMail);\n  };\n\n  var _useForm = useForm(),\n      register = _useForm.register,\n      handleSubmit = _useForm.handleSubmit,\n      setValue = _useForm.setValue,\n      _useForm$formState = _useForm.formState,\n      isSubmitting = _useForm$formState.isSubmitting,\n      errors = _useForm$formState.errors,\n      isSubmitted = _useForm$formState.isSubmitted; // const { showNoti } = useWrap();\n\n\n  var onSubmit = handleSubmit(function (data) {\n    data.IsSendMail = sendMail;\n\n    var res = props._onSubmit(data);\n\n    res.then(function (rs) {\n      rs && rs.status == 200 && setIsModalVisible(false), form.resetFields();\n    });\n  });\n\n  var changeContractContent = function changeContractContent(value) {\n    setValue('NotificationContent', value);\n  };\n\n  useEffect(function () {\n    if (isModalVisible) {\n      if (props.rowData) {\n        Object.keys(props.rowData).forEach(function (key) {\n          setValue(key, props.rowData[key]);\n        });\n      }\n    }\n  }, [isModalVisible]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-warning add-new\",\n      onClick: function onClick() {\n        setIsModalVisible(true);\n      },\n      children: \"Th\\xEAm m\\u1EDBi\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 4\n    }, _this), /*#__PURE__*/_jsxDEV(Modal, {\n      width: '40%',\n      title: \"T\\u1EA1o th\\xF4ng b\\xE1o\",\n      visible: isModalVisible,\n      onCancel: function onCancel() {\n        return setIsModalVisible(false);\n      },\n      footer: null,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid\",\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          form: form,\n          layout: \"vertical\",\n          onFinish: onSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-8\",\n              children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                label: \"T\\xEAn th\\xF4ng b\\xE1o\",\n                name: \"T\\xEAn th\\xF4ng b\\xE1o\",\n                rules: [{\n                  required: true,\n                  message: 'Bạn không được để trống'\n                }],\n                children: /*#__PURE__*/_jsxDEV(Input, {\n                  placeholder: \"\",\n                  className: \"style-input\",\n                  onChange: function onChange(e) {\n                    return setValue('NotificationTitle', e.target.value);\n                  },\n                  allowClear: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 10\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 9\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 8\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-4\",\n              children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                label: \"G\\u1EEDi mail\",\n                children: /*#__PURE__*/_jsxDEV(Switch, {\n                  onChange: onChange,\n                  checked: sendMail\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 10\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 9\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 8\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-6\",\n              children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                label: \"Trung t\\xE2m\",\n                name: \"Trung t\\xE2m\",\n                rules: [{\n                  required: true,\n                  message: 'Bạn không được để trống'\n                }],\n                children: /*#__PURE__*/_jsxDEV(Select, {\n                  mode: \"multiple\",\n                  style: {\n                    width: '100%'\n                  },\n                  className: \"style-input multiple-select\",\n                  optionLabelProp: \"label\",\n                  onChange: function onChange(value) {\n                    return setValue('BranchID', value.toString());\n                  },\n                  allowClear: true,\n                  children: [/*#__PURE__*/_jsxDEV(Option, {\n                    value: 0,\n                    label: \"T\\u1EA5t c\\u1EA3\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"demo-option-label-item\",\n                      children: \"T\\u1EA5t c\\u1EA3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 98,\n                      columnNumber: 12\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 97,\n                    columnNumber: 11\n                  }, _this), props.dataBranch && props.dataBranch.map(function (item) {\n                    return /*#__PURE__*/_jsxDEV(Option, {\n                      value: item.ID,\n                      label: item.BranchName,\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"demo-option-label-item\",\n                        children: item.BranchName\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 103,\n                        columnNumber: 14\n                      }, _this)\n                    }, item.ID, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 102,\n                      columnNumber: 13\n                    }, _this);\n                  })]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 10\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 9\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 8\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-6\",\n              children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                label: \"Ng\\u01B0\\u1EDDi nh\\u1EADn\",\n                name: \"Ng\\u01B0\\u1EDDi nh\\u1EADn\",\n                rules: [{\n                  required: true,\n                  message: 'Bạn không được để trống'\n                }],\n                children: /*#__PURE__*/_jsxDEV(Select, {\n                  mode: \"multiple\",\n                  style: {\n                    width: '100%'\n                  },\n                  optionLabelProp: \"label\",\n                  className: \"style-input multiple-select\",\n                  onChange: function onChange(value) {\n                    return setValue('RoleID', value.toString());\n                  },\n                  allowClear: true,\n                  children: [/*#__PURE__*/_jsxDEV(Option, {\n                    value: 0,\n                    label: \"T\\u1EA5t c\\u1EA3\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"demo-option-label-item\",\n                      children: \"T\\u1EA5t c\\u1EA3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 120,\n                      columnNumber: 12\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 119,\n                    columnNumber: 11\n                  }, _this), useAllRoles !== null && useAllRoles.map(function (item) {\n                    return /*#__PURE__*/_jsxDEV(Option, {\n                      value: item.ID,\n                      label: item.name,\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"demo-option-label-item\",\n                        children: item.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 125,\n                        columnNumber: 14\n                      }, _this)\n                    }, item.ID, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 124,\n                      columnNumber: 13\n                    }, _this);\n                  })]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 10\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 9\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 8\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(Form.Item, {\n            label: \"N\\u1ED9i dung th\\xF4ng b\\xE1o\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"textarea-editor\",\n              children: /*#__PURE__*/_jsxDEV(EditorBase, {\n                handleChangeDataEditor: changeContractContent\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 9\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 8\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row \",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn btn-primary w-100\",\n                children: [\"L\\u01B0u\", props.isLoading.type == 'ADD_DATA' && props.isLoading.status && /*#__PURE__*/_jsxDEV(Spin, {\n                  className: \"loading-base\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 75\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 9\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 8\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 7\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 6\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 4\n    }, _this)]\n  }, void 0, true);\n}, \"y/CvRpD/4HrLE0nOk6vhHqG+O3I=\", false, function () {\n  return [Form.useForm, useWrap, useForm];\n}));\n_c2 = NotificationForm;\nexport default NotificationForm;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"NotificationForm$React.memo\");\n$RefreshReg$(_c2, \"NotificationForm\");","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Global/Option/NotificationForm.tsx"],"names":["Form","Input","Modal","Select","Spin","Switch","React","useEffect","useState","useForm","EditorBase","useWrap","NotificationForm","memo","props","Option","isModalVisible","setIsModalVisible","form","useAllRoles","useStaffRoles","sendMail","setSendMail","onChange","register","handleSubmit","setValue","formState","isSubmitting","errors","isSubmitted","onSubmit","data","IsSendMail","res","_onSubmit","then","rs","status","resetFields","changeContractContent","value","rowData","Object","keys","forEach","key","required","message","e","target","width","toString","dataBranch","map","item","ID","BranchName","name","isLoading","type"],"mappings":"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","sourcesContent":["import { Form, Input, Modal, Select, Spin, Switch } from 'antd'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useForm } from 'react-hook-form'\r\nimport EditorBase from '~/components/Elements/EditorBase'\r\nimport { useWrap } from '~/context/wrap'\r\n\r\nconst NotificationForm = React.memo((props: any) => {\r\n\tconst { Option } = Select\r\n\r\n\tconst [isModalVisible, setIsModalVisible] = useState(false)\r\n\tconst [form] = Form.useForm()\r\n\r\n\tconst { useAllRoles, useStaffRoles } = useWrap()\r\n\r\n\tconst [sendMail, setSendMail] = useState(false)\r\n\r\n\tconst onChange = () => {\r\n\t\tsetSendMail(!sendMail)\r\n\t}\r\n\r\n\tconst {\r\n\t\tregister,\r\n\t\thandleSubmit,\r\n\t\tsetValue,\r\n\t\tformState: { isSubmitting, errors, isSubmitted }\r\n\t} = useForm()\r\n\t// const { showNoti } = useWrap();\r\n\r\n\tconst onSubmit = handleSubmit((data: any) => {\r\n\t\tdata.IsSendMail = sendMail\r\n\r\n\t\tlet res = props._onSubmit(data)\r\n\t\tres.then(function (rs: any) {\r\n\t\t\trs && rs.status == 200 && setIsModalVisible(false), form.resetFields()\r\n\t\t})\r\n\t})\r\n\r\n\tconst changeContractContent = (value) => {\r\n\t\tsetValue('NotificationContent', value)\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isModalVisible) {\r\n\t\t\tif (props.rowData) {\r\n\t\t\t\tObject.keys(props.rowData).forEach(function (key) {\r\n\t\t\t\t\tsetValue(key, props.rowData[key])\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}, [isModalVisible])\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<button\r\n\t\t\t\tclassName=\"btn btn-warning add-new\"\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tsetIsModalVisible(true)\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\tThêm mới\r\n\t\t\t</button>\r\n\r\n\t\t\t{/*  */}\r\n\t\t\t<Modal width={'40%'} title=\"Tạo thông báo\" visible={isModalVisible} onCancel={() => setIsModalVisible(false)} footer={null}>\r\n\t\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t\t<Form form={form} layout=\"vertical\" onFinish={onSubmit}>\r\n\t\t\t\t\t\t{/*  */}\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-8\">\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Tên thông báo\" name=\"Tên thông báo\" rules={[{ required: true, message: 'Bạn không được để trống' }]}>\r\n\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"style-input\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => setValue('NotificationTitle', e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\tallowClear={true}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-4\">\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Gửi mail\">\r\n\t\t\t\t\t\t\t\t\t<Switch onChange={onChange} checked={sendMail} />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/*  */}\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-6\">\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Trung tâm\" name=\"Trung tâm\" rules={[{ required: true, message: 'Bạn không được để trống' }]}>\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tmode=\"multiple\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: '100%' }}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"style-input multiple-select\"\r\n\t\t\t\t\t\t\t\t\t\toptionLabelProp=\"label\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={(value) => setValue('BranchID', value.toString())}\r\n\t\t\t\t\t\t\t\t\t\tallowClear={true}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Option value={0} label=\"Tất cả\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"demo-option-label-item\">Tất cả</div>\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t{props.dataBranch &&\r\n\t\t\t\t\t\t\t\t\t\t\tprops.dataBranch.map((item) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option value={item.ID} label={item.BranchName} key={item.ID}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"demo-option-label-item\">{item.BranchName}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-6\">\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Người nhận\" name=\"Người nhận\" rules={[{ required: true, message: 'Bạn không được để trống' }]}>\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tmode=\"multiple\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: '100%' }}\r\n\t\t\t\t\t\t\t\t\t\toptionLabelProp=\"label\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"style-input multiple-select\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={(value) => setValue('RoleID', value.toString())}\r\n\t\t\t\t\t\t\t\t\t\tallowClear={true}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Option value={0} label=\"Tất cả\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"demo-option-label-item\">Tất cả</div>\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t{useAllRoles !== null &&\r\n\t\t\t\t\t\t\t\t\t\t\tuseAllRoles.map((item) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option key={item.ID} value={item.ID} label={item.name}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"demo-option-label-item\">{item.name}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/*  */}\r\n\t\t\t\t\t\t<Form.Item label=\"Nội dung thông báo\">\r\n\t\t\t\t\t\t\t<div className=\"textarea-editor\">\r\n\t\t\t\t\t\t\t\t<EditorBase handleChangeDataEditor={changeContractContent} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<div className=\"row \">\r\n\t\t\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t\t\t<button type=\"submit\" className=\"btn btn-primary w-100\">\r\n\t\t\t\t\t\t\t\t\tLưu\r\n\t\t\t\t\t\t\t\t\t{props.isLoading.type == 'ADD_DATA' && props.isLoading.status && <Spin className=\"loading-base\" />}\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</div>\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t)\r\n})\r\n\r\nexport default NotificationForm\r\n"]},"metadata":{},"sourceType":"module"}