{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Dashboard\\\\StatisticalRankTeacher.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState, useEffect } from 'react';\nimport { useWrap } from '~/context/wrap';\nimport PowerTable from '~/components/PowerTable';\nimport { statisticalApi } from '~/apiBase/statistical/statistical-total';\nimport { Skeleton } from 'antd';\n\nconst StatisticalRankTeacher = props => {\n  const {\n    0: dataSource,\n    1: setDataSource\n  } = useState();\n  const {\n    pageSize\n  } = useWrap();\n  const {\n    0: isLoading,\n    1: setIsLoading\n  } = useState({\n    type: '',\n    status: false\n  });\n  const {\n    0: totalPage,\n    1: setTotalPage\n  } = useState(null);\n  const {\n    0: filters,\n    1: setFilters\n  } = useState({\n    pageIndex: 1,\n    pageSize: pageSize\n  });\n\n  const getDataSource = async () => {\n    setIsLoading({\n      type: 'GET_ALL',\n      status: true\n    });\n\n    try {\n      let res = await statisticalApi.getStatisticalRankTeacherByLessons(filters);\n\n      if (res.status === 200) {\n        setDataSource(res.data.data);\n        setTotalPage(res.data.totalRow);\n      }\n\n      if (res.status === 204) {\n        setDataSource([]);\n      }\n    } catch (error) {} finally {\n      setIsLoading({\n        type: 'GET_ALL',\n        status: false\n      });\n    }\n  };\n\n  useEffect(() => {\n    getDataSource();\n  }, [filters]);\n  const columns = [{\n    title: 'Hạng',\n    width: 120,\n    dataIndex: 'Trophy',\n    render: (text, data) => data.MyRank === 1 && /*#__PURE__*/_jsxDEV(\"img\", {\n      style: {\n        width: 40,\n        height: 40,\n        borderRadius: '100%'\n      },\n      src: data.Avatar.length > 0 ? data.Avatar : '/images/first-place.jpg',\n      alt: \"trophy img\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 6\n    }, this) || data.MyRank === 2 && /*#__PURE__*/_jsxDEV(\"img\", {\n      style: {\n        width: 40,\n        height: 40,\n        borderRadius: '100%'\n      },\n      src: data.Avatar.length > 0 ? data.Avatar : '/images/second-place.jpg',\n      alt: \"trophy img\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 6\n    }, this) || data.MyRank === 3 && /*#__PURE__*/_jsxDEV(\"img\", {\n      style: {\n        width: 40,\n        height: 40,\n        borderRadius: '100%'\n      },\n      src: data.Avatar.length > 0 ? data.Avatar : '/images/third-place.jpg',\n      alt: \"trophy img\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 6\n    }, this) || data.MyRank > 3 && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"pl-3 font-weight-black\",\n      children: data.MyRank\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 25\n    }, this)\n  }, {\n    title: 'Ảnh đại diện',\n    width: 120,\n    dataIndex: 'Avatar',\n    render: (text, data) => /*#__PURE__*/_jsxDEV(\"img\", {\n      style: {\n        width: 40,\n        height: 40,\n        borderRadius: '100%'\n      },\n      src: data.Avatar.length > 0 ? data.Avatar : '/images/user.png',\n      alt: \"avatar img\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }, this)\n  }, {\n    title: 'Họ tên',\n    width: 150,\n    dataIndex: 'FullNameUnicode'\n  }, {\n    title: 'Tổng số bài giảng',\n    width: 180,\n    dataIndex: 'TotalLesson'\n  }]; // PAGINATION\n\n  const getPagination = pageIndex => {\n    setFilters(_objectSpread(_objectSpread({}, filters), {}, {\n      pageIndex\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: isLoading.type === 'GET_ALL' && isLoading.status == true ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-xl-6 col-12\",\n      children: /*#__PURE__*/_jsxDEV(Skeleton, {\n        active: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 5\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row pt-5 pb-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12\",\n        children: /*#__PURE__*/_jsxDEV(PowerTable, {\n          loading: isLoading,\n          totalPage: totalPage,\n          dataSource: dataSource,\n          getPagination: getPagination,\n          columns: columns,\n          Extra: /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(\"h4\", {\n              style: {\n                textTransform: 'uppercase'\n              },\n              children: \"Th\\xF4ng k\\xEA x\\u1EBFp h\\u1EA1ng gi\\xE1o vi\\xEAn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 10\n            }, this)\n          }, void 0, false)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n};\n\nexport default StatisticalRankTeacher;","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Dashboard/StatisticalRankTeacher.tsx"],"names":["React","useState","useEffect","useWrap","PowerTable","statisticalApi","Skeleton","StatisticalRankTeacher","props","dataSource","setDataSource","pageSize","isLoading","setIsLoading","type","status","totalPage","setTotalPage","filters","setFilters","pageIndex","getDataSource","res","getStatisticalRankTeacherByLessons","data","totalRow","error","columns","title","width","dataIndex","render","text","MyRank","height","borderRadius","Avatar","length","getPagination","textTransform"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useWrap } from '~/context/wrap';\r\nimport PowerTable from '~/components/PowerTable';\r\nimport { statisticalApi } from '~/apiBase/statistical/statistical-total';\r\nimport { Skeleton } from 'antd';\r\n\r\nconst StatisticalRankTeacher = (props) => {\r\n\tconst [dataSource, setDataSource] = useState<IStatRankTeacherByLessons[]>();\r\n\tconst { pageSize } = useWrap();\r\n\tconst [isLoading, setIsLoading] = useState({\r\n\t\ttype: '',\r\n\t\tstatus: false\r\n\t});\r\n\tconst [totalPage, setTotalPage] = useState(null);\r\n\tconst [filters, setFilters] = useState({\r\n\t\tpageIndex: 1,\r\n\t\tpageSize: pageSize\r\n\t});\r\n\r\n\tconst getDataSource = async () => {\r\n\t\tsetIsLoading({ type: 'GET_ALL', status: true });\r\n\t\ttry {\r\n\t\t\tlet res = await statisticalApi.getStatisticalRankTeacherByLessons(filters);\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tsetDataSource(res.data.data);\r\n\t\t\t\tsetTotalPage(res.data.totalRow);\r\n\t\t\t}\r\n\t\t\tif (res.status === 204) {\r\n\t\t\t\tsetDataSource([]);\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({ type: 'GET_ALL', status: false });\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tgetDataSource();\r\n\t}, [filters]);\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Hạng',\r\n\t\t\twidth: 120,\r\n\t\t\tdataIndex: 'Trophy',\r\n\t\t\trender: (text, data) =>\r\n\t\t\t\t(data.MyRank === 1 && (\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tstyle={{ width: 40, height: 40, borderRadius: '100%' }}\r\n\t\t\t\t\t\tsrc={data.Avatar.length > 0 ? data.Avatar : '/images/first-place.jpg'}\r\n\t\t\t\t\t\talt=\"trophy img\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t)) ||\r\n\t\t\t\t(data.MyRank === 2 && (\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tstyle={{ width: 40, height: 40, borderRadius: '100%' }}\r\n\t\t\t\t\t\tsrc={data.Avatar.length > 0 ? data.Avatar : '/images/second-place.jpg'}\r\n\t\t\t\t\t\talt=\"trophy img\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t)) ||\r\n\t\t\t\t(data.MyRank === 3 && (\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tstyle={{ width: 40, height: 40, borderRadius: '100%' }}\r\n\t\t\t\t\t\tsrc={data.Avatar.length > 0 ? data.Avatar : '/images/third-place.jpg'}\r\n\t\t\t\t\t\talt=\"trophy img\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t)) ||\r\n\t\t\t\t(data.MyRank > 3 && <p className=\"pl-3 font-weight-black\">{data.MyRank}</p>)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Ảnh đại diện',\r\n\t\t\twidth: 120,\r\n\t\t\tdataIndex: 'Avatar',\r\n\t\t\trender: (text, data) => (\r\n\t\t\t\t<img\r\n\t\t\t\t\tstyle={{ width: 40, height: 40, borderRadius: '100%' }}\r\n\t\t\t\t\tsrc={data.Avatar.length > 0 ? data.Avatar : '/images/user.png'}\r\n\t\t\t\t\talt=\"avatar img\"\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{ title: 'Họ tên', width: 150, dataIndex: 'FullNameUnicode' },\r\n\t\t{ title: 'Tổng số bài giảng', width: 180, dataIndex: 'TotalLesson' }\r\n\t];\r\n\r\n\t// PAGINATION\r\n\tconst getPagination = (pageIndex: number) => {\r\n\t\tsetFilters({\r\n\t\t\t...filters,\r\n\t\t\tpageIndex\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{isLoading.type === 'GET_ALL' && isLoading.status == true ? (\r\n\t\t\t\t<div className=\"col-xl-6 col-12\">\r\n\t\t\t\t\t<Skeleton active />\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"row pt-5 pb-5\">\r\n\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t<PowerTable\r\n\t\t\t\t\t\t\tloading={isLoading}\r\n\t\t\t\t\t\t\ttotalPage={totalPage}\r\n\t\t\t\t\t\t\tdataSource={dataSource}\r\n\t\t\t\t\t\t\tgetPagination={getPagination}\r\n\t\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\t\tExtra={\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<h4 style={{ textTransform: 'uppercase' }}>Thông kê xếp hạng giáo viên</h4>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default StatisticalRankTeacher;\r\n"]},"metadata":{},"sourceType":"module"}