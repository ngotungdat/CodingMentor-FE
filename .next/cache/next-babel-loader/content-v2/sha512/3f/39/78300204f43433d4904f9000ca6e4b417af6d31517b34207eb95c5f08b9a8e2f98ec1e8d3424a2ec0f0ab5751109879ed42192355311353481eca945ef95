{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\CodingMentor\\\\CodingMentor-FE\\\\src\\\\components\\\\Global\\\\Teacher\\\\Teacher\\\\TeacherDetail.tsx\";\nimport { useRouter } from 'next/router';\nimport { useEffect, useState } from 'react';\nimport TeacherProfile from '../TeacherProfile';\nimport { useWrap } from '~/context/wrap';\nimport { teacherApi } from '~/apiBase';\n\nconst TeacherDetail = () => {\n  const router = useRouter();\n  const slug = router.query.slug;\n  const {\n    0: dataUser,\n    1: setDataUser\n  } = useState({});\n  const {\n    0: dataSubject,\n    1: setDataSubject\n  } = useState([]);\n  const {\n    showNoti\n  } = useWrap();\n  const {\n    0: isLoading,\n    1: setIsLoading\n  } = useState({\n    type: '',\n    status: false\n  });\n\n  const fetchTeacherByID = async () => {\n    setIsLoading({\n      type: 'GET_BYID',\n      status: true\n    });\n\n    try {\n      let res = await teacherApi.getById(Number(slug));\n\n      if (res.status === 200) {\n        setDataUser(res.data.data);\n      } else if (res.status === 204) {\n        showNoti('danger', 'Không tìm thấy');\n      }\n    } catch (error) {\n      showNoti('danger', error.message);\n    } finally {\n      setIsLoading({\n        type: 'GET_BYID',\n        status: false\n      });\n    }\n  };\n\n  const updateTeacherID = async data => {\n    setIsLoading({\n      type: 'UPDATE_BYID',\n      status: true\n    });\n\n    try {\n      let res = await teacherApi.update(data);\n      (res === null || res === void 0 ? void 0 : res.status) == 200 && showNoti('success', 'Cập nhật thành công'), fetchTeacherByID();\n    } catch (error) {\n      showNoti('danger', error.message);\n    } finally {\n      setIsLoading({\n        type: 'UPDATE_BYID',\n        status: false\n      });\n    }\n  };\n\n  const fetchTeacherForSubject = async () => {\n    setIsLoading({\n      type: 'GET_BYID',\n      status: true\n    });\n\n    try {\n      let res = await teacherApi.getCurriculum(Number(slug));\n\n      if (res.status === 200) {\n        setDataSubject(res.data.Data);\n      } else if (res.status === 204) {\n        showNoti('danger', 'Không tìm thấy');\n      }\n    } catch (error) {\n      showNoti('danger', error.message);\n    } finally {\n      setIsLoading({\n        type: 'GET_BYID',\n        status: false\n      });\n    }\n  };\n\n  const updateTeacherForSubject = async data => {\n    try {\n      let res = await teacherApi.updateTeacherForSubject(data);\n      (res === null || res === void 0 ? void 0 : res.status) == 200 && showNoti('success', 'Cập nhật thành công'), fetchTeacherForSubject();\n    } catch (error) {\n      showNoti('danger', error.message);\n    } finally {\n      setIsLoading({\n        type: 'UPDATE_BYID',\n        status: false\n      });\n    }\n  };\n\n  useEffect(() => {\n    fetchTeacherByID();\n    fetchTeacherForSubject();\n  }, [slug]);\n  return /*#__PURE__*/_jsxDEV(TeacherProfile, {\n    updateTeacherID: data => updateTeacherID(data),\n    updateTeacherForSubject: data => updateTeacherForSubject(data),\n    onFetchData: () => fetchTeacherForSubject(),\n    isLoading: isLoading,\n    dataSubject: dataSubject,\n    dataUser: dataUser,\n    userID: Number(slug)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 3\n  }, this);\n};\n\nexport default TeacherDetail;","map":{"version":3,"sources":["D:/MonaMedia/Project/CodingMentor/CodingMentor-FE/src/components/Global/Teacher/Teacher/TeacherDetail.tsx"],"names":["useRouter","useEffect","useState","TeacherProfile","useWrap","teacherApi","TeacherDetail","router","slug","query","dataUser","setDataUser","dataSubject","setDataSubject","showNoti","isLoading","setIsLoading","type","status","fetchTeacherByID","res","getById","Number","data","error","message","updateTeacherID","update","fetchTeacherForSubject","getCurriculum","Data","updateTeacherForSubject"],"mappings":"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","sourcesContent":["import { useRouter } from 'next/router'\r\nimport { useEffect, useState } from 'react'\r\nimport TeacherProfile from '../TeacherProfile'\r\nimport { useWrap } from '~/context/wrap'\r\nimport { teacherApi } from '~/apiBase'\r\n\r\nconst TeacherDetail = () => {\r\n\tconst router = useRouter()\r\n\tconst slug = router.query.slug\r\n\tconst [dataUser, setDataUser] = useState({})\r\n\tconst [dataSubject, setDataSubject] = useState([])\r\n\tconst { showNoti } = useWrap()\r\n\tconst [isLoading, setIsLoading] = useState({ type: '', status: false })\r\n\r\n\tconst fetchTeacherByID = async () => {\r\n\t\tsetIsLoading({ type: 'GET_BYID', status: true })\r\n\t\ttry {\r\n\t\t\tlet res = await teacherApi.getById(Number(slug))\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tsetDataUser(res.data.data)\r\n\t\t\t} else if (res.status === 204) {\r\n\t\t\t\tshowNoti('danger', 'Không tìm thấy')\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({ type: 'GET_BYID', status: false })\r\n\t\t}\r\n\t}\r\n\r\n\tconst updateTeacherID = async (data) => {\r\n\t\tsetIsLoading({ type: 'UPDATE_BYID', status: true })\r\n\t\ttry {\r\n\t\t\tlet res = await teacherApi.update(data)\r\n\t\t\tres?.status == 200 && showNoti('success', 'Cập nhật thành công'), fetchTeacherByID()\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({ type: 'UPDATE_BYID', status: false })\r\n\t\t}\r\n\t}\r\n\r\n\tconst fetchTeacherForSubject = async () => {\r\n\t\tsetIsLoading({ type: 'GET_BYID', status: true })\r\n\t\ttry {\r\n\t\t\tlet res = await teacherApi.getCurriculum(Number(slug))\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tsetDataSubject(res.data.Data)\r\n\t\t\t} else if (res.status === 204) {\r\n\t\t\t\tshowNoti('danger', 'Không tìm thấy')\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({ type: 'GET_BYID', status: false })\r\n\t\t}\r\n\t}\r\n\r\n\tconst updateTeacherForSubject = async (data) => {\r\n\t\ttry {\r\n\t\t\tlet res = await teacherApi.updateTeacherForSubject(data)\r\n\t\t\tres?.status == 200 && showNoti('success', 'Cập nhật thành công'), fetchTeacherForSubject()\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({ type: 'UPDATE_BYID', status: false })\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchTeacherByID()\r\n\t\tfetchTeacherForSubject()\r\n\t}, [slug])\r\n\r\n\treturn (\r\n\t\t<TeacherProfile\r\n\t\t\tupdateTeacherID={(data) => updateTeacherID(data)}\r\n\t\t\tupdateTeacherForSubject={(data) => updateTeacherForSubject(data)}\r\n\t\t\tonFetchData={() => fetchTeacherForSubject()}\r\n\t\t\tisLoading={isLoading}\r\n\t\t\tdataSubject={dataSubject}\r\n\t\t\tdataUser={dataUser}\r\n\t\t\tuserID={Number(slug)}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default TeacherDetail\r\n"]},"metadata":{},"sourceType":"module"}