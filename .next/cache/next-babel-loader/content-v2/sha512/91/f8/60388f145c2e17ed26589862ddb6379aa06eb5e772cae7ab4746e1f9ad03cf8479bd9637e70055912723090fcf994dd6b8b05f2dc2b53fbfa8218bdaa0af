{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Global\\\\StaffList\\\\SalaryForm.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { Form, Spin } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport * as yup from 'yup';\nimport { staffSalaryApi } from '~/apiBase';\nimport InputMoneyField from '~/components/FormControl/InputMoneyField';\nimport InputTextField from '~/components/FormControl/InputTextField';\nimport SelectField from '~/components/FormControl/SelectField';\nimport { useWrap } from '~/context/wrap';\nvar returnSchemaSalary = {};\nvar schemaSalary = null;\nvar optionGender = [{\n  value: 0,\n  title: 'Nữ'\n}, {\n  value: 1,\n  title: 'Nam'\n}, {\n  value: 0,\n  title: 'Khác'\n}];\nvar statusAdd = 'add-staff';\n\nvar SalaryForm = function SalaryForm(props) {\n  _s();\n\n  var dataStaff = props.dataStaff,\n      rowID = props.rowID,\n      getIndex = props.getIndex,\n      index = props.index,\n      onSubmitSalary = props.onSubmitSalary,\n      submitSalary = props.submitSalary,\n      changeVisible = props.changeVisible;\n\n  var _useState = useState(false),\n      isModalVisible = _useState[0],\n      setIsModalVisible = _useState[1];\n\n  var _useWrap = useWrap(),\n      showNoti = _useWrap.showNoti;\n\n  var _useState2 = useState({\n    type: '',\n    status: false\n  }),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var showModal = function showModal() {\n    setIsModalVisible(true);\n    rowID && getIndex(index);\n  }; // FORM SALARY\n\n\n  var valueSalary = {\n    Salary: null,\n    UserInformationID: null,\n    Style: null,\n    //1 lương theo tháng , 2 lương theo giờ\n    FullNameUnicode: null\n  };\n\n  (function returnSchemaSalaryFunc() {\n    returnSchemaSalary = _objectSpread({}, valueSalary);\n    Object.keys(returnSchemaSalary).forEach(function (key) {\n      returnSchemaSalary[key] = yup.mixed().required('Bạn không được để trống');\n    });\n    schemaSalary = yup.object().shape(returnSchemaSalary);\n  })();\n\n  var formSalary = useForm({\n    defaultValues: valueSalary,\n    resolver: yupResolver(schemaSalary)\n  });\n\n  var onSubmitFormSalary = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(data) {\n      var cloneDataSubmit, res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log('Submit salary: ', data);\n              cloneDataSubmit = {\n                Salary: parseFloat(data.Salary.replace(/,/g, '')),\n                UserInformationID: data.UserInformationID,\n                Style: data.Style //1 lương theo tháng , 2 lương theo giờ\n\n              };\n              setIsLoading({\n                type: 'ADD_DATA',\n                status: true\n              });\n              res = null;\n              _context.prev = 4;\n              _context.next = 7;\n              return staffSalaryApi.addData(cloneDataSubmit);\n\n            case 7:\n              res = _context.sent;\n\n              if (res.status == 200) {\n                showNoti('success', 'Thành công');\n                changeVisible();\n              }\n\n              _context.next = 14;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](4);\n              showNoti('danger', _context.t0.message);\n\n            case 14:\n              _context.prev = 14;\n              setIsLoading({\n                type: 'ADD_DATA',\n                status: false\n              });\n              return _context.finish(14);\n\n            case 17:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[4, 11, 14, 17]]);\n    }));\n\n    return function onSubmitFormSalary(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }(); // const formatMoney = (value) => {\n  //   value = parseInt(value);\n  //   // formSalary.setValue(\"Salary\", value)\n  // };\n\n\n  useEffect(function () {\n    if (dataStaff) {\n      formSalary.reset({\n        UserInformationID: dataStaff.UserInformationID,\n        FullNameUnicode: dataStaff.FullNameUnicode,\n        Style: 1\n      });\n    }\n  }, [dataStaff]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"box-form form-salary\",\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        layout: \"vertical\",\n        onFinish: formSalary.handleSubmit(onSubmitFormSalary),\n        colon: true,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12\",\n            children: /*#__PURE__*/_jsxDEV(InputTextField, {\n              form: formSalary,\n              name: \"FullNameUnicode\",\n              label: \"Nh\\xE2n vi\\xEAn\",\n              disabled: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 8\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12\",\n            children: /*#__PURE__*/_jsxDEV(SelectField, {\n              disabled: true,\n              form: formSalary,\n              name: \"Style\",\n              label: \"Ki\\u1EC3u t\\xEDnh l\\u01B0\\u01A1ng\",\n              optionList: [{\n                title: 'Tính lương theo tháng',\n                value: 1\n              }]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 8\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12\",\n            children: /*#__PURE__*/_jsxDEV(InputMoneyField, {\n              form: formSalary,\n              name: \"Salary\",\n              label: \"M\\u1EE9c l\\u01B0\\u01A1ng\",\n              isRequired: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 8\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 7\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 6\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12 d-flex justify-content-center\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                paddingRight: 5\n              },\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn btn-primary w-100\",\n                children: [\"Th\\xEAm l\\u01B0\\u01A1ng\", isLoading.type == 'ADD_DATA' && isLoading.status && /*#__PURE__*/_jsxDEV(Spin, {\n                  className: \"loading-base\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 63\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 9\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 8\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 7\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 6\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 4\n    }, _this)\n  }, void 0, false);\n};\n\n_s(SalaryForm, \"ZyHgEzVM46ndrSV28FQkOucpYVw=\", false, function () {\n  return [useWrap, useForm];\n});\n\n_c = SalaryForm;\nexport default SalaryForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"SalaryForm\");","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Global/StaffList/SalaryForm.tsx"],"names":["yupResolver","Form","Spin","React","useEffect","useState","useForm","yup","staffSalaryApi","InputMoneyField","InputTextField","SelectField","useWrap","returnSchemaSalary","schemaSalary","optionGender","value","title","statusAdd","SalaryForm","props","dataStaff","rowID","getIndex","index","onSubmitSalary","submitSalary","changeVisible","isModalVisible","setIsModalVisible","showNoti","type","status","isLoading","setIsLoading","showModal","valueSalary","Salary","UserInformationID","Style","FullNameUnicode","returnSchemaSalaryFunc","Object","keys","forEach","key","mixed","required","object","shape","formSalary","defaultValues","resolver","onSubmitFormSalary","data","console","log","cloneDataSubmit","parseFloat","replace","res","addData","message","reset","handleSubmit","paddingRight"],"mappings":"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","sourcesContent":["import { yupResolver } from '@hookform/resolvers/yup';\r\nimport { Form, Spin } from 'antd';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport * as yup from 'yup';\r\nimport { staffSalaryApi } from '~/apiBase';\r\nimport InputMoneyField from '~/components/FormControl/InputMoneyField';\r\nimport InputTextField from '~/components/FormControl/InputTextField';\r\nimport SelectField from '~/components/FormControl/SelectField';\r\nimport { useWrap } from '~/context/wrap';\r\n\r\nlet returnSchemaSalary = {};\r\nlet schemaSalary = null;\r\n\r\ninterface listData {\r\n\tArea: Array<Object>;\r\n\tDistrictID: Array<Object>;\r\n\tWardID: Array<Object>;\r\n\tRole: Array<Object>;\r\n\tBranch: Array<Object>;\r\n\tPurposes: Array<Object>;\r\n\tSourceInformation: Array<Object>;\r\n\tParent: Array<Object>;\r\n\tCounselors: Array<Object>;\r\n}\r\n\r\nconst optionGender = [\r\n\t{\r\n\t\tvalue: 0,\r\n\t\ttitle: 'Nữ'\r\n\t},\r\n\t{\r\n\t\tvalue: 1,\r\n\t\ttitle: 'Nam'\r\n\t},\r\n\t{\r\n\t\tvalue: 0,\r\n\t\ttitle: 'Khác'\r\n\t}\r\n];\r\n\r\nlet statusAdd = 'add-staff';\r\n\r\nconst SalaryForm = (props) => {\r\n\tconst {\r\n\t\tdataStaff,\r\n\r\n\t\trowID,\r\n\t\tgetIndex,\r\n\t\tindex,\r\n\t\tonSubmitSalary,\r\n\t\tsubmitSalary,\r\n\t\tchangeVisible\r\n\t} = props;\r\n\tconst [isModalVisible, setIsModalVisible] = useState(false);\r\n\tconst { showNoti } = useWrap();\r\n\tconst [isLoading, setIsLoading] = useState({\r\n\t\ttype: '',\r\n\t\tstatus: false\r\n\t});\r\n\tconst showModal = () => {\r\n\t\tsetIsModalVisible(true);\r\n\t\trowID && getIndex(index);\r\n\t};\r\n\r\n\t// FORM SALARY\r\n\tconst valueSalary = {\r\n\t\tSalary: null,\r\n\t\tUserInformationID: null,\r\n\t\tStyle: null, //1 lương theo tháng , 2 lương theo giờ\r\n\t\tFullNameUnicode: null\r\n\t};\r\n\r\n\t(function returnSchemaSalaryFunc() {\r\n\t\treturnSchemaSalary = { ...valueSalary };\r\n\t\tObject.keys(returnSchemaSalary).forEach(function (key) {\r\n\t\t\treturnSchemaSalary[key] = yup.mixed().required('Bạn không được để trống');\r\n\t\t});\r\n\r\n\t\tschemaSalary = yup.object().shape(returnSchemaSalary);\r\n\t})();\r\n\r\n\tconst formSalary = useForm({\r\n\t\tdefaultValues: valueSalary,\r\n\t\tresolver: yupResolver(schemaSalary)\r\n\t});\r\n\r\n\tconst onSubmitFormSalary = async (data: any) => {\r\n\t\tconsole.log('Submit salary: ', data);\r\n\t\tlet cloneDataSubmit = {\r\n\t\t\tSalary: parseFloat(data.Salary.replace(/,/g, '')),\r\n\t\t\tUserInformationID: data.UserInformationID,\r\n\t\t\tStyle: data.Style //1 lương theo tháng , 2 lương theo giờ\r\n\t\t};\r\n\r\n\t\tsetIsLoading({\r\n\t\t\ttype: 'ADD_DATA',\r\n\t\t\tstatus: true\r\n\t\t});\r\n\t\tlet res = null;\r\n\t\ttry {\r\n\t\t\tres = await staffSalaryApi.addData(cloneDataSubmit);\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tshowNoti('success', 'Thành công');\r\n\t\t\t\tchangeVisible();\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message);\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({\r\n\t\t\t\ttype: 'ADD_DATA',\r\n\t\t\t\tstatus: false\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t// const formatMoney = (value) => {\r\n\t//   value = parseInt(value);\r\n\t//   // formSalary.setValue(\"Salary\", value)\r\n\t// };\r\n\r\n\tuseEffect(() => {\r\n\t\tif (dataStaff) {\r\n\t\t\tformSalary.reset({\r\n\t\t\t\tUserInformationID: dataStaff.UserInformationID,\r\n\t\t\t\tFullNameUnicode: dataStaff.FullNameUnicode,\r\n\t\t\t\tStyle: 1\r\n\t\t\t});\r\n\t\t}\r\n\t}, [dataStaff]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"box-form form-salary\">\r\n\t\t\t\t<Form layout=\"vertical\" onFinish={formSalary.handleSubmit(onSubmitFormSalary)} colon>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t\t<InputTextField form={formSalary} name=\"FullNameUnicode\" label=\"Nhân viên\" disabled={true} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t\t<SelectField\r\n\t\t\t\t\t\t\t\tdisabled={true}\r\n\t\t\t\t\t\t\t\tform={formSalary}\r\n\t\t\t\t\t\t\t\tname=\"Style\"\r\n\t\t\t\t\t\t\t\tlabel=\"Kiểu tính lương\"\r\n\t\t\t\t\t\t\t\toptionList={[\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttitle: 'Tính lương theo tháng',\r\n\t\t\t\t\t\t\t\t\t\tvalue: 1\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t\t<InputMoneyField form={formSalary} name=\"Salary\" label=\"Mức lương\" isRequired={true} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-12 d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t<div style={{ paddingRight: 5 }}>\r\n\t\t\t\t\t\t\t\t<button type=\"submit\" className=\"btn btn-primary w-100\">\r\n\t\t\t\t\t\t\t\t\tThêm lương\r\n\t\t\t\t\t\t\t\t\t{isLoading.type == 'ADD_DATA' && isLoading.status && <Spin className=\"loading-base\" />}\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default SalaryForm;\r\n"]},"metadata":{},"sourceType":"module"}