{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _defineProperty from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Global\\\\Option\\\\DiscountForm.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from 'react';\nimport { Modal, Form, Input, Switch, Tooltip, Select, DatePicker, Spin, Upload, Button, Image } from 'antd';\nimport { useForm } from 'react-hook-form';\nimport moment from 'moment';\nimport { parseToMoney } from '~/utils/functions';\nimport NumberFormat from 'react-number-format';\nimport { UploadOutlined } from '@ant-design/icons';\nimport { newsFeedApi } from '~/apiBase';\nimport { useWrap } from '~/context/wrap';\nvar dateFormat = 'YYYY/MM/DD';\n\nvar DiscountForm = function DiscountForm(props) {\n  _s();\n\n  var _props$rowData2, _props$rowData3, _props$rowData4, _props$rowData5, _props$rowData6, _props$rowData7, _props$rowData8, _props$rowData9, _props$rowData10, _props$rowData11;\n\n  var Option = Select.Option;\n  var TextArea = Input.TextArea;\n\n  var _useState = useState(false),\n      isModalVisible = _useState[0],\n      setIsModalVisible = _useState[1];\n\n  var _Form$useForm = Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var status = [{\n    id: 1,\n    text: 'Chưa kích hoạt'\n  }, {\n    id: 2,\n    text: 'Đã kích hoạt'\n  }, {\n    id: 3,\n    text: 'Hết hạn'\n  }];\n  var packages = [{\n    id: 1,\n    text: 'Đơn hàng lẻ'\n  }, {\n    id: 2,\n    text: 'Đơn hàng combo'\n  }, {\n    id: 3,\n    text: 'Không điều kiện'\n  }];\n\n  var _useWrap = useWrap(),\n      showNoti = _useWrap.showNoti;\n\n  var _useForm = useForm(),\n      handleSubmit = _useForm.handleSubmit,\n      setValue = _useForm.setValue;\n\n  var _useState2 = useState(false),\n      percent = _useState2[0],\n      setPercent = _useState2[1];\n\n  var _useState3 = useState(false),\n      loading = _useState3[0],\n      setLoading = _useState3[1];\n\n  var _useState4 = useState({\n    name: ''\n  }),\n      imageSelected = _useState4[0],\n      setImageSelected = _useState4[1];\n\n  var _useState5 = useState(''),\n      previewImage = _useState5[0],\n      setPreviewImage = _useState5[1];\n\n  var onChange = function onChange() {\n    setPercent(!percent);\n  };\n\n  var replaceDot = function replaceDot(param) {\n    return !!param ? param.toString().replace(',', '').replace(',', '').replace(',', '').replace(',', '') : '';\n  };\n\n  var onSubmit = handleSubmit( /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(data) {\n      var _props$rowData;\n\n      var temp, res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoading(true);\n              temp = '';\n\n              if (!(imageSelected !== null && imageSelected !== void 0 && imageSelected.name)) {\n                _context.next = 6;\n                break;\n              }\n\n              _context.next = 5;\n              return uploadFile(imageSelected);\n\n            case 5:\n              temp = _context.sent;\n\n            case 6:\n              if (!props.rowData) {\n                if (percent) {\n                  data.DiscountType = 2;\n                } else {\n                  data.DiscountType = 1;\n                }\n              }\n\n              res = props._onSubmit(_objectSpread(_objectSpread({}, data), {}, {\n                Discount: replaceDot(data === null || data === void 0 ? void 0 : data.Discount),\n                MinimumOrder: replaceDot(data === null || data === void 0 ? void 0 : data.MinimumOrder),\n                Images: !!temp ? temp : !!(props !== null && props !== void 0 && (_props$rowData = props.rowData) !== null && _props$rowData !== void 0 && _props$rowData.Images) ? props.rowData.Images : ''\n              }));\n              res.then(function (rs) {\n                setLoading(false);\n                rs && rs.status == 200 && setIsModalVisible(false), form.resetFields();\n              });\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n\n  var uploadFile = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(file) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return newsFeedApi.uploadFile(file.originFileObj);\n\n            case 3:\n              res = _context2.sent;\n\n              if (!(res.status == 200 || res.status == 204)) {\n                _context2.next = 6;\n                break;\n              }\n\n              return _context2.abrupt(\"return\", res.data.data);\n\n            case 6:\n              _context2.next = 11;\n              break;\n\n            case 8:\n              _context2.prev = 8;\n              _context2.t0 = _context2[\"catch\"](0);\n              showNoti('danger', _context2.t0.message);\n\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 8]]);\n    }));\n\n    return function uploadFile(_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    if (isModalVisible) {\n      if (!!props.rowData) {\n        setValue('ID', props.rowData.ID);\n        setValue('Discount', props.rowData.Discount);\n        setValue('DiscountType', props.rowData.DiscountType);\n        setValue('Status', props.rowData.Status);\n        setValue('Note', props.rowData.Note);\n        setValue('DeadLine', props.rowData.DeadLine);\n        setValue('Quantity', props.rowData.Quantity);\n        setValue('Style', props.rowData.Style);\n        setValue('MinimumOrder', props.rowData.MinimumOrder);\n        setPreviewImage(props.rowData.Images);\n      }\n    }\n  }, [isModalVisible]);\n  useEffect(function () {\n    if (!props.showAdd) {\n      setPercent(props.rowData.DiscountType == 2 ? true : false);\n    }\n  }, [props.showAdd]);\n\n  var handleUploadFile = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(info) {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              setImageSelected(info.file);\n              setPreviewImage(URL.createObjectURL(info.file.originFileObj));\n\n            case 2:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function handleUploadFile(_x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }(); // Handle delete image\n\n\n  var handleDeleteImage = function handleDeleteImage() {\n    setImageSelected({\n      name: ''\n    });\n    setPreviewImage('');\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [props.showIcon && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-icon edit\",\n      onClick: function onClick() {\n        return setIsModalVisible(true);\n      },\n      children: /*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"C\\u1EADp nh\\u1EADt\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-edit\",\n          style: {\n            color: '#34c4a4',\n            fontSize: 16,\n            marginBottom: -1\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 7\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 6\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 5\n    }, _this), props.showAdd && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-warning add-new\",\n      onClick: function onClick() {\n        return setIsModalVisible(true);\n      },\n      children: \"Th\\xEAm m\\u1EDBi\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 5\n    }, _this), /*#__PURE__*/_jsxDEV(Modal, {\n      title: /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: props.showAdd ? 'Thêm mã khuyến mãi' : 'Cập nhật mã khuyến mãi'\n      }, void 0, false),\n      visible: isModalVisible,\n      onCancel: function onCancel() {\n        return setIsModalVisible(false);\n      },\n      footer: null,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid\",\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          form: form,\n          layout: \"vertical\",\n          onFinish: onSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-6\",\n              children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                label: \"M\\xE3 khuy\\u1EBFn m\\xE3i\",\n                name: \"DiscountCode\",\n                rules: [{\n                  required: true,\n                  message: 'Bạn không được bỏ trống'\n                }],\n                initialValue: props.showAdd ? '' : (_props$rowData2 = props.rowData) === null || _props$rowData2 === void 0 ? void 0 : _props$rowData2.DiscountCode,\n                children: /*#__PURE__*/_jsxDEV(Input, {\n                  onChange: function onChange(value) {\n                    return setValue('DiscountCode', value.target.value);\n                  },\n                  placeholder: \"M\\xE3 khuy\\u1EBFn m\\xE3i\",\n                  className: \"style-input\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 10\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 9\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 8\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-6\",\n              children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                label: \"\\u0110\\u01A1n h\\xE0ng t\\u1ED1i thi\\u1EC3u\",\n                name: \"MinimumOrder\",\n                rules: [{\n                  required: false,\n                  message: 'Bạn không được bỏ trống'\n                }],\n                initialValue: props.showAdd ? '' : (_props$rowData3 = props.rowData) === null || _props$rowData3 === void 0 ? void 0 : _props$rowData3.MinimumOrder,\n                children: /*#__PURE__*/_jsxDEV(NumberFormat, {\n                  className: \"ant-input style-input w-100\",\n                  onChange: function onChange(e) {\n                    return setValue('MinimumOrder', e.target.value);\n                  },\n                  thousandSeparator: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 10\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 9\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 8\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-9\",\n              children: percent ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n                  label: \"Khuy\\u1EBFn m\\xE3i %\",\n                  name: \"Discount\",\n                  rules: [{\n                    required: true,\n                    message: 'Bạn không được bỏ trống'\n                  }],\n                  initialValue: props.showAdd ? '' : (_props$rowData4 = props.rowData) === null || _props$rowData4 === void 0 ? void 0 : _props$rowData4.Discount,\n                  children: /*#__PURE__*/_jsxDEV(NumberFormat, {\n                    className: \"ant-input style-input w-100\",\n                    onChange: function onChange(e) {\n                      return setValue('Discount', e.target.value);\n                    },\n                    thousandSeparator: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 197,\n                    columnNumber: 12\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 11\n                }, _this), /*#__PURE__*/_jsxDEV(Form.Item, {\n                  label: \"Khuy\\u1EBFn m\\xE3i t\\u1ED1i \\u0111a\",\n                  name: \"MaxDiscount\",\n                  rules: [{\n                    required: true,\n                    message: 'Bạn không được bỏ trống'\n                  }],\n                  initialValue: props.showAdd ? '' : (_props$rowData5 = props.rowData) === null || _props$rowData5 === void 0 ? void 0 : _props$rowData5.MaxDiscountPrice,\n                  children: /*#__PURE__*/_jsxDEV(NumberFormat, {\n                    className: \"ant-input style-input w-100\",\n                    onChange: function onChange(e) {\n                      return setValue('MaxDiscount', e.target.value);\n                    },\n                    thousandSeparator: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 209,\n                    columnNumber: 12\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 11\n                }, _this)]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(Form.Item, {\n                label: \"Gi\\xE1 tr\\u1ECB khuy\\u1EBFn m\\xE3i\",\n                name: \"Discount\",\n                rules: [{\n                  required: true,\n                  message: 'Bạn không được bỏ trống'\n                }],\n                initialValue: props.showAdd ? '' : parseToMoney((_props$rowData6 = props.rowData) === null || _props$rowData6 === void 0 ? void 0 : _props$rowData6.Discount),\n                children: /*#__PURE__*/_jsxDEV(NumberFormat, {\n                  className: \"ant-input style-input w-100\",\n                  onChange: function onChange(e) {\n                    return setValue('Discount', e.target.value);\n                  },\n                  thousandSeparator: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 223,\n                  columnNumber: 11\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 10\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 8\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-3 d-flex justify-content-center\",\n              children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                label: \"Ph\\u1EA7n tr\\u0103m\",\n                children: /*#__PURE__*/_jsxDEV(Switch, {\n                  checked: percent,\n                  onChange: onChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 10\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 9\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 8\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-6\",\n              children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                label: \"S\\u1ED1 l\\u01B0\\u1EE3ng\",\n                name: \"Quantity\",\n                rules: [{\n                  required: true,\n                  message: 'Bạn không được bỏ trống'\n                }],\n                initialValue: (_props$rowData7 = props.rowData) === null || _props$rowData7 === void 0 ? void 0 : _props$rowData7.Quantity,\n                children: /*#__PURE__*/_jsxDEV(Input, {\n                  placeholder: \"\",\n                  className: \"style-input\",\n                  type: \"number\",\n                  onChange: function onChange(e) {\n                    return setValue('Quantity', e.target.value);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 10\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 9\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 8\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-6\",\n              children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                label: \"Th\\u1EDDi h\\u1EA1n\",\n                name: \"DeadLine\",\n                rules: [{\n                  required: true,\n                  message: 'Bạn không được bỏ trống'\n                }],\n                initialValue: props.showAdd ? '' : moment(\"\".concat((_props$rowData8 = props.rowData) === null || _props$rowData8 === void 0 ? void 0 : _props$rowData8.DeadLine), dateFormat),\n                children: /*#__PURE__*/_jsxDEV(DatePicker, {\n                  placeholder: \"Ch\\u1ECDn ng\\xE0y\",\n                  className: \"style-input\",\n                  format: dateFormat,\n                  onChange: function onChange(date, dateSting) {\n                    return setValue('DeadLine', dateSting);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 10\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 9\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 8\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-6\",\n              children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                label: \"Tr\\u1EA1ng th\\xE1i\",\n                name: \"Status\",\n                rules: [{\n                  required: true,\n                  message: 'Bạn không được bỏ trống'\n                }],\n                initialValue: (_props$rowData9 = props.rowData) === null || _props$rowData9 === void 0 ? void 0 : _props$rowData9.StatusName,\n                children: /*#__PURE__*/_jsxDEV(Select, {\n                  className: \"style-input\",\n                  allowClear: true,\n                  onChange: function onChange(value) {\n                    return setValue('Status', value);\n                  },\n                  children: status.map(function (row) {\n                    return /*#__PURE__*/_jsxDEV(Option, {\n                      value: row.id,\n                      children: row.text\n                    }, row.id, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 278,\n                      columnNumber: 12\n                    }, _this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 10\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 9\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 8\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-6\",\n              children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                label: \"\\xC1p d\\u1EE5ng cho\",\n                name: \"Packages\",\n                rules: [{\n                  required: true,\n                  message: 'Bạn không được bỏ trống'\n                }],\n                initialValue: props.showAdd ? '' : (_props$rowData10 = props.rowData) === null || _props$rowData10 === void 0 ? void 0 : _props$rowData10.Style,\n                children: /*#__PURE__*/_jsxDEV(Select, {\n                  className: \"style-input\",\n                  allowClear: true,\n                  onChange: function onChange(value) {\n                    return setValue('Style', value);\n                  },\n                  children: packages.map(function (row) {\n                    return /*#__PURE__*/_jsxDEV(Option, {\n                      value: row.id,\n                      children: row.text\n                    }, row.id, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 294,\n                      columnNumber: 12\n                    }, _this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 10\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 9\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 8\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-6 col-12\",\n              children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                name: \"Image\",\n                label: \"H\\xECnh \\u1EA3nh thu nh\\u1ECF\",\n                children: [/*#__PURE__*/_jsxDEV(Upload, {\n                  style: {\n                    width: 800\n                  },\n                  className: \"vc-e-upload\",\n                  onChange: function onChange(e) {\n                    return handleUploadFile(e);\n                  },\n                  showUploadList: false,\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    className: \"vc-e-upload\",\n                    icon: /*#__PURE__*/_jsxDEV(UploadOutlined, {\n                      style: {\n                        marginTop: -2\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 307,\n                      columnNumber: 49\n                    }, _this),\n                    children: \"B\\u1EA5m \\u0111\\u1EC3 t\\u1EA3i h\\xECnh \\u1EA3nh\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 307,\n                    columnNumber: 11\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 10\n                }, _this), imageSelected.name !== undefined && imageSelected.name !== '' && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row m-0 mt-3 vc-store-center\",\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    danger: true,\n                    onClick: function onClick() {\n                      return handleDeleteImage();\n                    },\n                    children: \"Xo\\xE1 h\\xECnh \\u1EA3nh\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 313,\n                    columnNumber: 12\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 11\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 9\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 8\n            }, _this), previewImage !== '' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-6 col-12\",\n              children: /*#__PURE__*/_jsxDEV(Image, {\n                className: \"img-preview\",\n                src: previewImage\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 10\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 9\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12\",\n              children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                name: \"Note\",\n                label: \"Ghi ch\\xFA\",\n                initialValue: (_props$rowData11 = props.rowData) === null || _props$rowData11 === void 0 ? void 0 : _props$rowData11.Note,\n                children: /*#__PURE__*/_jsxDEV(TextArea, {\n                  placeholder: \"\",\n                  rows: 2,\n                  allowClear: true,\n                  onChange: function onChange(e) {\n                    return setValue('Note', e.target.value);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 330,\n                  columnNumber: 10\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 9\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 8\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mt-5\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 mt-3\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn btn-primary w-100\",\n                children: [\"L\\u01B0u\", loading && /*#__PURE__*/_jsxDEV(Spin, {\n                  className: \"loading-base\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 339,\n                  columnNumber: 22\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 9\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 8\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 7\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 6\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 4\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(DiscountForm, \"Rq3YdT1UO9QGBqQ3gaWdFzoke/k=\", false, function () {\n  return [Form.useForm, useWrap, useForm];\n});\n\n_c = DiscountForm;\nexport default DiscountForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"DiscountForm\");","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Global/Option/DiscountForm.tsx"],"names":["React","useEffect","useState","Modal","Form","Input","Switch","Tooltip","Select","DatePicker","Spin","Upload","Button","Image","useForm","moment","parseToMoney","NumberFormat","UploadOutlined","newsFeedApi","useWrap","dateFormat","DiscountForm","props","Option","TextArea","isModalVisible","setIsModalVisible","form","status","id","text","packages","showNoti","handleSubmit","setValue","percent","setPercent","loading","setLoading","name","imageSelected","setImageSelected","previewImage","setPreviewImage","onChange","replaceDot","param","toString","replace","onSubmit","data","temp","uploadFile","rowData","DiscountType","res","_onSubmit","Discount","MinimumOrder","Images","then","rs","resetFields","file","originFileObj","message","ID","Status","Note","DeadLine","Quantity","Style","showAdd","handleUploadFile","info","URL","createObjectURL","handleDeleteImage","showIcon","color","fontSize","marginBottom","required","DiscountCode","value","target","e","MaxDiscountPrice","date","dateSting","StatusName","map","row","width","marginTop","undefined"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Modal, Form, Input, Switch, Tooltip, Select, DatePicker, Spin, Upload, Button, Image } from 'antd'\r\nimport { useForm } from 'react-hook-form'\r\nimport moment from 'moment'\r\nimport { parseToMoney } from '~/utils/functions'\r\nimport NumberFormat from 'react-number-format'\r\nimport { UploadOutlined } from '@ant-design/icons'\r\nimport { newsFeedApi } from '~/apiBase'\r\nimport { useWrap } from '~/context/wrap'\r\n\r\nconst dateFormat = 'YYYY/MM/DD'\r\n\r\nconst DiscountForm = (props) => {\r\n\tconst { Option } = Select\r\n\tconst { TextArea } = Input\r\n\tconst [isModalVisible, setIsModalVisible] = useState(false)\r\n\tconst [form] = Form.useForm()\r\n\tconst status = [\r\n\t\t{\r\n\t\t\tid: 1,\r\n\t\t\ttext: 'Chưa kích hoạt'\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 2,\r\n\t\t\ttext: 'Đã kích hoạt'\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 3,\r\n\t\t\ttext: 'Hết hạn'\r\n\t\t}\r\n\t]\r\n\tconst packages = [\r\n\t\t{\r\n\t\t\tid: 1,\r\n\t\t\ttext: 'Đơn hàng lẻ'\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 2,\r\n\t\t\ttext: 'Đơn hàng combo'\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 3,\r\n\t\t\ttext: 'Không điều kiện'\r\n\t\t}\r\n\t]\r\n\r\n\tconst { showNoti } = useWrap()\r\n\r\n\tconst { handleSubmit, setValue } = useForm()\r\n\tconst [percent, setPercent] = useState(false)\r\n\tconst [loading, setLoading] = useState(false)\r\n\r\n\tconst [imageSelected, setImageSelected] = useState({ name: '' })\r\n\tconst [previewImage, setPreviewImage] = useState('')\r\n\r\n\tconst onChange = () => {\r\n\t\tsetPercent(!percent)\r\n\t}\r\n\r\n\tconst replaceDot = (param: string) => {\r\n\t\treturn !!param ? param.toString().replace(',', '').replace(',', '').replace(',', '').replace(',', '') : ''\r\n\t}\r\n\r\n\tconst onSubmit = handleSubmit(async (data: any) => {\r\n\t\tsetLoading(true)\r\n\t\tlet temp = ''\r\n\t\tif (!!imageSelected?.name) {\r\n\t\t\ttemp = await uploadFile(imageSelected)\r\n\t\t}\r\n\t\tif (!props.rowData) {\r\n\t\t\tif (percent) {\r\n\t\t\t\tdata.DiscountType = 2\r\n\t\t\t} else {\r\n\t\t\t\tdata.DiscountType = 1\r\n\t\t\t}\r\n\t\t}\r\n\t\tlet res = props._onSubmit({\r\n\t\t\t...data,\r\n\t\t\tDiscount: replaceDot(data?.Discount),\r\n\t\t\tMinimumOrder: replaceDot(data?.MinimumOrder),\r\n\t\t\tImages: !!temp ? temp : !!props?.rowData?.Images ? props.rowData.Images : ''\r\n\t\t})\r\n\t\tres.then(function (rs: any) {\r\n\t\t\tsetLoading(false)\r\n\t\t\trs && rs.status == 200 && setIsModalVisible(false), form.resetFields()\r\n\t\t})\r\n\t})\r\n\r\n\tconst uploadFile = async (file) => {\r\n\t\ttry {\r\n\t\t\tlet res = await newsFeedApi.uploadFile(file.originFileObj)\r\n\t\t\tif (res.status == 200 || res.status == 204) {\r\n\t\t\t\treturn res.data.data\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isModalVisible) {\r\n\t\t\tif (!!props.rowData) {\r\n\t\t\t\tsetValue('ID', props.rowData.ID)\r\n\t\t\t\tsetValue('Discount', props.rowData.Discount)\r\n\t\t\t\tsetValue('DiscountType', props.rowData.DiscountType)\r\n\t\t\t\tsetValue('Status', props.rowData.Status)\r\n\t\t\t\tsetValue('Note', props.rowData.Note)\r\n\t\t\t\tsetValue('DeadLine', props.rowData.DeadLine)\r\n\t\t\t\tsetValue('Quantity', props.rowData.Quantity)\r\n\t\t\t\tsetValue('Style', props.rowData.Style)\r\n\t\t\t\tsetValue('MinimumOrder', props.rowData.MinimumOrder)\r\n\t\t\t\tsetPreviewImage(props.rowData.Images)\r\n\t\t\t}\r\n\t\t}\r\n\t}, [isModalVisible])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!props.showAdd) {\r\n\t\t\tsetPercent(props.rowData.DiscountType == 2 ? true : false)\r\n\t\t}\r\n\t}, [props.showAdd])\r\n\r\n\tconst handleUploadFile = async (info) => {\r\n\t\tsetImageSelected(info.file)\r\n\t\tsetPreviewImage(URL.createObjectURL(info.file.originFileObj))\r\n\t}\r\n\r\n\t// Handle delete image\r\n\tconst handleDeleteImage = () => {\r\n\t\tsetImageSelected({ name: '' })\r\n\t\tsetPreviewImage('')\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{props.showIcon && (\r\n\t\t\t\t<button className=\"btn btn-icon edit\" onClick={() => setIsModalVisible(true)}>\r\n\t\t\t\t\t<Tooltip title=\"Cập nhật\">\r\n\t\t\t\t\t\t<i className=\"fas fa-edit\" style={{ color: '#34c4a4', fontSize: 16, marginBottom: -1 }}></i>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t</button>\r\n\t\t\t)}\r\n\t\t\t{props.showAdd && (\r\n\t\t\t\t<button className=\"btn btn-warning add-new\" onClick={() => setIsModalVisible(true)}>\r\n\t\t\t\t\tThêm mới\r\n\t\t\t\t</button>\r\n\t\t\t)}\r\n\r\n\t\t\t<Modal\r\n\t\t\t\ttitle={<>{props.showAdd ? 'Thêm mã khuyến mãi' : 'Cập nhật mã khuyến mãi'}</>}\r\n\t\t\t\tvisible={isModalVisible}\r\n\t\t\t\tonCancel={() => setIsModalVisible(false)}\r\n\t\t\t\tfooter={null}\r\n\t\t\t>\r\n\t\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t\t<Form form={form} layout=\"vertical\" onFinish={onSubmit}>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-6\">\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tlabel=\"Mã khuyến mãi\"\r\n\t\t\t\t\t\t\t\t\tname=\"DiscountCode\"\r\n\t\t\t\t\t\t\t\t\trules={[{ required: true, message: 'Bạn không được bỏ trống' }]}\r\n\t\t\t\t\t\t\t\t\tinitialValue={props.showAdd ? '' : props.rowData?.DiscountCode}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\tonChange={(value) => setValue('DiscountCode', value.target.value)}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Mã khuyến mãi\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"style-input\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"col-6\">\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tlabel=\"Đơn hàng tối thiểu\"\r\n\t\t\t\t\t\t\t\t\tname=\"MinimumOrder\"\r\n\t\t\t\t\t\t\t\t\trules={[{ required: false, message: 'Bạn không được bỏ trống' }]}\r\n\t\t\t\t\t\t\t\t\tinitialValue={props.showAdd ? '' : props.rowData?.MinimumOrder}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<NumberFormat\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"ant-input style-input w-100\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e: any) => setValue('MinimumOrder', e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\tthousandSeparator={true}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"col-9\">\r\n\t\t\t\t\t\t\t\t{percent ? (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Khuyến mãi %\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"Discount\"\r\n\t\t\t\t\t\t\t\t\t\t\trules={[{ required: true, message: 'Bạn không được bỏ trống' }]}\r\n\t\t\t\t\t\t\t\t\t\t\tinitialValue={props.showAdd ? '' : props.rowData?.Discount}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<NumberFormat\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"ant-input style-input w-100\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e: any) => setValue('Discount', e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tthousandSeparator={true}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Khuyến mãi tối đa\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"MaxDiscount\"\r\n\t\t\t\t\t\t\t\t\t\t\trules={[{ required: true, message: 'Bạn không được bỏ trống' }]}\r\n\t\t\t\t\t\t\t\t\t\t\tinitialValue={props.showAdd ? '' : props.rowData?.MaxDiscountPrice}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<NumberFormat\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"ant-input style-input w-100\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e: any) => setValue('MaxDiscount', e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tthousandSeparator={true}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Giá trị khuyến mãi\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"Discount\"\r\n\t\t\t\t\t\t\t\t\t\trules={[{ required: true, message: 'Bạn không được bỏ trống' }]}\r\n\t\t\t\t\t\t\t\t\t\tinitialValue={props.showAdd ? '' : parseToMoney(props.rowData?.Discount)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<NumberFormat\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"ant-input style-input w-100\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e: any) => setValue('Discount', e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\tthousandSeparator={true}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"col-3 d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Phần trăm\">\r\n\t\t\t\t\t\t\t\t\t<Switch checked={percent} onChange={onChange} />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t{/*  */}\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-6\">\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tlabel=\"Số lượng\"\r\n\t\t\t\t\t\t\t\t\tname=\"Quantity\"\r\n\t\t\t\t\t\t\t\t\trules={[{ required: true, message: 'Bạn không được bỏ trống' }]}\r\n\t\t\t\t\t\t\t\t\tinitialValue={props.rowData?.Quantity}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input placeholder=\"\" className=\"style-input\" type=\"number\" onChange={(e) => setValue('Quantity', e.target.value)} />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-6\">\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tlabel=\"Thời hạn\"\r\n\t\t\t\t\t\t\t\t\tname=\"DeadLine\"\r\n\t\t\t\t\t\t\t\t\trules={[{ required: true, message: 'Bạn không được bỏ trống' }]}\r\n\t\t\t\t\t\t\t\t\tinitialValue={props.showAdd ? '' : moment(`${props.rowData?.DeadLine}`, dateFormat)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Chọn ngày\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"style-input\"\r\n\t\t\t\t\t\t\t\t\t\tformat={dateFormat}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(date, dateSting) => setValue('DeadLine', dateSting)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/*  */}\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-6\">\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tlabel=\"Trạng thái\"\r\n\t\t\t\t\t\t\t\t\tname=\"Status\"\r\n\t\t\t\t\t\t\t\t\trules={[{ required: true, message: 'Bạn không được bỏ trống' }]}\r\n\t\t\t\t\t\t\t\t\tinitialValue={props.rowData?.StatusName}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Select className=\"style-input\" allowClear={true} onChange={(value) => setValue('Status', value)}>\r\n\t\t\t\t\t\t\t\t\t\t{status.map((row) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option key={row.id} value={row.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{row.text}\r\n\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-6\">\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tlabel=\"Áp dụng cho\"\r\n\t\t\t\t\t\t\t\t\tname=\"Packages\"\r\n\t\t\t\t\t\t\t\t\trules={[{ required: true, message: 'Bạn không được bỏ trống' }]}\r\n\t\t\t\t\t\t\t\t\tinitialValue={props.showAdd ? '' : props.rowData?.Style}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Select className=\"style-input\" allowClear={true} onChange={(value) => setValue('Style', value)}>\r\n\t\t\t\t\t\t\t\t\t\t{packages.map((row) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option key={row.id} value={row.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{row.text}\r\n\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-md-6 col-12\">\r\n\t\t\t\t\t\t\t\t<Form.Item name=\"Image\" label=\"Hình ảnh thu nhỏ\">\r\n\t\t\t\t\t\t\t\t\t<Upload style={{ width: 800 }} className=\"vc-e-upload\" onChange={(e) => handleUploadFile(e)} showUploadList={false}>\r\n\t\t\t\t\t\t\t\t\t\t<Button className=\"vc-e-upload\" icon={<UploadOutlined style={{ marginTop: -2 }} />}>\r\n\t\t\t\t\t\t\t\t\t\t\tBấm để tải hình ảnh\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t\t\t{imageSelected.name !== undefined && imageSelected.name !== '' && (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"row m-0 mt-3 vc-store-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Button danger onClick={() => handleDeleteImage()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tXoá hình ảnh\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{previewImage !== '' && (\r\n\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-12\">\r\n\t\t\t\t\t\t\t\t\t<Image className=\"img-preview\" src={previewImage} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t\t\t<Form.Item name=\"Note\" label=\"Ghi chú\" initialValue={props.rowData?.Note}>\r\n\t\t\t\t\t\t\t\t\t<TextArea placeholder=\"\" rows={2} allowClear={true} onChange={(e) => setValue('Note', e.target.value)} />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/*  */}\r\n\t\t\t\t\t\t<div className=\"row mt-5\">\r\n\t\t\t\t\t\t\t<div className=\"col-12 mt-3\">\r\n\t\t\t\t\t\t\t\t<button type=\"submit\" className=\"btn btn-primary w-100\">\r\n\t\t\t\t\t\t\t\t\tLưu\r\n\t\t\t\t\t\t\t\t\t{loading && <Spin className=\"loading-base\" />}\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</div>\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default DiscountForm\r\n"]},"metadata":{},"sourceType":"module"}