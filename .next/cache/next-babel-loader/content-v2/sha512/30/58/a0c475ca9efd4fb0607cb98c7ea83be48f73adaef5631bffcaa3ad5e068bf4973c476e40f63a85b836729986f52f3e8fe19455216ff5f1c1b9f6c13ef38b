{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Global\\\\CourseList\\\\CourseListDetail\\\\Document\\\\DocumentCourse.tsx\",\n    _s = $RefreshSig$();\n\nimport { Card, Menu, Spin } from 'antd';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nimport { Folder } from 'react-feather';\nimport { documentApi } from '~/apiBase/course-detail/document';\nimport { documentCategoryApi } from '~/apiBase/course-detail/document-category';\nimport FileExtension from '~/components/Global/CourseList/CourseListDetail/Document/FileExtension';\nimport { useWrap } from '~/context/wrap'; // import  FileExtension  from '~/components/Global/document-list/FileExtension';\n\nDocumentCourse.propTypes = {\n  courseID: PropTypes.number,\n  courseDetail: PropTypes.object\n};\nDocumentCourse.defaultProps = {\n  courseID: 0\n};\n\nfunction DocumentCourse(props) {\n  _s();\n\n  var _this = this;\n\n  var courseID = props.courseID,\n      courseDetail = props.courseDetail;\n  console.log('courseDetail', courseDetail);\n\n  var _useState = useState({\n    type: '',\n    status: false\n  }),\n      isLoading = _useState[0],\n      setIsLoading = _useState[1];\n\n  var _useState2 = useState([]),\n      categoryDoc = _useState2[0],\n      setCategoryDoc = _useState2[1];\n\n  var _useWrap = useWrap(),\n      showNoti = _useWrap.showNoti,\n      pageSize = _useWrap.pageSize;\n\n  var _useState3 = useState([]),\n      documentList = _useState3[0],\n      setDocumentList = _useState3[1];\n\n  var getDataCategoryDoc = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              setIsLoading({\n                type: 'FETCH_CATEGORY',\n                status: true\n              });\n              _context.next = 4;\n              return documentCategoryApi.getAll({\n                CurriculumnID: courseDetail.CurriculumID,\n                pageIndex: 1,\n                pageSize: pageSize\n              });\n\n            case 4:\n              res = _context.sent;\n\n              if (res.status === 200) {\n                setCategoryDoc(res.data.data);\n              }\n\n              if (res.status === 204) {\n                showNoti('danger', 'Không tìm thấy dữ liệu!');\n              }\n\n              _context.next = 12;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](0);\n              showNoti('danger', _context.t0.message);\n\n            case 12:\n              _context.prev = 12;\n              setIsLoading({\n                type: 'FETCH_CATEGORY',\n                status: false\n              });\n              return _context.finish(12);\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 9, 12, 15]]);\n    }));\n\n    return function getDataCategoryDoc() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    getDataCategoryDoc();\n  }, []);\n\n  var getDataDocByCategoryID = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              setIsLoading({\n                type: 'FETCH_DOCUMENT',\n                status: true\n              });\n              _context2.next = 4;\n              return documentApi.getAll({\n                CategoryID: id\n              });\n\n            case 4:\n              res = _context2.sent;\n\n              if (res.status === 200) {\n                setDocumentList(res.data.data);\n              }\n\n              if (res.status === 204) {\n                setDocumentList(null);\n              }\n\n              _context2.next = 12;\n              break;\n\n            case 9:\n              _context2.prev = 9;\n              _context2.t0 = _context2[\"catch\"](0);\n              showNoti('danger', _context2.t0.message);\n\n            case 12:\n              _context2.prev = 12;\n              setIsLoading({\n                type: 'FETCH_DOCUMENT',\n                status: false\n              });\n              return _context2.finish(12);\n\n            case 15:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 9, 12, 15]]);\n    }));\n\n    return function getDataDocByCategoryID(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      title: \"T\\xE0i li\\u1EC7u\",\n      children: /*#__PURE__*/_jsxDEV(Spin, {\n        spinning: isLoading.type === 'FETCH_CATEGORY' && isLoading.status,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pb-3 font-weight-black\",\n              children: \"Gi\\xE1o tr\\xECnh\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(Menu, {\n              mode: \"vertical\",\n              children: categoryDoc.map(function (cate) {\n                return /*#__PURE__*/_jsxDEV(Menu.Item, {\n                  icon: /*#__PURE__*/_jsxDEV(Folder, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 97,\n                    columnNumber: 17\n                  }, _this),\n                  onClick: function onClick() {\n                    getDataDocByCategoryID(cate.ID);\n                  },\n                  children: cate.CategoryName\n                }, cate.ID, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 10\n                }, _this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-9\",\n            children: /*#__PURE__*/_jsxDEV(FileExtension, {\n              isLoading: isLoading,\n              documentList: documentList\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 3\n  }, this);\n}\n\n_s(DocumentCourse, \"okrrKBvlcoZBLnAZwid0c3TrKHY=\", false, function () {\n  return [useWrap];\n});\n\n_c = DocumentCourse;\nexport default DocumentCourse;\n\nvar _c;\n\n$RefreshReg$(_c, \"DocumentCourse\");","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Global/CourseList/CourseListDetail/Document/DocumentCourse.tsx"],"names":["Card","Menu","Spin","PropTypes","React","useEffect","useState","Folder","documentApi","documentCategoryApi","FileExtension","useWrap","DocumentCourse","propTypes","courseID","number","courseDetail","object","defaultProps","props","console","log","type","status","isLoading","setIsLoading","categoryDoc","setCategoryDoc","showNoti","pageSize","documentList","setDocumentList","getDataCategoryDoc","getAll","CurriculumnID","CurriculumID","pageIndex","res","data","message","getDataDocByCategoryID","id","CategoryID","map","cate","ID","CategoryName"],"mappings":";;;;;;;AAAA,SAASA,IAAT,EAAeC,IAAf,EAAqBC,IAArB,QAAiC,MAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,MAAT,QAAuB,eAAvB;AACA,SAASC,WAAT,QAA4B,kCAA5B;AACA,SAASC,mBAAT,QAAoC,2CAApC;AACA,OAAOC,aAAP,MAA0B,wEAA1B;AACA,SAASC,OAAT,QAAwB,gBAAxB,C,CACA;;AAEAC,cAAc,CAACC,SAAf,GAA2B;AAC1BC,EAAAA,QAAQ,EAAEX,SAAS,CAACY,MADM;AAE1BC,EAAAA,YAAY,EAAEb,SAAS,CAACc;AAFE,CAA3B;AAIAL,cAAc,CAACM,YAAf,GAA8B;AAC7BJ,EAAAA,QAAQ,EAAE;AADmB,CAA9B;;AAIA,SAASF,cAAT,CAAwBO,KAAxB,EAA+B;AAAA;;AAAA;;AAAA,MACtBL,QADsB,GACKK,KADL,CACtBL,QADsB;AAAA,MACZE,YADY,GACKG,KADL,CACZH,YADY;AAE9BI,EAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BL,YAA5B;;AAF8B,kBAGIV,QAAQ,CAAC;AAC1CgB,IAAAA,IAAI,EAAE,EADoC;AAE1CC,IAAAA,MAAM,EAAE;AAFkC,GAAD,CAHZ;AAAA,MAGvBC,SAHuB;AAAA,MAGZC,YAHY;;AAAA,mBAOQnB,QAAQ,CAAiB,EAAjB,CAPhB;AAAA,MAOvBoB,WAPuB;AAAA,MAOVC,cAPU;;AAAA,iBAQChB,OAAO,EARR;AAAA,MAQtBiB,QARsB,YAQtBA,QARsB;AAAA,MAQZC,QARY,YAQZA,QARY;;AAAA,mBASUvB,QAAQ,CAAc,EAAd,CATlB;AAAA,MASvBwB,YATuB;AAAA,MASTC,eATS;;AAW9B,MAAMC,kBAAkB;AAAA,wEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEzBP,cAAAA,YAAY,CAAC;AACZH,gBAAAA,IAAI,EAAE,gBADM;AAEZC,gBAAAA,MAAM,EAAE;AAFI,eAAD,CAAZ;AAFyB;AAAA,qBAMPd,mBAAmB,CAACwB,MAApB,CAA2B;AAC5CC,gBAAAA,aAAa,EAAElB,YAAY,CAACmB,YADgB;AAE5CC,gBAAAA,SAAS,EAAE,CAFiC;AAG5CP,gBAAAA,QAAQ,EAAEA;AAHkC,eAA3B,CANO;;AAAA;AAMnBQ,cAAAA,GANmB;;AAWzB,kBAAIA,GAAG,CAACd,MAAJ,KAAe,GAAnB,EAAwB;AACvBI,gBAAAA,cAAc,CAACU,GAAG,CAACC,IAAJ,CAASA,IAAV,CAAd;AACA;;AACD,kBAAID,GAAG,CAACd,MAAJ,KAAe,GAAnB,EAAwB;AACvBK,gBAAAA,QAAQ,CAAC,QAAD,EAAW,yBAAX,CAAR;AACA;;AAhBwB;AAAA;;AAAA;AAAA;AAAA;AAkBzBA,cAAAA,QAAQ,CAAC,QAAD,EAAW,YAAMW,OAAjB,CAAR;;AAlByB;AAAA;AAoBzBd,cAAAA,YAAY,CAAC;AACZH,gBAAAA,IAAI,EAAE,gBADM;AAEZC,gBAAAA,MAAM,EAAE;AAFI,eAAD,CAAZ;AApByB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAlBS,kBAAkB;AAAA;AAAA;AAAA,KAAxB;;AA2BA3B,EAAAA,SAAS,CAAC,YAAM;AACf2B,IAAAA,kBAAkB;AAClB,GAFQ,EAEN,EAFM,CAAT;;AAIA,MAAMQ,sBAAsB;AAAA,yEAAG,kBAAOC,EAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAE7BhB,cAAAA,YAAY,CAAC;AACZH,gBAAAA,IAAI,EAAE,gBADM;AAEZC,gBAAAA,MAAM,EAAE;AAFI,eAAD,CAAZ;AAF6B;AAAA,qBAMXf,WAAW,CAACyB,MAAZ,CAAmB;AACpCS,gBAAAA,UAAU,EAAED;AADwB,eAAnB,CANW;;AAAA;AAMvBJ,cAAAA,GANuB;;AAS7B,kBAAIA,GAAG,CAACd,MAAJ,KAAe,GAAnB,EAAwB;AACvBQ,gBAAAA,eAAe,CAACM,GAAG,CAACC,IAAJ,CAASA,IAAV,CAAf;AACA;;AACD,kBAAID,GAAG,CAACd,MAAJ,KAAe,GAAnB,EAAwB;AACvBQ,gBAAAA,eAAe,CAAC,IAAD,CAAf;AACA;;AAd4B;AAAA;;AAAA;AAAA;AAAA;AAgB7BH,cAAAA,QAAQ,CAAC,QAAD,EAAW,aAAMW,OAAjB,CAAR;;AAhB6B;AAAA;AAkB7Bd,cAAAA,YAAY,CAAC;AACZH,gBAAAA,IAAI,EAAE,gBADM;AAEZC,gBAAAA,MAAM,EAAE;AAFI,eAAD,CAAZ;AAlB6B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAtBiB,sBAAsB;AAAA;AAAA;AAAA,KAA5B;;AAyBA,sBACC;AAAA,2BACC,QAAC,IAAD;AAAM,MAAA,KAAK,EAAC,kBAAZ;AAAA,6BACC,QAAC,IAAD;AAAM,QAAA,QAAQ,EAAEhB,SAAS,CAACF,IAAV,KAAmB,gBAAnB,IAAuCE,SAAS,CAACD,MAAjE;AAAA,+BACC;AAAK,UAAA,SAAS,EAAC,KAAf;AAAA,kCACC;AAAK,YAAA,SAAS,EAAC,OAAf;AAAA,oCACC;AAAK,cAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADD,eAEC,QAAC,IAAD;AAAM,cAAA,IAAI,EAAC,UAAX;AAAA,wBACEG,WAAW,CAACiB,GAAZ,CAAgB,UAACC,IAAD;AAAA,oCAChB,QAAC,IAAD,CAAM,IAAN;AAEC,kBAAA,IAAI,eAAE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,2BAFP;AAGC,kBAAA,OAAO,EAAE,mBAAM;AACdJ,oBAAAA,sBAAsB,CAACI,IAAI,CAACC,EAAN,CAAtB;AACA,mBALF;AAAA,4BAOED,IAAI,CAACE;AAPP,mBACMF,IAAI,CAACC,EADX;AAAA;AAAA;AAAA;AAAA,yBADgB;AAAA,eAAhB;AADF;AAAA;AAAA;AAAA;AAAA,oBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD,eAiBC;AAAK,YAAA,SAAS,EAAC,OAAf;AAAA,mCACC,QAAC,aAAD;AAAe,cAAA,SAAS,EAAErB,SAA1B;AAAqC,cAAA,YAAY,EAAEM;AAAnD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,kBAjBD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,UADD;AA6BA;;GAhGQlB,c;UAQuBD,O;;;KARvBC,c;AAkGT,eAAeA,cAAf","sourcesContent":["import { Card, Menu, Spin } from 'antd'\r\nimport PropTypes from 'prop-types'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { Folder } from 'react-feather'\r\nimport { documentApi } from '~/apiBase/course-detail/document'\r\nimport { documentCategoryApi } from '~/apiBase/course-detail/document-category'\r\nimport FileExtension from '~/components/Global/CourseList/CourseListDetail/Document/FileExtension'\r\nimport { useWrap } from '~/context/wrap'\r\n// import  FileExtension  from '~/components/Global/document-list/FileExtension';\r\n\r\nDocumentCourse.propTypes = {\r\n\tcourseID: PropTypes.number,\r\n\tcourseDetail: PropTypes.object\r\n}\r\nDocumentCourse.defaultProps = {\r\n\tcourseID: 0\r\n}\r\n\r\nfunction DocumentCourse(props) {\r\n\tconst { courseID, courseDetail } = props\r\n\tconsole.log('courseDetail', courseDetail)\r\n\tconst [isLoading, setIsLoading] = useState({\r\n\t\ttype: '',\r\n\t\tstatus: false\r\n\t})\r\n\tconst [categoryDoc, setCategoryDoc] = useState<ICategoryDoc[]>([])\r\n\tconst { showNoti, pageSize } = useWrap()\r\n\tconst [documentList, setDocumentList] = useState<IDocument[]>([])\r\n\r\n\tconst getDataCategoryDoc = async () => {\r\n\t\ttry {\r\n\t\t\tsetIsLoading({\r\n\t\t\t\ttype: 'FETCH_CATEGORY',\r\n\t\t\t\tstatus: true\r\n\t\t\t})\r\n\t\t\tconst res = await documentCategoryApi.getAll({\r\n\t\t\t\tCurriculumnID: courseDetail.CurriculumID,\r\n\t\t\t\tpageIndex: 1,\r\n\t\t\t\tpageSize: pageSize\r\n\t\t\t})\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tsetCategoryDoc(res.data.data)\r\n\t\t\t}\r\n\t\t\tif (res.status === 204) {\r\n\t\t\t\tshowNoti('danger', 'Không tìm thấy dữ liệu!')\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({\r\n\t\t\t\ttype: 'FETCH_CATEGORY',\r\n\t\t\t\tstatus: false\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tgetDataCategoryDoc()\r\n\t}, [])\r\n\r\n\tconst getDataDocByCategoryID = async (id: number) => {\r\n\t\ttry {\r\n\t\t\tsetIsLoading({\r\n\t\t\t\ttype: 'FETCH_DOCUMENT',\r\n\t\t\t\tstatus: true\r\n\t\t\t})\r\n\t\t\tconst res = await documentApi.getAll({\r\n\t\t\t\tCategoryID: id\r\n\t\t\t})\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tsetDocumentList(res.data.data)\r\n\t\t\t}\r\n\t\t\tif (res.status === 204) {\r\n\t\t\t\tsetDocumentList(null)\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({\r\n\t\t\t\ttype: 'FETCH_DOCUMENT',\r\n\t\t\t\tstatus: false\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Card title=\"Tài liệu\">\r\n\t\t\t\t<Spin spinning={isLoading.type === 'FETCH_CATEGORY' && isLoading.status}>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-3\">\r\n\t\t\t\t\t\t\t<div className=\"pb-3 font-weight-black\">Giáo trình</div>\r\n\t\t\t\t\t\t\t<Menu mode=\"vertical\">\r\n\t\t\t\t\t\t\t\t{categoryDoc.map((cate) => (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item\r\n\t\t\t\t\t\t\t\t\t\tkey={cate.ID}\r\n\t\t\t\t\t\t\t\t\t\ticon={<Folder />}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tgetDataDocByCategoryID(cate.ID)\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{cate.CategoryName}\r\n\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Menu>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-9\">\r\n\t\t\t\t\t\t\t<FileExtension isLoading={isLoading} documentList={documentList} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Spin>\r\n\t\t\t</Card>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default DocumentCourse\r\n"]},"metadata":{},"sourceType":"module"}