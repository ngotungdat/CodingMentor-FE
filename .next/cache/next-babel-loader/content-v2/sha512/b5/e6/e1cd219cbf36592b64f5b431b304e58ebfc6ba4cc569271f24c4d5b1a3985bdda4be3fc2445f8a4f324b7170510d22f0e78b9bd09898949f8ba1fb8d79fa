{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\pages\\\\config-level-video-course\\\\index.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport moment from 'moment';\nimport React, { useState, useEffect } from 'react';\nimport LayoutBase from '~/components/LayoutBase';\nimport PowerTable from '~/components/PowerTable';\nimport { useWrap } from '~/context/wrap';\nimport DeleteTableRow from '~/components/Elements/DeleteTableRow/DeleteTableRow';\nimport { VideoCourseLevelApi } from '~/apiBase/video-course-store/level';\nimport ModalLevelVideoCourse from '~/components/VideoCourse/ModalLevelVideo';\n\nconst ConfigLevelVideoCourse = props => {\n  const {\n    0: isLoading,\n    1: setIsLoading\n  } = useState({\n    type: '',\n    status: false\n  });\n  const {\n    0: totalPage,\n    1: setTotalPage\n  } = useState(null);\n  const {\n    0: dataSource,\n    1: setDataSource\n  } = useState();\n  const {\n    showNoti,\n    pageSize\n  } = useWrap();\n  const {\n    0: filters,\n    1: setFilters\n  } = useState({\n    pageSize: pageSize,\n    pageIndex: 1\n  }); // PAGINATION\n\n  const getPagination = pageIndex => {\n    setFilters(_objectSpread(_objectSpread({}, filters), {}, {\n      pageIndex\n    }));\n  };\n\n  const columns = [{\n    title: 'ID',\n    width: 100,\n    dataIndex: 'ID'\n  }, {\n    title: 'Cấp độ',\n    width: 150,\n    dataIndex: 'LevelName'\n  }, {\n    title: 'Người tạo',\n    width: 150,\n    dataIndex: 'CreatedBy'\n  }, {\n    title: 'Ngày tạo',\n    width: 150,\n    dataIndex: 'CreatedOn',\n    render: date => /*#__PURE__*/_jsxDEV(\"span\", {\n      children: moment(date).format('DD-MM-YYYY')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 78\n    }, this)\n  }, {\n    title: '',\n    width: 100,\n    dataIndex: 'Action',\n    render: (text, data) => /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(ModalLevelVideoCourse, {\n        typeOfModal: \"adit\",\n        onFetchData: () => {\n          setFilters(_objectSpread({}, filters));\n        },\n        dataItem: data\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(DeleteTableRow, {\n        text: \"c\\u1EA5p \\u0111\\u1ED9 video n\\xE0y\",\n        title: \"X\\xF3a c\\u1EA5p \\u0111\\u1ED9 video\",\n        handleDelete: () => handleDeleteTypeOfVideo(data)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true)\n  }];\n\n  const handleDeleteTypeOfVideo = async data => {\n    try {\n      let res = await VideoCourseLevelApi.add({\n        ID: data.ID,\n        LevelName: data.LevelName,\n        Enable: false\n      });\n\n      if (res.status === 200) {\n        showNoti('success', 'Xóa thành công!');\n        getAllType();\n      }\n    } catch (error) {}\n  };\n\n  const getAllType = async () => {\n    setIsLoading({\n      type: 'GET_ALL',\n      status: true\n    });\n\n    try {\n      let res = await VideoCourseLevelApi.getAll({\n        pageSize: pageSize,\n        pageIndex: 1\n      });\n\n      if (res.status === 200) {\n        setDataSource(res.data.data);\n        setTotalPage(res.data.totalRow);\n      }\n    } catch (error) {} finally {\n      setIsLoading({\n        type: 'GET_ALL',\n        status: false\n      });\n    }\n  };\n\n  useEffect(() => {\n    getAllType();\n  }, [filters]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(PowerTable, {\n      loading: isLoading,\n      totalPage: totalPage,\n      dataSource: dataSource,\n      getPagination: getPagination,\n      columns: columns,\n      TitleCard: /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(ModalLevelVideoCourse, {\n          typeOfModal: \"add\",\n          onFetchData: () => {\n            setFilters(_objectSpread({}, filters));\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 7\n        }, this)\n      }, void 0, false),\n      Extra: /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"Danh s\\xE1ch c\\u1EA5p \\u0111\\u1ED9 video\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 12\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 4\n    }, this)\n  }, void 0, false);\n};\n\nConfigLevelVideoCourse.layout = LayoutBase;\nexport default ConfigLevelVideoCourse;","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/pages/config-level-video-course/index.tsx"],"names":["moment","React","useState","useEffect","LayoutBase","PowerTable","useWrap","DeleteTableRow","VideoCourseLevelApi","ModalLevelVideoCourse","ConfigLevelVideoCourse","props","isLoading","setIsLoading","type","status","totalPage","setTotalPage","dataSource","setDataSource","showNoti","pageSize","filters","setFilters","pageIndex","getPagination","columns","title","width","dataIndex","render","date","format","text","data","handleDeleteTypeOfVideo","res","add","ID","LevelName","Enable","getAllType","error","getAll","totalRow","layout"],"mappings":"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","sourcesContent":["import moment from 'moment'\r\nimport React, { useState, useEffect } from 'react'\r\nimport { IVideoCategoryLevel } from '~/apiBase/types/video-category-level/video-category-level'\r\nimport { VideoCourseCategoryApi } from '~/apiBase/video-course-store/category'\r\nimport LayoutBase from '~/components/LayoutBase'\r\nimport PowerTable from '~/components/PowerTable'\r\nimport { useWrap } from '~/context/wrap'\r\nimport DeleteTableRow from '~/components/Elements/DeleteTableRow/DeleteTableRow'\r\nimport ModalTypeVideoCourse from '~/components/VideoCourse/ModalTypeVideoCourse'\r\nimport { VideoCourseLevelApi } from '~/apiBase/video-course-store/level'\r\nimport ModalLevelVideoCourse from '~/components/VideoCourse/ModalLevelVideo'\r\n\r\nexport interface IConfigLevelVideoCourseProps {}\r\n\r\nconst ConfigLevelVideoCourse = (props: IConfigLevelVideoCourseProps) => {\r\n\tconst [isLoading, setIsLoading] = useState({\r\n\t\ttype: '',\r\n\t\tstatus: false\r\n\t})\r\n\tconst [totalPage, setTotalPage] = useState(null)\r\n\tconst [dataSource, setDataSource] = useState<IVideoCategoryLevel[]>()\r\n\tconst { showNoti, pageSize } = useWrap()\r\n\r\n\tconst [filters, setFilters] = useState({\r\n\t\tpageSize: pageSize,\r\n\t\tpageIndex: 1\r\n\t})\r\n\r\n\t// PAGINATION\r\n\tconst getPagination = (pageIndex: number) => {\r\n\t\tsetFilters({\r\n\t\t\t...filters,\r\n\t\t\tpageIndex\r\n\t\t})\r\n\t}\r\n\r\n\tconst columns = [\r\n\t\t{ title: 'ID', width: 100, dataIndex: 'ID' },\r\n\t\t{ title: 'Cấp độ', width: 150, dataIndex: 'LevelName' },\r\n\t\t{ title: 'Người tạo', width: 150, dataIndex: 'CreatedBy' },\r\n\t\t{ title: 'Ngày tạo', width: 150, dataIndex: 'CreatedOn', render: (date) => <span>{moment(date).format('DD-MM-YYYY')}</span> },\r\n\t\t{\r\n\t\t\ttitle: '',\r\n\t\t\twidth: 100,\r\n\t\t\tdataIndex: 'Action',\r\n\t\t\trender: (text, data) => (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<ModalLevelVideoCourse\r\n\t\t\t\t\t\ttypeOfModal=\"adit\"\r\n\t\t\t\t\t\tonFetchData={() => {\r\n\t\t\t\t\t\t\tsetFilters({ ...filters })\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tdataItem={data}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<DeleteTableRow text=\"cấp độ video này\" title=\"Xóa cấp độ video\" handleDelete={() => handleDeleteTypeOfVideo(data)} />\r\n\t\t\t\t</>\r\n\t\t\t)\r\n\t\t}\r\n\t]\r\n\r\n\tconst handleDeleteTypeOfVideo = async (data) => {\r\n\t\ttry {\r\n\t\t\tlet res = await VideoCourseLevelApi.add({ ID: data.ID, LevelName: data.LevelName, Enable: false })\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tshowNoti('success', 'Xóa thành công!')\r\n\t\t\t\tgetAllType()\r\n\t\t\t}\r\n\t\t} catch (error) {}\r\n\t}\r\n\r\n\tconst getAllType = async () => {\r\n\t\tsetIsLoading({ type: 'GET_ALL', status: true })\r\n\t\ttry {\r\n\t\t\tlet res = await VideoCourseLevelApi.getAll({ pageSize: pageSize, pageIndex: 1 })\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tsetDataSource(res.data.data)\r\n\t\t\t\tsetTotalPage(res.data.totalRow)\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({ type: 'GET_ALL', status: false })\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tgetAllType()\r\n\t}, [filters])\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<PowerTable\r\n\t\t\t\tloading={isLoading}\r\n\t\t\t\ttotalPage={totalPage}\r\n\t\t\t\tdataSource={dataSource}\r\n\t\t\t\tgetPagination={getPagination}\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tTitleCard={\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<ModalLevelVideoCourse\r\n\t\t\t\t\t\t\ttypeOfModal=\"add\"\r\n\t\t\t\t\t\t\tonFetchData={() => {\r\n\t\t\t\t\t\t\t\tsetFilters({ ...filters })\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t}\r\n\t\t\t\tExtra={<h5>Danh sách cấp độ video</h5>}\r\n\t\t\t/>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nConfigLevelVideoCourse.layout = LayoutBase\r\nexport default ConfigLevelVideoCourse\r\n"]},"metadata":{},"sourceType":"module"}