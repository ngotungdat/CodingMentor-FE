{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Global\\\\Package\\\\PackageStore\\\\PackageStore.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { Card, Image, List } from 'antd';\nimport { useRouter } from 'next/router';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { packageApi, packageStudentApi } from '~/apiBase';\nimport SortBox from '~/components/Elements/SortBox';\nimport TitlePage from '~/components/Elements/TitlePage';\nimport { useWrap } from '~/context/wrap';\nimport { numberWithCommas } from '~/utils/functions';\nimport PackageStoreFilterForm from './PackageStoreFilterForm/PackageStoreFilterForm';\nimport PackageStoreForm from './PackageStoreForm/PackageStoreForm';\n\nvar PackageStore = function PackageStore() {\n  _s();\n\n  var router = useRouter();\n  var type = router.query.type;\n\n  var _useState = useState({\n    type: '',\n    status: false\n  }),\n      isLoading = _useState[0],\n      setIsLoading = _useState[1];\n\n  var _useState2 = useState([]),\n      storePackageList = _useState2[0],\n      setStorePackageList = _useState2[1];\n\n  var _useState3 = useState(null),\n      totalPage = _useState3[0],\n      setTotalPage = _useState3[1];\n\n  var _useWrap = useWrap(),\n      showNoti = _useWrap.showNoti,\n      userInformation = _useWrap.userInformation; // FILTER\n\n\n  var listFieldInit = {\n    pageIndex: 1,\n    pageSize: 10,\n    sort: -1,\n    sortType: false,\n    TeacherID: null,\n    Type: null,\n    Level: null,\n    fromDate: '',\n    toDate: ''\n  };\n  var refValue = useRef({\n    pageIndex: 1,\n    pageSize: 10,\n    sort: -1,\n    sortType: false\n  });\n\n  var _useState4 = useState(listFieldInit),\n      filters = _useState4[0],\n      setFilters = _useState4[1];\n\n  var typeOptionList = [{\n    value: 1,\n    title: 'Miễn phí'\n  }, {\n    value: 2,\n    title: 'Cao cấp'\n  }];\n  var levelOptionList = [{\n    value: 1,\n    title: 'HSK 1'\n  }, {\n    value: 2,\n    title: 'HSK 2'\n  }, {\n    value: 3,\n    title: 'HSK 3'\n  }, {\n    value: 4,\n    title: 'HSK 4'\n  }, {\n    value: 5,\n    title: 'HSK 5'\n  }, {\n    value: 6,\n    title: 'HSK 6'\n  }]; // SORT OPTION\n\n  var sortOptionList = [{\n    dataSort: {\n      sort: 0,\n      sortType: true\n    },\n    value: 1,\n    text: 'Level tăng dần'\n  }, {\n    dataSort: {\n      sort: 0,\n      sortType: false\n    },\n    value: 2,\n    text: 'Level giảm dần'\n  }, {\n    dataSort: {\n      sort: 1,\n      sortType: true\n    },\n    value: 3,\n    text: 'Giá tăng dần'\n  }, {\n    dataSort: {\n      sort: 1,\n      sortType: false\n    },\n    value: 4,\n    text: 'Giá giảm dần'\n  }]; // FILTER\n\n  var onFilter = function onFilter(obj) {\n    setFilters(_objectSpread(_objectSpread(_objectSpread({}, listFieldInit), refValue.current), {}, {\n      pageIndex: 1\n    }, obj));\n  }; // PAGINATION\n\n\n  var getPagination = function getPagination(pageIndex, pageSize) {\n    if (!pageSize) pageSize = 10;\n    refValue.current = _objectSpread(_objectSpread({}, refValue.current), {}, {\n      pageSize: pageSize,\n      pageIndex: pageIndex\n    });\n    setFilters(_objectSpread(_objectSpread({}, filters), refValue.current));\n  }; // SORT\n\n\n  var onSort = function onSort(option) {\n    refValue.current = _objectSpread(_objectSpread({}, refValue.current), {}, {\n      sort: option.title.sort,\n      sortType: option.title.sortType\n    });\n    setFilters(_objectSpread(_objectSpread({}, listFieldInit), refValue.current));\n  }; // RESET SEARCH\n\n\n  var onResetSearch = function onResetSearch() {\n    setFilters(_objectSpread(_objectSpread({}, listFieldInit), {}, {\n      pageSize: refValue.current.pageSize\n    }));\n  }; // GET DATA IN FIRST TIME\n\n\n  var fetchPackageList = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setIsLoading({\n                type: 'GET_ALL',\n                status: true\n              });\n              _context.prev = 1;\n              _context.next = 4;\n              return packageApi.getAll(filters);\n\n            case 4:\n              res = _context.sent;\n\n              if (res.status === 200) {\n                setStorePackageList(res.data.data);\n                setTotalPage(res.data.totalRow);\n              }\n\n              if (res.status === 204) {\n                setStorePackageList([]);\n                setTotalPage(0);\n                showNoti('danger', 'Cửa hàng trống');\n              }\n\n              _context.next = 12;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](1);\n              showNoti('danger', _context.t0.message);\n\n            case 12:\n              _context.prev = 12;\n              setIsLoading({\n                type: 'GET_ALL',\n                status: false\n              });\n              return _context.finish(12);\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 9, 12, 15]]);\n    }));\n\n    return function fetchPackageList() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    fetchPackageList();\n  }, [filters]);\n  useEffect(function () {\n    if (type) {\n      setFilters(_objectSpread(_objectSpread(_objectSpread({}, listFieldInit), refValue.current), {}, {\n        pageIndex: 1,\n        Type: type\n      }));\n    }\n  }, [type]);\n\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(data) {\n      var ID, Price, PaymentMethodsID, Note, newPackageStudent, res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setIsLoading({\n                type: 'ADD_DATA',\n                status: true\n              });\n              _context2.prev = 1;\n              ID = data.ID, Price = data.Price, PaymentMethodsID = data.PaymentMethodsID, Note = data.Note;\n              newPackageStudent = {\n                StudentID: userInformation.UserInformationID,\n                SetPackageID: ID,\n                Paid: Price === 'Miễn phí' ? 0 : parseInt(Price.toString().replace(/\\D/g, '')),\n                PaymentMethodsID: PaymentMethodsID,\n                Note: Note\n              };\n              _context2.next = 6;\n              return packageStudentApi.add(newPackageStudent);\n\n            case 6:\n              res = _context2.sent;\n\n              if (!(res.status === 200)) {\n                _context2.next = 13;\n                break;\n              }\n\n              showNoti('success', res.data.message);\n\n              if (!(storePackageList.length === 1)) {\n                _context2.next = 12;\n                break;\n              }\n\n              filters.pageIndex === 1 && setStorePackageList([]);\n              return _context2.abrupt(\"return\");\n\n            case 12:\n              fetchPackageList();\n\n            case 13:\n              return _context2.abrupt(\"return\", res);\n\n            case 16:\n              _context2.prev = 16;\n              _context2.t0 = _context2[\"catch\"](1);\n              showNoti('danger', _context2.t0.message);\n\n            case 19:\n              _context2.prev = 19;\n              setIsLoading({\n                type: 'ADD_DATA',\n                status: false\n              });\n              return _context2.finish(19);\n\n            case 22:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[1, 16, 19, 22]]);\n    }));\n\n    return function onSubmit(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row package-set package-detail-list\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-12\",\n      children: [/*#__PURE__*/_jsxDEV(TitlePage, {\n        title: \"C\\u1EEDa h\\xE0ng\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 5\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrap-table\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"package-set-wrap\",\n          title: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"extra-table\",\n            children: [/*#__PURE__*/_jsxDEV(PackageStoreFilterForm, {\n              handleFilter: onFilter,\n              handleResetFilter: onResetSearch,\n              optionListForFilter: {\n                levelOptionList: levelOptionList,\n                typeOptionList: typeOptionList\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 9\n            }, _this), /*#__PURE__*/_jsxDEV(SortBox, {\n              width: 150,\n              dataOption: sortOptionList,\n              handleSort: onSort\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 9\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 8\n          }, _this),\n          children: /*#__PURE__*/_jsxDEV(List, {\n            loading: (isLoading === null || isLoading === void 0 ? void 0 : isLoading.type) === 'GET_ALL' && (isLoading === null || isLoading === void 0 ? void 0 : isLoading.status),\n            pagination: {\n              onChange: getPagination,\n              total: totalPage,\n              size: 'small',\n              current: filters.pageIndex\n            },\n            itemLayout: \"horizontal\",\n            dataSource: storePackageList,\n            renderItem: function renderItem(item, idx) {\n              var ID = item.ID,\n                  Name = item.Name,\n                  Avatar = item.Avatar,\n                  Level = item.Level,\n                  Type = item.Type,\n                  TypeName = item.TypeName,\n                  Price = item.Price,\n                  Description = item.Description;\n              return /*#__PURE__*/_jsxDEV(List.Item, {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"wrap-set d-flex\",\n                  children: [Type === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"tag-free\",\n                    children: TypeName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 263,\n                    columnNumber: 27\n                  }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"wrap-set-avatar\",\n                    children: /*#__PURE__*/_jsxDEV(Image, {\n                      width: \"100%\",\n                      height: \"100%\",\n                      src: Avatar,\n                      title: \"\\u1EA2nh b\\xECa b\\u1ED9 \\u0111\\u1EC1\",\n                      alt: \"\\u1EA2nh b\\xECa b\\u1ED9 \\u0111\\u1EC1\",\n                      style: {\n                        objectFit: 'cover'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 265,\n                      columnNumber: 13\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 264,\n                    columnNumber: 12\n                  }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"wrap-set-content\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                      className: \"set-title\",\n                      children: Name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 275,\n                      columnNumber: 13\n                    }, _this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                      className: \"set-list\",\n                      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                        children: [\"Level:\", /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: [\"HSK \", Level]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 278,\n                          columnNumber: 21\n                        }, _this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 277,\n                        columnNumber: 14\n                      }, _this), /*#__PURE__*/_jsxDEV(\"li\", {\n                        className: \"price\",\n                        children: [\"Gi\\xE1:\", /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: [numberWithCommas(Price), \" VN\\u0110\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 281,\n                          columnNumber: 19\n                        }, _this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 280,\n                        columnNumber: 14\n                      }, _this), /*#__PURE__*/_jsxDEV(\"li\", {\n                        className: \"desc\",\n                        children: [\"M\\xF4 t\\u1EA3:\", /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: Description\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 284,\n                          columnNumber: 21\n                        }, _this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 283,\n                        columnNumber: 14\n                      }, _this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 276,\n                      columnNumber: 13\n                    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"set-btn\",\n                      children: (userInformation === null || userInformation === void 0 ? void 0 : userInformation.RoleID) !== 1 && (userInformation === null || userInformation === void 0 ? void 0 : userInformation.RoleID) !== 5 && (Type === 1 ? /*#__PURE__*/_jsxDEV(PackageStoreForm, {\n                        isAddPackageFree: true,\n                        isLoading: isLoading,\n                        packageItem: item,\n                        handleSubmit: onSubmit\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 291,\n                        columnNumber: 16\n                      }, _this) : /*#__PURE__*/_jsxDEV(PackageStoreForm, {\n                        isLoading: isLoading,\n                        packageItem: item,\n                        handleSubmit: onSubmit\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 293,\n                        columnNumber: 16\n                      }, _this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 287,\n                      columnNumber: 13\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 274,\n                    columnNumber: 12\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 11\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 10\n              }, _this);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 7\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 6\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 5\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 4\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 228,\n    columnNumber: 3\n  }, _this);\n};\n\n_s(PackageStore, \"6KrwM9J15bycG5791A5v5e7R8uU=\", false, function () {\n  return [useRouter, useWrap];\n});\n\n_c = PackageStore;\nexport default PackageStore;\n\nvar _c;\n\n$RefreshReg$(_c, \"PackageStore\");","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Global/Package/PackageStore/PackageStore.tsx"],"names":["Card","Image","List","useRouter","React","useEffect","useRef","useState","packageApi","packageStudentApi","SortBox","TitlePage","useWrap","numberWithCommas","PackageStoreFilterForm","PackageStoreForm","PackageStore","router","type","query","status","isLoading","setIsLoading","storePackageList","setStorePackageList","totalPage","setTotalPage","showNoti","userInformation","listFieldInit","pageIndex","pageSize","sort","sortType","TeacherID","Type","Level","fromDate","toDate","refValue","filters","setFilters","typeOptionList","value","title","levelOptionList","sortOptionList","dataSort","text","onFilter","obj","current","getPagination","onSort","option","onResetSearch","fetchPackageList","getAll","res","data","totalRow","message","onSubmit","ID","Price","PaymentMethodsID","Note","newPackageStudent","StudentID","UserInformationID","SetPackageID","Paid","parseInt","toString","replace","add","length","onChange","total","size","item","idx","Name","Avatar","TypeName","Description","objectFit","RoleID"],"mappings":"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","sourcesContent":["import { Card, Image, List } from 'antd'\r\nimport { useRouter } from 'next/router'\r\nimport React, { useEffect, useRef, useState } from 'react'\r\nimport { packageApi, packageStudentApi } from '~/apiBase'\r\nimport SortBox from '~/components/Elements/SortBox'\r\nimport TitlePage from '~/components/Elements/TitlePage'\r\nimport { useWrap } from '~/context/wrap'\r\nimport { numberWithCommas } from '~/utils/functions'\r\nimport PackageStoreFilterForm from './PackageStoreFilterForm/PackageStoreFilterForm'\r\nimport PackageStoreForm from './PackageStoreForm/PackageStoreForm'\r\n\r\nconst PackageStore = () => {\r\n\tconst router = useRouter()\r\n\tconst { type } = router.query\r\n\tconst [isLoading, setIsLoading] = useState({ type: '', status: false })\r\n\tconst [storePackageList, setStorePackageList] = useState<IPackage[]>([])\r\n\tconst [totalPage, setTotalPage] = useState(null)\r\n\tconst { showNoti, userInformation } = useWrap()\r\n\t// FILTER\r\n\tconst listFieldInit = {\r\n\t\tpageIndex: 1,\r\n\t\tpageSize: 10,\r\n\t\tsort: -1,\r\n\t\tsortType: false,\r\n\r\n\t\tTeacherID: null,\r\n\t\tType: null,\r\n\t\tLevel: null,\r\n\t\tfromDate: '',\r\n\t\ttoDate: ''\r\n\t}\r\n\tlet refValue = useRef({\r\n\t\tpageIndex: 1,\r\n\t\tpageSize: 10,\r\n\t\tsort: -1,\r\n\t\tsortType: false\r\n\t})\r\n\tconst [filters, setFilters] = useState(listFieldInit)\r\n\tconst typeOptionList = [\r\n\t\t{\r\n\t\t\tvalue: 1,\r\n\t\t\ttitle: 'Miễn phí'\r\n\t\t},\r\n\t\t{\r\n\t\t\tvalue: 2,\r\n\t\t\ttitle: 'Cao cấp'\r\n\t\t}\r\n\t]\r\n\tconst levelOptionList = [\r\n\t\t{\r\n\t\t\tvalue: 1,\r\n\t\t\ttitle: 'HSK 1'\r\n\t\t},\r\n\t\t{\r\n\t\t\tvalue: 2,\r\n\t\t\ttitle: 'HSK 2'\r\n\t\t},\r\n\t\t{\r\n\t\t\tvalue: 3,\r\n\t\t\ttitle: 'HSK 3'\r\n\t\t},\r\n\t\t{\r\n\t\t\tvalue: 4,\r\n\t\t\ttitle: 'HSK 4'\r\n\t\t},\r\n\t\t{\r\n\t\t\tvalue: 5,\r\n\t\t\ttitle: 'HSK 5'\r\n\t\t},\r\n\t\t{\r\n\t\t\tvalue: 6,\r\n\t\t\ttitle: 'HSK 6'\r\n\t\t}\r\n\t]\r\n\t// SORT OPTION\r\n\tconst sortOptionList = [\r\n\t\t{\r\n\t\t\tdataSort: {\r\n\t\t\t\tsort: 0,\r\n\t\t\t\tsortType: true\r\n\t\t\t},\r\n\t\t\tvalue: 1,\r\n\t\t\ttext: 'Level tăng dần'\r\n\t\t},\r\n\t\t{\r\n\t\t\tdataSort: {\r\n\t\t\t\tsort: 0,\r\n\t\t\t\tsortType: false\r\n\t\t\t},\r\n\t\t\tvalue: 2,\r\n\t\t\ttext: 'Level giảm dần'\r\n\t\t},\r\n\t\t{\r\n\t\t\tdataSort: {\r\n\t\t\t\tsort: 1,\r\n\t\t\t\tsortType: true\r\n\t\t\t},\r\n\t\t\tvalue: 3,\r\n\t\t\ttext: 'Giá tăng dần'\r\n\t\t},\r\n\t\t{\r\n\t\t\tdataSort: {\r\n\t\t\t\tsort: 1,\r\n\t\t\t\tsortType: false\r\n\t\t\t},\r\n\t\t\tvalue: 4,\r\n\t\t\ttext: 'Giá giảm dần'\r\n\t\t}\r\n\t]\r\n\t// FILTER\r\n\tconst onFilter = (obj) => {\r\n\t\tsetFilters({\r\n\t\t\t...listFieldInit,\r\n\t\t\t...refValue.current,\r\n\t\t\tpageIndex: 1,\r\n\t\t\t...obj\r\n\t\t})\r\n\t}\r\n\t// PAGINATION\r\n\tconst getPagination = (pageIndex: number, pageSize: number) => {\r\n\t\tif (!pageSize) pageSize = 10\r\n\t\trefValue.current = {\r\n\t\t\t...refValue.current,\r\n\t\t\tpageSize,\r\n\t\t\tpageIndex\r\n\t\t}\r\n\t\tsetFilters({\r\n\t\t\t...filters,\r\n\t\t\t...refValue.current\r\n\t\t})\r\n\t}\r\n\t// SORT\r\n\tconst onSort = (option) => {\r\n\t\trefValue.current = {\r\n\t\t\t...refValue.current,\r\n\t\t\tsort: option.title.sort,\r\n\t\t\tsortType: option.title.sortType\r\n\t\t}\r\n\t\tsetFilters({\r\n\t\t\t...listFieldInit,\r\n\t\t\t...refValue.current\r\n\t\t})\r\n\t}\r\n\t// RESET SEARCH\r\n\tconst onResetSearch = () => {\r\n\t\tsetFilters({\r\n\t\t\t...listFieldInit,\r\n\t\t\tpageSize: refValue.current.pageSize\r\n\t\t})\r\n\t}\r\n\t// GET DATA IN FIRST TIME\r\n\tconst fetchPackageList = async () => {\r\n\t\tsetIsLoading({\r\n\t\t\ttype: 'GET_ALL',\r\n\t\t\tstatus: true\r\n\t\t})\r\n\t\ttry {\r\n\t\t\tconst res = await packageApi.getAll(filters)\r\n\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tsetStorePackageList(res.data.data)\r\n\t\t\t\tsetTotalPage(res.data.totalRow)\r\n\t\t\t}\r\n\t\t\tif (res.status === 204) {\r\n\t\t\t\tsetStorePackageList([])\r\n\t\t\t\tsetTotalPage(0)\r\n\t\t\t\tshowNoti('danger', 'Cửa hàng trống')\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({\r\n\t\t\t\ttype: 'GET_ALL',\r\n\t\t\t\tstatus: false\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchPackageList()\r\n\t}, [filters])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (type) {\r\n\t\t\tsetFilters({\r\n\t\t\t\t...listFieldInit,\r\n\t\t\t\t...refValue.current,\r\n\t\t\t\tpageIndex: 1,\r\n\t\t\t\tType: type\r\n\t\t\t})\r\n\t\t}\r\n\t}, [type])\r\n\r\n\tconst onSubmit = async (data: { ID: number; Price: string; PaymentMethodsID: number; Note: string }) => {\r\n\t\tsetIsLoading({\r\n\t\t\ttype: 'ADD_DATA',\r\n\t\t\tstatus: true\r\n\t\t})\r\n\t\ttry {\r\n\t\t\tconst { ID, Price, PaymentMethodsID, Note } = data\r\n\t\t\tconst newPackageStudent = {\r\n\t\t\t\tStudentID: userInformation.UserInformationID,\r\n\t\t\t\tSetPackageID: ID,\r\n\t\t\t\tPaid: Price === 'Miễn phí' ? 0 : parseInt(Price.toString().replace(/\\D/g, '')),\r\n\t\t\t\tPaymentMethodsID,\r\n\t\t\t\tNote\r\n\t\t\t}\r\n\t\t\tconst res = await packageStudentApi.add(newPackageStudent)\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tshowNoti('success', res.data.message)\r\n\t\t\t\tif (storePackageList.length === 1) {\r\n\t\t\t\t\tfilters.pageIndex === 1 && setStorePackageList([])\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tfetchPackageList()\r\n\t\t\t}\r\n\t\t\treturn res\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({\r\n\t\t\t\ttype: 'ADD_DATA',\r\n\t\t\t\tstatus: false\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\treturn (\r\n\t\t<div className=\"row package-set package-detail-list\">\r\n\t\t\t<div className=\"col-12\">\r\n\t\t\t\t<TitlePage title=\"Cửa hàng\" />\r\n\t\t\t\t<div className=\"wrap-table\">\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\tclassName=\"package-set-wrap\"\r\n\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t<div className=\"extra-table\">\r\n\t\t\t\t\t\t\t\t<PackageStoreFilterForm\r\n\t\t\t\t\t\t\t\t\thandleFilter={onFilter}\r\n\t\t\t\t\t\t\t\t\thandleResetFilter={onResetSearch}\r\n\t\t\t\t\t\t\t\t\toptionListForFilter={{\r\n\t\t\t\t\t\t\t\t\t\tlevelOptionList: levelOptionList,\r\n\t\t\t\t\t\t\t\t\t\ttypeOptionList: typeOptionList\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<SortBox width={150} dataOption={sortOptionList} handleSort={onSort} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<List\r\n\t\t\t\t\t\t\tloading={isLoading?.type === 'GET_ALL' && isLoading?.status}\r\n\t\t\t\t\t\t\tpagination={{\r\n\t\t\t\t\t\t\t\tonChange: getPagination,\r\n\t\t\t\t\t\t\t\ttotal: totalPage,\r\n\t\t\t\t\t\t\t\tsize: 'small',\r\n\t\t\t\t\t\t\t\tcurrent: filters.pageIndex\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\titemLayout=\"horizontal\"\r\n\t\t\t\t\t\t\tdataSource={storePackageList}\r\n\t\t\t\t\t\t\trenderItem={(item: IPackage, idx) => {\r\n\t\t\t\t\t\t\t\tconst { ID, Name, Avatar, Level, Type, TypeName, Price, Description } = item\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<List.Item>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"wrap-set d-flex\">\r\n\t\t\t\t\t\t\t\t\t\t\t{Type === 1 && <div className=\"tag-free\">{TypeName}</div>}\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"wrap-set-avatar\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Image\r\n\t\t\t\t\t\t\t\t\t\t\t\t\twidth=\"100%\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\theight=\"100%\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={Avatar}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle=\"Ảnh bìa bộ đề\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"Ảnh bìa bộ đề\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ objectFit: 'cover' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"wrap-set-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"set-title\">{Name}</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ul className=\"set-list\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tLevel:<span>HSK {Level}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<li className=\"price\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tGiá:<span>{numberWithCommas(Price)} VNĐ</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<li className=\"desc\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tMô tả:<span>{Description}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"set-btn\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{userInformation?.RoleID !== 1 &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuserInformation?.RoleID !== 5 &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(Type === 1 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PackageStoreForm isAddPackageFree={true} isLoading={isLoading} packageItem={item} handleSubmit={onSubmit} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PackageStoreForm isLoading={isLoading} packageItem={item} handleSubmit={onSubmit} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</List.Item>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default PackageStore\r\n"]},"metadata":{},"sourceType":"module"}