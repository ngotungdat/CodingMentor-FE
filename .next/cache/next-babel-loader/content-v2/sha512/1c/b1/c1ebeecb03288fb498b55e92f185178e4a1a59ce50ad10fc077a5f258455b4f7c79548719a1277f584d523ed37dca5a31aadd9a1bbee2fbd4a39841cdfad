{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _toConsumableArray from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _defineProperty from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectDestructuringEmpty from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Global\\\\Package\\\\PackageResultDetail\\\\PackageResultStudentDetail.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { ProfileOutlined, RedoOutlined } from '@ant-design/icons';\nimport { faFileVideo } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Card, Skeleton, Spin } from 'antd';\nimport Link from 'next/link';\nimport router from 'next/router';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Bookmark } from 'react-feather';\nimport ReactHtmlParser from 'react-html-parser';\nimport { doingTestApi } from '~/apiBase';\nimport { packageResultDetailApi } from '~/apiBase/package/package-result-detail';\nimport { VideoCourseStoreApi } from '~/apiBase/video-course-store';\nimport TitlePage from '~/components/Elements/TitlePage';\nimport ListQuestion from '~/components/Global/DoingTest/ListQuestion';\nimport { useDoneTest } from '~/context/useDoneTest';\nimport { useWrap } from '~/context/wrap';\nimport MainTest from '../../DoingTest/MainTest';\nimport TopPackageNewsFeed from '../../NewsFeed/TopPackageNewsFeed';\nvar listTodoApi = {\n  pageSize: 6,\n  pageIndex: 1,\n  search: null,\n  categoryId: null,\n  levelId: null,\n  fromDate: null,\n  toDate: null\n};\n\nvar PackageResultStudentDetail = function PackageResultStudentDetail() {\n  _s();\n\n  var _useDoneTest = useDoneTest();\n\n  _objectDestructuringEmpty(_useDoneTest);\n\n  var _router$query = router.query,\n      teacherMarking = _router$query.teacherMarking,\n      score = _router$query.score;\n\n  var _useDoneTest2 = useDoneTest(),\n      getDoneTestData = _useDoneTest2.getDoneTestData,\n      doneTestData = _useDoneTest2.doneTestData,\n      dataMarking = _useDoneTest2.dataMarking,\n      getDataMarking = _useDoneTest2.getDataMarking;\n\n  var _useState = useState([]),\n      detailResult = _useState[0],\n      setDetailResult = _useState[1];\n\n  var _useState2 = useState(false),\n      visibleNofi = _useState2[0],\n      setVisibleNofi = _useState2[1];\n\n  var boxEl = useRef(null);\n  var paramsDefault = {\n    pageSize: 999,\n    pageIndex: 1,\n    SetPackageResultID: parseInt(router.query.slug),\n    ExerciseType: teacherMarking ? 2 : null\n  };\n\n  var _useState3 = useState(paramsDefault),\n      params = _useState3[0],\n      setParams = _useState3[1];\n\n  var _useState4 = useState(false),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var _useState5 = useState([]),\n      listQuestionID = _useState5[0],\n      setListQuestionID = _useState5[1]; // Lấy tất cả ID đã có\n\n\n  var _useState6 = useState([]),\n      listGroupID = _useState6[0],\n      setListGroupID = _useState6[1]; // Lấy tất cả group ID đã có\n\n\n  var _useState7 = useState(false),\n      showMainTest = _useState7[0],\n      setShowMainTest = _useState7[1];\n\n  var _useWrap = useWrap(),\n      showNoti = _useWrap.showNoti,\n      userInformation = _useWrap.userInformation;\n\n  var _useState8 = useState(false),\n      isShowAll = _useState8[0],\n      setIsShowAll = _useState8[1];\n\n  var _useState9 = useState(false),\n      isMarked = _useState9[0],\n      setIsMarked = _useState9[1];\n\n  var _useState10 = useState(false),\n      showNote = _useState10[0],\n      setShowNote = _useState10[1];\n\n  var _useState11 = useState(null),\n      infoTest = _useState11[0],\n      setInfoTest = _useState11[1];\n\n  var _useState12 = useState(false),\n      loadingInfoTest = _useState12[0],\n      setLoadingInfoTest = _useState12[1];\n\n  var _useState13 = useState([]),\n      courses = _useState13[0],\n      setCourse = _useState13[1]; // ---- Get Router ----\n\n\n  var _router$query2 = router.query,\n      packageDetailID = _router$query2.packageDetailID,\n      examID = _router$query2.examID;\n  var SetPackageResultID = router.query.slug;\n  useEffect(function () {\n    !!infoTest && getVideoCourse();\n  }, [infoTest]);\n\n  var getInfoTest = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res, dataInfo, totalQuestion;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoadingInfoTest(true);\n              _context.prev = 1;\n              _context.next = 4;\n              return doingTestApi.getByID(SetPackageResultID);\n\n            case 4:\n              res = _context.sent;\n\n              if (res.status === 200) {\n                dataInfo = _objectSpread({}, res.data.data);\n                totalQuestion = dataInfo.ListeningNumber + dataInfo.ReadingNumber;\n                setInfoTest(_objectSpread(_objectSpread({}, res.data.data), {}, {\n                  TotalQuestion: totalQuestion\n                }));\n              }\n\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](1);\n              console.log('error', _context.t0.message);\n\n            case 11:\n              _context.prev = 11;\n              setLoadingInfoTest(false);\n              return _context.finish(11);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 8, 11, 14]]);\n    }));\n\n    return function getInfoTest() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var getVideoCourse = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setLoading(true);\n              _context2.prev = 1;\n              _context2.next = 4;\n              return VideoCourseStoreApi.getByPoint((infoTest === null || infoTest === void 0 ? void 0 : infoTest.PointTotal) < 1 ? 1 : infoTest === null || infoTest === void 0 ? void 0 : infoTest.PointTotal);\n\n            case 4:\n              res = _context2.sent;\n              res.status == 200 && setCourse(res.data.data);\n              setLoading(false);\n              _context2.next = 11;\n              break;\n\n            case 9:\n              _context2.prev = 9;\n              _context2.t0 = _context2[\"catch\"](1);\n\n            case 11:\n              _context2.prev = 11;\n              setLoading(false);\n              return _context2.finish(11);\n\n            case 14:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[1, 9, 11, 14]]);\n    }));\n\n    return function getVideoCourse() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var getDataSetPackageResult = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var cloneListQuestionID, cloneListGroupID, res, newDataMarking;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              cloneListQuestionID = _toConsumableArray(listQuestionID);\n              cloneListGroupID = _toConsumableArray(listGroupID);\n              setLoading(true);\n              _context3.prev = 3;\n              _context3.next = 6;\n              return packageResultDetailApi.getAll(params);\n\n            case 6:\n              res = _context3.sent;\n\n              if (res.status == 200) {\n                convertDataDoneTest(res.data.data);\n                setIsMarked(res.data.isDone); // Add to data marking if have teacher marking\n\n                if (teacherMarking) {\n                  if (!dataMarking) {\n                    newDataMarking = {\n                      SetPackageResultID: parseInt(router.query.slug),\n                      Note: '',\n                      setPackageExerciseStudentsList: []\n                    };\n                    res.data.data.forEach(function (item) {\n                      if (item.ExerciseType == 2) {\n                        item.SetPackageExerciseStudent.forEach(function (ques) {\n                          newDataMarking.setPackageExerciseStudentsList.push({\n                            ID: ques.ID,\n                            Point: 0\n                          });\n                        });\n                      }\n                    });\n                    getDataMarking(_objectSpread({}, newDataMarking));\n                  }\n                } // Add questionid to list\n\n\n                res.data.data.forEach(function (item, index) {\n                  if (item.Enable) {\n                    item.ExerciseGroupID !== 0 && cloneListGroupID.push(item.ExerciseGroupID);\n                    item.SetPackageExerciseStudent.forEach(function (ques) {\n                      cloneListQuestionID.push(ques.ExerciseID);\n                    });\n                  }\n                });\n                getDoneTestData(res.data.data);\n                setListGroupID(_toConsumableArray(cloneListGroupID));\n                setListQuestionID(_toConsumableArray(cloneListQuestionID));\n              }\n\n              if (res.status == 204) {\n                showNoti('danger', 'Không tìm thấy dữ liệu!');\n              }\n\n              _context3.next = 14;\n              break;\n\n            case 11:\n              _context3.prev = 11;\n              _context3.t0 = _context3[\"catch\"](3);\n              showNoti('danger', _context3.t0.message);\n\n            case 14:\n              _context3.prev = 14;\n              setLoading(false);\n              return _context3.finish(14);\n\n            case 17:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[3, 11, 14, 17]]);\n    }));\n\n    return function getDataSetPackageResult() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var convertDataDoneTest = function convertDataDoneTest(data) {\n    var cloneData = _toConsumableArray(data);\n\n    cloneData.forEach(function (item) {\n      item.ExerciseTopic = _toConsumableArray(item.SetPackageExerciseStudent);\n      item.ExerciseTopic.forEach(function (ques) {\n        ques.ExerciseAnswer = _toConsumableArray(ques.SetPackageExerciseAnswerStudent);\n      });\n    });\n    setDetailResult(_toConsumableArray(cloneData));\n  };\n\n  var returnSpaceQuestion = function returnSpaceQuestion(data) {\n    var indexStart = listQuestionID.indexOf(data[0].ExerciseID);\n    var indexEnd = listQuestionID.indexOf(data[data.length - 1].ExerciseID);\n    var text = '';\n\n    if (indexStart === indexEnd) {\n      text = 'Câu ' + (indexStart + 1).toString();\n    } else {\n      text = 'Câu ' + (indexStart + 1).toString() + ' - ' + (indexEnd + 1).toString();\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"space-question\",\n      children: text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 10\n    }, _this);\n  };\n\n  var showWritingQuestion = function showWritingQuestion() {\n    if (isShowAll) {\n      setParams(_objectSpread(_objectSpread({}, paramsDefault), {}, {\n        ExerciseType: 2\n      }));\n    } else {\n      setParams(_objectSpread(_objectSpread({}, paramsDefault), {}, {\n        ExerciseType: null\n      }));\n    }\n\n    setIsShowAll(!isShowAll);\n  };\n\n  useEffect(function () {\n    getDataSetPackageResult();\n  }, [params]);\n  useEffect(function () {\n    if (dataMarking && !showNote) {\n      if (dataMarking.setPackageExerciseStudentsList.length > 0) {\n        dataMarking.setPackageExerciseStudentsList.every(function (item) {\n          if (item.Point) {\n            setVisibleNofi(true);\n            setShowNote(true);\n            setTimeout(function () {\n              setVisibleNofi(false);\n            }, 5000);\n            return false;\n          }\n\n          return true;\n        });\n      }\n    }\n  }, [dataMarking]);\n  useEffect(function () {\n    getInfoTest();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: showMainTest ? /*#__PURE__*/_jsxDEV(MainTest, {\n      dataDoneTest: detailResult,\n      isDone: true,\n      listIDFromDoneTest: listQuestionID,\n      listGroupIDFromDoneTest: listGroupID,\n      closeMainTest: function closeMainTest() {\n        return setShowMainTest(false);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 5\n    }, _this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"test-wrapper done-test m-0 p-0\",\n      children: [/*#__PURE__*/_jsxDEV(TitlePage, {\n        title: \"K\\u1EBFt qu\\u1EA3 b\\u1ED9 \\u0111\\u1EC1 chi ti\\u1EBFt\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 6\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row w-100 m-0 p-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-8 col-12 m-0 p-0 mb-3 d-m-r\",\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"table-medium w-100\",\n            title: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"title-question-bank\",\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"title-big\",\n                children: [/*#__PURE__*/_jsxDEV(Bookmark, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 12\n                }, _this), \"Danh s\\xE1ch k\\u1EBFt qu\\u1EA3\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 11\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 10\n            }, _this),\n            extra: /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Link, {\n                href: {\n                  pathname: '/doing-test',\n                  query: {\n                    examID: examID,\n                    packageDetailID: packageDetailID,\n                    type: 'examination'\n                  }\n                },\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  className: \"btn btn-warning\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"d-flex align-items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(RedoOutlined, {\n                      className: \"mr-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 258,\n                      columnNumber: 14\n                    }, _this), \"L\\xE0m l\\u1EA1i \\u0111\\u1EC1\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 257,\n                    columnNumber: 13\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 12\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 11\n              }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-secondary ml-2\",\n                onClick: function onClick() {\n                  return setShowMainTest(true);\n                },\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"d-flex align-items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(ProfileOutlined, {\n                    className: \"mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 266,\n                    columnNumber: 13\n                  }, _this), \"Xem chi ti\\u1EBFt\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 12\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 11\n              }, _this)]\n            }, void 0, true),\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"test-body done-test-card \",\n              ref: boxEl,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"wrap-box-info mb-2\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"box-info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"box-info__item box-info__score\",\n                    children: [\"S\\u1ED1 \\u0111i\\u1EC3m\", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"number\",\n                      children: loadingInfoTest ? /*#__PURE__*/_jsxDEV(Skeleton, {\n                        paragraph: false,\n                        loading: true,\n                        title: true,\n                        active: true\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 279,\n                        columnNumber: 33\n                      }, _this) : infoTest === null || infoTest === void 0 ? void 0 : infoTest.PointTotal\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 278,\n                      columnNumber: 13\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 276,\n                    columnNumber: 12\n                  }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"box-info__item box-info__correct\",\n                    children: [\"S\\u1ED1 c\\xE2u \\u0111\\xFAng\", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"number\",\n                      children: loadingInfoTest ? /*#__PURE__*/_jsxDEV(Skeleton, {\n                        paragraph: false,\n                        loading: true,\n                        title: true,\n                        active: true\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 286,\n                        columnNumber: 15\n                      }, _this) : infoTest ? (infoTest === null || infoTest === void 0 ? void 0 : infoTest.ReadingCorrect) + (infoTest === null || infoTest === void 0 ? void 0 : infoTest.ListeningCorrect) + '/' + (infoTest === null || infoTest === void 0 ? void 0 : infoTest.TotalQuestion) : ''\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 284,\n                      columnNumber: 13\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 282,\n                    columnNumber: 12\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 11\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 10\n              }, _this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center mt-5\",\n                children: /*#__PURE__*/_jsxDEV(Spin, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 12\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 11\n              }, _this) : (detailResult === null || detailResult === void 0 ? void 0 : detailResult.length) == 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-center font-weight-bold\",\n                children: \"Kh\\xF4ng c\\xF3 d\\u1EEF li\\u1EC7u\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 11\n              }, _this) : doneTestData && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: detailResult.map(function (item, index) {\n                  if (item.ExerciseGroupID !== 0) {\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"wrap-group-list\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"box-detail\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"row\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"col-md-11\",\n                            children: [returnSpaceQuestion(item.ExerciseTopic), item.Content && item.Content !== '' && /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"box-content\",\n                              children: item.Content && ReactHtmlParser(item.Content)\n                            }, index, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 315,\n                              columnNumber: 21\n                            }, _this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 312,\n                            columnNumber: 19\n                          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"col-md-1\",\n                            children: /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"point-question text-right mt-4\",\n                              children: item.ExerciseTopic[0].Point\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 321,\n                              columnNumber: 20\n                            }, _this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 320,\n                            columnNumber: 19\n                          }, _this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 311,\n                          columnNumber: 18\n                        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: /*#__PURE__*/_jsxDEV(ListQuestion, {\n                            showScore: score,\n                            isMarked: isMarked,\n                            dataQuestion: item,\n                            listQuestionID: listQuestionID\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 326,\n                            columnNumber: 19\n                          }, _this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 325,\n                          columnNumber: 18\n                        }, _this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 310,\n                        columnNumber: 17\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 309,\n                      columnNumber: 16\n                    }, _this);\n                  } else {\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: /*#__PURE__*/_jsxDEV(ListQuestion, {\n                        showScore: score,\n                        isMarked: isMarked,\n                        dataQuestion: item,\n                        listQuestionID: listQuestionID\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 339,\n                        columnNumber: 17\n                      }, _this)\n                    }, index, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 338,\n                      columnNumber: 16\n                    }, _this);\n                  }\n                })\n              }, void 0, false)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 9\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 8\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 7\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-4 col-12 m-0 p-0\",\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"table-medium w-100\",\n            title: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"title-question-bank\",\n              style: {\n                display: 'flex',\n                flexDirection: 'row',\n                alignItems: 'center',\n                justifyContent: 'space-between'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"title-big\",\n                style: {\n                  paddingTop: 8,\n                  paddingBottom: 8\n                },\n                children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faFileVideo,\n                  size: \"lg\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 360,\n                  columnNumber: 12\n                }, _this), \"G\\u1EE3i \\xFD kh\\xF3a h\\u1ECDc\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 11\n              }, _this), /*#__PURE__*/_jsxDEV(Link, {\n                href: \"/video-course\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  className: \"font-weight-black\",\n                  style: {\n                    width: 100,\n                    textAlign: 'right'\n                  },\n                  children: \"Xem th\\xEAm\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 364,\n                  columnNumber: 12\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 11\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 10\n            }, _this),\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"test-body done-test-card\",\n              children: /*#__PURE__*/_jsxDEV(TopPackageNewsFeed, {\n                isLoading: loading,\n                topPackageList: courses\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 10\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 9\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 8\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 7\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 6\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 5\n    }, _this)\n  }, void 0, false);\n};\n\n_s(PackageResultStudentDetail, \"uWfpEQnROwY+gcyqS5568VQ1b8g=\", false, function () {\n  return [useDoneTest, useDoneTest, useWrap];\n});\n\n_c = PackageResultStudentDetail;\nexport default PackageResultStudentDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"PackageResultStudentDetail\");","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Global/Package/PackageResultDetail/PackageResultStudentDetail.tsx"],"names":["ProfileOutlined","RedoOutlined","faFileVideo","FontAwesomeIcon","Card","Skeleton","Spin","Link","router","React","useEffect","useRef","useState","Bookmark","ReactHtmlParser","doingTestApi","packageResultDetailApi","VideoCourseStoreApi","TitlePage","ListQuestion","useDoneTest","useWrap","MainTest","TopPackageNewsFeed","listTodoApi","pageSize","pageIndex","search","categoryId","levelId","fromDate","toDate","PackageResultStudentDetail","query","teacherMarking","score","getDoneTestData","doneTestData","dataMarking","getDataMarking","detailResult","setDetailResult","visibleNofi","setVisibleNofi","boxEl","paramsDefault","SetPackageResultID","parseInt","slug","ExerciseType","params","setParams","loading","setLoading","listQuestionID","setListQuestionID","listGroupID","setListGroupID","showMainTest","setShowMainTest","showNoti","userInformation","isShowAll","setIsShowAll","isMarked","setIsMarked","showNote","setShowNote","infoTest","setInfoTest","loadingInfoTest","setLoadingInfoTest","courses","setCourse","packageDetailID","examID","getVideoCourse","getInfoTest","getByID","res","status","dataInfo","data","totalQuestion","ListeningNumber","ReadingNumber","TotalQuestion","console","log","message","getByPoint","PointTotal","getDataSetPackageResult","cloneListQuestionID","cloneListGroupID","getAll","convertDataDoneTest","isDone","newDataMarking","Note","setPackageExerciseStudentsList","forEach","item","SetPackageExerciseStudent","ques","push","ID","Point","index","Enable","ExerciseGroupID","ExerciseID","cloneData","ExerciseTopic","ExerciseAnswer","SetPackageExerciseAnswerStudent","returnSpaceQuestion","indexStart","indexOf","indexEnd","length","text","toString","showWritingQuestion","every","setTimeout","pathname","type","ReadingCorrect","ListeningCorrect","map","Content","display","flexDirection","alignItems","justifyContent","paddingTop","paddingBottom","width","textAlign"],"mappings":"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","sourcesContent":["import { ProfileOutlined, RedoOutlined } from '@ant-design/icons'\r\nimport { IconProp } from '@fortawesome/fontawesome-svg-core'\r\nimport { faFileVideo, faPhotoVideo } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { Card, Skeleton, Spin } from 'antd'\r\nimport Link from 'next/link'\r\nimport router from 'next/router'\r\nimport React, { useEffect, useRef, useState } from 'react'\r\nimport { Bookmark } from 'react-feather'\r\nimport ReactHtmlParser from 'react-html-parser'\r\nimport { doingTestApi } from '~/apiBase'\r\nimport { packageResultDetailApi } from '~/apiBase/package/package-result-detail'\r\nimport { VideoCourseStoreApi } from '~/apiBase/video-course-store'\r\nimport TitlePage from '~/components/Elements/TitlePage'\r\nimport ListQuestion from '~/components/Global/DoingTest/ListQuestion'\r\nimport { useDoneTest } from '~/context/useDoneTest'\r\nimport { useWrap } from '~/context/wrap'\r\nimport MainTest from '../../DoingTest/MainTest'\r\nimport TopPackageNewsFeed from '../../NewsFeed/TopPackageNewsFeed'\r\n\r\nconst listTodoApi = {\r\n\tpageSize: 6,\r\n\tpageIndex: 1,\r\n\tsearch: null,\r\n\tcategoryId: null,\r\n\tlevelId: null,\r\n\tfromDate: null,\r\n\ttoDate: null\r\n}\r\n\r\nconst PackageResultStudentDetail = () => {\r\n\tconst {} = useDoneTest()\r\n\tconst { teacherMarking: teacherMarking, score: score } = router.query\r\n\tconst { getDoneTestData, doneTestData, dataMarking, getDataMarking } = useDoneTest()\r\n\tconst [detailResult, setDetailResult] = useState([])\r\n\tconst [visibleNofi, setVisibleNofi] = useState(false)\r\n\tconst boxEl = useRef(null)\r\n\r\n\tconst paramsDefault = {\r\n\t\tpageSize: 999,\r\n\t\tpageIndex: 1,\r\n\t\tSetPackageResultID: parseInt(router.query.slug as string),\r\n\t\tExerciseType: teacherMarking ? 2 : null\r\n\t}\r\n\tconst [params, setParams] = useState(paramsDefault)\r\n\tconst [loading, setLoading] = useState(false)\r\n\tconst [listQuestionID, setListQuestionID] = useState([]) // Lấy tất cả ID đã có\r\n\tconst [listGroupID, setListGroupID] = useState([]) // Lấy tất cả group ID đã có\r\n\r\n\tconst [showMainTest, setShowMainTest] = useState(false)\r\n\tconst { showNoti, userInformation } = useWrap()\r\n\tconst [isShowAll, setIsShowAll] = useState(false)\r\n\tconst [isMarked, setIsMarked] = useState(false)\r\n\tconst [showNote, setShowNote] = useState(false)\r\n\tconst [infoTest, setInfoTest] = useState(null)\r\n\tconst [loadingInfoTest, setLoadingInfoTest] = useState(false)\r\n\tconst [courses, setCourse] = useState<any>([])\r\n\r\n\t// ---- Get Router ----\r\n\r\n\tconst { packageDetailID: packageDetailID, examID: examID } = router.query\r\n\tconst SetPackageResultID = router.query.slug as string\r\n\r\n\tuseEffect(() => {\r\n\t\t!!infoTest && getVideoCourse()\r\n\t}, [infoTest])\r\n\r\n\tconst getInfoTest = async () => {\r\n\t\tsetLoadingInfoTest(true)\r\n\t\ttry {\r\n\t\t\tlet res = await doingTestApi.getByID(SetPackageResultID)\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tlet dataInfo: any = { ...res.data.data }\r\n\t\t\t\tlet totalQuestion = dataInfo.ListeningNumber + dataInfo.ReadingNumber\r\n\t\t\t\tsetInfoTest({ ...res.data.data, TotalQuestion: totalQuestion })\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log('error', error.message)\r\n\t\t} finally {\r\n\t\t\tsetLoadingInfoTest(false)\r\n\t\t}\r\n\t}\r\n\r\n\tconst getVideoCourse = async () => {\r\n\t\tsetLoading(true)\r\n\t\ttry {\r\n\t\t\tconst res = await VideoCourseStoreApi.getByPoint(infoTest?.PointTotal < 1 ? 1 : infoTest?.PointTotal)\r\n\t\t\tres.status == 200 && setCourse(res.data.data)\r\n\t\t\tsetLoading(false)\r\n\t\t} catch (err) {\r\n\t\t} finally {\r\n\t\t\tsetLoading(false)\r\n\t\t}\r\n\t}\r\n\r\n\tconst getDataSetPackageResult = async () => {\r\n\t\tlet cloneListQuestionID = [...listQuestionID]\r\n\t\tlet cloneListGroupID = [...listGroupID]\r\n\t\tsetLoading(true)\r\n\r\n\t\ttry {\r\n\t\t\tlet res = await packageResultDetailApi.getAll(params)\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tconvertDataDoneTest(res.data.data)\r\n\t\t\t\tsetIsMarked(res.data.isDone)\r\n\t\t\t\t// Add to data marking if have teacher marking\r\n\t\t\t\tif (teacherMarking) {\r\n\t\t\t\t\tif (!dataMarking) {\r\n\t\t\t\t\t\tlet newDataMarking = {\r\n\t\t\t\t\t\t\tSetPackageResultID: parseInt(router.query.slug as string),\r\n\t\t\t\t\t\t\tNote: '',\r\n\t\t\t\t\t\t\tsetPackageExerciseStudentsList: []\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tres.data.data.forEach((item) => {\r\n\t\t\t\t\t\t\tif (item.ExerciseType == 2) {\r\n\t\t\t\t\t\t\t\titem.SetPackageExerciseStudent.forEach((ques) => {\r\n\t\t\t\t\t\t\t\t\tnewDataMarking.setPackageExerciseStudentsList.push({\r\n\t\t\t\t\t\t\t\t\t\tID: ques.ID,\r\n\t\t\t\t\t\t\t\t\t\tPoint: 0\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tgetDataMarking({ ...newDataMarking })\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Add questionid to list\r\n\t\t\t\tres.data.data.forEach((item, index) => {\r\n\t\t\t\t\tif (item.Enable) {\r\n\t\t\t\t\t\titem.ExerciseGroupID !== 0 && cloneListGroupID.push(item.ExerciseGroupID)\r\n\t\t\t\t\t\titem.SetPackageExerciseStudent.forEach((ques) => {\r\n\t\t\t\t\t\t\tcloneListQuestionID.push(ques.ExerciseID)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t\tgetDoneTestData(res.data.data)\r\n\t\t\t\tsetListGroupID([...cloneListGroupID])\r\n\t\t\t\tsetListQuestionID([...cloneListQuestionID])\r\n\t\t\t}\r\n\r\n\t\t\tif (res.status == 204) {\r\n\t\t\t\tshowNoti('danger', 'Không tìm thấy dữ liệu!')\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetLoading(false)\r\n\t\t}\r\n\t}\r\n\r\n\tconst convertDataDoneTest = (data) => {\r\n\t\tlet cloneData = [...data]\r\n\t\tcloneData.forEach((item) => {\r\n\t\t\titem.ExerciseTopic = [...item.SetPackageExerciseStudent]\r\n\t\t\titem.ExerciseTopic.forEach((ques) => {\r\n\t\t\t\tques.ExerciseAnswer = [...ques.SetPackageExerciseAnswerStudent]\r\n\t\t\t})\r\n\t\t})\r\n\r\n\t\tsetDetailResult([...cloneData])\r\n\t}\r\n\r\n\tconst returnSpaceQuestion = (data) => {\r\n\t\tlet indexStart = listQuestionID.indexOf(data[0].ExerciseID)\r\n\t\tlet indexEnd = listQuestionID.indexOf(data[data.length - 1].ExerciseID)\r\n\r\n\t\tlet text = ''\r\n\t\tif (indexStart === indexEnd) {\r\n\t\t\ttext = 'Câu ' + (indexStart + 1).toString()\r\n\t\t} else {\r\n\t\t\ttext = 'Câu ' + (indexStart + 1).toString() + ' - ' + (indexEnd + 1).toString()\r\n\t\t}\r\n\t\treturn <p className=\"space-question\">{text}</p>\r\n\t}\r\n\r\n\tconst showWritingQuestion = () => {\r\n\t\tif (isShowAll) {\r\n\t\t\tsetParams({\r\n\t\t\t\t...paramsDefault,\r\n\t\t\t\tExerciseType: 2\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tsetParams({\r\n\t\t\t\t...paramsDefault,\r\n\t\t\t\tExerciseType: null\r\n\t\t\t})\r\n\t\t}\r\n\t\tsetIsShowAll(!isShowAll)\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tgetDataSetPackageResult()\r\n\t}, [params])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (dataMarking && !showNote) {\r\n\t\t\tif (dataMarking.setPackageExerciseStudentsList.length > 0) {\r\n\t\t\t\tdataMarking.setPackageExerciseStudentsList.every((item) => {\r\n\t\t\t\t\tif (item.Point) {\r\n\t\t\t\t\t\tsetVisibleNofi(true)\r\n\t\t\t\t\t\tsetShowNote(true)\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tsetVisibleNofi(false)\r\n\t\t\t\t\t\t}, 5000)\r\n\t\t\t\t\t\treturn false\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn true\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}, [dataMarking])\r\n\r\n\tuseEffect(() => {\r\n\t\tgetInfoTest()\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{showMainTest ? (\r\n\t\t\t\t<MainTest\r\n\t\t\t\t\tdataDoneTest={detailResult}\r\n\t\t\t\t\tisDone={true}\r\n\t\t\t\t\tlistIDFromDoneTest={listQuestionID}\r\n\t\t\t\t\tlistGroupIDFromDoneTest={listGroupID}\r\n\t\t\t\t\tcloseMainTest={() => setShowMainTest(false)}\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"test-wrapper done-test m-0 p-0\">\r\n\t\t\t\t\t<TitlePage title=\"Kết quả bộ đề chi tiết\" />\r\n\t\t\t\t\t<div className=\"row w-100 m-0 p-0\">\r\n\t\t\t\t\t\t<div className=\"col-md-8 col-12 m-0 p-0 mb-3 d-m-r\">\r\n\t\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\t\tclassName=\"table-medium w-100\"\r\n\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t<div className=\"title-question-bank\">\r\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"title-big\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Bookmark />\r\n\t\t\t\t\t\t\t\t\t\t\tDanh sách kết quả\r\n\t\t\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\textra={\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\thref={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tpathname: '/doing-test',\r\n\t\t\t\t\t\t\t\t\t\t\t\tquery: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\texamID: examID,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpackageDetailID: packageDetailID,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype: 'examination'\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<a className=\"btn btn-warning\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<RedoOutlined className=\"mr-2\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tLàm lại đề\r\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-secondary ml-2\" onClick={() => setShowMainTest(true)}>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ProfileOutlined className=\"mr-2\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\tXem chi tiết\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div className=\"test-body done-test-card \" ref={boxEl}>\r\n\t\t\t\t\t\t\t\t\t<div className=\"wrap-box-info mb-2\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"box-info\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"box-info__item box-info__score\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tSố điểm\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"number\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{loadingInfoTest ? <Skeleton paragraph={false} loading={true} title={true} active /> : infoTest?.PointTotal}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"box-info__item box-info__correct\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tSố câu đúng\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"number\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{loadingInfoTest ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Skeleton paragraph={false} loading={true} title={true} active />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : infoTest ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tinfoTest?.ReadingCorrect + infoTest?.ListeningCorrect + '/' + infoTest?.TotalQuestion\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"text-center mt-5\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Spin />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t) : detailResult?.length == 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-center font-weight-bold\">Không có dữ liệu</p>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\tdoneTestData && (\r\n\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{detailResult.map((item, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (item.ExerciseGroupID !== 0) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"wrap-group-list\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"box-detail\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-11\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{returnSpaceQuestion(item.ExerciseTopic)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.Content && item.Content !== '' && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"box-content\" key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.Content && ReactHtmlParser(item.Content)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"point-question text-right mt-4\">{item.ExerciseTopic[0].Point}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListQuestion\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowScore={score}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisMarked={isMarked}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataQuestion={item}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlistQuestionID={listQuestionID}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListQuestion showScore={score} isMarked={isMarked} dataQuestion={item} listQuestionID={listQuestionID} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"col-md-4 col-12 m-0 p-0\">\r\n\t\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\t\tclassName=\"table-medium w-100\"\r\n\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"title-question-bank\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ display: 'flex', flexDirection: 'row', alignItems: 'center', justifyContent: 'space-between' }}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"title-big\" style={{ paddingTop: 8, paddingBottom: 8 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faFileVideo as IconProp} size=\"lg\" />\r\n\t\t\t\t\t\t\t\t\t\t\tGợi ý khóa học\r\n\t\t\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t\t\t<Link href=\"/video-course\">\r\n\t\t\t\t\t\t\t\t\t\t\t<a className=\"font-weight-black\" style={{ width: 100, textAlign: 'right' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tXem thêm\r\n\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div className=\"test-body done-test-card\">\r\n\t\t\t\t\t\t\t\t\t<TopPackageNewsFeed isLoading={loading} topPackageList={courses} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default PackageResultStudentDetail\r\n"]},"metadata":{},"sourceType":"module"}