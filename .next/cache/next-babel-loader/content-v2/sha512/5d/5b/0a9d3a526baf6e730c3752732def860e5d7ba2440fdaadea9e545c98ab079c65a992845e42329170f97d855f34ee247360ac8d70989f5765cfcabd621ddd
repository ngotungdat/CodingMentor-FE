{"ast":null,"code":"import _defineProperty from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\pages\\\\package\\\\package-result-teacher\\\\index.tsx\",\n    _this = this,\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from 'react';\nimport { useWrap } from '~/context/wrap';\nimport { packageResultApi } from '~/apiBase/package/package-result';\nimport FilterColumn from '~/components/Tables/FilterColumn';\nimport Link from 'next/link';\nimport { Checkbox, Tooltip, Popconfirm, Popover } from 'antd';\nimport { CheckOutlined, CloseOutlined, FormOutlined, RedoOutlined } from '@ant-design/icons';\nimport LayoutBase from '~/components/LayoutBase';\nimport ExpandTable from '~/components/ExpandTable';\nimport PackageResultExpand from '~/components/Global/Package/PackageResult/PackageResultExpand';\nimport FilterBase from '~/components/Elements/FilterBase/FilterBase';\nimport SortBox from '~/components/Elements/SortBox';\nimport _ from '~/appConfig';\n\nvar TakeMarking = function TakeMarking(props) {\n  _s();\n\n  var userID = props.userID,\n      onFetchTaking = props.onFetchTaking,\n      dataRow = props.dataRow;\n\n  var _useWrap = useWrap(),\n      showNoti = _useWrap.showNoti;\n\n  var _useState = useState(false),\n      visible = _useState[0],\n      setVisible = _useState[1];\n\n  var _useState2 = useState(false),\n      confirmLoading = _useState2[0],\n      setConfirmLoading = _useState2[1];\n\n  var _useState3 = useState(false),\n      isChecked = _useState3[0],\n      setIsChecked = _useState3[1];\n\n  var handleTaking = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var dataSumbit, res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              dataSumbit = {\n                ID: dataRow.ID,\n                TeacherID: userID,\n                Enable: true\n              };\n              setConfirmLoading(true);\n              _context.prev = 2;\n              _context.next = 5;\n              return packageResultApi.update(dataSumbit);\n\n            case 5:\n              res = _context.sent;\n\n              if (res.status == 200) {\n                showNoti('success', 'Nhận chấm bài thành công');\n                onFetchTaking && onFetchTaking();\n                setVisible(false);\n              } else {\n                setIsChecked(false);\n              }\n\n              _context.next = 12;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](2);\n              showNoti('danger', _context.t0.message);\n\n            case 12:\n              _context.prev = 12;\n              setIsChecked(false);\n              setConfirmLoading(false);\n              return _context.finish(12);\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 9, 12, 16]]);\n    }));\n\n    return function handleTaking() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var onChange_acceptMarking = function onChange_acceptMarking(e) {\n    showPopconfirm();\n    var checked = e.target.checked;\n\n    if (checked) {\n      setIsChecked(checked);\n    }\n  };\n\n  var showPopconfirm = function showPopconfirm() {\n    setVisible(true);\n  };\n\n  var handleOk = function handleOk() {\n    setConfirmLoading(true);\n    handleTaking();\n  };\n\n  var handleCancel = function handleCancel() {\n    setVisible(false);\n    setIsChecked(!isChecked);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Popconfirm, {\n      placement: \"top\",\n      title: \"X\\xE1c nh\\u1EADn ch\\u1EA5m b\\xE0i n\\xE0y?\",\n      visible: visible,\n      onConfirm: handleOk,\n      okText: \"Yes\",\n      cancelText: \"No\",\n      okButtonProps: {\n        loading: confirmLoading\n      },\n      onCancel: handleCancel,\n      children: /*#__PURE__*/_jsxDEV(Checkbox, {\n        checked: isChecked,\n        onChange: onChange_acceptMarking\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 4\n    }, _this)\n  }, void 0, false);\n};\n\n_s(TakeMarking, \"LS4QvEwVj4bmfsJUA66AZC5BYAg=\", false, function () {\n  return [useWrap];\n});\n\n_c = TakeMarking;\n\nvar PackageResultTeacher = function PackageResultTeacher() {\n  _s2();\n\n  var listFieldFilter = {\n    pageIndex: 1,\n    fromDate: null,\n    toDate: null,\n    StudentID: null,\n    SetPackageDetailID: null,\n    isDone: null,\n    StudentName: null\n  };\n  var sortOption = [{\n    dataSort: {\n      sortType: null\n    },\n    value: 1,\n    text: 'Mới cập nhật'\n  }, {\n    dataSort: {\n      sortType: true\n    },\n    value: 2,\n    text: 'Từ dưới lên'\n  }];\n\n  var _useWrap2 = useWrap(),\n      showNoti = _useWrap2.showNoti,\n      pageSize = _useWrap2.pageSize,\n      userInformation = _useWrap2.userInformation;\n\n  var _useState4 = useState([]),\n      dataSource = _useState4[0],\n      setDataSource = _useState4[1];\n\n  var _useState5 = useState({\n    type: '',\n    status: false\n  }),\n      isLoading = _useState5[0],\n      setIsLoading = _useState5[1];\n\n  var _useState6 = useState(null),\n      totalPage = _useState6[0],\n      setTotalPage = _useState6[1];\n\n  var _useState7 = useState(1),\n      currentPage = _useState7[0],\n      setCurrentPage = _useState7[1];\n\n  var _useState8 = useState('Bài tập chờ xử lí'),\n      textHeader = _useState8[0],\n      setTextHeader = _useState8[1];\n\n  var listTodoApi = {\n    pageSize: pageSize,\n    pageIndex: currentPage,\n    sort: null,\n    sortType: null,\n    fromDate: null,\n    toDate: null,\n    StudentID: null,\n    SetPackageDetailID: null,\n    StudentName: null,\n    isFixPaid: null,\n    StatusID: null,\n    isDone: false,\n    TeacherID: userInformation === null || userInformation === void 0 ? void 0 : userInformation.UserInformationID\n  };\n\n  var _useState9 = useState(listTodoApi),\n      todoApi = _useState9[0],\n      setTodoApi = _useState9[1];\n\n  var _useState10 = useState([{\n    name: 'StudentID',\n    title: 'Học viên',\n    col: 'col-12',\n    type: 'select',\n    optionList: null,\n    value: null\n  }, {\n    name: 'SetPackageDetailID',\n    title: 'Bộ đề',\n    col: 'col-12',\n    type: 'select',\n    optionList: null,\n    value: null\n  }, {\n    name: 'StatusID',\n    title: 'Trạng thái',\n    col: 'col-12',\n    type: 'select',\n    optionList: [{\n      value: 1,\n      title: 'Đã nộp bài'\n    }, {\n      value: 2,\n      title: 'Đang chấm bài'\n    }, {\n      value: 3,\n      title: 'Đã chấm bài'\n    }, {\n      value: 4,\n      title: 'Đang chấm bài lại'\n    }, {\n      value: 5,\n      title: 'Đã chấm bài lại'\n    }],\n    value: null\n  }, {\n    name: 'date-range',\n    title: 'Ngày tạo',\n    col: 'col-12',\n    type: 'date-range',\n    value: null\n  }]),\n      dataFilter = _useState10[0],\n      setDataFilter = _useState10[1]; // GET DATA SOURCE\n\n\n  var getDataSource = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setIsLoading({\n                type: 'GET_ALL',\n                status: true\n              });\n              _context2.prev = 1;\n              _context2.next = 4;\n              return packageResultApi.getAll(todoApi);\n\n            case 4:\n              res = _context2.sent;\n              res.status == 200 && (setDataSource(res.data.data), setTotalPage(res.data.totalRow));\n              res.status == 204 && setDataSource([]);\n              _context2.next = 12;\n              break;\n\n            case 9:\n              _context2.prev = 9;\n              _context2.t0 = _context2[\"catch\"](1);\n              showNoti('danger', _context2.t0.message);\n\n            case 12:\n              _context2.prev = 12;\n              setIsLoading({\n                type: 'GET_ALL',\n                status: false\n              });\n              return _context2.finish(12);\n\n            case 15:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[1, 9, 12, 15]]);\n    }));\n\n    return function getDataSource() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var onSearch = function onSearch(data) {\n    setCurrentPage(1);\n    setTodoApi(_objectSpread(_objectSpread({}, listTodoApi), {}, {\n      StudentName: data\n    }));\n  };\n\n  var handleReset = function handleReset() {\n    setCurrentPage(1);\n    setTodoApi(listTodoApi);\n  }; // -------------- GET PAGE_NUMBER -----------------\n\n\n  var _getPagination = function getPagination(pageNumber) {\n    setCurrentPage(pageNumber);\n    setTodoApi(_objectSpread(_objectSpread({}, todoApi), {}, {\n      pageIndex: pageNumber\n    }));\n  }; // --------------- HANDLE SORT ----------------------\n\n\n  var _handleSort = function handleSort(option) {\n    var newTodoApi = _objectSpread(_objectSpread({}, listTodoApi), {}, {\n      pageIndex: 1,\n      sort: option.title.sort,\n      sortType: option.title.sortType\n    });\n\n    setCurrentPage(1), setTodoApi(newTodoApi);\n  }; // -------------- HANDLE FILTER ------------------\n\n\n  var _handleFilter = function handleFilter(listFilter) {\n    console.log('List Filter: ', listFilter);\n\n    var newListFilter = _objectSpread({}, listFieldFilter);\n\n    listFilter.forEach(function (item, index) {\n      var key = item.name;\n      Object.keys(newListFilter).forEach(function (keyFilter) {\n        if (keyFilter == key) {\n          newListFilter[key] = item.value;\n        }\n      });\n    });\n    setTodoApi(_objectSpread(_objectSpread(_objectSpread({}, listTodoApi), newListFilter), {}, {\n      pageIndex: 1\n    }));\n  }; // --- Chờ xử lí ---\n\n\n  var handleWaitingMarking = function handleWaitingMarking() {\n    if (userInformation) {\n      setTextHeader('Bài tập chờ xử lí');\n      setTodoApi(_objectSpread(_objectSpread({}, listTodoApi), {}, {\n        isDone: false,\n        TeacherID: userInformation.UserInformationID\n      }));\n      setCurrentPage(1);\n    } else {\n      showNoti('danger', 'Chờ chút bạn đang thao tác quá nhanh');\n    }\n  }; // --- Hiển thị những bài đã chấm ---\n\n\n  var handleShowMarked = function handleShowMarked() {\n    if (userInformation) {\n      setTextHeader('Bài tập đã chấm');\n      setTodoApi(_objectSpread(_objectSpread({}, listTodoApi), {}, {\n        StatusID: 3,\n        TeacherID: userInformation.UserInformationID,\n        isDone: true\n      }));\n      setCurrentPage(1);\n    } else {\n      showNoti('danger', 'Chờ chút bạn đang thao tác quá nhanh');\n    }\n  };\n\n  var handleShowNotMarked = function handleShowNotMarked() {\n    if (userInformation) {\n      setTextHeader('Bài tập chưa có giáo viên chấm');\n      setTodoApi(_objectSpread(_objectSpread({}, listTodoApi), {}, {\n        StatusID: 2,\n        TeacherID: 0\n      }));\n    } else {\n      showNoti('danger', 'Chờ chút bạn đang thao tác quá nhanh');\n    }\n  };\n\n  var columns = [_objectSpread(_objectSpread({\n    title: 'Học viên',\n    dataIndex: 'StudentName'\n  }, FilterColumn('FullNameUnicode', onSearch, handleReset, 'text')), {}, {\n    render: function render(text) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-weight-primary\",\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 22\n      }, _this);\n    }\n  }), {\n    title: 'Đề thi',\n    dataIndex: 'ExamTopicName',\n    render: function render(text, data) {\n      return data.TeacherID === userInformation.UserInformationID ? /*#__PURE__*/_jsxDEV(Link, {\n        href: {\n          pathname: '/package/package-result-teacher/detail/[slug]',\n          query: {\n            slug: \"\".concat(data.ID),\n            teacherMarking: data.TeacherID,\n            packageResultID: data.ID\n          }\n        },\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"#\",\n          className: \"font-weight-black\",\n          children: text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 7\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 6\n      }, _this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-weight-black\",\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 6\n      }, _this);\n    }\n  }, {\n    title: 'Level',\n    dataIndex: 'SetPackageLevel',\n    render: function render(text) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-weight-black\",\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 22\n      }, _this);\n    }\n  }, {\n    title: 'Giáo viên chấm bài',\n    dataIndex: 'TeacherName',\n    render: function render(text, data) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-weight-primary\",\n        style: {\n          color: data.TeacherID == (userInformation === null || userInformation === void 0 ? void 0 : userInformation.UserInformationID) ? '#205286' : _.primaryColor\n        },\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 5\n      }, _this);\n    }\n  }, {\n    title: 'Trạng thái',\n    dataIndex: 'isDone',\n    render: function render(type) {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [type == true && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"tag green\",\n          children: \"\\u0110\\xE3 ch\\u1EA5m xong\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 23\n        }, _this), type == false && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"tag gray\",\n          children: \"Ch\\u01B0a ch\\u1EA5m xong\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 24\n        }, _this)]\n      }, void 0, true);\n    }\n  }, {\n    width: 120,\n    title: 'Yêu cầu chấm',\n    dataIndex: 'isFixPaid',\n    align: 'center',\n    render: function render(type, data) {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [(data.StatusID == 3 || data.StatusID == 5 || data.StatusID == 1) && /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"Ch\\u01B0a y\\xEAu c\\u1EA7u ch\\u1EA5m\",\n          children: /*#__PURE__*/_jsxDEV(CloseOutlined, {\n            className: \"delete custom\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 8\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 7\n        }, _this), (data.isFixPaid || data.isReevaluate) && (data.StatusID == 2 ? /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"Y\\xEAu c\\u1EA7u ch\\u1EA5m b\\xE0i\",\n          children: /*#__PURE__*/_jsxDEV(CheckOutlined, {\n            className: \"success custom\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 9\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 8\n        }, _this) : data.StatusID == 4 && /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"Y\\xEAu c\\u1EA7u ch\\u1EA5m b\\xE0i l\\u1EA1i\",\n          children: /*#__PURE__*/_jsxDEV(RedoOutlined, {\n            className: \"success custom\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 10\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 9\n        }, _this))]\n      }, void 0, true);\n    }\n  }, {\n    width: 120,\n    title: 'Nhận chấm bài',\n    align: 'center',\n    render: function render(data) {\n      return !data.TeacherID && (data.isFixPaid || data.isReevaluate) && /*#__PURE__*/_jsxDEV(TakeMarking, {\n        loadingMarking: false,\n        userID: userInformation.UserInformationID,\n        onFetchTaking: function onFetchTaking() {\n          return setTodoApi(_objectSpread({}, todoApi));\n        },\n        dataRow: data\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 6\n      }, _this);\n    }\n  }, {\n    render: function render(data) {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: data.TeacherID === userInformation.UserInformationID && (data.StatusID == 2 || data.StatusID == 4) && /*#__PURE__*/_jsxDEV(Link, {\n          href: {\n            pathname: '/package/package-result-teacher/detail/[slug]',\n            query: {\n              slug: \"\".concat(data.ID),\n              teacherMarking: data.TeacherID,\n              packageResultID: data.ID,\n              type: 'examination'\n            }\n          },\n          children: /*#__PURE__*/_jsxDEV(Tooltip, {\n            title: \"Ch\\u1EA5m b\\xE0i ngay\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-icon edit\",\n              children: /*#__PURE__*/_jsxDEV(FormOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 10\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 9\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 8\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 7\n        }, _this)\n      }, void 0, false);\n    }\n  }];\n\n  var expandedRowRender = function expandedRowRender(data, index) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(PackageResultExpand, {\n        infoID: data.ID\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false);\n  };\n\n  useEffect(function () {\n    if (userInformation) {\n      getDataSource();\n    }\n  }, [todoApi]);\n  useEffect(function () {\n    if (userInformation) {\n      setTodoApi(_objectSpread(_objectSpread({}, todoApi), {}, {\n        TeacherID: userInformation.UserInformationID\n      }));\n    }\n  }, [userInformation]);\n\n  var contentButton = /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"light btn btn-warning mb-2 d-block w-100 text-center\",\n      onClick: handleShowNotMarked,\n      children: \"Ch\\u01B0a c\\xF3 ai ch\\u1EA5m\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 4\n    }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"light btn btn-secondary mb-2 d-block w-100 text-center\",\n      onClick: handleShowMarked,\n      children: \"\\u0110\\xE3 ch\\u1EA5m\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 4\n    }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"light btn btn-danger mb-2 d-block w-100 text-center\",\n      onClick: handleWaitingMarking,\n      children: \"Ch\\u1EDD x\\u1EED l\\xED\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 416,\n      columnNumber: 4\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 409,\n    columnNumber: 3\n  }, _this);\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(ExpandTable, {\n      currentPage: currentPage,\n      loading: isLoading,\n      totalPage: totalPage && totalPage,\n      getPagination: function getPagination(pageNumber) {\n        return _getPagination(pageNumber);\n      },\n      addClass: \"basic-header\",\n      TitlePage: textHeader,\n      dataSource: dataSource,\n      columns: columns,\n      TitleCard: /*#__PURE__*/_jsxDEV(Popover, {\n        content: contentButton,\n        placement: \"bottomRight\",\n        title: null,\n        trigger: \"hover\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-warning\",\n          children: \"Tr\\u1EA1ng th\\xE1i\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 7\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 6\n      }, _this),\n      Extra: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"extra-table\",\n        children: [/*#__PURE__*/_jsxDEV(FilterBase, {\n          dataFilter: dataFilter,\n          handleFilter: function handleFilter(listFilter) {\n            return _handleFilter(listFilter);\n          },\n          handleReset: handleReset\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 7\n        }, _this), /*#__PURE__*/_jsxDEV(SortBox, {\n          dataOption: sortOption,\n          handleSort: function handleSort(value) {\n            return _handleSort(value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 7\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 6\n      }, _this),\n      expandable: {\n        expandedRowRender: expandedRowRender\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 424,\n      columnNumber: 4\n    }, _this)\n  }, void 0, false);\n};\n\n_s2(PackageResultTeacher, \"wpX8A+Vg/62TF7WT4ZIF71pwk9Q=\", false, function () {\n  return [useWrap];\n});\n\n_c2 = PackageResultTeacher;\nPackageResultTeacher.layout = LayoutBase;\nexport default PackageResultTeacher;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"TakeMarking\");\n$RefreshReg$(_c2, \"PackageResultTeacher\");","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/pages/package/package-result-teacher/index.tsx"],"names":["React","useEffect","useState","useWrap","packageResultApi","FilterColumn","Link","Checkbox","Tooltip","Popconfirm","Popover","CheckOutlined","CloseOutlined","FormOutlined","RedoOutlined","LayoutBase","ExpandTable","PackageResultExpand","FilterBase","SortBox","_","TakeMarking","props","userID","onFetchTaking","dataRow","showNoti","visible","setVisible","confirmLoading","setConfirmLoading","isChecked","setIsChecked","handleTaking","dataSumbit","ID","TeacherID","Enable","update","res","status","message","onChange_acceptMarking","e","showPopconfirm","checked","target","handleOk","handleCancel","loading","PackageResultTeacher","listFieldFilter","pageIndex","fromDate","toDate","StudentID","SetPackageDetailID","isDone","StudentName","sortOption","dataSort","sortType","value","text","pageSize","userInformation","dataSource","setDataSource","type","isLoading","setIsLoading","totalPage","setTotalPage","currentPage","setCurrentPage","textHeader","setTextHeader","listTodoApi","sort","isFixPaid","StatusID","UserInformationID","todoApi","setTodoApi","name","title","col","optionList","dataFilter","setDataFilter","getDataSource","getAll","data","totalRow","onSearch","handleReset","getPagination","pageNumber","handleSort","option","newTodoApi","handleFilter","listFilter","console","log","newListFilter","forEach","item","index","key","Object","keys","keyFilter","handleWaitingMarking","handleShowMarked","handleShowNotMarked","columns","dataIndex","render","pathname","query","slug","teacherMarking","packageResultID","color","primaryColor","width","align","isReevaluate","expandedRowRender","contentButton","layout"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useWrap } from '~/context/wrap'\r\nimport { packageResultApi } from '~/apiBase/package/package-result'\r\nimport FilterColumn from '~/components/Tables/FilterColumn'\r\nimport Link from 'next/link'\r\nimport { Checkbox, Tooltip, Popconfirm, Popover } from 'antd'\r\nimport { CheckOutlined, CloseOutlined, FormOutlined, RedoOutlined } from '@ant-design/icons'\r\nimport LayoutBase from '~/components/LayoutBase'\r\nimport ExpandTable from '~/components/ExpandTable'\r\nimport PackageResultExpand from '~/components/Global/Package/PackageResult/PackageResultExpand'\r\nimport FilterBase from '~/components/Elements/FilterBase/FilterBase'\r\nimport SortBox from '~/components/Elements/SortBox'\r\nimport _ from '~/appConfig'\r\n\r\nconst TakeMarking = (props) => {\r\n\tconst { userID, onFetchTaking, dataRow } = props\r\n\tconst { showNoti } = useWrap()\r\n\tconst [visible, setVisible] = useState(false)\r\n\tconst [confirmLoading, setConfirmLoading] = useState(false)\r\n\tconst [isChecked, setIsChecked] = useState(false)\r\n\r\n\tconst handleTaking = async () => {\r\n\t\tlet dataSumbit = { ID: dataRow.ID, TeacherID: userID, Enable: true }\r\n\t\tsetConfirmLoading(true)\r\n\t\ttry {\r\n\t\t\tlet res = await packageResultApi.update(dataSumbit)\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tshowNoti('success', 'Nhận chấm bài thành công')\r\n\t\t\t\tonFetchTaking && onFetchTaking()\r\n\t\t\t\tsetVisible(false)\r\n\t\t\t} else {\r\n\t\t\t\tsetIsChecked(false)\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetIsChecked(false)\r\n\t\t\tsetConfirmLoading(false)\r\n\t\t}\r\n\t}\r\n\r\n\tconst onChange_acceptMarking = (e) => {\r\n\t\tshowPopconfirm()\r\n\t\tconst checked = e.target.checked\r\n\t\tif (checked) {\r\n\t\t\tsetIsChecked(checked)\r\n\t\t}\r\n\t}\r\n\tconst showPopconfirm = () => {\r\n\t\tsetVisible(true)\r\n\t}\r\n\r\n\tconst handleOk = () => {\r\n\t\tsetConfirmLoading(true)\r\n\t\thandleTaking()\r\n\t}\r\n\r\n\tconst handleCancel = () => {\r\n\t\tsetVisible(false)\r\n\t\tsetIsChecked(!isChecked)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Popconfirm\r\n\t\t\t\tplacement=\"top\"\r\n\t\t\t\ttitle=\"Xác nhận chấm bài này?\"\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tonConfirm={handleOk}\r\n\t\t\t\tokText=\"Yes\"\r\n\t\t\t\tcancelText=\"No\"\r\n\t\t\t\tokButtonProps={{ loading: confirmLoading }}\r\n\t\t\t\tonCancel={handleCancel}\r\n\t\t\t>\r\n\t\t\t\t<Checkbox checked={isChecked} onChange={onChange_acceptMarking}></Checkbox>\r\n\t\t\t</Popconfirm>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nconst PackageResultTeacher = () => {\r\n\tlet listFieldFilter = {\r\n\t\tpageIndex: 1,\r\n\t\tfromDate: null,\r\n\t\ttoDate: null,\r\n\t\tStudentID: null,\r\n\t\tSetPackageDetailID: null,\r\n\t\tisDone: null,\r\n\t\tStudentName: null\r\n\t}\r\n\tconst sortOption = [\r\n\t\t{\r\n\t\t\tdataSort: {\r\n\t\t\t\tsortType: null\r\n\t\t\t},\r\n\t\t\tvalue: 1,\r\n\t\t\ttext: 'Mới cập nhật'\r\n\t\t},\r\n\t\t{\r\n\t\t\tdataSort: {\r\n\t\t\t\tsortType: true\r\n\t\t\t},\r\n\t\t\tvalue: 2,\r\n\t\t\ttext: 'Từ dưới lên'\r\n\t\t}\r\n\t]\r\n\tconst { showNoti, pageSize, userInformation } = useWrap()\r\n\tconst [dataSource, setDataSource] = useState<ISetPackageResult[]>([])\r\n\tconst [isLoading, setIsLoading] = useState({ type: '', status: false })\r\n\tconst [totalPage, setTotalPage] = useState(null)\r\n\tconst [currentPage, setCurrentPage] = useState(1)\r\n\tconst [textHeader, setTextHeader] = useState('Bài tập chờ xử lí')\r\n\tconst listTodoApi = {\r\n\t\tpageSize: pageSize,\r\n\t\tpageIndex: currentPage,\r\n\t\tsort: null,\r\n\t\tsortType: null,\r\n\t\tfromDate: null,\r\n\t\ttoDate: null,\r\n\t\tStudentID: null,\r\n\t\tSetPackageDetailID: null,\r\n\t\tStudentName: null,\r\n\t\tisFixPaid: null,\r\n\t\tStatusID: null,\r\n\t\tisDone: false,\r\n\t\tTeacherID: userInformation?.UserInformationID\r\n\t}\r\n\tconst [todoApi, setTodoApi] = useState(listTodoApi)\r\n\tconst [dataFilter, setDataFilter] = useState([\r\n\t\t{\r\n\t\t\tname: 'StudentID',\r\n\t\t\ttitle: 'Học viên',\r\n\t\t\tcol: 'col-12',\r\n\t\t\ttype: 'select',\r\n\t\t\toptionList: null,\r\n\t\t\tvalue: null\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'SetPackageDetailID',\r\n\t\t\ttitle: 'Bộ đề',\r\n\t\t\tcol: 'col-12',\r\n\t\t\ttype: 'select',\r\n\t\t\toptionList: null,\r\n\t\t\tvalue: null\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'StatusID',\r\n\t\t\ttitle: 'Trạng thái',\r\n\t\t\tcol: 'col-12',\r\n\t\t\ttype: 'select',\r\n\t\t\toptionList: [\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 1,\r\n\t\t\t\t\ttitle: 'Đã nộp bài'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 2,\r\n\t\t\t\t\ttitle: 'Đang chấm bài'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 3,\r\n\t\t\t\t\ttitle: 'Đã chấm bài'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 4,\r\n\t\t\t\t\ttitle: 'Đang chấm bài lại'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 5,\r\n\t\t\t\t\ttitle: 'Đã chấm bài lại'\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tvalue: null\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'date-range',\r\n\t\t\ttitle: 'Ngày tạo',\r\n\t\t\tcol: 'col-12',\r\n\t\t\ttype: 'date-range',\r\n\t\t\tvalue: null\r\n\t\t}\r\n\t])\r\n\r\n\t// GET DATA SOURCE\r\n\tconst getDataSource = async () => {\r\n\t\tsetIsLoading({ type: 'GET_ALL', status: true })\r\n\t\ttry {\r\n\t\t\tlet res = await packageResultApi.getAll(todoApi)\r\n\t\t\tres.status == 200 && (setDataSource(res.data.data), setTotalPage(res.data.totalRow))\r\n\t\t\tres.status == 204 && setDataSource([])\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({ type: 'GET_ALL', status: false })\r\n\t\t}\r\n\t}\r\n\r\n\tconst onSearch = (data) => {\r\n\t\tsetCurrentPage(1)\r\n\t\tsetTodoApi({ ...listTodoApi, StudentName: data })\r\n\t}\r\n\r\n\tconst handleReset = () => {\r\n\t\tsetCurrentPage(1)\r\n\t\tsetTodoApi(listTodoApi)\r\n\t}\r\n\r\n\t// -------------- GET PAGE_NUMBER -----------------\r\n\tconst getPagination = (pageNumber: number) => {\r\n\t\tsetCurrentPage(pageNumber)\r\n\t\tsetTodoApi({ ...todoApi, pageIndex: pageNumber })\r\n\t}\r\n\r\n\t// --------------- HANDLE SORT ----------------------\r\n\tconst handleSort = (option) => {\r\n\t\tlet newTodoApi = {\r\n\t\t\t...listTodoApi,\r\n\t\t\tpageIndex: 1,\r\n\t\t\tsort: option.title.sort,\r\n\t\t\tsortType: option.title.sortType\r\n\t\t}\r\n\t\tsetCurrentPage(1), setTodoApi(newTodoApi)\r\n\t}\r\n\r\n\t// -------------- HANDLE FILTER ------------------\r\n\tconst handleFilter = (listFilter) => {\r\n\t\tconsole.log('List Filter: ', listFilter)\r\n\t\tlet newListFilter = { ...listFieldFilter }\r\n\t\tlistFilter.forEach((item, index) => {\r\n\t\t\tlet key = item.name\r\n\t\t\tObject.keys(newListFilter).forEach((keyFilter) => {\r\n\t\t\t\tif (keyFilter == key) {\r\n\t\t\t\t\tnewListFilter[key] = item.value\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t})\r\n\t\tsetTodoApi({ ...listTodoApi, ...newListFilter, pageIndex: 1 })\r\n\t}\r\n\r\n\t// --- Chờ xử lí ---\r\n\tconst handleWaitingMarking = () => {\r\n\t\tif (userInformation) {\r\n\t\t\tsetTextHeader('Bài tập chờ xử lí')\r\n\t\t\tsetTodoApi({ ...listTodoApi, isDone: false, TeacherID: userInformation.UserInformationID })\r\n\t\t\tsetCurrentPage(1)\r\n\t\t} else {\r\n\t\t\tshowNoti('danger', 'Chờ chút bạn đang thao tác quá nhanh')\r\n\t\t}\r\n\t}\r\n\r\n\t// --- Hiển thị những bài đã chấm ---\r\n\tconst handleShowMarked = () => {\r\n\t\tif (userInformation) {\r\n\t\t\tsetTextHeader('Bài tập đã chấm')\r\n\t\t\tsetTodoApi({ ...listTodoApi, StatusID: 3, TeacherID: userInformation.UserInformationID, isDone: true })\r\n\t\t\tsetCurrentPage(1)\r\n\t\t} else {\r\n\t\t\tshowNoti('danger', 'Chờ chút bạn đang thao tác quá nhanh')\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleShowNotMarked = () => {\r\n\t\tif (userInformation) {\r\n\t\t\tsetTextHeader('Bài tập chưa có giáo viên chấm')\r\n\t\t\tsetTodoApi({ ...listTodoApi, StatusID: 2, TeacherID: 0 })\r\n\t\t} else {\r\n\t\t\tshowNoti('danger', 'Chờ chút bạn đang thao tác quá nhanh')\r\n\t\t}\r\n\t}\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Học viên',\r\n\t\t\tdataIndex: 'StudentName',\r\n\t\t\t...FilterColumn('FullNameUnicode', onSearch, handleReset, 'text'),\r\n\t\t\trender: (text) => <p className=\"font-weight-primary\">{text}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Đề thi',\r\n\t\t\tdataIndex: 'ExamTopicName',\r\n\t\t\trender: (text, data) =>\r\n\t\t\t\tdata.TeacherID === userInformation.UserInformationID ? (\r\n\t\t\t\t\t<Link\r\n\t\t\t\t\t\thref={{\r\n\t\t\t\t\t\t\tpathname: '/package/package-result-teacher/detail/[slug]',\r\n\t\t\t\t\t\t\tquery: { slug: `${data.ID}`, teacherMarking: data.TeacherID, packageResultID: data.ID }\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<a href=\"#\" className=\"font-weight-black\">\r\n\t\t\t\t\t\t\t{text}\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<p className=\"font-weight-black\">{text}</p>\r\n\t\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Level',\r\n\t\t\tdataIndex: 'SetPackageLevel',\r\n\t\t\trender: (text) => <p className=\"font-weight-black\">{text}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Giáo viên chấm bài',\r\n\t\t\tdataIndex: 'TeacherName',\r\n\t\t\trender: (text, data) => (\r\n\t\t\t\t<p\r\n\t\t\t\t\tclassName=\"font-weight-primary\"\r\n\t\t\t\t\tstyle={{ color: data.TeacherID == userInformation?.UserInformationID ? '#205286' : _.primaryColor }}\r\n\t\t\t\t>\r\n\t\t\t\t\t{text}\r\n\t\t\t\t</p>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Trạng thái',\r\n\t\t\tdataIndex: 'isDone',\r\n\t\t\trender: (type) => (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{type == true && <span className=\"tag green\">Đã chấm xong</span>}\r\n\t\t\t\t\t{type == false && <span className=\"tag gray\">Chưa chấm xong</span>}\r\n\t\t\t\t</>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\twidth: 120,\r\n\t\t\ttitle: 'Yêu cầu chấm',\r\n\t\t\tdataIndex: 'isFixPaid',\r\n\t\t\talign: 'center',\r\n\t\t\trender: (type, data) => (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{(data.StatusID == 3 || data.StatusID == 5 || data.StatusID == 1) && (\r\n\t\t\t\t\t\t<Tooltip title=\"Chưa yêu cầu chấm\">\r\n\t\t\t\t\t\t\t<CloseOutlined className=\"delete custom\" />\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{(data.isFixPaid || data.isReevaluate) &&\r\n\t\t\t\t\t\t(data.StatusID == 2 ? (\r\n\t\t\t\t\t\t\t<Tooltip title=\"Yêu cầu chấm bài\">\r\n\t\t\t\t\t\t\t\t<CheckOutlined className=\"success custom\" />\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tdata.StatusID == 4 && (\r\n\t\t\t\t\t\t\t\t<Tooltip title=\"Yêu cầu chấm bài lại\">\r\n\t\t\t\t\t\t\t\t\t<RedoOutlined className=\"success custom\" />\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t</>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\twidth: 120,\r\n\t\t\ttitle: 'Nhận chấm bài',\r\n\t\t\talign: 'center',\r\n\t\t\trender: (data) =>\r\n\t\t\t\t!data.TeacherID &&\r\n\t\t\t\t(data.isFixPaid || data.isReevaluate) && (\r\n\t\t\t\t\t<TakeMarking\r\n\t\t\t\t\t\tloadingMarking={false}\r\n\t\t\t\t\t\tuserID={userInformation.UserInformationID}\r\n\t\t\t\t\t\tonFetchTaking={() => setTodoApi({ ...todoApi })}\r\n\t\t\t\t\t\tdataRow={data}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\trender: (data) => (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{data.TeacherID === userInformation.UserInformationID && (data.StatusID == 2 || data.StatusID == 4) && (\r\n\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\thref={{\r\n\t\t\t\t\t\t\t\tpathname: '/package/package-result-teacher/detail/[slug]',\r\n\t\t\t\t\t\t\t\tquery: { slug: `${data.ID}`, teacherMarking: data.TeacherID, packageResultID: data.ID, type: 'examination' }\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Tooltip title=\"Chấm bài ngay\">\r\n\t\t\t\t\t\t\t\t<button className=\"btn btn-icon edit\">\r\n\t\t\t\t\t\t\t\t\t<FormOutlined />\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</>\r\n\t\t\t)\r\n\t\t}\r\n\t]\r\n\r\n\tconst expandedRowRender = (data, index) => {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<PackageResultExpand infoID={data.ID} />\r\n\t\t\t</>\r\n\t\t)\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userInformation) {\r\n\t\t\tgetDataSource()\r\n\t\t}\r\n\t}, [todoApi])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userInformation) {\r\n\t\t\tsetTodoApi({ ...todoApi, TeacherID: userInformation.UserInformationID })\r\n\t\t}\r\n\t}, [userInformation])\r\n\r\n\tconst contentButton = (\r\n\t\t<div>\r\n\t\t\t<button className=\"light btn btn-warning mb-2 d-block w-100 text-center\" onClick={handleShowNotMarked}>\r\n\t\t\t\tChưa có ai chấm\r\n\t\t\t</button>\r\n\t\t\t<button className=\"light btn btn-secondary mb-2 d-block w-100 text-center\" onClick={handleShowMarked}>\r\n\t\t\t\tĐã chấm\r\n\t\t\t</button>\r\n\t\t\t<button className=\"light btn btn-danger mb-2 d-block w-100 text-center\" onClick={handleWaitingMarking}>\r\n\t\t\t\tChờ xử lí\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t)\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<ExpandTable\r\n\t\t\t\tcurrentPage={currentPage}\r\n\t\t\t\tloading={isLoading}\r\n\t\t\t\ttotalPage={totalPage && totalPage}\r\n\t\t\t\tgetPagination={(pageNumber: number) => getPagination(pageNumber)}\r\n\t\t\t\taddClass=\"basic-header\"\r\n\t\t\t\tTitlePage={textHeader}\r\n\t\t\t\tdataSource={dataSource}\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tTitleCard={\r\n\t\t\t\t\t<Popover content={contentButton} placement=\"bottomRight\" title={null} trigger=\"hover\">\r\n\t\t\t\t\t\t<button className=\"btn btn-warning\">Trạng thái</button>\r\n\t\t\t\t\t</Popover>\r\n\t\t\t\t}\r\n\t\t\t\tExtra={\r\n\t\t\t\t\t<div className=\"extra-table\">\r\n\t\t\t\t\t\t<FilterBase dataFilter={dataFilter} handleFilter={(listFilter: any) => handleFilter(listFilter)} handleReset={handleReset} />\r\n\t\t\t\t\t\t<SortBox dataOption={sortOption} handleSort={(value) => handleSort(value)} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\texpandable={{ expandedRowRender }}\r\n\t\t\t/>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nPackageResultTeacher.layout = LayoutBase\r\nexport default PackageResultTeacher\r\n"]},"metadata":{},"sourceType":"module"}