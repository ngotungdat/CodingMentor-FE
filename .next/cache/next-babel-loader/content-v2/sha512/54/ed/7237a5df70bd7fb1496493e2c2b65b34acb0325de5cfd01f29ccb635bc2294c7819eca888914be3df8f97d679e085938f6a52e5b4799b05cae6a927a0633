{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\LoginForm\\\\index.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState, useEffect } from 'react';\nimport { useForm } from 'react-hook-form';\nimport styles from './LoginForm.module.scss';\nimport { useRouter } from 'next/router';\nimport { Spin } from 'antd';\nimport Link from 'next/link';\nimport GoogleLogin from 'react-google-login';\n// SOCIAL LOGIN\nconst _GGID = '286438363258-2m8pd3kodajdum37gf5dm5e1f6foa79q.apps.googleusercontent.com'; // Mona LMS 2.0\n\nconst _FBID = '307603871338212';\n\nfunction index(props) {\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm();\n  const router = useRouter();\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  useEffect(() => {\n    // Load the required SDK\n    ;\n\n    (function (d, s, id) {\n      var js,\n          fjs = d.getElementsByTagName(s)[0];\n      if (d.getElementById(id)) return;\n      js = d.createElement(s);\n      js.id = id;\n      js.src = '//connect.facebook.net/en_US/sdk.js';\n      fjs.parentNode.insertBefore(js, fjs);\n    })(document, 'script', 'facebook-jssdk'); // @ts-ignore\n\n\n    window.fbAsyncInit = function () {\n      // @ts-ignore\n      window.FB.init({\n        appId: _FBID,\n        cookie: true,\n        xfbml: true,\n        version: 'v2.8'\n      });\n    };\n\n    return () => {};\n  }, []);\n\n  const facebookLogin = () => {\n    // @ts-ignore\n    window.FB.login(function (resp) {\n      if ((resp === null || resp === void 0 ? void 0 : resp.status) == 'connected') {\n        var _resp$authResponse, _resp$authResponse2;\n\n        setLoading(true);\n        props === null || props === void 0 ? void 0 : props.onSubmit({\n          tokenId: resp === null || resp === void 0 ? void 0 : (_resp$authResponse = resp.authResponse) === null || _resp$authResponse === void 0 ? void 0 : _resp$authResponse.accessToken,\n          type: 'facebook',\n          isSocial: true,\n          username: resp === null || resp === void 0 ? void 0 : (_resp$authResponse2 = resp.authResponse) === null || _resp$authResponse2 === void 0 ? void 0 : _resp$authResponse2.userID,\n          password: '123456'\n        });\n      }\n    });\n  };\n\n  const _Submit = async data => {\n    setLoading(true);\n    props === null || props === void 0 ? void 0 : props.onSubmit(data);\n  };\n\n  const moveToSignUp = e => {\n    e.preventDefault();\n    router.push('/account/register');\n  };\n\n  const handleGoogleLogin = param => {\n    setLoading(true);\n    props === null || props === void 0 ? void 0 : props.onSubmit(_objectSpread(_objectSpread({}, param), {}, {\n      type: 'google',\n      isSocial: true,\n      username: param.profileObj.email,\n      password: '123456'\n    }));\n  }; // RENDER\n\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.container,\n      style: {\n        marginTop: 70\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.wrapBox,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.wrapForm,\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit(_Submit),\n            className: styles.loginForm,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.loginFormImg,\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"/images/logo.jpg\",\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n              className: styles.title,\n              children: \"\\u0110\\u0103ng nh\\u1EADp\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"csrfToken\",\n              type: \"hidden\",\n              defaultValue: props === null || props === void 0 ? void 0 : props.csrfToken\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: styles.fcontrol,\n              children: \"T\\xEAn \\u0111\\u0103ng nh\\u1EADp\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", _objectSpread(_objectSpread({\n              name: \"username\",\n              defaultValue: \"\"\n            }, register('username', {\n              required: true,\n              validate: value => {\n                return !!value.trim();\n              },\n              setValueAs: value => value.trim()\n            })), {}, {\n              placeholder: \"Nh\\u1EADp t\\xEAn \\u0111\\u0103ng nh\\u1EADp\"\n            }), void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 8\n            }, this), errors.username && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"form-error\",\n              children: \"H\\xE3y \\u0111i\\u1EC1n t\\xEAn \\u0111\\u0103ng nh\\u1EADp\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 28\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: styles.fcontrol,\n              children: \"M\\u1EADt kh\\u1EA9u\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", _objectSpread(_objectSpread({\n              name: \"password\",\n              type: \"password\",\n              defaultValue: \"\"\n            }, register('password', {\n              required: true\n            })), {}, {\n              placeholder: \"Nh\\u1EADp m\\u1EADt kh\\u1EA9u\"\n            }), void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 8\n            }, this), errors.password && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"form-error\",\n              children: \"H\\xE3y \\u0111i\\u1EC1n m\\u1EADt kh\\u1EA9u\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 28\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-2 d-flex justify-content-end\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.forgetPass,\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  href: \"/reset-password\",\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    children: \"Qu\\xEAn m\\u1EADt kh\\u1EA9u?\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 127,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"position-relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"submit\",\n                value: 'Đăng nhập'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 9\n              }, this), loading && /*#__PURE__*/_jsxDEV(Spin, {\n                className: \"loading-login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-100 m-1 text-center color-red fw-bold\",\n                children: props.error && props.error\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row m-0 p-0 social-login\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"wrap-google-login\",\n                children: /*#__PURE__*/_jsxDEV(GoogleLogin, {\n                  clientId: _GGID,\n                  onSuccess: handleGoogleLogin,\n                  onFailure: e => console.log(e),\n                  style: {\n                    borderRadius: 999,\n                    backgroundColor: 'red'\n                  },\n                  icon: false,\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: 'flex',\n                      flexDirection: 'row',\n                      alignItems: 'center',\n                      paddingTop: 2\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fab fa-google\",\n                      style: {\n                        fontSize: 20,\n                        marginRight: 8\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 146,\n                      columnNumber: 12\n                    }, this), \" Google\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 145,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"wrap-google-facebook\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  onClick: facebookLogin,\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fab fa-facebook-f\",\n                    style: {\n                      fontSize: 20,\n                      marginRight: 8\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 152,\n                    columnNumber: 11\n                  }, this), \" Facebook\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.boxSignup,\n              children: [\"B\\u1EA1n ch\\u01B0a c\\xF3 t\\xE0i kho\\u1EA3n?\", ' ', /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"\",\n                onClick: moveToSignUp,\n                children: \"\\u0110\\u0103ng k\\xED\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 4\n    }, this)\n  }, void 0, false);\n}\n\nexport default index;","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/LoginForm/index.tsx"],"names":["React","useState","useEffect","useForm","styles","useRouter","Spin","Link","GoogleLogin","_GGID","_FBID","index","props","register","handleSubmit","formState","errors","router","loading","setLoading","d","s","id","js","fjs","getElementsByTagName","getElementById","createElement","src","parentNode","insertBefore","document","window","fbAsyncInit","FB","init","appId","cookie","xfbml","version","facebookLogin","login","resp","status","onSubmit","tokenId","authResponse","accessToken","type","isSocial","username","userID","password","_Submit","data","moveToSignUp","e","preventDefault","push","handleGoogleLogin","param","profileObj","email","container","marginTop","wrapBox","wrapForm","loginForm","loginFormImg","title","csrfToken","fcontrol","required","validate","value","trim","setValueAs","forgetPass","error","console","log","borderRadius","backgroundColor","display","flexDirection","alignItems","paddingTop","fontSize","marginRight","boxSignup"],"mappings":";;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,SAASC,IAAT,QAAqB,MAArB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,WAAP,MAAwB,oBAAxB;AAYA;AACA,MAAMC,KAAK,GAAG,0EAAd,C,CAAyF;;AACzF,MAAMC,KAAK,GAAG,iBAAd;;AAEA,SAASC,KAAT,CAAeC,KAAf,EAA2B;AAC1B,QAAM;AACLC,IAAAA,QADK;AAELC,IAAAA,YAFK;AAGLC,IAAAA,SAAS,EAAE;AAAEC,MAAAA;AAAF;AAHN,MAIFb,OAAO,EAJX;AAMA,QAAMc,MAAM,GAAGZ,SAAS,EAAxB;AACA,QAAM;AAAA,OAACa,OAAD;AAAA,OAAUC;AAAV,MAAwBlB,QAAQ,CAAC,KAAD,CAAtC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACf;AACA;;AAAC,KAAC,UAAUkB,CAAV,EAAaC,CAAb,EAAgBC,EAAhB,EAAoB;AACrB,UAAIC,EAAJ;AAAA,UACCC,GAAG,GAAGJ,CAAC,CAACK,oBAAF,CAAuBJ,CAAvB,EAA0B,CAA1B,CADP;AAEA,UAAID,CAAC,CAACM,cAAF,CAAiBJ,EAAjB,CAAJ,EAA0B;AAC1BC,MAAAA,EAAE,GAAGH,CAAC,CAACO,aAAF,CAAgBN,CAAhB,CAAL;AACAE,MAAAA,EAAE,CAACD,EAAH,GAAQA,EAAR;AACAC,MAAAA,EAAE,CAACK,GAAH,GAAS,qCAAT;AACAJ,MAAAA,GAAG,CAACK,UAAJ,CAAeC,YAAf,CAA4BP,EAA5B,EAAgCC,GAAhC;AACA,KARA,EAQEO,QARF,EAQY,QARZ,EAQsB,gBARtB,EAFc,CAYf;;;AACAC,IAAAA,MAAM,CAACC,WAAP,GAAqB,YAAY;AAChC;AACAD,MAAAA,MAAM,CAACE,EAAP,CAAUC,IAAV,CAAe;AACdC,QAAAA,KAAK,EAAE1B,KADO;AAEd2B,QAAAA,MAAM,EAAE,IAFM;AAGdC,QAAAA,KAAK,EAAE,IAHO;AAIdC,QAAAA,OAAO,EAAE;AAJK,OAAf;AAMA,KARD;;AASA,WAAO,MAAM,CAAE,CAAf;AACA,GAvBQ,EAuBN,EAvBM,CAAT;;AAyBA,QAAMC,aAAa,GAAG,MAAM;AAC3B;AACAR,IAAAA,MAAM,CAACE,EAAP,CAAUO,KAAV,CAAgB,UAAUC,IAAV,EAAqB;AACpC,UAAI,CAAAA,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEC,MAAN,KAAgB,WAApB,EAAiC;AAAA;;AAChCxB,QAAAA,UAAU,CAAC,IAAD,CAAV;AACAP,QAAAA,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAEgC,QAAP,CAAgB;AACfC,UAAAA,OAAO,EAAEH,IAAF,aAAEA,IAAF,6CAAEA,IAAI,CAAEI,YAAR,uDAAE,mBAAoBC,WADd;AAEfC,UAAAA,IAAI,EAAE,UAFS;AAGfC,UAAAA,QAAQ,EAAE,IAHK;AAIfC,UAAAA,QAAQ,EAAER,IAAF,aAAEA,IAAF,8CAAEA,IAAI,CAAEI,YAAR,wDAAE,oBAAoBK,MAJf;AAKfC,UAAAA,QAAQ,EAAE;AALK,SAAhB;AAOA;AACD,KAXD;AAYA,GAdD;;AAgBA,QAAMC,OAAO,GAAG,MAAOC,IAAP,IAAqB;AACpCnC,IAAAA,UAAU,CAAC,IAAD,CAAV;AACAP,IAAAA,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAEgC,QAAP,CAAgBU,IAAhB;AACA,GAHD;;AAKA,QAAMC,YAAY,GAAIC,CAAD,IAAY;AAChCA,IAAAA,CAAC,CAACC,cAAF;AACAxC,IAAAA,MAAM,CAACyC,IAAP,CAAY,mBAAZ;AACA,GAHD;;AAKA,QAAMC,iBAAiB,GAAIC,KAAD,IAAgB;AACzCzC,IAAAA,UAAU,CAAC,IAAD,CAAV;AACAP,IAAAA,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAEgC,QAAP,iCAAqBgB,KAArB;AAA4BZ,MAAAA,IAAI,EAAE,QAAlC;AAA4CC,MAAAA,QAAQ,EAAE,IAAtD;AAA4DC,MAAAA,QAAQ,EAAEU,KAAK,CAACC,UAAN,CAAiBC,KAAvF;AAA8FV,MAAAA,QAAQ,EAAE;AAAxG;AACA,GAHD,CA7D0B,CAkE1B;;;AACA,sBACC;AAAA,2BACC;AAAK,MAAA,SAAS,EAAEhD,MAAM,CAAC2D,SAAvB;AAAkC,MAAA,KAAK,EAAE;AAAEC,QAAAA,SAAS,EAAE;AAAb,OAAzC;AAAA,6BACC;AAAK,QAAA,SAAS,EAAE5D,MAAM,CAAC6D,OAAvB;AAAA,+BACC;AAAK,UAAA,SAAS,EAAE7D,MAAM,CAAC8D,QAAvB;AAAA,iCACC;AAAM,YAAA,QAAQ,EAAEpD,YAAY,CAACuC,OAAD,CAA5B;AAAuC,YAAA,SAAS,EAAEjD,MAAM,CAAC+D,SAAzD;AAAA,oCACC;AAAK,cAAA,SAAS,EAAE/D,MAAM,CAACgE,YAAvB;AAAA,qCACC;AAAK,gBAAA,GAAG,EAAC,kBAAT;AAA4B,gBAAA,GAAG,EAAC;AAAhC;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,oBADD,eAIC;AAAI,cAAA,SAAS,EAAEhE,MAAM,CAACiE,KAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJD,eAKC;AAAO,cAAA,IAAI,EAAC,WAAZ;AAAwB,cAAA,IAAI,EAAC,QAA7B;AAAsC,cAAA,YAAY,EAAEzD,KAAF,aAAEA,KAAF,uBAAEA,KAAK,CAAE0D;AAA3D;AAAA;AAAA;AAAA;AAAA,oBALD,eAMC;AAAO,cAAA,SAAS,EAAElE,MAAM,CAACmE,QAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAND,eAOC;AACC,cAAA,IAAI,EAAC,UADN;AAEC,cAAA,YAAY,EAAC;AAFd,eAGK1D,QAAQ,CAAC,UAAD,EAAa;AACxB2D,cAAAA,QAAQ,EAAE,IADc;AAExBC,cAAAA,QAAQ,EAAGC,KAAD,IAAgB;AACzB,uBAAO,CAAC,CAACA,KAAK,CAACC,IAAN,EAAT;AACA,eAJuB;AAKxBC,cAAAA,UAAU,EAAGF,KAAD,IAAWA,KAAK,CAACC,IAAN;AALC,aAAb,CAHb;AAUC,cAAA,WAAW,EAAC;AAVb;AAAA;AAAA;AAAA;AAAA,oBAPD,EAmBE3D,MAAM,CAACkC,QAAP,iBAAmB;AAAM,cAAA,SAAS,EAAC,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAnBrB,eAoBC;AAAO,cAAA,SAAS,EAAE9C,MAAM,CAACmE,QAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBApBD,eAqBC;AACC,cAAA,IAAI,EAAC,UADN;AAEC,cAAA,IAAI,EAAC,UAFN;AAGC,cAAA,YAAY,EAAC;AAHd,eAIK1D,QAAQ,CAAC,UAAD,EAAa;AAAE2D,cAAAA,QAAQ,EAAE;AAAZ,aAAb,CAJb;AAKC,cAAA,WAAW,EAAC;AALb;AAAA;AAAA;AAAA;AAAA,oBArBD,EA4BExD,MAAM,CAACoC,QAAP,iBAAmB;AAAM,cAAA,SAAS,EAAC,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBA5BrB,eA6BC;AAAK,cAAA,SAAS,EAAC,iCAAf;AAAA,qCACC;AAAK,gBAAA,SAAS,EAAEhD,MAAM,CAACyE,UAAvB;AAAA,uCACC,QAAC,IAAD;AAAM,kBAAA,IAAI,EAAC,iBAAX;AAAA,yCACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,oBA7BD,eAoCC;AAAK,cAAA,SAAS,EAAC,mBAAf;AAAA,sCACC;AAAO,gBAAA,IAAI,EAAC,QAAZ;AAAqB,gBAAA,KAAK,EAAE;AAA5B;AAAA;AAAA;AAAA;AAAA,sBADD,EAEE3D,OAAO,iBAAI,QAAC,IAAD;AAAM,gBAAA,SAAS,EAAC;AAAhB;AAAA;AAAA;AAAA;AAAA,sBAFb,eAGC;AAAK,gBAAA,SAAS,EAAC,yCAAf;AAAA,0BAA0DN,KAAK,CAACkE,KAAN,IAAelE,KAAK,CAACkE;AAA/E;AAAA;AAAA;AAAA;AAAA,sBAHD;AAAA;AAAA;AAAA;AAAA;AAAA,oBApCD,eAyCC;AAAK,cAAA,SAAS,EAAC,0BAAf;AAAA,sCACC;AAAK,gBAAA,SAAS,EAAC,mBAAf;AAAA,uCACC,QAAC,WAAD;AACC,kBAAA,QAAQ,EAAErE,KADX;AAEC,kBAAA,SAAS,EAAEkD,iBAFZ;AAGC,kBAAA,SAAS,EAAGH,CAAD,IAAOuB,OAAO,CAACC,GAAR,CAAYxB,CAAZ,CAHnB;AAIC,kBAAA,KAAK,EAAE;AAAEyB,oBAAAA,YAAY,EAAE,GAAhB;AAAqBC,oBAAAA,eAAe,EAAE;AAAtC,mBAJR;AAKC,kBAAA,IAAI,EAAE,KALP;AAAA,yCAOC;AAAK,oBAAA,KAAK,EAAE;AAAEC,sBAAAA,OAAO,EAAE,MAAX;AAAmBC,sBAAAA,aAAa,EAAE,KAAlC;AAAyCC,sBAAAA,UAAU,EAAE,QAArD;AAA+DC,sBAAAA,UAAU,EAAE;AAA3E,qBAAZ;AAAA,4CACC;AAAG,sBAAA,SAAS,EAAC,eAAb;AAA6B,sBAAA,KAAK,EAAE;AAAEC,wBAAAA,QAAQ,EAAE,EAAZ;AAAgBC,wBAAAA,WAAW,EAAE;AAA7B;AAApC;AAAA;AAAA;AAAA;AAAA,4BADD;AAAA;AAAA;AAAA;AAAA;AAAA;AAPD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,sBADD,eAcC;AAAK,gBAAA,SAAS,EAAC,sBAAf;AAAA,uCACC;AAAK,kBAAA,OAAO,EAAEhD,aAAd;AAAA,0CACC;AAAG,oBAAA,SAAS,EAAC,mBAAb;AAAiC,oBAAA,KAAK,EAAE;AAAE+C,sBAAAA,QAAQ,EAAE,EAAZ;AAAgBC,sBAAAA,WAAW,EAAE;AAA7B;AAAxC;AAAA;AAAA;AAAA;AAAA,0BADD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,sBAdD;AAAA;AAAA;AAAA;AAAA;AAAA,oBAzCD,eA6DC;AAAK,cAAA,SAAS,EAAEpF,MAAM,CAACqF,SAAvB;AAAA,wEACwB,GADxB,eAEC;AAAG,gBAAA,IAAI,EAAC,EAAR;AAAW,gBAAA,OAAO,EAAElC,YAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,oBA7DD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD,mBADD;AA8EA;;AAED,eAAe5C,KAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { useForm } from 'react-hook-form'\r\nimport styles from './LoginForm.module.scss'\r\nimport { useRouter } from 'next/router'\r\nimport { Spin } from 'antd'\r\nimport Link from 'next/link'\r\nimport GoogleLogin from 'react-google-login'\r\n\r\ntype Inputs = {\r\n\ttext: string\r\n\ttextRequired: string\r\n}\r\n\r\ninterface LoginInputs {\r\n\tusername: Inputs\r\n\tpassword: Inputs\r\n}\r\n\r\n// SOCIAL LOGIN\r\nconst _GGID = '286438363258-2m8pd3kodajdum37gf5dm5e1f6foa79q.apps.googleusercontent.com' // Mona LMS 2.0\r\nconst _FBID = '307603871338212'\r\n\r\nfunction index(props: any) {\r\n\tconst {\r\n\t\tregister,\r\n\t\thandleSubmit,\r\n\t\tformState: { errors }\r\n\t} = useForm<LoginInputs>()\r\n\r\n\tconst router = useRouter()\r\n\tconst [loading, setLoading] = useState(false)\r\n\r\n\tuseEffect(() => {\r\n\t\t// Load the required SDK\r\n\t\t;(function (d, s, id) {\r\n\t\t\tvar js,\r\n\t\t\t\tfjs = d.getElementsByTagName(s)[0]\r\n\t\t\tif (d.getElementById(id)) return\r\n\t\t\tjs = d.createElement(s)\r\n\t\t\tjs.id = id\r\n\t\t\tjs.src = '//connect.facebook.net/en_US/sdk.js'\r\n\t\t\tfjs.parentNode.insertBefore(js, fjs)\r\n\t\t})(document, 'script', 'facebook-jssdk')\r\n\r\n\t\t// @ts-ignore\r\n\t\twindow.fbAsyncInit = function () {\r\n\t\t\t// @ts-ignore\r\n\t\t\twindow.FB.init({\r\n\t\t\t\tappId: _FBID,\r\n\t\t\t\tcookie: true,\r\n\t\t\t\txfbml: true,\r\n\t\t\t\tversion: 'v2.8'\r\n\t\t\t})\r\n\t\t}\r\n\t\treturn () => {}\r\n\t}, [])\r\n\r\n\tconst facebookLogin = () => {\r\n\t\t// @ts-ignore\r\n\t\twindow.FB.login(function (resp: any) {\r\n\t\t\tif (resp?.status == 'connected') {\r\n\t\t\t\tsetLoading(true)\r\n\t\t\t\tprops?.onSubmit({\r\n\t\t\t\t\ttokenId: resp?.authResponse?.accessToken,\r\n\t\t\t\t\ttype: 'facebook',\r\n\t\t\t\t\tisSocial: true,\r\n\t\t\t\t\tusername: resp?.authResponse?.userID,\r\n\t\t\t\t\tpassword: '123456'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tconst _Submit = async (data: any) => {\r\n\t\tsetLoading(true)\r\n\t\tprops?.onSubmit(data)\r\n\t}\r\n\r\n\tconst moveToSignUp = (e: any) => {\r\n\t\te.preventDefault()\r\n\t\trouter.push('/account/register')\r\n\t}\r\n\r\n\tconst handleGoogleLogin = (param: any) => {\r\n\t\tsetLoading(true)\r\n\t\tprops?.onSubmit({ ...param, type: 'google', isSocial: true, username: param.profileObj.email, password: '123456' })\r\n\t}\r\n\r\n\t// RENDER\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className={styles.container} style={{ marginTop: 70 }}>\r\n\t\t\t\t<div className={styles.wrapBox}>\r\n\t\t\t\t\t<div className={styles.wrapForm}>\r\n\t\t\t\t\t\t<form onSubmit={handleSubmit(_Submit)} className={styles.loginForm}>\r\n\t\t\t\t\t\t\t<div className={styles.loginFormImg}>\r\n\t\t\t\t\t\t\t\t<img src=\"/images/logo.jpg\" alt=\"\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<h6 className={styles.title}>Đăng nhập</h6>\r\n\t\t\t\t\t\t\t<input name=\"csrfToken\" type=\"hidden\" defaultValue={props?.csrfToken} />\r\n\t\t\t\t\t\t\t<label className={styles.fcontrol}>Tên đăng nhập</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\t\t\tdefaultValue=\"\"\r\n\t\t\t\t\t\t\t\t{...register('username', {\r\n\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\tvalidate: (value: any) => {\r\n\t\t\t\t\t\t\t\t\t\treturn !!value.trim()\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tsetValueAs: (value) => value.trim()\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\tplaceholder=\"Nhập tên đăng nhập\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{errors.username && <span className=\"form-error\">Hãy điền tên đăng nhập</span>}\r\n\t\t\t\t\t\t\t<label className={styles.fcontrol}>Mật khẩu</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\tdefaultValue=\"\"\r\n\t\t\t\t\t\t\t\t{...register('password', { required: true })}\r\n\t\t\t\t\t\t\t\tplaceholder=\"Nhập mật khẩu\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{errors.password && <span className=\"form-error\">Hãy điền mật khẩu</span>}\r\n\t\t\t\t\t\t\t<div className=\"mt-2 d-flex justify-content-end\">\r\n\t\t\t\t\t\t\t\t<div className={styles.forgetPass}>\r\n\t\t\t\t\t\t\t\t\t<Link href=\"/reset-password\">\r\n\t\t\t\t\t\t\t\t\t\t<a>Quên mật khẩu?</a>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"position-relative\">\r\n\t\t\t\t\t\t\t\t<input type=\"submit\" value={'Đăng nhập'} />\r\n\t\t\t\t\t\t\t\t{loading && <Spin className=\"loading-login\" />}\r\n\t\t\t\t\t\t\t\t<div className=\"w-100 m-1 text-center color-red fw-bold\">{props.error && props.error}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row m-0 p-0 social-login\">\r\n\t\t\t\t\t\t\t\t<div className=\"wrap-google-login\">\r\n\t\t\t\t\t\t\t\t\t<GoogleLogin\r\n\t\t\t\t\t\t\t\t\t\tclientId={_GGID}\r\n\t\t\t\t\t\t\t\t\t\tonSuccess={handleGoogleLogin}\r\n\t\t\t\t\t\t\t\t\t\tonFailure={(e) => console.log(e)}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ borderRadius: 999, backgroundColor: 'red' }}\r\n\t\t\t\t\t\t\t\t\t\ticon={false}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', flexDirection: 'row', alignItems: 'center', paddingTop: 2 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"fab fa-google\" style={{ fontSize: 20, marginRight: 8 }}></i> Google\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</GoogleLogin>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"wrap-google-facebook\">\r\n\t\t\t\t\t\t\t\t\t<div onClick={facebookLogin}>\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"fab fa-facebook-f\" style={{ fontSize: 20, marginRight: 8 }}></i> Facebook\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className={styles.boxSignup}>\r\n\t\t\t\t\t\t\t\tBạn chưa có tài khoản?{' '}\r\n\t\t\t\t\t\t\t\t<a href=\"\" onClick={moveToSignUp}>\r\n\t\t\t\t\t\t\t\t\tĐăng kí\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default index\r\n"]},"metadata":{},"sourceType":"module"}