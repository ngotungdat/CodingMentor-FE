{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\pages\\\\course\\\\calendar\\\\index.tsx\";\nimport { Card } from 'antd';\nimport React, { useLayoutEffect } from 'react';\nimport { useState } from 'react';\nimport { CalendarApi } from '~/apiBase/Calendar/calendar';\nimport CourseCalendar from '~/components/CourseCalendar';\nimport LayoutBase from '~/components/LayoutBase';\nimport { useWrap } from '~/context/wrap';\n\nconst CouCalen = () => {\n  const {\n    getTitlePage,\n    showNoti,\n    userInformation\n  } = useWrap();\n  const {\n    0: calendarEvents,\n    1: setEvents\n  } = useState([]);\n  const {\n    0: videoCourses,\n    1: setVideoCourses\n  } = useState([]);\n\n  const isTeach = () => {\n    return !!userInformation && userInformation.RoleID == 2 ? true : false;\n  };\n\n  const isAdOrTeach = () => {\n    return !!userInformation && (userInformation.RoleID == 1 || isTeach()) ? true : false;\n  };\n\n  useLayoutEffect(() => {\n    _getData();\n  }, [userInformation]);\n\n  const _getData = () => {\n    isAdOrTeach() && getTeacherEvents();\n  };\n\n  const getTeacherEvents = async () => {\n    try {\n      const res = await CalendarApi.getCalendarEvents();\n      res.status == 200 && setEvents(res.data.data);\n    } catch (error) {\n      showNoti('danger', error === null || error === void 0 ? void 0 : error.message);\n    } finally {\n      isTeach() && getVideoCourseCalendar();\n    }\n  };\n\n  const getVideoCourseCalendar = async () => {\n    try {\n      const res = await CalendarApi.getOpenCalendar();\n      res.status == 200 && setVideoCourses(res.data.data);\n    } catch (error) {\n      showNoti('danger', error === null || error === void 0 ? void 0 : error.message);\n    }\n  };\n\n  const _formatEvents = param => {\n    let temp = [];\n\n    if (!!param) {\n      for (let i = 0; i < param.length; i++) {\n        let event = param[i];\n        temp.push({\n          id: event === null || event === void 0 ? void 0 : event.ID,\n          name: event === null || event === void 0 ? void 0 : event.VideoCourseName,\n          title: (event === null || event === void 0 ? void 0 : event.sTime) + ' - ' + (event === null || event === void 0 ? void 0 : event.eTime),\n          allDay: true,\n          start: new Date(event === null || event === void 0 ? void 0 : event.sDateTime),\n          end: new Date(event === null || event === void 0 ? void 0 : event.eDateTime),\n          sTime: event === null || event === void 0 ? void 0 : event.sTime,\n          eTime: event === null || event === void 0 ? void 0 : event.eTime,\n          OpenDate: event === null || event === void 0 ? void 0 : event.OpenDate,\n          resource: param[i]\n        });\n      }\n    }\n\n    console.log('_formatEvents: ', temp);\n    return temp;\n  };\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    children: [getTitlePage('Đăng ký lịch'), /*#__PURE__*/_jsxDEV(CourseCalendar, {\n      getData: _getData,\n      events: _formatEvents(calendarEvents),\n      courses: videoCourses\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 3\n  }, this);\n};\n\nCouCalen.layout = LayoutBase;\nexport default CouCalen;","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/pages/course/calendar/index.tsx"],"names":["Card","React","useLayoutEffect","useState","CalendarApi","CourseCalendar","LayoutBase","useWrap","CouCalen","getTitlePage","showNoti","userInformation","calendarEvents","setEvents","videoCourses","setVideoCourses","isTeach","RoleID","isAdOrTeach","_getData","getTeacherEvents","res","getCalendarEvents","status","data","error","message","getVideoCourseCalendar","getOpenCalendar","_formatEvents","param","temp","i","length","event","push","id","ID","name","VideoCourseName","title","sTime","eTime","allDay","start","Date","sDateTime","end","eDateTime","OpenDate","resource","console","log","layout"],"mappings":";;AAAA,SAASA,IAAT,QAA8B,MAA9B;AACA,OAAOC,KAAP,IAA2BC,eAA3B,QAAkD,OAAlD;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,SAASC,WAAT,QAA4B,6BAA5B;AACA,OAAOC,cAAP,MAA2B,6BAA3B;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,SAASC,OAAT,QAAwB,gBAAxB;;AAEA,MAAMC,QAAQ,GAAG,MAAM;AACtB,QAAM;AAAEC,IAAAA,YAAF;AAAgBC,IAAAA,QAAhB;AAA0BC,IAAAA;AAA1B,MAA8CJ,OAAO,EAA3D;AAEA,QAAM;AAAA,OAACK,cAAD;AAAA,OAAiBC;AAAjB,MAA8BV,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM;AAAA,OAACW,YAAD;AAAA,OAAeC;AAAf,MAAkCZ,QAAQ,CAAC,EAAD,CAAhD;;AAEA,QAAMa,OAAO,GAAG,MAAM;AACrB,WAAO,CAAC,CAACL,eAAF,IAAqBA,eAAe,CAACM,MAAhB,IAA0B,CAA/C,GAAmD,IAAnD,GAA0D,KAAjE;AACA,GAFD;;AAIA,QAAMC,WAAW,GAAG,MAAM;AACzB,WAAO,CAAC,CAACP,eAAF,KAAsBA,eAAe,CAACM,MAAhB,IAA0B,CAA1B,IAA+BD,OAAO,EAA5D,IAAkE,IAAlE,GAAyE,KAAhF;AACA,GAFD;;AAIAd,EAAAA,eAAe,CAAC,MAAM;AACrBiB,IAAAA,QAAQ;AACR,GAFc,EAEZ,CAACR,eAAD,CAFY,CAAf;;AAIA,QAAMQ,QAAQ,GAAG,MAAM;AACtBD,IAAAA,WAAW,MAAME,gBAAgB,EAAjC;AACA,GAFD;;AAIA,QAAMA,gBAAgB,GAAG,YAAY;AACpC,QAAI;AACH,YAAMC,GAAQ,GAAG,MAAMjB,WAAW,CAACkB,iBAAZ,EAAvB;AACAD,MAAAA,GAAG,CAACE,MAAJ,IAAc,GAAd,IAAqBV,SAAS,CAACQ,GAAG,CAACG,IAAJ,CAASA,IAAV,CAA9B;AACA,KAHD,CAGE,OAAOC,KAAP,EAAc;AACff,MAAAA,QAAQ,CAAC,QAAD,EAAWe,KAAX,aAAWA,KAAX,uBAAWA,KAAK,CAAEC,OAAlB,CAAR;AACA,KALD,SAKU;AACTV,MAAAA,OAAO,MAAMW,sBAAsB,EAAnC;AACA;AACD,GATD;;AAWA,QAAMA,sBAAsB,GAAG,YAAY;AAC1C,QAAI;AACH,YAAMN,GAAQ,GAAG,MAAMjB,WAAW,CAACwB,eAAZ,EAAvB;AACAP,MAAAA,GAAG,CAACE,MAAJ,IAAc,GAAd,IAAqBR,eAAe,CAACM,GAAG,CAACG,IAAJ,CAASA,IAAV,CAApC;AACA,KAHD,CAGE,OAAOC,KAAP,EAAc;AACff,MAAAA,QAAQ,CAAC,QAAD,EAAWe,KAAX,aAAWA,KAAX,uBAAWA,KAAK,CAAEC,OAAlB,CAAR;AACA;AACD,GAPD;;AASA,QAAMG,aAAa,GAAIC,KAAD,IAAgB;AACrC,QAAIC,IAAS,GAAG,EAAhB;;AACA,QAAI,CAAC,CAACD,KAAN,EAAa;AACZ,WAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,KAAK,CAACG,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACtC,YAAIE,KAAK,GAAGJ,KAAK,CAACE,CAAD,CAAjB;AACAD,QAAAA,IAAI,CAACI,IAAL,CAAU;AACTC,UAAAA,EAAE,EAAEF,KAAF,aAAEA,KAAF,uBAAEA,KAAK,CAAEG,EADF;AAETC,UAAAA,IAAI,EAAEJ,KAAF,aAAEA,KAAF,uBAAEA,KAAK,CAAEK,eAFJ;AAGTC,UAAAA,KAAK,EAAE,CAAAN,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAEO,KAAP,IAAe,KAAf,IAAuBP,KAAvB,aAAuBA,KAAvB,uBAAuBA,KAAK,CAAEQ,KAA9B,CAHE;AAITC,UAAAA,MAAM,EAAE,IAJC;AAKTC,UAAAA,KAAK,EAAE,IAAIC,IAAJ,CAASX,KAAT,aAASA,KAAT,uBAASA,KAAK,CAAEY,SAAhB,CALE;AAMTC,UAAAA,GAAG,EAAE,IAAIF,IAAJ,CAASX,KAAT,aAASA,KAAT,uBAASA,KAAK,CAAEc,SAAhB,CANI;AAOTP,UAAAA,KAAK,EAAEP,KAAF,aAAEA,KAAF,uBAAEA,KAAK,CAAEO,KAPL;AAQTC,UAAAA,KAAK,EAAER,KAAF,aAAEA,KAAF,uBAAEA,KAAK,CAAEQ,KARL;AASTO,UAAAA,QAAQ,EAAEf,KAAF,aAAEA,KAAF,uBAAEA,KAAK,CAAEe,QATR;AAUTC,UAAAA,QAAQ,EAAEpB,KAAK,CAACE,CAAD;AAVN,SAAV;AAYA;AACD;;AACDmB,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BrB,IAA/B;AACA,WAAOA,IAAP;AACA,GArBD;;AAuBA,sBACC,QAAC,IAAD;AAAA,eACEtB,YAAY,CAAC,cAAD,CADd,eAEC,QAAC,cAAD;AAAgB,MAAA,OAAO,EAAEU,QAAzB;AAAmC,MAAA,MAAM,EAAEU,aAAa,CAACjB,cAAD,CAAxD;AAA0E,MAAA,OAAO,EAAEE;AAAnF;AAAA;AAAA;AAAA;AAAA,YAFD;AAAA;AAAA;AAAA;AAAA;AAAA,UADD;AAMA,CAvED;;AAyEAN,QAAQ,CAAC6C,MAAT,GAAkB/C,UAAlB;AACA,eAAeE,QAAf","sourcesContent":["import { Card, message } from 'antd'\r\nimport React, { useEffect, useLayoutEffect } from 'react'\r\nimport { useState } from 'react'\r\nimport { CalendarApi } from '~/apiBase/Calendar/calendar'\r\nimport CourseCalendar from '~/components/CourseCalendar'\r\nimport LayoutBase from '~/components/LayoutBase'\r\nimport { useWrap } from '~/context/wrap'\r\n\r\nconst CouCalen = () => {\r\n\tconst { getTitlePage, showNoti, userInformation } = useWrap()\r\n\r\n\tconst [calendarEvents, setEvents] = useState([])\r\n\tconst [videoCourses, setVideoCourses] = useState([])\r\n\r\n\tconst isTeach = () => {\r\n\t\treturn !!userInformation && userInformation.RoleID == 2 ? true : false\r\n\t}\r\n\r\n\tconst isAdOrTeach = () => {\r\n\t\treturn !!userInformation && (userInformation.RoleID == 1 || isTeach()) ? true : false\r\n\t}\r\n\r\n\tuseLayoutEffect(() => {\r\n\t\t_getData()\r\n\t}, [userInformation])\r\n\r\n\tconst _getData = () => {\r\n\t\tisAdOrTeach() && getTeacherEvents()\r\n\t}\r\n\r\n\tconst getTeacherEvents = async () => {\r\n\t\ttry {\r\n\t\t\tconst res: any = await CalendarApi.getCalendarEvents()\r\n\t\t\tres.status == 200 && setEvents(res.data.data)\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error?.message)\r\n\t\t} finally {\r\n\t\t\tisTeach() && getVideoCourseCalendar()\r\n\t\t}\r\n\t}\r\n\r\n\tconst getVideoCourseCalendar = async () => {\r\n\t\ttry {\r\n\t\t\tconst res: any = await CalendarApi.getOpenCalendar()\r\n\t\t\tres.status == 200 && setVideoCourses(res.data.data)\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error?.message)\r\n\t\t}\r\n\t}\r\n\r\n\tconst _formatEvents = (param: any) => {\r\n\t\tlet temp: any = []\r\n\t\tif (!!param) {\r\n\t\t\tfor (let i = 0; i < param.length; i++) {\r\n\t\t\t\tlet event = param[i]\r\n\t\t\t\ttemp.push({\r\n\t\t\t\t\tid: event?.ID,\r\n\t\t\t\t\tname: event?.VideoCourseName,\r\n\t\t\t\t\ttitle: event?.sTime + ' - ' + event?.eTime,\r\n\t\t\t\t\tallDay: true,\r\n\t\t\t\t\tstart: new Date(event?.sDateTime),\r\n\t\t\t\t\tend: new Date(event?.eDateTime),\r\n\t\t\t\t\tsTime: event?.sTime,\r\n\t\t\t\t\teTime: event?.eTime,\r\n\t\t\t\t\tOpenDate: event?.OpenDate,\r\n\t\t\t\t\tresource: param[i]\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t\tconsole.log('_formatEvents: ', temp)\r\n\t\treturn temp\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Card>\r\n\t\t\t{getTitlePage('Đăng ký lịch')}\r\n\t\t\t<CourseCalendar getData={_getData} events={_formatEvents(calendarEvents)} courses={videoCourses} />\r\n\t\t</Card>\r\n\t)\r\n}\r\n\r\nCouCalen.layout = LayoutBase\r\nexport default CouCalen\r\n"]},"metadata":{},"sourceType":"module"}