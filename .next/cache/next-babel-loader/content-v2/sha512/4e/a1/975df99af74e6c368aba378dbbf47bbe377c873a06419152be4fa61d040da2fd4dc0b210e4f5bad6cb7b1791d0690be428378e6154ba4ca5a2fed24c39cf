{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\pages\\\\customer\\\\service\\\\service-info-student\\\\index.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from 'react';\nimport TitlePage from '~/components/TitlePage';\nimport LayoutBase from '~/components/LayoutBase';\nimport { areaApi, jobApi, puroseApi, branchApi, sourceInfomationApi, parentsApi, staffApi, teacherApi, examTopicApi } from '~/apiBase';\nimport { useWrap } from '~/context/wrap';\nimport StudentForm from '~/components/Global/Customer/Student/StudentForm'; // -- FOR DIFFERENT VIEW --\n\nvar optionGender = [{\n  value: 0,\n  title: 'Nữ'\n}, {\n  value: 1,\n  title: 'Nam'\n}, {\n  value: 0,\n  title: 'Khác'\n}];\nvar listApi = [{\n  api: areaApi,\n  text: 'Tỉnh/Tp',\n  name: 'Area'\n}, {\n  api: jobApi,\n  text: 'Công việc',\n  name: 'Job'\n}, {\n  api: puroseApi,\n  text: 'Mục đích học',\n  name: 'Purposes'\n}, {\n  api: branchApi,\n  text: 'Trung tâm',\n  name: 'Branch'\n}, {\n  api: parentsApi,\n  text: 'Phụ huynh',\n  name: 'Parent'\n}, {\n  api: sourceInfomationApi,\n  text: 'Nguồn khách hàng',\n  name: 'SourceInformation'\n}, {\n  api: staffApi,\n  text: 'Nguồn khách hàng',\n  name: 'Counselors'\n}, {\n  api: teacherApi,\n  text: 'Giáo vên',\n  name: 'Teacher'\n}, {\n  api: examTopicApi,\n  text: 'Đề hẹn test',\n  name: 'Exam'\n}];\n\nvar StudentAppointmentCreate = function StudentAppointmentCreate() {\n  _s();\n\n  var _useState = useState({\n    Area: [],\n    DistrictID: [],\n    WardID: [],\n    Job: [],\n    Branch: [],\n    Purposes: [],\n    SourceInformation: [],\n    Parent: [],\n    Counselors: [],\n    Teacher: [],\n    Exam: []\n  }),\n      listDataForm = _useState[0],\n      setListDataForm = _useState[1];\n\n  var _useWrap = useWrap(),\n      showNoti = _useWrap.showNoti; // FOR STUDENT FORM\n  // ------------- ADD data to list --------------\n\n\n  var makeNewData = function makeNewData(data, name) {\n    var newData = null;\n\n    switch (name) {\n      case 'Area':\n        newData = data.map(function (item) {\n          return {\n            title: item.AreaName,\n            value: item.AreaID\n          };\n        });\n        break;\n\n      case 'DistrictID':\n        newData = data.map(function (item) {\n          return {\n            title: item.DistrictName,\n            value: item.ID\n          };\n        });\n        break;\n\n      case 'WardID':\n        newData = data.map(function (item) {\n          return {\n            title: item.WardName,\n            value: item.ID\n          };\n        });\n        break;\n\n      case 'Branch':\n        newData = data.map(function (item) {\n          return {\n            title: item.BranchName,\n            value: item.ID\n          };\n        });\n        break;\n\n      case 'Job':\n        newData = data.map(function (item) {\n          return {\n            title: item.JobName,\n            value: item.JobID\n          };\n        });\n        break;\n\n      case 'Purposes':\n        newData = data.map(function (item) {\n          return {\n            title: item.PurposesName,\n            value: item.PurposesID\n          };\n        });\n        break;\n\n      case 'Parent':\n        newData = data.map(function (item) {\n          return {\n            title: item.FullNameUnicode,\n            value: item.UserInformationID\n          };\n        });\n        break;\n\n      case 'SourceInformation':\n        newData = data.map(function (item) {\n          return {\n            title: item.SourceInformationName,\n            value: item.SourceInformationID\n          };\n        });\n        break;\n\n      case 'Counselors':\n        newData = data.map(function (item) {\n          return {\n            title: item.FullNameUnicode,\n            value: item.UserInformationID\n          };\n        });\n        break;\n\n      case 'Teacher':\n        newData = data.map(function (item) {\n          return {\n            title: item.FullNameUnicode,\n            value: item.UserInformationID\n          };\n        });\n        break;\n\n      case 'Exam':\n        newData = data.map(function (item) {\n          return {\n            title: item.Name,\n            value: item.ID\n          };\n        });\n\n      default:\n        break;\n    }\n\n    return newData;\n  };\n\n  var getDataTolist = function getDataTolist(data, name) {\n    var newData = makeNewData(data, name);\n    Object.keys(listDataForm).forEach(function (key) {\n      if (key == name) {\n        listDataForm[key] = newData;\n      }\n    });\n    setListDataForm(_objectSpread({}, listDataForm));\n  }; // ----------- GET DATA SOURCE ---------------\n\n\n  var getDataStudentForm = function getDataStudentForm(arrApi) {\n    arrApi.forEach(function (item, index) {\n      _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                res = null;\n                _context.prev = 1;\n\n                if (!(item.name == 'Counselors')) {\n                  _context.next = 8;\n                  break;\n                }\n\n                _context.next = 5;\n                return item.api.getAll({\n                  pageIndex: 1,\n                  pageSize: 9999,\n                  RoleID: 6,\n                  StatusID: 0,\n                  Enable: true\n                });\n\n              case 5:\n                res = _context.sent;\n                _context.next = 23;\n                break;\n\n              case 8:\n                if (!(item.name == 'Exam')) {\n                  _context.next = 14;\n                  break;\n                }\n\n                _context.next = 11;\n                return item.api.getAll({\n                  pageIndex: 1,\n                  pageSize: 9999,\n                  Enable: true,\n                  Type: 1\n                });\n\n              case 11:\n                res = _context.sent;\n                _context.next = 23;\n                break;\n\n              case 14:\n                if (!(item.name == 'Teacher')) {\n                  _context.next = 20;\n                  break;\n                }\n\n                _context.next = 17;\n                return item.api.getAll({\n                  pageIndex: 1,\n                  pageSize: 9999,\n                  Enable: true,\n                  StatusID: 0\n                });\n\n              case 17:\n                res = _context.sent;\n                _context.next = 23;\n                break;\n\n              case 20:\n                _context.next = 22;\n                return item.api.getAll({\n                  pageIndex: 1,\n                  pageSize: 9999,\n                  Enable: true\n                });\n\n              case 22:\n                res = _context.sent;\n\n              case 23:\n                res.status == 200 && getDataTolist(res.data.data, item.name);\n                res.status == 204 && console.log(item.text + ' Không có dữ liệu');\n                _context.next = 30;\n                break;\n\n              case 27:\n                _context.prev = 27;\n                _context.t0 = _context[\"catch\"](1);\n                // showNoti('danger', error.message);\n                console.log(_context.t0);\n\n              case 30:\n                _context.prev = 30;\n                return _context.finish(30);\n\n              case 32:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 27, 30, 32]]);\n      }))();\n    });\n  };\n\n  useEffect(function () {\n    getDataStudentForm(listApi);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12 text-center\",\n        children: /*#__PURE__*/_jsxDEV(TitlePage, {\n          title: \"L\\u1ECBch h\\u1EB9n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 6\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 4\n    }, _this), /*#__PURE__*/_jsxDEV(StudentForm, {\n      listDataForm: listDataForm\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 4\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 244,\n    columnNumber: 3\n  }, _this);\n};\n\n_s(StudentAppointmentCreate, \"kOHrb1HE0TFJrh3TCbfFS7/Doio=\", false, function () {\n  return [useWrap];\n});\n\n_c = StudentAppointmentCreate;\nStudentAppointmentCreate.layout = LayoutBase;\nexport default StudentAppointmentCreate;\n\nvar _c;\n\n$RefreshReg$(_c, \"StudentAppointmentCreate\");","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/pages/customer/service/service-info-student/index.tsx"],"names":["React","useEffect","useState","TitlePage","LayoutBase","areaApi","jobApi","puroseApi","branchApi","sourceInfomationApi","parentsApi","staffApi","teacherApi","examTopicApi","useWrap","StudentForm","optionGender","value","title","listApi","api","text","name","StudentAppointmentCreate","Area","DistrictID","WardID","Job","Branch","Purposes","SourceInformation","Parent","Counselors","Teacher","Exam","listDataForm","setListDataForm","showNoti","makeNewData","data","newData","map","item","AreaName","AreaID","DistrictName","ID","WardName","BranchName","JobName","JobID","PurposesName","PurposesID","FullNameUnicode","UserInformationID","SourceInformationName","SourceInformationID","Name","getDataTolist","Object","keys","forEach","key","getDataStudentForm","arrApi","index","res","getAll","pageIndex","pageSize","RoleID","StatusID","Enable","Type","status","console","log","layout"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport TitlePage from '~/components/TitlePage';\r\nimport LayoutBase from '~/components/LayoutBase';\r\nimport { areaApi, jobApi, puroseApi, branchApi, sourceInfomationApi, parentsApi, staffApi, teacherApi, examTopicApi } from '~/apiBase';\r\nimport { useWrap } from '~/context/wrap';\r\nimport StudentForm from '~/components/Global/Customer/Student/StudentForm';\r\n\r\n// -- FOR DIFFERENT VIEW --\r\ninterface listDataForm {\r\n\tArea: Array<Object>;\r\n\tDistrictID: Array<Object>;\r\n\tWardID: Array<Object>;\r\n\tJob: Array<Object>;\r\n\tBranch: Array<Object>;\r\n\tPurposes: Array<Object>;\r\n\tSourceInformation: Array<Object>;\r\n\tParent: Array<Object>;\r\n\tCounselors: Array<Object>;\r\n\tTeacher: Array<Object>;\r\n\tExam: Array<Object>;\r\n}\r\n\r\nconst optionGender = [\r\n\t{\r\n\t\tvalue: 0,\r\n\t\ttitle: 'Nữ'\r\n\t},\r\n\t{\r\n\t\tvalue: 1,\r\n\t\ttitle: 'Nam'\r\n\t},\r\n\t{\r\n\t\tvalue: 0,\r\n\t\ttitle: 'Khác'\r\n\t}\r\n];\r\n\r\nconst listApi = [\r\n\t{\r\n\t\tapi: areaApi,\r\n\t\ttext: 'Tỉnh/Tp',\r\n\t\tname: 'Area'\r\n\t},\r\n\r\n\t{\r\n\t\tapi: jobApi,\r\n\t\ttext: 'Công việc',\r\n\t\tname: 'Job'\r\n\t},\r\n\t{\r\n\t\tapi: puroseApi,\r\n\t\ttext: 'Mục đích học',\r\n\t\tname: 'Purposes'\r\n\t},\r\n\t{\r\n\t\tapi: branchApi,\r\n\t\ttext: 'Trung tâm',\r\n\t\tname: 'Branch'\r\n\t},\r\n\t{\r\n\t\tapi: parentsApi,\r\n\t\ttext: 'Phụ huynh',\r\n\t\tname: 'Parent'\r\n\t},\r\n\t{\r\n\t\tapi: sourceInfomationApi,\r\n\t\ttext: 'Nguồn khách hàng',\r\n\t\tname: 'SourceInformation'\r\n\t},\r\n\t{\r\n\t\tapi: staffApi,\r\n\t\ttext: 'Nguồn khách hàng',\r\n\t\tname: 'Counselors'\r\n\t},\r\n\t{\r\n\t\tapi: teacherApi,\r\n\t\ttext: 'Giáo vên',\r\n\t\tname: 'Teacher'\r\n\t},\r\n\t{\r\n\t\tapi: examTopicApi,\r\n\t\ttext: 'Đề hẹn test',\r\n\t\tname: 'Exam'\r\n\t}\r\n];\r\n\r\nconst StudentAppointmentCreate = () => {\r\n\tconst [listDataForm, setListDataForm] = useState<listDataForm>({\r\n\t\tArea: [],\r\n\t\tDistrictID: [],\r\n\t\tWardID: [],\r\n\t\tJob: [],\r\n\t\tBranch: [],\r\n\t\tPurposes: [],\r\n\t\tSourceInformation: [],\r\n\t\tParent: [],\r\n\t\tCounselors: [],\r\n\t\tTeacher: [],\r\n\t\tExam: []\r\n\t});\r\n\tconst { showNoti } = useWrap();\r\n\t// FOR STUDENT FORM\r\n\t// ------------- ADD data to list --------------\r\n\r\n\tconst makeNewData = (data, name) => {\r\n\t\tlet newData = null;\r\n\t\tswitch (name) {\r\n\t\t\tcase 'Area':\r\n\t\t\t\tnewData = data.map((item) => ({\r\n\t\t\t\t\ttitle: item.AreaName,\r\n\t\t\t\t\tvalue: item.AreaID\r\n\t\t\t\t}));\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'DistrictID':\r\n\t\t\t\tnewData = data.map((item) => ({\r\n\t\t\t\t\ttitle: item.DistrictName,\r\n\t\t\t\t\tvalue: item.ID\r\n\t\t\t\t}));\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'WardID':\r\n\t\t\t\tnewData = data.map((item) => ({\r\n\t\t\t\t\ttitle: item.WardName,\r\n\t\t\t\t\tvalue: item.ID\r\n\t\t\t\t}));\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Branch':\r\n\t\t\t\tnewData = data.map((item) => ({\r\n\t\t\t\t\ttitle: item.BranchName,\r\n\t\t\t\t\tvalue: item.ID\r\n\t\t\t\t}));\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Job':\r\n\t\t\t\tnewData = data.map((item) => ({\r\n\t\t\t\t\ttitle: item.JobName,\r\n\t\t\t\t\tvalue: item.JobID\r\n\t\t\t\t}));\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Purposes':\r\n\t\t\t\tnewData = data.map((item) => ({\r\n\t\t\t\t\ttitle: item.PurposesName,\r\n\t\t\t\t\tvalue: item.PurposesID\r\n\t\t\t\t}));\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Parent':\r\n\t\t\t\tnewData = data.map((item) => ({\r\n\t\t\t\t\ttitle: item.FullNameUnicode,\r\n\t\t\t\t\tvalue: item.UserInformationID\r\n\t\t\t\t}));\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'SourceInformation':\r\n\t\t\t\tnewData = data.map((item) => ({\r\n\t\t\t\t\ttitle: item.SourceInformationName,\r\n\t\t\t\t\tvalue: item.SourceInformationID\r\n\t\t\t\t}));\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Counselors':\r\n\t\t\t\tnewData = data.map((item) => ({\r\n\t\t\t\t\ttitle: item.FullNameUnicode,\r\n\t\t\t\t\tvalue: item.UserInformationID\r\n\t\t\t\t}));\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Teacher':\r\n\t\t\t\tnewData = data.map((item) => ({\r\n\t\t\t\t\ttitle: item.FullNameUnicode,\r\n\t\t\t\t\tvalue: item.UserInformationID\r\n\t\t\t\t}));\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Exam':\r\n\t\t\t\tnewData = data.map((item) => ({\r\n\t\t\t\t\ttitle: item.Name,\r\n\t\t\t\t\tvalue: item.ID\r\n\t\t\t\t}));\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\treturn newData;\r\n\t};\r\n\r\n\tconst getDataTolist = (data: any, name: any) => {\r\n\t\tlet newData = makeNewData(data, name);\r\n\r\n\t\tObject.keys(listDataForm).forEach(function (key) {\r\n\t\t\tif (key == name) {\r\n\t\t\t\tlistDataForm[key] = newData;\r\n\t\t\t}\r\n\t\t});\r\n\t\tsetListDataForm({ ...listDataForm });\r\n\t};\r\n\r\n\t// ----------- GET DATA SOURCE ---------------\r\n\tconst getDataStudentForm = (arrApi) => {\r\n\t\tarrApi.forEach((item, index) => {\r\n\t\t\t(async () => {\r\n\t\t\t\tlet res = null;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (item.name == 'Counselors') {\r\n\t\t\t\t\t\tres = await item.api.getAll({\r\n\t\t\t\t\t\t\tpageIndex: 1,\r\n\t\t\t\t\t\t\tpageSize: 9999,\r\n\t\t\t\t\t\t\tRoleID: 6,\r\n\t\t\t\t\t\t\tStatusID: 0,\r\n\t\t\t\t\t\t\tEnable: true\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (item.name == 'Exam') {\r\n\t\t\t\t\t\tres = await item.api.getAll({\r\n\t\t\t\t\t\t\tpageIndex: 1,\r\n\t\t\t\t\t\t\tpageSize: 9999,\r\n\t\t\t\t\t\t\tEnable: true,\r\n\t\t\t\t\t\t\tType: 1\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (item.name == 'Teacher') {\r\n\t\t\t\t\t\tres = await item.api.getAll({\r\n\t\t\t\t\t\t\tpageIndex: 1,\r\n\t\t\t\t\t\t\tpageSize: 9999,\r\n\t\t\t\t\t\t\tEnable: true,\r\n\t\t\t\t\t\t\tStatusID: 0\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tres = await item.api.getAll({\r\n\t\t\t\t\t\t\tpageIndex: 1,\r\n\t\t\t\t\t\t\tpageSize: 9999,\r\n\t\t\t\t\t\t\tEnable: true\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tres.status == 200 && getDataTolist(res.data.data, item.name);\r\n\r\n\t\t\t\t\tres.status == 204 && console.log(item.text + ' Không có dữ liệu');\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\t// showNoti('danger', error.message);\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t} finally {\r\n\t\t\t\t}\r\n\t\t\t})();\r\n\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tgetDataStudentForm(listApi);\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"col-12 text-center\">\r\n\t\t\t\t\t<TitlePage title=\"Lịch hẹn\" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<StudentForm listDataForm={listDataForm} />\r\n\t\t</div>\r\n\t);\r\n};\r\nStudentAppointmentCreate.layout = LayoutBase;\r\nexport default StudentAppointmentCreate;\r\n"]},"metadata":{},"sourceType":"module"}