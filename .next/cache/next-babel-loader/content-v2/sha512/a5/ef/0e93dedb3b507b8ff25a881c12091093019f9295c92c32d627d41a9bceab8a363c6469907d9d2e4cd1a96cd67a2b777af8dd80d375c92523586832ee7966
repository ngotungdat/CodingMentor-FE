{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Dashboard\\\\ChartCard.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState, useEffect } from 'react';\nimport AreaCard from './ChartCard/AreaCard';\nimport LineCard from './ChartCard/LineCard';\nimport ModelCard from './ChartCard/ModelCard';\nimport RippleCard from './ChartCard/RippleCard';\nimport { data } from './data';\nimport Widget from './Widget';\nimport { Tooltip } from 'antd';\nimport { numberWithCommas } from '~/utils/functions';\n\nconst ChartCard = ({\n  title,\n  styleName,\n  statisticalTotal,\n  typeChart\n}) => {\n  const {\n    0: dataSource,\n    1: setDataSource\n  } = useState({\n    current: 0,\n    pre: 0,\n    percent: 0,\n    styleName: ''\n  });\n\n  const renderChart = () => {\n    switch (typeChart) {\n      case 1:\n        return /*#__PURE__*/_jsxDEV(ModelCard, {\n          dataCard: data\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 12\n        }, this);\n\n      case 2:\n        return /*#__PURE__*/_jsxDEV(AreaCard, {\n          dataCard: data\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 12\n        }, this);\n\n      case 3:\n        return /*#__PURE__*/_jsxDEV(RippleCard, {\n          dataCard: data\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 12\n        }, this);\n\n      case 4:\n        return /*#__PURE__*/_jsxDEV(LineCard, {\n          dataCard: data\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 12\n        }, this);\n\n      default:\n        break;\n    }\n  };\n\n  const handleCalculation = (preValue, currentValue) => {\n    let percent = 0;\n\n    if (currentValue === 0 && preValue === 0) {\n      setDataSource(_objectSpread(_objectSpread({}, dataSource), {}, {\n        percent: 0,\n        styleName: 'up',\n        pre: preValue,\n        current: currentValue\n      }));\n    } else if (preValue === 0) {\n      setDataSource(_objectSpread(_objectSpread({}, dataSource), {}, {\n        percent: 100,\n        styleName: 'up',\n        pre: preValue,\n        current: currentValue\n      }));\n    } else if (currentValue === 0) {\n      setDataSource(_objectSpread(_objectSpread({}, dataSource), {}, {\n        percent: 100,\n        styleName: 'down',\n        pre: preValue,\n        current: currentValue\n      }));\n    } else if (currentValue > preValue) {\n      percent = Math.round((currentValue - preValue) / preValue * 100);\n      setDataSource(_objectSpread(_objectSpread({}, dataSource), {}, {\n        percent: percent,\n        styleName: 'up',\n        pre: preValue,\n        current: currentValue\n      }));\n    } else if (currentValue < preValue) {\n      percent = Math.round((preValue - currentValue) / preValue * 100);\n      setDataSource({\n        // ...dataSource,s\n        percent: percent,\n        styleName: 'down',\n        pre: preValue,\n        current: currentValue\n      });\n    }\n  };\n\n  const handleDataSource = () => {\n    switch (title) {\n      case 'Học viên hẹn test':\n        handleCalculation(statisticalTotal.PreTestAppointment, statisticalTotal.TestAppointment);\n        break;\n\n      case 'Học viên đến test':\n        handleCalculation(statisticalTotal.PreTestDone, statisticalTotal.TestDone);\n        break;\n\n      case 'Học viên hẹn đăng kí':\n        handleCalculation(statisticalTotal.PreRegisterAppointment, statisticalTotal.RegisterAppointment);\n        break;\n\n      case 'Học viên đang học':\n        handleCalculation(Number(statisticalTotal.PreStudying), Number(statisticalTotal.Studying));\n        break;\n\n      case 'Học viên đăng kí':\n        handleCalculation(Number(statisticalTotal.PreCustomer), Number(statisticalTotal.Customer));\n        break;\n\n      case 'Bài tập đã nộp':\n        handleCalculation(0, Number(statisticalTotal.Submittopic));\n\n      case 'Bài đã chấm':\n        handleCalculation(0, Number(statisticalTotal.Marktopic));\n        break;\n\n      case 'Bài không đạt':\n        handleCalculation(0, Number(statisticalTotal.Remaketopic));\n        break;\n\n      case 'Học viên bảo lưu':\n        handleCalculation(statisticalTotal.Prereserve, statisticalTotal.Reserve);\n        break;\n\n      case 'Học viên chuyển khóa':\n        handleCalculation(statisticalTotal.PreChangecourse, statisticalTotal.Changecourse);\n        break;\n\n      case 'Giáo viên':\n        handleCalculation(statisticalTotal.PreTeacher, statisticalTotal.Teacher);\n        break;\n\n      case 'Nhân viên':\n        handleCalculation(statisticalTotal.PreEmployee, statisticalTotal.Employee);\n        break;\n\n      case 'Học viên bị cảnh cáo':\n        handleCalculation(Math.round(statisticalTotal.Prewarning), Math.round(statisticalTotal.Warning));\n        break;\n\n      case 'Doanh thu khóa học video':\n        handleCalculation(Math.round(statisticalTotal.PrevideoCourseRevenue), Math.round(statisticalTotal.VideoCourseRevenue));\n        break;\n\n      case 'Lượt xem khóa học video':\n        handleCalculation(Math.round(statisticalTotal.PretotalVideoViews), Math.round(statisticalTotal.TotalVideoViews));\n        break;\n\n      case 'Lượt xem video trung bình':\n        handleCalculation(Math.round(0), Math.round(statisticalTotal.AverageView));\n        break;\n\n      case 'Tỉ lệ nợ học phí':\n        handleCalculation(Math.round(statisticalTotal.PrenotDonePaidCoursePrice), Math.round(statisticalTotal.NotDonePaidCoursePrice));\n        break;\n\n      case 'Tỉ lệ hoàn thành học phí':\n        handleCalculation(Math.round(statisticalTotal.PredonePaidCoursePrice), Math.round(statisticalTotal.DonePaidCoursePrice));\n        break;\n\n      case 'Tỉ lệ nộp bài đúng hạn':\n        handleCalculation(Math.round(statisticalTotal.PrecompleteHomework), Math.round(statisticalTotal.CompleteHomework));\n        break;\n\n      case 'Tỉ lệ quay lại sau 3 tháng':\n        handleCalculation(Math.round(0), Math.round(statisticalTotal.CourseSecond3Month));\n        break;\n\n      case 'Bài hẹn test chưa chấm':\n        handleCalculation(Math.round(0), Math.round(statisticalTotal.ExamAppointmentResultNotDone));\n        break;\n\n      case 'Bài kiểm tra chưa chấm':\n        handleCalculation(Math.round(0), Math.round(statisticalTotal.CourseExamresultNotDone));\n        break;\n\n      case 'Bộ đề chưa chấm':\n        handleCalculation(Math.round(0), Math.round(statisticalTotal.SetPackageResultNotDone));\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  useEffect(() => {\n    handleDataSource();\n  }, [statisticalTotal]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"style-card\",\n    children: /*#__PURE__*/_jsxDEV(Widget, {\n      styleName: \"gx-card-full dashboard__chart-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12\",\n          children: /*#__PURE__*/_jsxDEV(\"h6\", {\n            className: \"dashboard__chart-title\",\n            children: title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row \",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-3\",\n          children: dataSource && dataSource.pre.toString().length > 3 ? /*#__PURE__*/_jsxDEV(Tooltip, {\n            title: numberWithCommas(dataSource.pre),\n            children: /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"limit-text-three-word\",\n              children: numberWithCommas(dataSource.pre)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 8\n          }, this) : /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: numberWithCommas(dataSource.pre)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-6 d-flex align justify-content-between align-items-center\",\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `gx-mb-0 gx-ml-2 gx-pt-xl-2 gx-fs-lg gx-chart-${dataSource.styleName}`,\n              children: [dataSource.percent, \"% \", /*#__PURE__*/_jsxDEV(\"i\", {\n                className: `fas fa-angle-${dataSource.styleName}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 31\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-3\",\n          children: dataSource && dataSource.current.toString().length > 3 ? /*#__PURE__*/_jsxDEV(Tooltip, {\n            title: numberWithCommas(dataSource.current),\n            children: /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"limit-text-three-word\",\n              children: numberWithCommas(dataSource.current)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 8\n          }, this) : /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: numberWithCommas(dataSource.current)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 5\n      }, this), renderChart()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 183,\n    columnNumber: 3\n  }, this);\n};\n\nexport default ChartCard;","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Dashboard/ChartCard.tsx"],"names":["React","useState","useEffect","AreaCard","LineCard","ModelCard","RippleCard","data","Widget","Tooltip","numberWithCommas","ChartCard","title","styleName","statisticalTotal","typeChart","dataSource","setDataSource","current","pre","percent","renderChart","handleCalculation","preValue","currentValue","Math","round","handleDataSource","PreTestAppointment","TestAppointment","PreTestDone","TestDone","PreRegisterAppointment","RegisterAppointment","Number","PreStudying","Studying","PreCustomer","Customer","Submittopic","Marktopic","Remaketopic","Prereserve","Reserve","PreChangecourse","Changecourse","PreTeacher","Teacher","PreEmployee","Employee","Prewarning","Warning","PrevideoCourseRevenue","VideoCourseRevenue","PretotalVideoViews","TotalVideoViews","AverageView","PrenotDonePaidCoursePrice","NotDonePaidCoursePrice","PredonePaidCoursePrice","DonePaidCoursePrice","PrecompleteHomework","CompleteHomework","CourseSecond3Month","ExamAppointmentResultNotDone","CourseExamresultNotDone","SetPackageResultNotDone","toString","length"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,OAAOC,UAAP,MAAuB,wBAAvB;AACA,SAASC,IAAT,QAAqB,QAArB;AAEA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAASC,OAAT,QAAwB,MAAxB;AACA,SAASC,gBAAT,QAAiC,mBAAjC;;AAEA,MAAMC,SAAS,GAAG,CAAC;AAAEC,EAAAA,KAAF;AAASC,EAAAA,SAAT;AAAoBC,EAAAA,gBAApB;AAAsCC,EAAAA;AAAtC,CAAD,KAAuD;AACxE,QAAM;AAAA,OAACC,UAAD;AAAA,OAAaC;AAAb,MAA8BhB,QAAQ,CAAC;AAC5CiB,IAAAA,OAAO,EAAE,CADmC;AAE5CC,IAAAA,GAAG,EAAE,CAFuC;AAG5CC,IAAAA,OAAO,EAAE,CAHmC;AAI5CP,IAAAA,SAAS,EAAE;AAJiC,GAAD,CAA5C;;AAOA,QAAMQ,WAAW,GAAG,MAAM;AACzB,YAAQN,SAAR;AACC,WAAK,CAAL;AACC,4BAAO,QAAC,SAAD;AAAW,UAAA,QAAQ,EAAER;AAArB;AAAA;AAAA;AAAA;AAAA,gBAAP;;AACD,WAAK,CAAL;AACC,4BAAO,QAAC,QAAD;AAAU,UAAA,QAAQ,EAAEA;AAApB;AAAA;AAAA;AAAA;AAAA,gBAAP;;AACD,WAAK,CAAL;AACC,4BAAO,QAAC,UAAD;AAAY,UAAA,QAAQ,EAAEA;AAAtB;AAAA;AAAA;AAAA;AAAA,gBAAP;;AACD,WAAK,CAAL;AACC,4BAAO,QAAC,QAAD;AAAU,UAAA,QAAQ,EAAEA;AAApB;AAAA;AAAA;AAAA;AAAA,gBAAP;;AACD;AACC;AAVF;AAYA,GAbD;;AAcA,QAAMe,iBAAiB,GAAG,CAACC,QAAD,EAAWC,YAAX,KAA4B;AACrD,QAAIJ,OAAO,GAAG,CAAd;;AACA,QAAII,YAAY,KAAK,CAAjB,IAAsBD,QAAQ,KAAK,CAAvC,EAA0C;AACzCN,MAAAA,aAAa,iCACTD,UADS;AAEZI,QAAAA,OAAO,EAAE,CAFG;AAGZP,QAAAA,SAAS,EAAE,IAHC;AAIZM,QAAAA,GAAG,EAAEI,QAJO;AAKZL,QAAAA,OAAO,EAAEM;AALG,SAAb;AAOA,KARD,MAQO,IAAID,QAAQ,KAAK,CAAjB,EAAoB;AAC1BN,MAAAA,aAAa,iCACTD,UADS;AAEZI,QAAAA,OAAO,EAAE,GAFG;AAGZP,QAAAA,SAAS,EAAE,IAHC;AAIZM,QAAAA,GAAG,EAAEI,QAJO;AAKZL,QAAAA,OAAO,EAAEM;AALG,SAAb;AAOA,KARM,MAQA,IAAIA,YAAY,KAAK,CAArB,EAAwB;AAC9BP,MAAAA,aAAa,iCACTD,UADS;AAEZI,QAAAA,OAAO,EAAE,GAFG;AAGZP,QAAAA,SAAS,EAAE,MAHC;AAIZM,QAAAA,GAAG,EAAEI,QAJO;AAKZL,QAAAA,OAAO,EAAEM;AALG,SAAb;AAOA,KARM,MAQA,IAAIA,YAAY,GAAGD,QAAnB,EAA6B;AACnCH,MAAAA,OAAO,GAAGK,IAAI,CAACC,KAAL,CAAY,CAACF,YAAY,GAAGD,QAAhB,IAA4BA,QAA7B,GAAyC,GAApD,CAAV;AACAN,MAAAA,aAAa,iCACTD,UADS;AAEZI,QAAAA,OAAO,EAAEA,OAFG;AAGZP,QAAAA,SAAS,EAAE,IAHC;AAIZM,QAAAA,GAAG,EAAEI,QAJO;AAKZL,QAAAA,OAAO,EAAEM;AALG,SAAb;AAOA,KATM,MASA,IAAIA,YAAY,GAAGD,QAAnB,EAA6B;AACnCH,MAAAA,OAAO,GAAGK,IAAI,CAACC,KAAL,CAAY,CAACH,QAAQ,GAAGC,YAAZ,IAA4BD,QAA7B,GAAyC,GAApD,CAAV;AACAN,MAAAA,aAAa,CAAC;AACb;AACAG,QAAAA,OAAO,EAAEA,OAFI;AAGbP,QAAAA,SAAS,EAAE,MAHE;AAIbM,QAAAA,GAAG,EAAEI,QAJQ;AAKbL,QAAAA,OAAO,EAAEM;AALI,OAAD,CAAb;AAOA;AACD,GA7CD;;AA+CA,QAAMG,gBAAgB,GAAG,MAAM;AAC9B,YAAQf,KAAR;AACC,WAAK,mBAAL;AACCU,QAAAA,iBAAiB,CAACR,gBAAgB,CAACc,kBAAlB,EAAsCd,gBAAgB,CAACe,eAAvD,CAAjB;AACA;;AAED,WAAK,mBAAL;AACCP,QAAAA,iBAAiB,CAACR,gBAAgB,CAACgB,WAAlB,EAA+BhB,gBAAgB,CAACiB,QAAhD,CAAjB;AACA;;AAED,WAAK,sBAAL;AACCT,QAAAA,iBAAiB,CAACR,gBAAgB,CAACkB,sBAAlB,EAA0ClB,gBAAgB,CAACmB,mBAA3D,CAAjB;AACA;;AAED,WAAK,mBAAL;AACCX,QAAAA,iBAAiB,CAACY,MAAM,CAACpB,gBAAgB,CAACqB,WAAlB,CAAP,EAAuCD,MAAM,CAACpB,gBAAgB,CAACsB,QAAlB,CAA7C,CAAjB;AACA;;AAED,WAAK,kBAAL;AACCd,QAAAA,iBAAiB,CAACY,MAAM,CAACpB,gBAAgB,CAACuB,WAAlB,CAAP,EAAuCH,MAAM,CAACpB,gBAAgB,CAACwB,QAAlB,CAA7C,CAAjB;AACA;;AAED,WAAK,gBAAL;AACChB,QAAAA,iBAAiB,CAAC,CAAD,EAAIY,MAAM,CAACpB,gBAAgB,CAACyB,WAAlB,CAAV,CAAjB;;AAED,WAAK,aAAL;AACCjB,QAAAA,iBAAiB,CAAC,CAAD,EAAIY,MAAM,CAACpB,gBAAgB,CAAC0B,SAAlB,CAAV,CAAjB;AACA;;AAED,WAAK,eAAL;AACClB,QAAAA,iBAAiB,CAAC,CAAD,EAAIY,MAAM,CAACpB,gBAAgB,CAAC2B,WAAlB,CAAV,CAAjB;AACA;;AAED,WAAK,kBAAL;AACCnB,QAAAA,iBAAiB,CAACR,gBAAgB,CAAC4B,UAAlB,EAA8B5B,gBAAgB,CAAC6B,OAA/C,CAAjB;AACA;;AAED,WAAK,sBAAL;AACCrB,QAAAA,iBAAiB,CAACR,gBAAgB,CAAC8B,eAAlB,EAAmC9B,gBAAgB,CAAC+B,YAApD,CAAjB;AACA;;AAED,WAAK,WAAL;AACCvB,QAAAA,iBAAiB,CAACR,gBAAgB,CAACgC,UAAlB,EAA8BhC,gBAAgB,CAACiC,OAA/C,CAAjB;AACA;;AAED,WAAK,WAAL;AACCzB,QAAAA,iBAAiB,CAACR,gBAAgB,CAACkC,WAAlB,EAA+BlC,gBAAgB,CAACmC,QAAhD,CAAjB;AACA;;AAED,WAAK,sBAAL;AACC3B,QAAAA,iBAAiB,CAACG,IAAI,CAACC,KAAL,CAAWZ,gBAAgB,CAACoC,UAA5B,CAAD,EAA0CzB,IAAI,CAACC,KAAL,CAAWZ,gBAAgB,CAACqC,OAA5B,CAA1C,CAAjB;AACA;;AAED,WAAK,0BAAL;AACC7B,QAAAA,iBAAiB,CAACG,IAAI,CAACC,KAAL,CAAWZ,gBAAgB,CAACsC,qBAA5B,CAAD,EAAqD3B,IAAI,CAACC,KAAL,CAAWZ,gBAAgB,CAACuC,kBAA5B,CAArD,CAAjB;AACA;;AAED,WAAK,yBAAL;AACC/B,QAAAA,iBAAiB,CAACG,IAAI,CAACC,KAAL,CAAWZ,gBAAgB,CAACwC,kBAA5B,CAAD,EAAkD7B,IAAI,CAACC,KAAL,CAAWZ,gBAAgB,CAACyC,eAA5B,CAAlD,CAAjB;AACA;;AAED,WAAK,2BAAL;AACCjC,QAAAA,iBAAiB,CAACG,IAAI,CAACC,KAAL,CAAW,CAAX,CAAD,EAAgBD,IAAI,CAACC,KAAL,CAAWZ,gBAAgB,CAAC0C,WAA5B,CAAhB,CAAjB;AACA;;AAED,WAAK,kBAAL;AACClC,QAAAA,iBAAiB,CAACG,IAAI,CAACC,KAAL,CAAWZ,gBAAgB,CAAC2C,yBAA5B,CAAD,EAAyDhC,IAAI,CAACC,KAAL,CAAWZ,gBAAgB,CAAC4C,sBAA5B,CAAzD,CAAjB;AACA;;AAED,WAAK,0BAAL;AACCpC,QAAAA,iBAAiB,CAACG,IAAI,CAACC,KAAL,CAAWZ,gBAAgB,CAAC6C,sBAA5B,CAAD,EAAsDlC,IAAI,CAACC,KAAL,CAAWZ,gBAAgB,CAAC8C,mBAA5B,CAAtD,CAAjB;AACA;;AAED,WAAK,wBAAL;AACCtC,QAAAA,iBAAiB,CAACG,IAAI,CAACC,KAAL,CAAWZ,gBAAgB,CAAC+C,mBAA5B,CAAD,EAAmDpC,IAAI,CAACC,KAAL,CAAWZ,gBAAgB,CAACgD,gBAA5B,CAAnD,CAAjB;AACA;;AAED,WAAK,4BAAL;AACCxC,QAAAA,iBAAiB,CAACG,IAAI,CAACC,KAAL,CAAW,CAAX,CAAD,EAAgBD,IAAI,CAACC,KAAL,CAAWZ,gBAAgB,CAACiD,kBAA5B,CAAhB,CAAjB;AACA;;AAED,WAAK,wBAAL;AACCzC,QAAAA,iBAAiB,CAACG,IAAI,CAACC,KAAL,CAAW,CAAX,CAAD,EAAgBD,IAAI,CAACC,KAAL,CAAWZ,gBAAgB,CAACkD,4BAA5B,CAAhB,CAAjB;AACA;;AAED,WAAK,wBAAL;AACC1C,QAAAA,iBAAiB,CAACG,IAAI,CAACC,KAAL,CAAW,CAAX,CAAD,EAAgBD,IAAI,CAACC,KAAL,CAAWZ,gBAAgB,CAACmD,uBAA5B,CAAhB,CAAjB;AACA;;AAED,WAAK,iBAAL;AACC3C,QAAAA,iBAAiB,CAACG,IAAI,CAACC,KAAL,CAAW,CAAX,CAAD,EAAgBD,IAAI,CAACC,KAAL,CAAWZ,gBAAgB,CAACoD,uBAA5B,CAAhB,CAAjB;AACA;;AAED;AACC;AA7FF;AA+FA,GAhGD;;AAiGAhE,EAAAA,SAAS,CAAC,MAAM;AACfyB,IAAAA,gBAAgB;AAChB,GAFQ,EAEN,CAACb,gBAAD,CAFM,CAAT;AAIA,sBACC;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA,2BACC,QAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,yCAAlB;AAAA,8BACC;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA,+BACC;AAAK,UAAA,SAAS,EAAC,QAAf;AAAA,iCACC;AAAI,YAAA,SAAS,EAAC,wBAAd;AAAA,sBAAwCF;AAAxC;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,cADD,eAMC;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA,gCACC;AAAK,UAAA,SAAS,EAAC,OAAf;AAAA,oBACEI,UAAU,IAAIA,UAAU,CAACG,GAAX,CAAegD,QAAf,GAA0BC,MAA1B,GAAmC,CAAjD,gBACA,QAAC,OAAD;AAAS,YAAA,KAAK,EAAE1D,gBAAgB,CAACM,UAAU,CAACG,GAAZ,CAAhC;AAAA,mCACC;AAAI,cAAA,SAAS,EAAC,uBAAd;AAAA,wBAAuCT,gBAAgB,CAACM,UAAU,CAACG,GAAZ;AAAvD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,kBADA,gBAKA;AAAA,sBAAKT,gBAAgB,CAACM,UAAU,CAACG,GAAZ;AAArB;AAAA;AAAA;AAAA;AAAA;AANF;AAAA;AAAA;AAAA;AAAA,gBADD,eAUC;AAAK,UAAA,SAAS,EAAC,+DAAf;AAAA,iCACC;AAAA,mCACC;AAAM,cAAA,SAAS,EAAG,gDAA+CH,UAAU,CAACH,SAAU,EAAtF;AAAA,yBACEG,UAAU,CAACI,OADb,qBACuB;AAAG,gBAAA,SAAS,EAAG,gBAAeJ,UAAU,CAACH,SAAU;AAAnD;AAAA;AAAA;AAAA;AAAA,sBADvB;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,gBAVD,eAiBC;AAAK,UAAA,SAAS,EAAC,OAAf;AAAA,oBACEG,UAAU,IAAIA,UAAU,CAACE,OAAX,CAAmBiD,QAAnB,GAA8BC,MAA9B,GAAuC,CAArD,gBACA,QAAC,OAAD;AAAS,YAAA,KAAK,EAAE1D,gBAAgB,CAACM,UAAU,CAACE,OAAZ,CAAhC;AAAA,mCACC;AAAI,cAAA,SAAS,EAAC,uBAAd;AAAA,wBAAuCR,gBAAgB,CAACM,UAAU,CAACE,OAAZ;AAAvD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,kBADA,gBAKA;AAAA,sBAAKR,gBAAgB,CAACM,UAAU,CAACE,OAAZ;AAArB;AAAA;AAAA;AAAA;AAAA;AANF;AAAA;AAAA;AAAA;AAAA,gBAjBD;AAAA;AAAA;AAAA;AAAA;AAAA,cAND,EAiCEG,WAAW,EAjCb;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,UADD;AAuCA,CAjND;;AAmNA,eAAeV,SAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport AreaCard from './ChartCard/AreaCard'\r\nimport LineCard from './ChartCard/LineCard'\r\nimport ModelCard from './ChartCard/ModelCard'\r\nimport RippleCard from './ChartCard/RippleCard'\r\nimport { data } from './data'\r\n\r\nimport Widget from './Widget'\r\nimport { Tooltip } from 'antd'\r\nimport { numberWithCommas } from '~/utils/functions'\r\n\r\nconst ChartCard = ({ title, styleName, statisticalTotal, typeChart }) => {\r\n\tconst [dataSource, setDataSource] = useState({\r\n\t\tcurrent: 0,\r\n\t\tpre: 0,\r\n\t\tpercent: 0,\r\n\t\tstyleName: ''\r\n\t})\r\n\r\n\tconst renderChart = () => {\r\n\t\tswitch (typeChart) {\r\n\t\t\tcase 1:\r\n\t\t\t\treturn <ModelCard dataCard={data} />\r\n\t\t\tcase 2:\r\n\t\t\t\treturn <AreaCard dataCard={data} />\r\n\t\t\tcase 3:\r\n\t\t\t\treturn <RippleCard dataCard={data} />\r\n\t\t\tcase 4:\r\n\t\t\t\treturn <LineCard dataCard={data} />\r\n\t\t\tdefault:\r\n\t\t\t\tbreak\r\n\t\t}\r\n\t}\r\n\tconst handleCalculation = (preValue, currentValue) => {\r\n\t\tlet percent = 0\r\n\t\tif (currentValue === 0 && preValue === 0) {\r\n\t\t\tsetDataSource({\r\n\t\t\t\t...dataSource,\r\n\t\t\t\tpercent: 0,\r\n\t\t\t\tstyleName: 'up',\r\n\t\t\t\tpre: preValue,\r\n\t\t\t\tcurrent: currentValue\r\n\t\t\t})\r\n\t\t} else if (preValue === 0) {\r\n\t\t\tsetDataSource({\r\n\t\t\t\t...dataSource,\r\n\t\t\t\tpercent: 100,\r\n\t\t\t\tstyleName: 'up',\r\n\t\t\t\tpre: preValue,\r\n\t\t\t\tcurrent: currentValue\r\n\t\t\t})\r\n\t\t} else if (currentValue === 0) {\r\n\t\t\tsetDataSource({\r\n\t\t\t\t...dataSource,\r\n\t\t\t\tpercent: 100,\r\n\t\t\t\tstyleName: 'down',\r\n\t\t\t\tpre: preValue,\r\n\t\t\t\tcurrent: currentValue\r\n\t\t\t})\r\n\t\t} else if (currentValue > preValue) {\r\n\t\t\tpercent = Math.round(((currentValue - preValue) / preValue) * 100)\r\n\t\t\tsetDataSource({\r\n\t\t\t\t...dataSource,\r\n\t\t\t\tpercent: percent,\r\n\t\t\t\tstyleName: 'up',\r\n\t\t\t\tpre: preValue,\r\n\t\t\t\tcurrent: currentValue\r\n\t\t\t})\r\n\t\t} else if (currentValue < preValue) {\r\n\t\t\tpercent = Math.round(((preValue - currentValue) / preValue) * 100)\r\n\t\t\tsetDataSource({\r\n\t\t\t\t// ...dataSource,s\r\n\t\t\t\tpercent: percent,\r\n\t\t\t\tstyleName: 'down',\r\n\t\t\t\tpre: preValue,\r\n\t\t\t\tcurrent: currentValue\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleDataSource = () => {\r\n\t\tswitch (title) {\r\n\t\t\tcase 'Học viên hẹn test':\r\n\t\t\t\thandleCalculation(statisticalTotal.PreTestAppointment, statisticalTotal.TestAppointment)\r\n\t\t\t\tbreak\r\n\r\n\t\t\tcase 'Học viên đến test':\r\n\t\t\t\thandleCalculation(statisticalTotal.PreTestDone, statisticalTotal.TestDone)\r\n\t\t\t\tbreak\r\n\r\n\t\t\tcase 'Học viên hẹn đăng kí':\r\n\t\t\t\thandleCalculation(statisticalTotal.PreRegisterAppointment, statisticalTotal.RegisterAppointment)\r\n\t\t\t\tbreak\r\n\r\n\t\t\tcase 'Học viên đang học':\r\n\t\t\t\thandleCalculation(Number(statisticalTotal.PreStudying), Number(statisticalTotal.Studying))\r\n\t\t\t\tbreak\r\n\r\n\t\t\tcase 'Học viên đăng kí':\r\n\t\t\t\thandleCalculation(Number(statisticalTotal.PreCustomer), Number(statisticalTotal.Customer))\r\n\t\t\t\tbreak\r\n\r\n\t\t\tcase 'Bài tập đã nộp':\r\n\t\t\t\thandleCalculation(0, Number(statisticalTotal.Submittopic))\r\n\r\n\t\t\tcase 'Bài đã chấm':\r\n\t\t\t\thandleCalculation(0, Number(statisticalTotal.Marktopic))\r\n\t\t\t\tbreak\r\n\r\n\t\t\tcase 'Bài không đạt':\r\n\t\t\t\thandleCalculation(0, Number(statisticalTotal.Remaketopic))\r\n\t\t\t\tbreak\r\n\r\n\t\t\tcase 'Học viên bảo lưu':\r\n\t\t\t\thandleCalculation(statisticalTotal.Prereserve, statisticalTotal.Reserve)\r\n\t\t\t\tbreak\r\n\r\n\t\t\tcase 'Học viên chuyển khóa':\r\n\t\t\t\thandleCalculation(statisticalTotal.PreChangecourse, statisticalTotal.Changecourse)\r\n\t\t\t\tbreak\r\n\r\n\t\t\tcase 'Giáo viên':\r\n\t\t\t\thandleCalculation(statisticalTotal.PreTeacher, statisticalTotal.Teacher)\r\n\t\t\t\tbreak\r\n\r\n\t\t\tcase 'Nhân viên':\r\n\t\t\t\thandleCalculation(statisticalTotal.PreEmployee, statisticalTotal.Employee)\r\n\t\t\t\tbreak\r\n\r\n\t\t\tcase 'Học viên bị cảnh cáo':\r\n\t\t\t\thandleCalculation(Math.round(statisticalTotal.Prewarning), Math.round(statisticalTotal.Warning))\r\n\t\t\t\tbreak\r\n\r\n\t\t\tcase 'Doanh thu khóa học video':\r\n\t\t\t\thandleCalculation(Math.round(statisticalTotal.PrevideoCourseRevenue), Math.round(statisticalTotal.VideoCourseRevenue))\r\n\t\t\t\tbreak\r\n\r\n\t\t\tcase 'Lượt xem khóa học video':\r\n\t\t\t\thandleCalculation(Math.round(statisticalTotal.PretotalVideoViews), Math.round(statisticalTotal.TotalVideoViews))\r\n\t\t\t\tbreak\r\n\r\n\t\t\tcase 'Lượt xem video trung bình':\r\n\t\t\t\thandleCalculation(Math.round(0), Math.round(statisticalTotal.AverageView))\r\n\t\t\t\tbreak\r\n\r\n\t\t\tcase 'Tỉ lệ nợ học phí':\r\n\t\t\t\thandleCalculation(Math.round(statisticalTotal.PrenotDonePaidCoursePrice), Math.round(statisticalTotal.NotDonePaidCoursePrice))\r\n\t\t\t\tbreak\r\n\r\n\t\t\tcase 'Tỉ lệ hoàn thành học phí':\r\n\t\t\t\thandleCalculation(Math.round(statisticalTotal.PredonePaidCoursePrice), Math.round(statisticalTotal.DonePaidCoursePrice))\r\n\t\t\t\tbreak\r\n\r\n\t\t\tcase 'Tỉ lệ nộp bài đúng hạn':\r\n\t\t\t\thandleCalculation(Math.round(statisticalTotal.PrecompleteHomework), Math.round(statisticalTotal.CompleteHomework))\r\n\t\t\t\tbreak\r\n\r\n\t\t\tcase 'Tỉ lệ quay lại sau 3 tháng':\r\n\t\t\t\thandleCalculation(Math.round(0), Math.round(statisticalTotal.CourseSecond3Month))\r\n\t\t\t\tbreak\r\n\r\n\t\t\tcase 'Bài hẹn test chưa chấm':\r\n\t\t\t\thandleCalculation(Math.round(0), Math.round(statisticalTotal.ExamAppointmentResultNotDone))\r\n\t\t\t\tbreak\r\n\r\n\t\t\tcase 'Bài kiểm tra chưa chấm':\r\n\t\t\t\thandleCalculation(Math.round(0), Math.round(statisticalTotal.CourseExamresultNotDone))\r\n\t\t\t\tbreak\r\n\r\n\t\t\tcase 'Bộ đề chưa chấm':\r\n\t\t\t\thandleCalculation(Math.round(0), Math.round(statisticalTotal.SetPackageResultNotDone))\r\n\t\t\t\tbreak\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tbreak\r\n\t\t}\r\n\t}\r\n\tuseEffect(() => {\r\n\t\thandleDataSource()\r\n\t}, [statisticalTotal])\r\n\r\n\treturn (\r\n\t\t<div className=\"style-card\">\r\n\t\t\t<Widget styleName=\"gx-card-full dashboard__chart-container\">\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t<h6 className=\"dashboard__chart-title\">{title}</h6>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"row \">\r\n\t\t\t\t\t<div className=\"col-3\">\r\n\t\t\t\t\t\t{dataSource && dataSource.pre.toString().length > 3 ? (\r\n\t\t\t\t\t\t\t<Tooltip title={numberWithCommas(dataSource.pre)}>\r\n\t\t\t\t\t\t\t\t<h4 className=\"limit-text-three-word\">{numberWithCommas(dataSource.pre)}</h4>\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<h4>{numberWithCommas(dataSource.pre)}</h4>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-6 d-flex align justify-content-between align-items-center\">\r\n\t\t\t\t\t\t<b>\r\n\t\t\t\t\t\t\t<span className={`gx-mb-0 gx-ml-2 gx-pt-xl-2 gx-fs-lg gx-chart-${dataSource.styleName}`}>\r\n\t\t\t\t\t\t\t\t{dataSource.percent}% <i className={`fas fa-angle-${dataSource.styleName}`}></i>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</b>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-3\">\r\n\t\t\t\t\t\t{dataSource && dataSource.current.toString().length > 3 ? (\r\n\t\t\t\t\t\t\t<Tooltip title={numberWithCommas(dataSource.current)}>\r\n\t\t\t\t\t\t\t\t<h4 className=\"limit-text-three-word\">{numberWithCommas(dataSource.current)}</h4>\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<h4>{numberWithCommas(dataSource.current)}</h4>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{renderChart()}\r\n\t\t\t</Widget>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default ChartCard\r\n"]},"metadata":{},"sourceType":"module"}