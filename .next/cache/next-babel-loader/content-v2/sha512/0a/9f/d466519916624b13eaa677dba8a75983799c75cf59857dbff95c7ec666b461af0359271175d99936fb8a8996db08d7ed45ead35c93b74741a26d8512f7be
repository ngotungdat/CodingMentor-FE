{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Global\\\\ExamList\\\\ExamForm\\\\ChangePosition.tsx\";\nimport React, { useEffect, useState } from 'react';\nimport { Select } from 'antd';\nimport { useExamDetail } from '~/pages/question-bank/exam-list/exam-detail/[slug]';\nconst {\n  Option\n} = Select;\n\nconst ChangePosition = props => {\n  const {\n    questionID,\n    arPosition,\n    dataQuestion,\n    handleChange,\n    addOldItem\n  } = props;\n  const {\n    getDataChange,\n    dataChange,\n    isChangePosition\n  } = useExamDetail();\n  const {\n    0: selected,\n    1: setSelected\n  } = useState(-1);\n  const {\n    0: flag,\n    1: setFlag\n  } = useState(0); // ON CHANGE POSITION TO\n\n  const onChange_PositionTo = e => {\n    console.log('====================');\n    console.log('onChange_PositionTo');\n    let value = parseInt(e);\n    console.log('value: ', value);\n    let cloneData = [...dataChange];\n    console.log('cloneData: ', cloneData);\n\n    if (Number.isNaN(value)) {\n      value = null;\n    }\n\n    let index = dataChange.findIndex(item => item.ID === questionID);\n    console.log('index: ', index);\n    cloneData[index].Index = value;\n    getDataChange(cloneData);\n  };\n\n  useEffect(() => {\n    if (dataChange !== undefined && dataChange !== null && dataChange.length > 0 && flag == 0) {\n      setFlag(1);\n      onChange_PositionTo(dataQuestion === null || dataQuestion === void 0 ? void 0 : dataQuestion.Index);\n    }\n  }, [dataChange]);\n  useEffect(() => {\n    if ((dataQuestion === null || dataQuestion === void 0 ? void 0 : dataQuestion.Index) !== undefined) {\n      setSelected(dataQuestion === null || dataQuestion === void 0 ? void 0 : dataQuestion.Index);\n    }\n  }, [dataQuestion]);\n\n  const remove = () => {\n    addOldItem(selected);\n    setSelected(-1);\n  };\n\n  const onChangeValue = e => {\n    setSelected(e);\n    onChange_PositionTo(e);\n    handleChange(e, selected);\n  }; // RENDER\n\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: isChangePosition && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: arPosition && /*#__PURE__*/_jsxDEV(Select, {\n        value: selected !== -1 && selected,\n        placeholder: \"Ch\\u1ECDn v\\u1ECB tr\\xED\",\n        style: {\n          width: 120\n        },\n        showSearch: true,\n        onChange: onChangeValue,\n        allowClear: true,\n        onClear: () => remove(),\n        children: arPosition.map((item, index) => {\n          return /*#__PURE__*/_jsxDEV(Option, {\n            value: item === null || item === void 0 ? void 0 : item.value,\n            children: item === null || item === void 0 ? void 0 : item.value\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 10\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 7\n      }, this)\n    }, void 0, false)\n  }, void 0, false);\n};\n\nexport default ChangePosition;","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Global/ExamList/ExamForm/ChangePosition.tsx"],"names":["React","useEffect","useState","Select","useExamDetail","Option","ChangePosition","props","questionID","arPosition","dataQuestion","handleChange","addOldItem","getDataChange","dataChange","isChangePosition","selected","setSelected","flag","setFlag","onChange_PositionTo","e","console","log","value","parseInt","cloneData","Number","isNaN","index","findIndex","item","ID","Index","undefined","length","remove","onChangeValue","width","map"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Select } from 'antd'\r\nimport { useExamDetail } from '~/pages/question-bank/exam-list/exam-detail/[slug]'\r\n\r\nconst { Option } = Select\r\n\r\nconst ChangePosition = (props) => {\r\n\tconst { questionID, arPosition, dataQuestion, handleChange, addOldItem } = props\r\n\tconst { getDataChange, dataChange, isChangePosition } = useExamDetail()\r\n\tconst [selected, setSelected] = useState<any>(-1)\r\n\tconst [flag, setFlag] = useState<any>(0)\r\n\r\n\t// ON CHANGE POSITION TO\r\n\tconst onChange_PositionTo = (e) => {\r\n\t\tconsole.log('====================')\r\n\t\tconsole.log('onChange_PositionTo')\r\n\r\n\t\tlet value = parseInt(e)\r\n\t\tconsole.log('value: ', value)\r\n\r\n\t\tlet cloneData = [...dataChange]\r\n\t\tconsole.log('cloneData: ', cloneData)\r\n\r\n\t\tif (Number.isNaN(value)) {\r\n\t\t\tvalue = null\r\n\t\t}\r\n\r\n\t\tlet index = dataChange.findIndex((item) => item.ID === questionID)\r\n\r\n\t\tconsole.log('index: ', index)\r\n\r\n\t\tcloneData[index].Index = value\r\n\t\tgetDataChange(cloneData)\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (dataChange !== undefined && dataChange !== null && dataChange.length > 0 && flag == 0) {\r\n\t\t\tsetFlag(1)\r\n\t\t\tonChange_PositionTo(dataQuestion?.Index)\r\n\t\t}\r\n\t}, [dataChange])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (dataQuestion?.Index !== undefined) {\r\n\t\t\tsetSelected(dataQuestion?.Index)\r\n\t\t}\r\n\t}, [dataQuestion])\r\n\r\n\tconst remove = () => {\r\n\t\taddOldItem(selected)\r\n\t\tsetSelected(-1)\r\n\t}\r\n\r\n\tconst onChangeValue = (e) => {\r\n\t\tsetSelected(e)\r\n\t\tonChange_PositionTo(e)\r\n\t\thandleChange(e, selected)\r\n\t}\r\n\r\n\t// RENDER\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{isChangePosition && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{arPosition && (\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tvalue={selected !== -1 && selected}\r\n\t\t\t\t\t\t\tplaceholder=\"Chọn vị trí\"\r\n\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\tshowSearch={true}\r\n\t\t\t\t\t\t\tonChange={onChangeValue}\r\n\t\t\t\t\t\t\tallowClear\r\n\t\t\t\t\t\t\tonClear={() => remove()}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{arPosition.map((item, index) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<Option value={item?.value} key={index}>\r\n\t\t\t\t\t\t\t\t\t\t{item?.value}\r\n\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default ChangePosition\r\n"]},"metadata":{},"sourceType":"module"}