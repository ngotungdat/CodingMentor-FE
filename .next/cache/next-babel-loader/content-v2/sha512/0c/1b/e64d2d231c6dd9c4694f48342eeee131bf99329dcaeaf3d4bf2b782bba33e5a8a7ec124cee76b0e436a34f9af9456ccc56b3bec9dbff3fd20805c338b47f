{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\pages\\\\question-bank\\\\exam-list\\\\exam-detail\\\\[slug].tsx\",\n    _this = this,\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { AlignRightOutlined } from '@ant-design/icons';\nimport { Card, Popover, Skeleton, Spin } from 'antd';\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport { createContext, useContext, useEffect, useRef, useState } from 'react';\nimport { Bookmark, Info } from 'react-feather';\nimport { examDetailApi, examTopicApi } from '~/apiBase';\nimport PopupConfirm from '~/components/Elements/PopupConfirm';\nimport TitlePage from '~/components/Elements/TitlePage';\nimport AddQuestionAuto from '~/components/Global/ExamDetail/AddQuestionAuto';\nimport AddQuestionModal from '~/components/Global/ExamDetail/AddQuestionModal';\nimport ChoiceList from '~/components/Global/ExamList/ExamShow/ChoiceList';\nimport DragList from '~/components/Global/ExamList/ExamShow/DragList';\nimport MapList from '~/components/Global/ExamList/ExamShow/MapList';\nimport MultipleList from '~/components/Global/ExamList/ExamShow/MultipleList';\nimport SpeakingList from '~/components/Global/ExamList/ExamShow/Speaking';\nimport TypingList from '~/components/Global/ExamList/ExamShow/TypingList';\nimport WrapList from '~/components/Global/ExamList/ExamShow/WrapList';\nimport WrittingList from '~/components/Global/ExamList/ExamShow/WrittingList';\nimport LayoutBase from '~/components/LayoutBase';\nimport { useWrap } from '~/context/wrap';\nvar listAlphabet = ['A', 'B', 'C', 'D', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V'];\nvar ExamDetailContext = /*#__PURE__*/createContext({\n  onAddQuestion: function onAddQuestion() {},\n  onDeleteQuestion: function onDeleteQuestion() {},\n  onEditPoint: function onEditPoint() {},\n  onRemoveQuestionAdd: function onRemoveQuestionAdd(data) {},\n  onGetListQuestionID: function onGetListQuestionID(data) {},\n  getDataChange: function getDataChange(data) {},\n  isGetQuestion: false,\n  listQuestionAddOutside: [],\n  listQuestionID: [],\n  listGroupID: [],\n  dataChange: [],\n  isChangePosition: false\n});\n\nvar ExamDetail = function ExamDetail() {\n  _s();\n\n  var _useWrap = useWrap(),\n      showNoti = _useWrap.showNoti;\n\n  var _useState = useState(''),\n      rr = _useState[0],\n      setRerender = _useState[1]; // ĐỂ CÁI NÀY BUỘC NÓ RERENDER - BÙA CHÚ CẢ\n\n\n  var _useState2 = useState([]),\n      arPosition = _useState2[0],\n      setArPositions = _useState2[1];\n\n  var router = useRouter();\n  var examID = parseInt(router.query.slug);\n\n  var _useState3 = useState([]),\n      dataExamDetail = _useState3[0],\n      setDataExamDetail = _useState3[1];\n\n  var _useState4 = useState(null),\n      examTopicDetail = _useState4[0],\n      setExamTopicDetail = _useState4[1];\n\n  var _useState5 = useState([]),\n      listQuestionID = _useState5[0],\n      setListQuestionID = _useState5[1]; // Lấy tất cả ID đã có\n\n\n  var _useState6 = useState([]),\n      listGroupID = _useState6[0],\n      setListGroupID = _useState6[1]; // Lấy tất cả group ID đã có\n\n\n  var _useState7 = useState([]),\n      listQuestionAddOutside = _useState7[0],\n      setListQuestionAddOutside = _useState7[1]; // Lấy tất cả ID vừa add\n\n\n  var _useState8 = useState(false),\n      isGetQuestion = _useState8[0],\n      setIsGetQuestion = _useState8[1];\n\n  var _useState9 = useState(false),\n      isLoading = _useState9[0],\n      setIsLoading = _useState9[1];\n\n  var _useState10 = useState(0),\n      totalPageIndex = _useState10[0],\n      setTotalPageIndex = _useState10[1];\n\n  var boxEl = useRef(null);\n\n  var _useState11 = useState(false),\n      loadingQuestion = _useState11[0],\n      setLoadingQuestion = _useState11[1];\n\n  var listTodoApi = {\n    pageIndex: 1,\n    pageSize: 10,\n    ExamTopicID: examID\n  };\n\n  var _useState12 = useState(listTodoApi),\n      todoApi = _useState12[0],\n      setTodoApi = _useState12[1];\n\n  var _useState13 = useState([]),\n      listExam = _useState13[0],\n      setListExam = _useState13[1];\n\n  var _useState14 = useState(false),\n      loadingExam = _useState14[0],\n      setLoadingExam = _useState14[1];\n\n  var _useState15 = useState(false),\n      loadingDetail = _useState15[0],\n      setLoadingDetail = _useState15[1];\n\n  var _useState16 = useState([]),\n      dataChange = _useState16[0],\n      setDataChange = _useState16[1];\n\n  var _useState17 = useState(false),\n      loadingPosition = _useState17[0],\n      setLoadingPosition = _useState17[1];\n\n  var _useState18 = useState(false),\n      isChangePosition = _useState18[0],\n      setIsChangePosition = _useState18[1];\n\n  var _useState19 = useState(false),\n      isConfirmChange = _useState19[0],\n      setIsConfirmChange = _useState19[1];\n\n  var _useState20 = useState(false),\n      visiblePopover = _useState20[0],\n      setVisiblePopover = _useState20[1];\n\n  var setArPosition = function setArPosition(param) {\n    setArPositions(param);\n  };\n\n  var getPosi = function getPosi(ar, it) {\n    for (var i = 0; i < ar.length; i++) {\n      if (ar[i].value == it) {\n        return i;\n      }\n    }\n\n    return -1;\n  };\n\n  var removeItem = function removeItem(ar, po, old) {\n    var temp = [];\n\n    for (var i = 0; i < ar.length; i++) {\n      if (i !== po) {\n        temp.push(ar[i]);\n      }\n    }\n\n    if (old > 0) {\n      addItem(old, temp);\n    } else {\n      setArPosition(temp);\n    }\n  };\n\n  var addItem = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(item, ar) {\n      var temp, po;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              temp = ar;\n              _context.next = 3;\n              return getPosi(arPosition, item);\n\n            case 3:\n              po = _context.sent;\n\n              if (po == -1) {\n                temp.push({\n                  value: item,\n                  label: item\n                });\n                setArPosition(temp);\n              }\n\n              reRender(po);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function addItem(_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var addOldItem = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(item) {\n      var temp, po, now;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              temp = arPosition;\n              _context2.next = 3;\n              return getPosi(arPosition, item);\n\n            case 3:\n              po = _context2.sent;\n\n              if (po == -1) {\n                temp.push({\n                  value: item,\n                  label: item\n                });\n                setArPosition(temp);\n              }\n\n              now = new Date();\n              setRerender(item + now + '');\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function addOldItem(_x3) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleChange = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(value, old) {\n      var po;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return getPosi(arPosition, value);\n\n            case 2:\n              po = _context3.sent;\n              reRender(value);\n\n              if (!(po !== -1)) {\n                _context3.next = 7;\n                break;\n              }\n\n              _context3.next = 7;\n              return removeItem(arPosition, po, old);\n\n            case 7:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function handleChange(_x4, _x5) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var reRender = function reRender(value) {\n    var now = new Date();\n    value !== undefined ? setRerender(value + now + '') : setRerender('fuck - ' + now + '');\n  }; // ---- GET LIST EXAM ----\n\n\n  var getListExam = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.prev = 0;\n              _context4.next = 3;\n              return examTopicApi.getAll({\n                setlectAll: true,\n                CurriculumID: examTopicDetail.CurriculumID,\n                Type: examTopicDetail.Type\n              });\n\n            case 3:\n              res = _context4.sent;\n\n              if (res.status == 200) {\n                setListExam(res.data.data);\n              }\n\n              _context4.next = 10;\n              break;\n\n            case 7:\n              _context4.prev = 7;\n              _context4.t0 = _context4[\"catch\"](0);\n              showNoti('danger', _context4.t0.message);\n\n            case 10:\n              _context4.prev = 10;\n              setLoadingExam(false);\n              setIsLoading(false);\n              return _context4.finish(10);\n\n            case 14:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[0, 7, 10, 14]]);\n    }));\n\n    return function getListExam() {\n      return _ref4.apply(this, arguments);\n    };\n  }(); // ---- GET ALL LIST QUESTION ID ----\n\n\n  var getAllListQuestionID = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n      var cloneListQuestionID, cloneListGroupID, res;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              cloneListQuestionID = _toConsumableArray(listQuestionID);\n              cloneListGroupID = _toConsumableArray(listGroupID);\n              _context5.prev = 2;\n              _context5.next = 5;\n              return examDetailApi.getAll(_objectSpread(_objectSpread({}, todoApi), {}, {\n                pageSize: 9999,\n                pageIndex: 1\n              }));\n\n            case 5:\n              res = _context5.sent;\n\n              if (res.status == 200) {\n                res.data.data.forEach(function (item) {\n                  if (item.Enable) {\n                    item.ExerciseGroupID !== 0 && cloneListGroupID.push(item.ExerciseGroupID);\n                    dataChange.push({\n                      ID: item.ID,\n                      Index: null\n                    });\n                    item.ExerciseTopic.forEach(function (ques) {\n                      cloneListQuestionID.push(ques.ExerciseID);\n                    });\n                  }\n                });\n                setListGroupID(_toConsumableArray(cloneListGroupID));\n                setListQuestionID(_toConsumableArray(cloneListQuestionID));\n                setDataChange(_toConsumableArray(dataChange));\n              }\n\n              _context5.next = 11;\n              break;\n\n            case 9:\n              _context5.prev = 9;\n              _context5.t0 = _context5[\"catch\"](2);\n\n            case 11:\n              _context5.prev = 11;\n              setIsLoading(false);\n              return _context5.finish(11);\n\n            case 14:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, null, [[2, 9, 11, 14]]);\n    }));\n\n    return function getAllListQuestionID() {\n      return _ref5.apply(this, arguments);\n    };\n  }(); // ---- GET LIST QUESTION IN EXAM ----\n\n\n  var getExamDetail = /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6() {\n      var cloneListQuestionID, cloneListGroupID, res, cloneData, totalPage;\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              cloneListQuestionID = _toConsumableArray(listQuestionID);\n              cloneListGroupID = _toConsumableArray(listGroupID);\n              _context6.prev = 2;\n              _context6.next = 5;\n              return examDetailApi.getAll(todoApi);\n\n            case 5:\n              res = _context6.sent;\n\n              if (res.status == 200) {\n                setDataExamDetail(res.data.data);\n                cloneData = _toConsumableArray(dataExamDetail);\n                res.data.data.forEach(function (item, index) {\n                  cloneData.push(item);\n                });\n                setDataExamDetail(_toConsumableArray(cloneData));\n                res.data.data.forEach(function (item) {\n                  if (item.Enable) {\n                    item.ExerciseGroupID !== 0 && cloneListGroupID.push(item.ExerciseGroupID);\n                    item.ExerciseTopic.forEach(function (ques) {\n                      cloneListQuestionID.push(ques.ExerciseID);\n                    });\n                  }\n                });\n                setListGroupID(_toConsumableArray(cloneListGroupID));\n                setListQuestionID(_toConsumableArray(cloneListQuestionID));\n                setListQuestionAddOutside([]); // Caculator pageindex\n\n                totalPage = Math.ceil(res.data.totalRow / 10);\n                setTotalPageIndex(totalPage);\n              }\n\n              _context6.next = 12;\n              break;\n\n            case 9:\n              _context6.prev = 9;\n              _context6.t0 = _context6[\"catch\"](2);\n              showNoti('danger', _context6.t0.message);\n\n            case 12:\n              _context6.prev = 12;\n              setLoadingQuestion(false);\n              setIsLoading(false);\n              return _context6.finish(12);\n\n            case 16:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6, null, [[2, 9, 12, 16]]);\n    }));\n\n    return function getExamDetail() {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n\n  var getExamTopicDetail = /*#__PURE__*/function () {\n    var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              listExam.length == 0 && setLoadingExam(true);\n              setLoadingDetail(true);\n              _context7.prev = 2;\n              _context7.next = 5;\n              return examTopicApi.getByID(examID);\n\n            case 5:\n              res = _context7.sent;\n\n              if (res.status == 200) {\n                setExamTopicDetail(res.data.data);\n              }\n\n              _context7.next = 12;\n              break;\n\n            case 9:\n              _context7.prev = 9;\n              _context7.t0 = _context7[\"catch\"](2);\n              showNoti('danger', _context7.t0.message);\n\n            case 12:\n              _context7.prev = 12;\n              setLoadingDetail(false);\n              return _context7.finish(12);\n\n            case 15:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7, null, [[2, 9, 12, 15]]);\n    }));\n\n    return function getExamTopicDetail() {\n      return _ref7.apply(this, arguments);\n    };\n  }(); // RETURN QUESTION TYPE\n\n\n  var returnQuestionType = function returnQuestionType(item, index) {\n    var type = item.Type;\n\n    switch (type) {\n      case 1:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(WrapList, {\n            dataQuestion: item,\n            listQuestionID: listQuestionID,\n            arPosition: arPosition,\n            handleChange: handleChange,\n            addOldItem: addOldItem,\n            children: /*#__PURE__*/_jsxDEV(ChoiceList, {\n              isDoingTest: false,\n              listQuestionID: listQuestionID,\n              dataQuestion: item,\n              listAlphabet: listAlphabet,\n              showScore: true,\n              arPosition: arPosition,\n              handleChange: handleChange,\n              addOldItem: addOldItem\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 8\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 7\n          }, _this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 6\n        }, _this);\n\n      case 2:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(WrapList, {\n            dataQuestion: item,\n            listQuestionID: listQuestionID,\n            arPosition: arPosition,\n            handleChange: handleChange,\n            addOldItem: addOldItem,\n            children: /*#__PURE__*/_jsxDEV(DragList, {\n              isDoingTest: false,\n              listQuestionID: listQuestionID,\n              dataQuestion: item,\n              listAlphabet: listAlphabet\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 8\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 7\n          }, _this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 6\n        }, _this);\n\n      case 3:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(WrapList, {\n            dataQuestion: item,\n            listQuestionID: listQuestionID,\n            arPosition: arPosition,\n            handleChange: handleChange,\n            addOldItem: addOldItem,\n            children: /*#__PURE__*/_jsxDEV(TypingList, {\n              isDoingTest: false,\n              listQuestionID: listQuestionID,\n              dataQuestion: item,\n              listAlphabet: listAlphabet\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 8\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 7\n          }, _this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 6\n        }, _this);\n\n      case 4:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(WrapList, {\n            dataQuestion: item,\n            listQuestionID: listQuestionID,\n            children: /*#__PURE__*/_jsxDEV(MultipleList, {\n              isDoingTest: false,\n              listQuestionID: listQuestionID,\n              dataQuestion: item,\n              listAlphabet: listAlphabet,\n              arPosition: arPosition,\n              handleChange: handleChange,\n              addOldItem: addOldItem\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 8\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 7\n          }, _this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 6\n        }, _this);\n\n      case 5:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(WrapList, {\n            dataQuestion: item,\n            listQuestionID: listQuestionID,\n            arPosition: arPosition,\n            handleChange: handleChange,\n            addOldItem: addOldItem,\n            children: /*#__PURE__*/_jsxDEV(MapList, {\n              isDoingTest: false,\n              listQuestionID: listQuestionID,\n              dataQuestion: item,\n              listAlphabet: listAlphabet\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 8\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 7\n          }, _this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 6\n        }, _this);\n\n      case 6:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(WrapList, {\n            dataQuestion: item,\n            listQuestionID: listQuestionID,\n            arPosition: arPosition,\n            handleChange: handleChange,\n            children: /*#__PURE__*/_jsxDEV(WrittingList, {\n              isDoingTest: false,\n              listQuestionID: listQuestionID,\n              dataQuestion: item,\n              listAlphabet: listAlphabet,\n              arPosition: arPosition,\n              handleChange: handleChange,\n              removeItem: removeItem,\n              addOldItem: addOldItem\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 8\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 7\n          }, _this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 6\n        }, _this);\n\n      case 7:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(WrapList, {\n            dataQuestion: item,\n            listQuestionID: listQuestionID,\n            handleChange: handleChange,\n            addOldItem: addOldItem,\n            children: /*#__PURE__*/_jsxDEV(SpeakingList, {\n              isDoingTest: false,\n              listQuestionID: listQuestionID,\n              dataQuestion: item,\n              listAlphabet: listAlphabet,\n              arPosition: arPosition,\n              handleChange: handleChange,\n              addOldItem: addOldItem\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 8\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 7\n          }, _this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 6\n        }, _this);\n\n      default:\n        return;\n    }\n  }; // ON ADD QUESTION TO EXAM\n\n\n  var onAddQuestion = function onAddQuestion() {\n    setIsGetQuestion(true);\n  }; // ON FETCH DATA\n\n\n  var onFetchData = function onFetchData() {\n    setIsLoading(true);\n    setListGroupID([]);\n    setListQuestionID([]);\n    setDataExamDetail([]);\n    setTodoApi(listTodoApi);\n    setIsGetQuestion(false);\n  }; // ON DELETE QUESTION\n\n\n  var onDeleteQuestion = function onDeleteQuestion(dataDelete) {\n    var cloneListQuestionID = [];\n    var cloneListGroupID = [];\n\n    var cloneDataExam = _toConsumableArray(dataExamDetail);\n\n    var indexQues = cloneDataExam.findIndex(function (item) {\n      return item.ID == dataDelete.ID;\n    });\n    cloneDataExam.splice(indexQues, 1);\n    cloneDataExam.forEach(function (item) {\n      item.ExerciseGroupID !== 0 && cloneListGroupID.push(item.ExerciseGroupID);\n      item.ExerciseTopic.forEach(function (ques) {\n        cloneListQuestionID.push(ques.ExerciseID);\n      });\n    });\n    setListGroupID([].concat(cloneListGroupID));\n    setListQuestionID([].concat(cloneListQuestionID));\n    setDataExamDetail(_toConsumableArray(cloneDataExam));\n  }; // ON EDIT POINT\n\n\n  var onEditPoint = function onEditPoint(dataEdit, detailID) {\n    dataExamDetail.every(function (item, index) {\n      if (detailID == item.ID) {\n        item.ExerciseTopic[0].Point = dataEdit[0].Point;\n        return false;\n      }\n\n      return true;\n    });\n    setDataExamDetail(_toConsumableArray(dataExamDetail));\n  }; // ON REMOVE QUESTION ADD IN LIST\n\n\n  var onRemoveQuestionAdd = function onRemoveQuestionAdd(objectQuestion) {\n    var index = listQuestionAddOutside.findIndex(function (item) {\n      return item.ExerciseOrExerciseGroupID == objectQuestion.ExerciseOrExerciseGroupID;\n    });\n    listQuestionAddOutside.splice(index, 1);\n    setListQuestionAddOutside(_toConsumableArray(listQuestionAddOutside));\n  }; // ON GET LIST QUESTION ID\n\n\n  var onGetListQuestionID = function onGetListQuestionID(objectQuestion) {\n    listQuestionAddOutside.push(objectQuestion);\n    setListQuestionAddOutside(_toConsumableArray(listQuestionAddOutside));\n  }; // SCROLL TO TOP\n\n\n  var scrollToTop = function scrollToTop() {\n    boxEl.current.scrollTo(0, 0);\n  }; // ON SCROLL\n\n\n  var onScroll = function onScroll() {\n    var scrollHeight = boxEl.current.scrollHeight;\n    var offsetHeight = boxEl.current.offsetHeight;\n    var scrollTop = boxEl.current.scrollTop;\n\n    if (scrollTop > scrollHeight - offsetHeight - 50) {\n      if (todoApi.pageIndex < totalPageIndex) {\n        (dataExamDetail === null || dataExamDetail === void 0 ? void 0 : dataExamDetail.length) !== 0 && setLoadingQuestion(true);\n\n        if (scrollTop > 0 && loadingQuestion == false) {\n          setTodoApi(_objectSpread(_objectSpread({}, todoApi), {}, {\n            pageIndex: todoApi.pageIndex + 1\n          }));\n        }\n      }\n    }\n  }; // ACTION CHANGE POSITION\n\n\n  var actionChangePosition = /*#__PURE__*/function () {\n    var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              console.log('dataChange: ', dataChange);\n              setLoadingPosition(true); // let cloneListQuestionID = [];\n              // let cloneListGroupID = [];\n\n              _context8.prev = 2;\n              _context8.next = 5;\n              return examDetailApi.changePosition(dataChange);\n\n            case 5:\n              res = _context8.sent;\n\n              if (res.status === 200) {\n                showNoti('success', 'Đổi vị trí thành công');\n                onFetchData();\n                setIsConfirmChange(false);\n                setIsChangePosition(false); // changePositionInArray();\n                // res.data.data.forEach((item) => {\n                // \tif (item.Enable) {\n                // \t\titem.ExerciseGroupID !== 0 && cloneListGroupID.push(item.ExerciseGroupID);\n                // \t\titem.ExerciseTopic.forEach((ques) => {\n                // \t\t\tcloneListQuestionID.push(ques.ExerciseID);\n                // \t\t});\n                // \t}\n                // });\n                // setListGroupID([...cloneListGroupID]);\n                // setListQuestionID([...cloneListQuestionID]);\n              }\n\n              _context8.next = 12;\n              break;\n\n            case 9:\n              _context8.prev = 9;\n              _context8.t0 = _context8[\"catch\"](2);\n              showNoti('danger', _context8.t0.message);\n\n            case 12:\n              _context8.prev = 12;\n              setLoadingPosition(false);\n              return _context8.finish(12);\n\n            case 15:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee8, null, [[2, 9, 12, 15]]);\n    }));\n\n    return function actionChangePosition() {\n      return _ref8.apply(this, arguments);\n    };\n  }(); // const changePositionInArray = () => {\n  // \tlet dataFrom = null;\n  // \tlet dataTo = null;\n  // \tlet indexFrom = null;\n  // \tlet indexTo = null;\n  // \tdataExamDetail.every((item, index) => {\n  // \t\tif (item.ID === dataChange.IDChangeOne) {\n  // \t\t\tdataFrom = item;\n  // \t\t\tindexFrom = index;\n  // \t\t}\n  // \t\tif (item.ID === dataChange.IDChangeTwo) {\n  // \t\t\tdataTo = item;\n  // \t\t\tindexTo = index;\n  // \t\t}\n  // \t\tif (dataFrom && dataTo) {\n  // \t\t\treturn false;\n  // \t\t} else {\n  // \t\t\treturn true;\n  // \t\t}\n  // \t});\n  // \tdataExamDetail[indexFrom] = dataTo;\n  // \tdataExamDetail[indexTo] = dataFrom;\n  // \tsetDataExamDetail([...dataExamDetail]);\n  // };\n  // START CHANGE POSITION\n\n\n  var startChangePosition = function startChangePosition() {\n    !isChangePosition && setIsChangePosition(true);\n    isChangePosition && setIsConfirmChange(true);\n  }; // GET DATA CHANGE\n\n\n  var getDataChange = function getDataChange(data) {\n    setDataChange(_toConsumableArray(data));\n  };\n\n  useEffect(function () {\n    setIsLoading(true);\n    getExamTopicDetail();\n  }, [examID]);\n  useEffect(function () {\n    if (examTopicDetail) {\n      if (listExam.length == 0) {\n        getListExam();\n      }\n    }\n  }, [examTopicDetail]);\n  useEffect(function () {\n    onFetchData();\n    scrollToTop();\n  }, [examID]);\n  useEffect(function () {\n    getExamDetail();\n  }, [todoApi]); // useEffect(() => {\n  // \tif (dataChange.IDChangeOne && dataChange.IDChangeTwo) {\n  // \t\tactionChangePosition();\n  // \t}\n  // }, [dataChange]);\n\n  useEffect(function () {\n    getAllListQuestionID();\n    setIsLoading(true);\n\n    window.onclick = function (ev) {\n      console.log('TEST: ', ev.target);\n\n      if (ev.target.nodeName !== 'BUTTON') {\n        setVisiblePopover(false);\n      }\n    };\n  }, []);\n\n  var contentButton = /*#__PURE__*/_jsxDEV(\"div\", {\n    onClick: function onClick() {\n      return setVisiblePopover(false);\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-primary d-block w-100 text-center mb-2\",\n      onClick: startChangePosition,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(AlignRightOutlined, {\n          className: \"mr-2\",\n          style: {\n            width: '18px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 588,\n          columnNumber: 6\n        }, _this), isChangePosition ? 'Lưu' : 'Sắp xếp']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 587,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 586,\n      columnNumber: 4\n    }, _this), /*#__PURE__*/_jsxDEV(AddQuestionAuto, {\n      dataExam: examTopicDetail,\n      onFetchData: onFetchData,\n      examTopicID: examID\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 592,\n      columnNumber: 4\n    }, _this), /*#__PURE__*/_jsxDEV(AddQuestionModal, {\n      dataExam: examTopicDetail,\n      onFetchData: onFetchData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 593,\n      columnNumber: 4\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 585,\n    columnNumber: 3\n  }, _this);\n\n  var content = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"question-bank-info\",\n    children: /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"list\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"list-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"list-title\",\n            children: \"Gi\\xE1o tr\\xECnh:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 602,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"list-text\",\n            children: examTopicDetail === null || examTopicDetail === void 0 ? void 0 : examTopicDetail.CurriculumName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 603,\n            columnNumber: 7\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 601,\n          columnNumber: 6\n        }, _this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"list-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"list-title\",\n            children: \"T\\u1ED5ng s\\u1ED1 c\\xE2u\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 606,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"list-text\",\n            children: listQuestionID === null || listQuestionID === void 0 ? void 0 : listQuestionID.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 607,\n            columnNumber: 7\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 605,\n          columnNumber: 6\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 600,\n        columnNumber: 5\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"list-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"list-title\",\n            children: \"D\\u1EA1ng \\u0111\\u1EC1 thi:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 612,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"list-text\",\n            children: examTopicDetail === null || examTopicDetail === void 0 ? void 0 : examTopicDetail.TypeName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 613,\n            columnNumber: 7\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 611,\n          columnNumber: 6\n        }, _this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"list-item mb-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"list-title\",\n            children: \"Th\\u1EDDi gian:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 617,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"list-text\",\n            children: [examTopicDetail === null || examTopicDetail === void 0 ? void 0 : examTopicDetail.Time, \" ph\\xFAt\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 618,\n            columnNumber: 7\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 616,\n          columnNumber: 6\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 610,\n        columnNumber: 5\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 599,\n      columnNumber: 4\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 598,\n    columnNumber: 3\n  }, _this);\n\n  return /*#__PURE__*/_jsxDEV(ExamDetailContext.Provider, {\n    value: {\n      onAddQuestion: onAddQuestion,\n      onEditPoint: onEditPoint,\n      isGetQuestion: isGetQuestion,\n      onGetListQuestionID: onGetListQuestionID,\n      listQuestionAddOutside: listQuestionAddOutside,\n      listQuestionID: listQuestionID,\n      listGroupID: listGroupID,\n      onRemoveQuestionAdd: onRemoveQuestionAdd,\n      onDeleteQuestion: onDeleteQuestion,\n      dataChange: dataChange,\n      getDataChange: getDataChange,\n      isChangePosition: isChangePosition\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"question-create exam\",\n      children: [/*#__PURE__*/_jsxDEV(PopupConfirm, {\n        okText: \"\\u0110\\u1ED3ng \\xFD\",\n        cancelText: \"H\\u1EE7y\",\n        isOpen: isConfirmChange,\n        onOk: actionChangePosition,\n        onCancel: function onCancel() {\n          return setIsConfirmChange(false);\n        },\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontWeight: 500\n          },\n          children: \"Thay \\u0111\\u1ED5i v\\u1ECB tr\\xED c\\xE2u h\\u1ECFi ngay b\\xE2y gi\\u1EDD?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 650,\n          columnNumber: 6\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 643,\n        columnNumber: 5\n      }, _this), /*#__PURE__*/_jsxDEV(TitlePage, {\n        title: \"T\\u1EA1o \\u0111\\u1EC1 thi\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 653,\n        columnNumber: 5\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-9 col-12\",\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"card-detail-exam card-detail-question\",\n            title: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"title-question-bank\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"title-big\",\n                children: [/*#__PURE__*/_jsxDEV(Bookmark, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 662,\n                  columnNumber: 11\n                }, _this), \" \", examTopicDetail === null || examTopicDetail === void 0 ? void 0 : examTopicDetail.Name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 661,\n                columnNumber: 10\n              }, _this), /*#__PURE__*/_jsxDEV(Popover, {\n                content: content,\n                trigger: \"hover\",\n                placement: \"bottomLeft\",\n                children: loadingDetail ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-md-3\",\n                    children: /*#__PURE__*/_jsxDEV(Skeleton, {\n                      paragraph: false,\n                      loading: true,\n                      title: true,\n                      active: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 668,\n                      columnNumber: 14\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 667,\n                    columnNumber: 13\n                  }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-md-3\",\n                    children: /*#__PURE__*/_jsxDEV(Skeleton, {\n                      paragraph: false,\n                      loading: true,\n                      title: true,\n                      active: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 671,\n                      columnNumber: 14\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 670,\n                    columnNumber: 13\n                  }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-md-3\",\n                    children: /*#__PURE__*/_jsxDEV(Skeleton, {\n                      paragraph: false,\n                      loading: true,\n                      title: true,\n                      active: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 674,\n                      columnNumber: 14\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 673,\n                    columnNumber: 13\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 666,\n                  columnNumber: 12\n                }, _this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"list-detail-question\",\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"icon-detail-question\",\n                      children: /*#__PURE__*/_jsxDEV(Info, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 681,\n                        columnNumber: 15\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 680,\n                      columnNumber: 14\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 679,\n                    columnNumber: 13\n                  }, _this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"title\",\n                      children: \"Gi\\xE1o tr\\xECnh:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 685,\n                      columnNumber: 14\n                    }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text text-curriculum\",\n                      children: examTopicDetail === null || examTopicDetail === void 0 ? void 0 : examTopicDetail.CurriculumName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 686,\n                      columnNumber: 14\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 684,\n                    columnNumber: 13\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 678,\n                  columnNumber: 12\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 664,\n                columnNumber: 10\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 660,\n              columnNumber: 9\n            }, _this),\n            extra: /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: /*#__PURE__*/_jsxDEV(Popover, {\n                visible: visiblePopover,\n                content: contentButton,\n                placement: \"bottomRight\",\n                title: null,\n                trigger: \"click\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-light btn-function\",\n                  onClick: function onClick() {\n                    return setVisiblePopover(!visiblePopover);\n                  },\n                  children: \"Ch\\u1EE9c n\\u0103ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 712,\n                  columnNumber: 11\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 711,\n                columnNumber: 10\n              }, _this)\n            }, void 0, false),\n            children: [loadingPosition && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"loading-all\",\n              children: /*#__PURE__*/_jsxDEV(Spin, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 721,\n                columnNumber: 10\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 720,\n              columnNumber: 9\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"question-list\",\n              ref: boxEl,\n              onScroll: onScroll,\n              children: [isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center mt-3\",\n                children: /*#__PURE__*/_jsxDEV(Spin, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 727,\n                  columnNumber: 11\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 726,\n                columnNumber: 10\n              }, _this) : dataExamDetail.length == 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-center\",\n                children: /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"\\u0110\\u1EC1 thi hi\\u1EC7n ch\\u01B0a c\\xF3 c\\xE2u h\\u1ECFi n\\xE0o\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 731,\n                  columnNumber: 11\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 730,\n                columnNumber: 10\n              }, _this) : dataExamDetail === null || dataExamDetail === void 0 ? void 0 : dataExamDetail.map(function (item, index) {\n                return item.Enable && returnQuestionType(item, index);\n              }), loadingQuestion && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(Skeleton, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 739,\n                  columnNumber: 11\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 738,\n                columnNumber: 10\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 724,\n              columnNumber: 8\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 657,\n            columnNumber: 7\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 656,\n          columnNumber: 6\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-3 col-12 fixed-card\",\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"card-exam-bank\",\n            title: \"Danh s\\xE1ch \\u0111\\u1EC1 c\\xF9ng gi\\xE1o tr\\xECnh\",\n            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"list-exam-bank\",\n              children: loadingExam ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center mt-4\",\n                children: [/*#__PURE__*/_jsxDEV(Spin, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 751,\n                  columnNumber: 11\n                }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"d-block\",\n                  children: \"\\u0110ang t\\u1EA3i danh s\\xE1ch...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 752,\n                  columnNumber: 11\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 750,\n                columnNumber: 10\n              }, _this) : (listExam === null || listExam === void 0 ? void 0 : listExam.length) > 0 ? listExam.map(function (item, index) {\n                return /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: item.ID == examID ? 'active' : '',\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    href: {\n                      pathname: '/question-bank/exam-list/exam-detail/[slug]',\n                      query: {\n                        slug: item.ID\n                      }\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      className: \"\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"number\",\n                        children: [index + 1, \"/\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 764,\n                        columnNumber: 14\n                      }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text\",\n                        children: item.Name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 765,\n                        columnNumber: 14\n                      }, _this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 763,\n                      columnNumber: 13\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 757,\n                    columnNumber: 12\n                  }, _this)\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 756,\n                  columnNumber: 11\n                }, _this);\n              }) : /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-italic\",\n                children: \"Kh\\xF4ng c\\xF3 d\\u1EEF li\\u1EC7u\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 771,\n                columnNumber: 10\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 748,\n              columnNumber: 8\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 747,\n            columnNumber: 7\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 746,\n          columnNumber: 6\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 655,\n        columnNumber: 5\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 642,\n      columnNumber: 4\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 626,\n    columnNumber: 3\n  }, _this);\n};\n\n_s(ExamDetail, \"Mr3ImPNcYWA/TTL+hZldFweNRcE=\", false, function () {\n  return [useWrap, useRouter];\n});\n\n_c = ExamDetail;\nExamDetail.layout = LayoutBase;\nexport default ExamDetail;\nexport var useExamDetail = function useExamDetail() {\n  _s2();\n\n  return useContext(ExamDetailContext);\n};\n\n_s2(useExamDetail, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"ExamDetail\");","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/pages/question-bank/exam-list/exam-detail/[slug].tsx"],"names":["AlignRightOutlined","Card","Popover","Skeleton","Spin","Link","useRouter","createContext","useContext","useEffect","useRef","useState","Bookmark","Info","examDetailApi","examTopicApi","PopupConfirm","TitlePage","AddQuestionAuto","AddQuestionModal","ChoiceList","DragList","MapList","MultipleList","SpeakingList","TypingList","WrapList","WrittingList","LayoutBase","useWrap","listAlphabet","ExamDetailContext","onAddQuestion","onDeleteQuestion","onEditPoint","onRemoveQuestionAdd","data","onGetListQuestionID","getDataChange","isGetQuestion","listQuestionAddOutside","listQuestionID","listGroupID","dataChange","isChangePosition","ExamDetail","showNoti","rr","setRerender","arPosition","setArPositions","router","examID","parseInt","query","slug","dataExamDetail","setDataExamDetail","examTopicDetail","setExamTopicDetail","setListQuestionID","setListGroupID","setListQuestionAddOutside","setIsGetQuestion","isLoading","setIsLoading","totalPageIndex","setTotalPageIndex","boxEl","loadingQuestion","setLoadingQuestion","listTodoApi","pageIndex","pageSize","ExamTopicID","todoApi","setTodoApi","listExam","setListExam","loadingExam","setLoadingExam","loadingDetail","setLoadingDetail","setDataChange","loadingPosition","setLoadingPosition","setIsChangePosition","isConfirmChange","setIsConfirmChange","visiblePopover","setVisiblePopover","setArPosition","param","getPosi","ar","it","i","length","value","removeItem","po","old","temp","push","addItem","item","label","reRender","addOldItem","now","Date","handleChange","undefined","getListExam","getAll","setlectAll","CurriculumID","Type","res","status","message","getAllListQuestionID","cloneListQuestionID","cloneListGroupID","forEach","Enable","ExerciseGroupID","ID","Index","ExerciseTopic","ques","ExerciseID","getExamDetail","cloneData","index","totalPage","Math","ceil","totalRow","getExamTopicDetail","getByID","returnQuestionType","type","onFetchData","dataDelete","cloneDataExam","indexQues","findIndex","splice","dataEdit","detailID","every","Point","objectQuestion","ExerciseOrExerciseGroupID","scrollToTop","current","scrollTo","onScroll","scrollHeight","offsetHeight","scrollTop","actionChangePosition","console","log","changePosition","startChangePosition","window","onclick","ev","target","nodeName","contentButton","width","content","CurriculumName","TypeName","Time","fontWeight","Name","map","pathname","layout","useExamDetail"],"mappings":";;;;;;;;;;;;;;;;AAAA,SAASA,kBAAT,QAAmC,mBAAnC;AACA,SAASC,IAAT,EAAeC,OAAf,EAAwBC,QAAxB,EAAkCC,IAAlC,QAA8C,MAA9C;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,SAASC,aAAT,EAAwBC,UAAxB,EAAoCC,SAApC,EAA+CC,MAA/C,EAAuDC,QAAvD,QAAuE,OAAvE;AACA,SAASC,QAAT,EAAmBC,IAAnB,QAA+B,eAA/B;AACA,SAASC,aAAT,EAAwBC,YAAxB,QAA4C,WAA5C;AACA,OAAOC,YAAP,MAAyB,oCAAzB;AACA,OAAOC,SAAP,MAAsB,iCAAtB;AACA,OAAOC,eAAP,MAA4B,gDAA5B;AACA,OAAOC,gBAAP,MAA6B,iDAA7B;AACA,OAAOC,UAAP,MAAuB,kDAAvB;AACA,OAAOC,QAAP,MAAqB,gDAArB;AACA,OAAOC,OAAP,MAAoB,+CAApB;AACA,OAAOC,YAAP,MAAyB,oDAAzB;AACA,OAAOC,YAAP,MAAyB,gDAAzB;AACA,OAAOC,UAAP,MAAuB,kDAAvB;AACA,OAAOC,QAAP,MAAqB,gDAArB;AACA,OAAOC,YAAP,MAAyB,oDAAzB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,SAASC,OAAT,QAAwB,gBAAxB;AAEA,IAAMC,YAAY,GAAG,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B,EAA+B,GAA/B,EAAoC,GAApC,EAAyC,GAAzC,EAA8C,GAA9C,EAAmD,GAAnD,EAAwD,GAAxD,EAA6D,GAA7D,EAAkE,GAAlE,EAAuE,GAAvE,EAA4E,GAA5E,EAAiF,GAAjF,EAAsF,GAAtF,EAA2F,GAA3F,EAAgG,GAAhG,EAAqG,GAArG,CAArB;AAyBA,IAAMC,iBAAiB,gBAAGxB,aAAa,CAAS;AAC/CyB,EAAAA,aAAa,EAAE,yBAAM,CAAE,CADwB;AAE/CC,EAAAA,gBAAgB,EAAE,4BAAM,CAAE,CAFqB;AAG/CC,EAAAA,WAAW,EAAE,uBAAM,CAAE,CAH0B;AAI/CC,EAAAA,mBAAmB,EAAE,6BAACC,IAAD,EAAU,CAAE,CAJc;AAK/CC,EAAAA,mBAAmB,EAAE,6BAACD,IAAD,EAAU,CAAE,CALc;AAM/CE,EAAAA,aAAa,EAAE,uBAACF,IAAD,EAAU,CAAE,CANoB;AAO/CG,EAAAA,aAAa,EAAE,KAPgC;AAQ/CC,EAAAA,sBAAsB,EAAE,EARuB;AAS/CC,EAAAA,cAAc,EAAE,EAT+B;AAU/CC,EAAAA,WAAW,EAAE,EAVkC;AAW/CC,EAAAA,UAAU,EAAE,EAXmC;AAY/CC,EAAAA,gBAAgB,EAAE;AAZ6B,CAAT,CAAvC;;AAeA,IAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AAAA;;AAAA,iBACHhB,OAAO,EADJ;AAAA,MAChBiB,QADgB,YAChBA,QADgB;;AAAA,kBAEEnC,QAAQ,CAAC,EAAD,CAFV;AAAA,MAEjBoC,EAFiB;AAAA,MAEbC,WAFa,iBAEe;;;AAFf,mBAGarC,QAAQ,CAAC,EAAD,CAHrB;AAAA,MAGjBsC,UAHiB;AAAA,MAGLC,cAHK;;AAIxB,MAAMC,MAAM,GAAG7C,SAAS,EAAxB;AACA,MAAM8C,MAAM,GAAGC,QAAQ,CAACF,MAAM,CAACG,KAAP,CAAaC,IAAd,CAAvB;;AALwB,mBAMoB5C,QAAQ,CAAC,EAAD,CAN5B;AAAA,MAMjB6C,cANiB;AAAA,MAMDC,iBANC;;AAAA,mBAOsB9C,QAAQ,CAAa,IAAb,CAP9B;AAAA,MAOjB+C,eAPiB;AAAA,MAOAC,kBAPA;;AAAA,mBAQoBhD,QAAQ,CAAC,EAAD,CAR5B;AAAA,MAQjB8B,cARiB;AAAA,MAQDmB,iBARC,kBAQiC;;;AARjC,mBAScjD,QAAQ,CAAC,EAAD,CATtB;AAAA,MASjB+B,WATiB;AAAA,MASJmB,cATI,kBAS2B;;;AAT3B,mBAUoClD,QAAQ,CAAC,EAAD,CAV5C;AAAA,MAUjB6B,sBAViB;AAAA,MAUOsB,yBAVP,kBAUiD;;;AAVjD,mBAWkBnD,QAAQ,CAAC,KAAD,CAX1B;AAAA,MAWjB4B,aAXiB;AAAA,MAWFwB,gBAXE;;AAAA,mBAYUpD,QAAQ,CAAC,KAAD,CAZlB;AAAA,MAYjBqD,SAZiB;AAAA,MAYNC,YAZM;;AAAA,oBAaoBtD,QAAQ,CAAC,CAAD,CAb5B;AAAA,MAajBuD,cAbiB;AAAA,MAaDC,iBAbC;;AAcxB,MAAMC,KAAK,GAAG1D,MAAM,CAAC,IAAD,CAApB;;AAdwB,oBAesBC,QAAQ,CAAC,KAAD,CAf9B;AAAA,MAejB0D,eAfiB;AAAA,MAeAC,kBAfA;;AAgBxB,MAAMC,WAAW,GAAG;AACnBC,IAAAA,SAAS,EAAE,CADQ;AAEnBC,IAAAA,QAAQ,EAAE,EAFS;AAGnBC,IAAAA,WAAW,EAAEtB;AAHM,GAApB;;AAhBwB,oBAqBMzC,QAAQ,CAAC4D,WAAD,CArBd;AAAA,MAqBjBI,OArBiB;AAAA,MAqBRC,UArBQ;;AAAA,oBAsBQjE,QAAQ,CAAC,EAAD,CAtBhB;AAAA,MAsBjBkE,QAtBiB;AAAA,MAsBPC,WAtBO;;AAAA,oBAuBcnE,QAAQ,CAAC,KAAD,CAvBtB;AAAA,MAuBjBoE,WAvBiB;AAAA,MAuBJC,cAvBI;;AAAA,oBAwBkBrE,QAAQ,CAAC,KAAD,CAxB1B;AAAA,MAwBjBsE,aAxBiB;AAAA,MAwBFC,gBAxBE;;AAAA,oBAyBYvE,QAAQ,CAAC,EAAD,CAzBpB;AAAA,MAyBjBgC,UAzBiB;AAAA,MAyBLwC,aAzBK;;AAAA,oBA0BsBxE,QAAQ,CAAC,KAAD,CA1B9B;AAAA,MA0BjByE,eA1BiB;AAAA,MA0BAC,kBA1BA;;AAAA,oBA2BwB1E,QAAQ,CAAC,KAAD,CA3BhC;AAAA,MA2BjBiC,gBA3BiB;AAAA,MA2BC0C,mBA3BD;;AAAA,oBA4BsB3E,QAAQ,CAAC,KAAD,CA5B9B;AAAA,MA4BjB4E,eA5BiB;AAAA,MA4BAC,kBA5BA;;AAAA,oBA6BoB7E,QAAQ,CAAC,KAAD,CA7B5B;AAAA,MA6BjB8E,cA7BiB;AAAA,MA6BDC,iBA7BC;;AA+BxB,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,KAAD,EAAW;AAChC1C,IAAAA,cAAc,CAAC0C,KAAD,CAAd;AACA,GAFD;;AAIA,MAAMC,OAAO,GAAG,SAAVA,OAAU,CAACC,EAAD,EAAKC,EAAL,EAAY;AAC3B,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,EAAE,CAACG,MAAvB,EAA+BD,CAAC,EAAhC,EAAoC;AACnC,UAAIF,EAAE,CAACE,CAAD,CAAF,CAAME,KAAN,IAAeH,EAAnB,EAAuB;AACtB,eAAOC,CAAP;AACA;AACD;;AACD,WAAO,CAAC,CAAR;AACA,GAPD;;AASA,MAAMG,UAAU,GAAG,SAAbA,UAAa,CAACL,EAAD,EAAKM,EAAL,EAASC,GAAT,EAAiB;AACnC,QAAIC,IAAI,GAAG,EAAX;;AACA,SAAK,IAAIN,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,EAAE,CAACG,MAAvB,EAA+BD,CAAC,EAAhC,EAAoC;AACnC,UAAIA,CAAC,KAAKI,EAAV,EAAc;AACbE,QAAAA,IAAI,CAACC,IAAL,CAAUT,EAAE,CAACE,CAAD,CAAZ;AACA;AACD;;AACD,QAAIK,GAAG,GAAG,CAAV,EAAa;AACZG,MAAAA,OAAO,CAACH,GAAD,EAAMC,IAAN,CAAP;AACA,KAFD,MAEO;AACNX,MAAAA,aAAa,CAACW,IAAD,CAAb;AACA;AACD,GAZD;;AAcA,MAAME,OAAO;AAAA,wEAAG,iBAAOC,IAAP,EAAaX,EAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AACXQ,cAAAA,IADW,GACJR,EADI;AAAA;AAAA,qBAEAD,OAAO,CAAC5C,UAAD,EAAawD,IAAb,CAFP;;AAAA;AAEXL,cAAAA,EAFW;;AAGf,kBAAIA,EAAE,IAAI,CAAC,CAAX,EAAc;AACbE,gBAAAA,IAAI,CAACC,IAAL,CAAU;AAAEL,kBAAAA,KAAK,EAAEO,IAAT;AAAeC,kBAAAA,KAAK,EAAED;AAAtB,iBAAV;AACAd,gBAAAA,aAAa,CAACW,IAAD,CAAb;AACA;;AACDK,cAAAA,QAAQ,CAACP,EAAD,CAAR;;AAPe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAPI,OAAO;AAAA;AAAA;AAAA,KAAb;;AAUA,MAAMI,UAAU;AAAA,yEAAG,kBAAOH,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACdH,cAAAA,IADc,GACPrD,UADO;AAAA;AAAA,qBAEH4C,OAAO,CAAC5C,UAAD,EAAawD,IAAb,CAFJ;;AAAA;AAEdL,cAAAA,EAFc;;AAGlB,kBAAIA,EAAE,IAAI,CAAC,CAAX,EAAc;AACbE,gBAAAA,IAAI,CAACC,IAAL,CAAU;AAAEL,kBAAAA,KAAK,EAAEO,IAAT;AAAeC,kBAAAA,KAAK,EAAED;AAAtB,iBAAV;AACAd,gBAAAA,aAAa,CAACW,IAAD,CAAb;AACA;;AACGO,cAAAA,GAPc,GAOR,IAAIC,IAAJ,EAPQ;AAQlB9D,cAAAA,WAAW,CAACyD,IAAI,GAAGI,GAAP,GAAa,EAAd,CAAX;;AARkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAVD,UAAU;AAAA;AAAA;AAAA,KAAhB;;AAWA,MAAMG,YAAY;AAAA,yEAAG,kBAAOb,KAAP,EAAcG,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACLR,OAAO,CAAC5C,UAAD,EAAaiD,KAAb,CADF;;AAAA;AAChBE,cAAAA,EADgB;AAEpBO,cAAAA,QAAQ,CAACT,KAAD,CAAR;;AAFoB,oBAGhBE,EAAE,KAAK,CAAC,CAHQ;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAIbD,UAAU,CAAClD,UAAD,EAAamD,EAAb,EAAiBC,GAAjB,CAJG;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAZU,YAAY;AAAA;AAAA;AAAA,KAAlB;;AAQA,MAAMJ,QAAQ,GAAG,SAAXA,QAAW,CAACT,KAAD,EAAW;AAC3B,QAAIW,GAAG,GAAG,IAAIC,IAAJ,EAAV;AACAZ,IAAAA,KAAK,KAAKc,SAAV,GAAsBhE,WAAW,CAACkD,KAAK,GAAGW,GAAR,GAAc,EAAf,CAAjC,GAAsD7D,WAAW,CAAC,YAAY6D,GAAZ,GAAkB,EAAnB,CAAjE;AACA,GAHD,CAvFwB,CA4FxB;;;AACA,MAAMI,WAAW;AAAA,yEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEFlG,YAAY,CAACmG,MAAb,CAAoB;AACnCC,gBAAAA,UAAU,EAAE,IADuB;AAEnCC,gBAAAA,YAAY,EAAE1D,eAAe,CAAC0D,YAFK;AAGnCC,gBAAAA,IAAI,EAAE3D,eAAe,CAAC2D;AAHa,eAApB,CAFE;;AAAA;AAEdC,cAAAA,GAFc;;AAQlB,kBAAIA,GAAG,CAACC,MAAJ,IAAc,GAAlB,EAAuB;AACtBzC,gBAAAA,WAAW,CAACwC,GAAG,CAAClF,IAAJ,CAASA,IAAV,CAAX;AACA;;AAViB;AAAA;;AAAA;AAAA;AAAA;AAYlBU,cAAAA,QAAQ,CAAC,QAAD,EAAW,aAAM0E,OAAjB,CAAR;;AAZkB;AAAA;AAclBxC,cAAAA,cAAc,CAAC,KAAD,CAAd;AACAf,cAAAA,YAAY,CAAC,KAAD,CAAZ;AAfkB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAXgD,WAAW;AAAA;AAAA;AAAA,KAAjB,CA7FwB,CAgHxB;;;AACA,MAAMQ,oBAAoB;AAAA,yEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AACxBC,cAAAA,mBADwB,sBACEjF,cADF;AAExBkF,cAAAA,gBAFwB,sBAEDjF,WAFC;AAAA;AAAA;AAAA,qBAKX5B,aAAa,CAACoG,MAAd,iCAA0BvC,OAA1B;AAAmCF,gBAAAA,QAAQ,EAAE,IAA7C;AAAmDD,gBAAAA,SAAS,EAAE;AAA9D,iBALW;;AAAA;AAKvB8C,cAAAA,GALuB;;AAM3B,kBAAIA,GAAG,CAACC,MAAJ,IAAc,GAAlB,EAAuB;AACtBD,gBAAAA,GAAG,CAAClF,IAAJ,CAASA,IAAT,CAAcwF,OAAd,CAAsB,UAACnB,IAAD,EAAU;AAC/B,sBAAIA,IAAI,CAACoB,MAAT,EAAiB;AAChBpB,oBAAAA,IAAI,CAACqB,eAAL,KAAyB,CAAzB,IAA8BH,gBAAgB,CAACpB,IAAjB,CAAsBE,IAAI,CAACqB,eAA3B,CAA9B;AACAnF,oBAAAA,UAAU,CAAC4D,IAAX,CAAgB;AACfwB,sBAAAA,EAAE,EAAEtB,IAAI,CAACsB,EADM;AAEfC,sBAAAA,KAAK,EAAE;AAFQ,qBAAhB;AAIAvB,oBAAAA,IAAI,CAACwB,aAAL,CAAmBL,OAAnB,CAA2B,UAACM,IAAD,EAAU;AACpCR,sBAAAA,mBAAmB,CAACnB,IAApB,CAAyB2B,IAAI,CAACC,UAA9B;AACA,qBAFD;AAGA;AACD,iBAXD;AAYAtE,gBAAAA,cAAc,oBAAK8D,gBAAL,EAAd;AACA/D,gBAAAA,iBAAiB,oBAAK8D,mBAAL,EAAjB;AACAvC,gBAAAA,aAAa,oBAAKxC,UAAL,EAAb;AACA;;AAtB0B;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAyB3BsB,cAAAA,YAAY,CAAC,KAAD,CAAZ;AAzB2B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAApBwD,oBAAoB;AAAA;AAAA;AAAA,KAA1B,CAjHwB,CA8IxB;;;AACA,MAAMW,aAAa;AAAA,yEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AACjBV,cAAAA,mBADiB,sBACSjF,cADT;AAEjBkF,cAAAA,gBAFiB,sBAEMjF,WAFN;AAAA;AAAA;AAAA,qBAKJ5B,aAAa,CAACoG,MAAd,CAAqBvC,OAArB,CALI;;AAAA;AAKhB2C,cAAAA,GALgB;;AAMpB,kBAAIA,GAAG,CAACC,MAAJ,IAAc,GAAlB,EAAuB;AACtB9D,gBAAAA,iBAAiB,CAAC6D,GAAG,CAAClF,IAAJ,CAASA,IAAV,CAAjB;AAEIiG,gBAAAA,SAHkB,sBAGF7E,cAHE;AAItB8D,gBAAAA,GAAG,CAAClF,IAAJ,CAASA,IAAT,CAAcwF,OAAd,CAAsB,UAACnB,IAAD,EAAO6B,KAAP,EAAiB;AACtCD,kBAAAA,SAAS,CAAC9B,IAAV,CAAeE,IAAf;AACA,iBAFD;AAIAhD,gBAAAA,iBAAiB,oBAAK4E,SAAL,EAAjB;AAEAf,gBAAAA,GAAG,CAAClF,IAAJ,CAASA,IAAT,CAAcwF,OAAd,CAAsB,UAACnB,IAAD,EAAU;AAC/B,sBAAIA,IAAI,CAACoB,MAAT,EAAiB;AAChBpB,oBAAAA,IAAI,CAACqB,eAAL,KAAyB,CAAzB,IAA8BH,gBAAgB,CAACpB,IAAjB,CAAsBE,IAAI,CAACqB,eAA3B,CAA9B;AACArB,oBAAAA,IAAI,CAACwB,aAAL,CAAmBL,OAAnB,CAA2B,UAACM,IAAD,EAAU;AACpCR,sBAAAA,mBAAmB,CAACnB,IAApB,CAAyB2B,IAAI,CAACC,UAA9B;AACA,qBAFD;AAGA;AACD,iBAPD;AAQAtE,gBAAAA,cAAc,oBAAK8D,gBAAL,EAAd;AACA/D,gBAAAA,iBAAiB,oBAAK8D,mBAAL,EAAjB;AACA5D,gBAAAA,yBAAyB,CAAC,EAAD,CAAzB,CApBsB,CAsBtB;;AACIyE,gBAAAA,SAvBkB,GAuBNC,IAAI,CAACC,IAAL,CAAUnB,GAAG,CAAClF,IAAJ,CAASsG,QAAT,GAAoB,EAA9B,CAvBM;AAwBtBvE,gBAAAA,iBAAiB,CAACoE,SAAD,CAAjB;AACA;;AA/BmB;AAAA;;AAAA;AAAA;AAAA;AAiCpBzF,cAAAA,QAAQ,CAAC,QAAD,EAAW,aAAM0E,OAAjB,CAAR;;AAjCoB;AAAA;AAmCpBlD,cAAAA,kBAAkB,CAAC,KAAD,CAAlB;AACAL,cAAAA,YAAY,CAAC,KAAD,CAAZ;AApCoB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAbmE,aAAa;AAAA;AAAA;AAAA,KAAnB;;AAwCA,MAAMO,kBAAkB;AAAA,yEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAC1B9D,cAAAA,QAAQ,CAACoB,MAAT,IAAmB,CAAnB,IAAwBjB,cAAc,CAAC,IAAD,CAAtC;AACAE,cAAAA,gBAAgB,CAAC,IAAD,CAAhB;AAF0B;AAAA;AAAA,qBAITnE,YAAY,CAAC6H,OAAb,CAAqBxF,MAArB,CAJS;;AAAA;AAIrBkE,cAAAA,GAJqB;;AAKzB,kBAAIA,GAAG,CAACC,MAAJ,IAAc,GAAlB,EAAuB;AACtB5D,gBAAAA,kBAAkB,CAAC2D,GAAG,CAAClF,IAAJ,CAASA,IAAV,CAAlB;AACA;;AAPwB;AAAA;;AAAA;AAAA;AAAA;AASzBU,cAAAA,QAAQ,CAAC,QAAD,EAAW,aAAM0E,OAAjB,CAAR;;AATyB;AAAA;AAWzBtC,cAAAA,gBAAgB,CAAC,KAAD,CAAhB;AAXyB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAlByD,kBAAkB;AAAA;AAAA;AAAA,KAAxB,CAvLwB,CAsMxB;;;AACA,MAAME,kBAAkB,GAAG,SAArBA,kBAAqB,CAACpC,IAAD,EAAO6B,KAAP,EAAiB;AAC3C,QAAMQ,IAAI,GAAGrC,IAAI,CAACY,IAAlB;;AACA,YAAQyB,IAAR;AACC,WAAK,CAAL;AACC,4BACC;AAAA,iCACC,QAAC,QAAD;AACC,YAAA,YAAY,EAAErC,IADf;AAEC,YAAA,cAAc,EAAEhE,cAFjB;AAGC,YAAA,UAAU,EAAEQ,UAHb;AAIC,YAAA,YAAY,EAAE8D,YAJf;AAKC,YAAA,UAAU,EAAEH,UALb;AAAA,mCAOC,QAAC,UAAD;AACC,cAAA,WAAW,EAAE,KADd;AAEC,cAAA,cAAc,EAAEnE,cAFjB;AAGC,cAAA,YAAY,EAAEgE,IAHf;AAIC,cAAA,YAAY,EAAE3E,YAJf;AAKC,cAAA,SAAS,EAAE,IALZ;AAMC,cAAA,UAAU,EAAEmB,UANb;AAOC,cAAA,YAAY,EAAE8D,YAPf;AAQC,cAAA,UAAU,EAAEH;AARb;AAAA;AAAA;AAAA;AAAA;AAPD;AAAA;AAAA;AAAA;AAAA;AADD,WAAU0B,KAAV;AAAA;AAAA;AAAA;AAAA,iBADD;;AAsBD,WAAK,CAAL;AACC,4BACC;AAAA,iCACC,QAAC,QAAD;AACC,YAAA,YAAY,EAAE7B,IADf;AAEC,YAAA,cAAc,EAAEhE,cAFjB;AAGC,YAAA,UAAU,EAAEQ,UAHb;AAIC,YAAA,YAAY,EAAE8D,YAJf;AAKC,YAAA,UAAU,EAAEH,UALb;AAAA,mCAOC,QAAC,QAAD;AAAU,cAAA,WAAW,EAAE,KAAvB;AAA8B,cAAA,cAAc,EAAEnE,cAA9C;AAA8D,cAAA,YAAY,EAAEgE,IAA5E;AAAkF,cAAA,YAAY,EAAE3E;AAAhG;AAAA;AAAA;AAAA;AAAA;AAPD;AAAA;AAAA;AAAA;AAAA;AADD,WAAUwG,KAAV;AAAA;AAAA;AAAA;AAAA,iBADD;;AAaD,WAAK,CAAL;AACC,4BACC;AAAA,iCACC,QAAC,QAAD;AACC,YAAA,YAAY,EAAE7B,IADf;AAEC,YAAA,cAAc,EAAEhE,cAFjB;AAGC,YAAA,UAAU,EAAEQ,UAHb;AAIC,YAAA,YAAY,EAAE8D,YAJf;AAKC,YAAA,UAAU,EAAEH,UALb;AAAA,mCAOC,QAAC,UAAD;AAAY,cAAA,WAAW,EAAE,KAAzB;AAAgC,cAAA,cAAc,EAAEnE,cAAhD;AAAgE,cAAA,YAAY,EAAEgE,IAA9E;AAAoF,cAAA,YAAY,EAAE3E;AAAlG;AAAA;AAAA;AAAA;AAAA;AAPD;AAAA;AAAA;AAAA;AAAA;AADD,WAAUwG,KAAV;AAAA;AAAA;AAAA;AAAA,iBADD;;AAaD,WAAK,CAAL;AACC,4BACC;AAAA,iCACC,QAAC,QAAD;AAAU,YAAA,YAAY,EAAE7B,IAAxB;AAA8B,YAAA,cAAc,EAAEhE,cAA9C;AAAA,mCACC,QAAC,YAAD;AACC,cAAA,WAAW,EAAE,KADd;AAEC,cAAA,cAAc,EAAEA,cAFjB;AAGC,cAAA,YAAY,EAAEgE,IAHf;AAIC,cAAA,YAAY,EAAE3E,YAJf;AAKC,cAAA,UAAU,EAAEmB,UALb;AAMC,cAAA,YAAY,EAAE8D,YANf;AAOC,cAAA,UAAU,EAAEH;AAPb;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD,WAAU0B,KAAV;AAAA;AAAA;AAAA;AAAA,iBADD;;AAeD,WAAK,CAAL;AACC,4BACC;AAAA,iCACC,QAAC,QAAD;AACC,YAAA,YAAY,EAAE7B,IADf;AAEC,YAAA,cAAc,EAAEhE,cAFjB;AAGC,YAAA,UAAU,EAAEQ,UAHb;AAIC,YAAA,YAAY,EAAE8D,YAJf;AAKC,YAAA,UAAU,EAAEH,UALb;AAAA,mCAOC,QAAC,OAAD;AAAS,cAAA,WAAW,EAAE,KAAtB;AAA6B,cAAA,cAAc,EAAEnE,cAA7C;AAA6D,cAAA,YAAY,EAAEgE,IAA3E;AAAiF,cAAA,YAAY,EAAE3E;AAA/F;AAAA;AAAA;AAAA;AAAA;AAPD;AAAA;AAAA;AAAA;AAAA;AADD,WAAUwG,KAAV;AAAA;AAAA;AAAA;AAAA,iBADD;;AAaD,WAAK,CAAL;AACC,4BACC;AAAA,iCACC,QAAC,QAAD;AAAU,YAAA,YAAY,EAAE7B,IAAxB;AAA8B,YAAA,cAAc,EAAEhE,cAA9C;AAA8D,YAAA,UAAU,EAAEQ,UAA1E;AAAsF,YAAA,YAAY,EAAE8D,YAApG;AAAA,mCACC,QAAC,YAAD;AACC,cAAA,WAAW,EAAE,KADd;AAEC,cAAA,cAAc,EAAEtE,cAFjB;AAGC,cAAA,YAAY,EAAEgE,IAHf;AAIC,cAAA,YAAY,EAAE3E,YAJf;AAKC,cAAA,UAAU,EAAEmB,UALb;AAMC,cAAA,YAAY,EAAE8D,YANf;AAOC,cAAA,UAAU,EAAEZ,UAPb;AAQC,cAAA,UAAU,EAAES;AARb;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD,WAAU0B,KAAV;AAAA;AAAA;AAAA;AAAA,iBADD;;AAgBD,WAAK,CAAL;AACC,4BACC;AAAA,iCACC,QAAC,QAAD;AAAU,YAAA,YAAY,EAAE7B,IAAxB;AAA8B,YAAA,cAAc,EAAEhE,cAA9C;AAA8D,YAAA,YAAY,EAAEsE,YAA5E;AAA0F,YAAA,UAAU,EAAEH,UAAtG;AAAA,mCACC,QAAC,YAAD;AACC,cAAA,WAAW,EAAE,KADd;AAEC,cAAA,cAAc,EAAEnE,cAFjB;AAGC,cAAA,YAAY,EAAEgE,IAHf;AAIC,cAAA,YAAY,EAAE3E,YAJf;AAKC,cAAA,UAAU,EAAEmB,UALb;AAMC,cAAA,YAAY,EAAE8D,YANf;AAOC,cAAA,UAAU,EAAEH;AAPb;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD,WAAU0B,KAAV;AAAA;AAAA;AAAA;AAAA,iBADD;;AAeD;AACC;AApHF;AAsHA,GAxHD,CAvMwB,CAiUxB;;;AACA,MAAMtG,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAC3B+B,IAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACA,GAFD,CAlUwB,CAsUxB;;;AACA,MAAMgF,WAAW,GAAG,SAAdA,WAAc,GAAM;AACzB9E,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACAJ,IAAAA,cAAc,CAAC,EAAD,CAAd;AACAD,IAAAA,iBAAiB,CAAC,EAAD,CAAjB;AACAH,IAAAA,iBAAiB,CAAC,EAAD,CAAjB;AACAmB,IAAAA,UAAU,CAACL,WAAD,CAAV;AACAR,IAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACA,GAPD,CAvUwB,CAgVxB;;;AACA,MAAM9B,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAC+G,UAAD,EAAgB;AACxC,QAAItB,mBAAmB,GAAG,EAA1B;AACA,QAAIC,gBAAgB,GAAG,EAAvB;;AACA,QAAIsB,aAAa,sBAAOzF,cAAP,CAAjB;;AAEA,QAAI0F,SAAS,GAAGD,aAAa,CAACE,SAAd,CAAwB,UAAC1C,IAAD;AAAA,aAAUA,IAAI,CAACsB,EAAL,IAAWiB,UAAU,CAACjB,EAAhC;AAAA,KAAxB,CAAhB;AACAkB,IAAAA,aAAa,CAACG,MAAd,CAAqBF,SAArB,EAAgC,CAAhC;AAEAD,IAAAA,aAAa,CAACrB,OAAd,CAAsB,UAACnB,IAAD,EAAU;AAC/BA,MAAAA,IAAI,CAACqB,eAAL,KAAyB,CAAzB,IAA8BH,gBAAgB,CAACpB,IAAjB,CAAsBE,IAAI,CAACqB,eAA3B,CAA9B;AACArB,MAAAA,IAAI,CAACwB,aAAL,CAAmBL,OAAnB,CAA2B,UAACM,IAAD,EAAU;AACpCR,QAAAA,mBAAmB,CAACnB,IAApB,CAAyB2B,IAAI,CAACC,UAA9B;AACA,OAFD;AAGA,KALD;AAMAtE,IAAAA,cAAc,WAAK8D,gBAAL,EAAd;AACA/D,IAAAA,iBAAiB,WAAK8D,mBAAL,EAAjB;AAEAjE,IAAAA,iBAAiB,oBAAKwF,aAAL,EAAjB;AACA,GAlBD,CAjVwB,CAqWxB;;;AACA,MAAM/G,WAAW,GAAG,SAAdA,WAAc,CAACmH,QAAD,EAAWC,QAAX,EAAwB;AAC3C9F,IAAAA,cAAc,CAAC+F,KAAf,CAAqB,UAAC9C,IAAD,EAAO6B,KAAP,EAAiB;AACrC,UAAIgB,QAAQ,IAAI7C,IAAI,CAACsB,EAArB,EAAyB;AACxBtB,QAAAA,IAAI,CAACwB,aAAL,CAAmB,CAAnB,EAAsBuB,KAAtB,GAA8BH,QAAQ,CAAC,CAAD,CAAR,CAAYG,KAA1C;AACA,eAAO,KAAP;AACA;;AACD,aAAO,IAAP;AACA,KAND;AAQA/F,IAAAA,iBAAiB,oBAAKD,cAAL,EAAjB;AACA,GAVD,CAtWwB,CAkXxB;;;AACA,MAAMrB,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACsH,cAAD,EAAyB;AACpD,QAAInB,KAAK,GAAG9F,sBAAsB,CAAC2G,SAAvB,CAAiC,UAAC1C,IAAD;AAAA,aAAUA,IAAI,CAACiD,yBAAL,IAAkCD,cAAc,CAACC,yBAA3D;AAAA,KAAjC,CAAZ;AACAlH,IAAAA,sBAAsB,CAAC4G,MAAvB,CAA8Bd,KAA9B,EAAqC,CAArC;AACAxE,IAAAA,yBAAyB,oBAAKtB,sBAAL,EAAzB;AACA,GAJD,CAnXwB,CAyXxB;;;AACA,MAAMH,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACoH,cAAD,EAAyB;AACpDjH,IAAAA,sBAAsB,CAAC+D,IAAvB,CAA4BkD,cAA5B;AAEA3F,IAAAA,yBAAyB,oBAAKtB,sBAAL,EAAzB;AACA,GAJD,CA1XwB,CAgYxB;;;AACA,MAAMmH,WAAW,GAAG,SAAdA,WAAc,GAAM;AACzBvF,IAAAA,KAAK,CAACwF,OAAN,CAAcC,QAAd,CAAuB,CAAvB,EAA0B,CAA1B;AACA,GAFD,CAjYwB,CAoYxB;;;AACA,MAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACtB,QAAMC,YAAY,GAAG3F,KAAK,CAACwF,OAAN,CAAcG,YAAnC;AACA,QAAMC,YAAY,GAAG5F,KAAK,CAACwF,OAAN,CAAcI,YAAnC;AACA,QAAMC,SAAS,GAAG7F,KAAK,CAACwF,OAAN,CAAcK,SAAhC;;AAEA,QAAIA,SAAS,GAAGF,YAAY,GAAGC,YAAf,GAA8B,EAA9C,EAAkD;AACjD,UAAIrF,OAAO,CAACH,SAAR,GAAoBN,cAAxB,EAAwC;AACvC,SAAAV,cAAc,SAAd,IAAAA,cAAc,WAAd,YAAAA,cAAc,CAAEyC,MAAhB,MAA2B,CAA3B,IAAgC3B,kBAAkB,CAAC,IAAD,CAAlD;;AAEA,YAAI2F,SAAS,GAAG,CAAZ,IAAiB5F,eAAe,IAAI,KAAxC,EAA+C;AAC9CO,UAAAA,UAAU,iCACND,OADM;AAETH,YAAAA,SAAS,EAAEG,OAAO,CAACH,SAAR,GAAoB;AAFtB,aAAV;AAIA;AACD;AACD;AACD,GAjBD,CArYwB,CAwZxB;;;AACA,MAAM0F,oBAAoB;AAAA,yEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAC5BC,cAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BzH,UAA5B;AAEA0C,cAAAA,kBAAkB,CAAC,IAAD,CAAlB,CAH4B,CAI5B;AACA;;AAL4B;AAAA;AAAA,qBAOXvE,aAAa,CAACuJ,cAAd,CAA6B1H,UAA7B,CAPW;;AAAA;AAOvB2E,cAAAA,GAPuB;;AAQ3B,kBAAIA,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB;AACvBzE,gBAAAA,QAAQ,CAAC,SAAD,EAAY,uBAAZ,CAAR;AACAiG,gBAAAA,WAAW;AACXvD,gBAAAA,kBAAkB,CAAC,KAAD,CAAlB;AACAF,gBAAAA,mBAAmB,CAAC,KAAD,CAAnB,CAJuB,CAKvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAxB0B;AAAA;;AAAA;AAAA;AAAA;AA0B3BxC,cAAAA,QAAQ,CAAC,QAAD,EAAW,aAAM0E,OAAjB,CAAR;;AA1B2B;AAAA;AA4B3BnC,cAAAA,kBAAkB,CAAC,KAAD,CAAlB;AA5B2B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAApB6E,oBAAoB;AAAA;AAAA;AAAA,KAA1B,CAzZwB,CAybxB;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;;;AACA,MAAMI,mBAAmB,GAAG,SAAtBA,mBAAsB,GAAM;AACjC,KAAC1H,gBAAD,IAAqB0C,mBAAmB,CAAC,IAAD,CAAxC;AACA1C,IAAAA,gBAAgB,IAAI4C,kBAAkB,CAAC,IAAD,CAAtC;AACA,GAHD,CAvdwB,CA4dxB;;;AACA,MAAMlD,aAAa,GAAG,SAAhBA,aAAgB,CAACF,IAAD,EAAe;AACpC+C,IAAAA,aAAa,oBAAK/C,IAAL,EAAb;AACA,GAFD;;AAIA3B,EAAAA,SAAS,CAAC,YAAM;AACfwD,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACA0E,IAAAA,kBAAkB;AAClB,GAHQ,EAGN,CAACvF,MAAD,CAHM,CAAT;AAKA3C,EAAAA,SAAS,CAAC,YAAM;AACf,QAAIiD,eAAJ,EAAqB;AACpB,UAAImB,QAAQ,CAACoB,MAAT,IAAmB,CAAvB,EAA0B;AACzBgB,QAAAA,WAAW;AACX;AACD;AACD,GANQ,EAMN,CAACvD,eAAD,CANM,CAAT;AAQAjD,EAAAA,SAAS,CAAC,YAAM;AACfsI,IAAAA,WAAW;AACXY,IAAAA,WAAW;AACX,GAHQ,EAGN,CAACvG,MAAD,CAHM,CAAT;AAKA3C,EAAAA,SAAS,CAAC,YAAM;AACf2H,IAAAA,aAAa;AACb,GAFQ,EAEN,CAACzD,OAAD,CAFM,CAAT,CAnfwB,CAufxB;AACA;AACA;AACA;AACA;;AAEAlE,EAAAA,SAAS,CAAC,YAAM;AACfgH,IAAAA,oBAAoB;AACpBxD,IAAAA,YAAY,CAAC,IAAD,CAAZ;;AAEAsG,IAAAA,MAAM,CAACC,OAAP,GAAiB,UAAUC,EAAV,EAAc;AAC9BN,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBK,EAAE,CAACC,MAAzB;;AACA,UAAID,EAAE,CAACC,MAAH,CAAUC,QAAV,KAAuB,QAA3B,EAAqC;AACpCjF,QAAAA,iBAAiB,CAAC,KAAD,CAAjB;AACA;AACD,KALD;AAMA,GAVQ,EAUN,EAVM,CAAT;;AAYA,MAAMkF,aAAa,gBAClB;AAAK,IAAA,OAAO,EAAE;AAAA,aAAMlF,iBAAiB,CAAC,KAAD,CAAvB;AAAA,KAAd;AAAA,4BACC;AAAQ,MAAA,SAAS,EAAC,gDAAlB;AAAmE,MAAA,OAAO,EAAE4E,mBAA5E;AAAA,6BACC;AAAK,QAAA,SAAS,EAAC,2BAAf;AAAA,gCACC,QAAC,kBAAD;AAAoB,UAAA,SAAS,EAAC,MAA9B;AAAqC,UAAA,KAAK,EAAE;AAAEO,YAAAA,KAAK,EAAE;AAAT;AAA5C;AAAA;AAAA;AAAA;AAAA,iBADD,EAEEjI,gBAAgB,GAAG,KAAH,GAAW,SAF7B;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,aADD,eAOC,QAAC,eAAD;AAAiB,MAAA,QAAQ,EAAEc,eAA3B;AAA4C,MAAA,WAAW,EAAEqF,WAAzD;AAAsE,MAAA,WAAW,EAAE3F;AAAnF;AAAA;AAAA;AAAA;AAAA,aAPD,eAQC,QAAC,gBAAD;AAAkB,MAAA,QAAQ,EAAEM,eAA5B;AAA6C,MAAA,WAAW,EAAEqF;AAA1D;AAAA;AAAA;AAAA;AAAA,aARD;AAAA;AAAA;AAAA;AAAA;AAAA,WADD;;AAaA,MAAM+B,OAAO,gBACZ;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA,2BACC;AAAI,MAAA,SAAS,EAAC,MAAd;AAAA,8BACC;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA,gCACC;AAAI,UAAA,SAAS,EAAC,WAAd;AAAA,kCACC;AAAM,YAAA,SAAS,EAAC,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADD,eAEC;AAAM,YAAA,SAAS,EAAC,WAAhB;AAAA,sBAA6BpH,eAA7B,aAA6BA,eAA7B,uBAA6BA,eAAe,CAAEqH;AAA9C;AAAA;AAAA;AAAA;AAAA,mBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,iBADD,eAKC;AAAI,UAAA,SAAS,EAAC,WAAd;AAAA,kCACC;AAAM,YAAA,SAAS,EAAC,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADD,eAEC;AAAM,YAAA,SAAS,EAAC,WAAhB;AAAA,sBAA6BtI,cAA7B,aAA6BA,cAA7B,uBAA6BA,cAAc,CAAEwD;AAA7C;AAAA;AAAA;AAAA;AAAA,mBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,iBALD;AAAA;AAAA;AAAA;AAAA;AAAA,eADD,eAWC;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA,gCACC;AAAI,UAAA,SAAS,EAAC,WAAd;AAAA,kCACC;AAAM,YAAA,SAAS,EAAC,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADD,eAEC;AAAM,YAAA,SAAS,EAAC,WAAhB;AAAA,sBAA6BvC,eAA7B,aAA6BA,eAA7B,uBAA6BA,eAAe,CAAEsH;AAA9C;AAAA;AAAA;AAAA;AAAA,mBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,iBADD,eAMC;AAAI,UAAA,SAAS,EAAC,gBAAd;AAAA,kCACC;AAAM,YAAA,SAAS,EAAC,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADD,eAEC;AAAM,YAAA,SAAS,EAAC,WAAhB;AAAA,uBAA6BtH,eAA7B,aAA6BA,eAA7B,uBAA6BA,eAAe,CAAEuH,IAA9C;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,iBAND;AAAA;AAAA;AAAA;AAAA;AAAA,eAXD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,WADD;;AA4BA,sBACC,QAAC,iBAAD,CAAmB,QAAnB;AACC,IAAA,KAAK,EAAE;AACNjJ,MAAAA,aAAa,EAAbA,aADM;AAENE,MAAAA,WAAW,EAAXA,WAFM;AAGNK,MAAAA,aAAa,EAAEA,aAHT;AAINF,MAAAA,mBAAmB,EAAnBA,mBAJM;AAKNG,MAAAA,sBAAsB,EAAtBA,sBALM;AAMNC,MAAAA,cAAc,EAAEA,cANV;AAONC,MAAAA,WAAW,EAAEA,WAPP;AAQNP,MAAAA,mBAAmB,EAAnBA,mBARM;AASNF,MAAAA,gBAAgB,EAAhBA,gBATM;AAUNU,MAAAA,UAAU,EAAEA,UAVN;AAWNL,MAAAA,aAAa,EAAbA,aAXM;AAYNM,MAAAA,gBAAgB,EAAEA;AAZZ,KADR;AAAA,2BAgBC;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA,8BACC,QAAC,YAAD;AACC,QAAA,MAAM,EAAC,qBADR;AAEC,QAAA,UAAU,EAAC,UAFZ;AAGC,QAAA,MAAM,EAAE2C,eAHT;AAIC,QAAA,IAAI,EAAE2E,oBAJP;AAKC,QAAA,QAAQ,EAAE;AAAA,iBAAM1E,kBAAkB,CAAC,KAAD,CAAxB;AAAA,SALX;AAAA,+BAOC;AAAG,UAAA,KAAK,EAAE;AAAE0F,YAAAA,UAAU,EAAE;AAAd,WAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAPD;AAAA;AAAA;AAAA;AAAA,eADD,eAWC,QAAC,SAAD;AAAW,QAAA,KAAK,EAAC;AAAjB;AAAA;AAAA;AAAA;AAAA,eAXD,eAaC;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA,gCACC;AAAK,UAAA,SAAS,EAAC,iBAAf;AAAA,iCACC,QAAC,IAAD;AACC,YAAA,SAAS,EAAC,uCADX;AAEC,YAAA,KAAK,eACJ;AAAK,cAAA,SAAS,EAAC,qBAAf;AAAA,sCACC;AAAI,gBAAA,SAAS,EAAC,WAAd;AAAA,wCACC,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA,yBADD,OACexH,eADf,aACeA,eADf,uBACeA,eAAe,CAAEyH,IADhC;AAAA;AAAA;AAAA;AAAA;AAAA,uBADD,eAIC,QAAC,OAAD;AAAS,gBAAA,OAAO,EAAEL,OAAlB;AAA2B,gBAAA,OAAO,EAAC,OAAnC;AAA2C,gBAAA,SAAS,EAAC,YAArD;AAAA,0BACE7F,aAAa,gBACb;AAAK,kBAAA,SAAS,EAAC,KAAf;AAAA,0CACC;AAAK,oBAAA,SAAS,EAAC,UAAf;AAAA,2CACC,QAAC,QAAD;AAAU,sBAAA,SAAS,EAAE,KAArB;AAA4B,sBAAA,OAAO,EAAE,IAArC;AAA2C,sBAAA,KAAK,EAAE,IAAlD;AAAwD,sBAAA,MAAM;AAA9D;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,2BADD,eAIC;AAAK,oBAAA,SAAS,EAAC,UAAf;AAAA,2CACC,QAAC,QAAD;AAAU,sBAAA,SAAS,EAAE,KAArB;AAA4B,sBAAA,OAAO,EAAE,IAArC;AAA2C,sBAAA,KAAK,EAAE,IAAlD;AAAwD,sBAAA,MAAM;AAA9D;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,2BAJD,eAOC;AAAK,oBAAA,SAAS,EAAC,UAAf;AAAA,2CACC,QAAC,QAAD;AAAU,sBAAA,SAAS,EAAE,KAArB;AAA4B,sBAAA,OAAO,EAAE,IAArC;AAA2C,sBAAA,KAAK,EAAE,IAAlD;AAAwD,sBAAA,MAAM;AAA9D;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,2BAPD;AAAA;AAAA;AAAA;AAAA;AAAA,yBADa,gBAab;AAAI,kBAAA,SAAS,EAAC,sBAAd;AAAA,0CACC;AAAA,2CACC;AAAM,sBAAA,SAAS,EAAC,sBAAhB;AAAA,6CACC,QAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,2BADD,eAMC;AAAA,4CACC;AAAM,sBAAA,SAAS,EAAC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADD,eAEC;AAAM,sBAAA,SAAS,EAAC,sBAAhB;AAAA,gCAAwCvB,eAAxC,aAAwCA,eAAxC,uBAAwCA,eAAe,CAAEqH;AAAzD;AAAA;AAAA;AAAA;AAAA,6BAFD;AAAA;AAAA;AAAA;AAAA;AAAA,2BAND;AAAA;AAAA;AAAA;AAAA;AAAA;AAdF;AAAA;AAAA;AAAA;AAAA,uBAJD;AAAA;AAAA;AAAA;AAAA;AAAA,qBAHF;AA4CC,YAAA,KAAK,eACJ;AAAA,qCASC,QAAC,OAAD;AAAS,gBAAA,OAAO,EAAEtF,cAAlB;AAAkC,gBAAA,OAAO,EAAEmF,aAA3C;AAA0D,gBAAA,SAAS,EAAC,aAApE;AAAkF,gBAAA,KAAK,EAAE,IAAzF;AAA+F,gBAAA,OAAO,EAAC,OAAvG;AAAA,uCACC;AAAQ,kBAAA,SAAS,EAAC,4BAAlB;AAA+C,kBAAA,OAAO,EAAE;AAAA,2BAAMlF,iBAAiB,CAAC,CAACD,cAAF,CAAvB;AAAA,mBAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AATD,6BA7CF;AAAA,uBA8DEL,eAAe,iBACf;AAAK,cAAA,SAAS,EAAC,aAAf;AAAA,qCACC,QAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,qBA/DF,eAmEC;AAAK,cAAA,SAAS,EAAC,eAAf;AAA+B,cAAA,GAAG,EAAEhB,KAApC;AAA2C,cAAA,QAAQ,EAAE0F,QAArD;AAAA,yBACE9F,SAAS,gBACT;AAAK,gBAAA,SAAS,EAAC,kBAAf;AAAA,uCACC,QAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,uBADS,GAINR,cAAc,CAACyC,MAAf,IAAyB,CAAzB,gBACH;AAAG,gBAAA,SAAS,EAAC,aAAb;AAAA,uCACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,uBADG,GAKHzC,cALG,aAKHA,cALG,uBAKHA,cAAc,CAAE4H,GAAhB,CAAoB,UAAC3E,IAAD,EAAO6B,KAAP;AAAA,uBAAiB7B,IAAI,CAACoB,MAAL,IAAegB,kBAAkB,CAACpC,IAAD,EAAO6B,KAAP,CAAlD;AAAA,eAApB,CAVF,EAaEjE,eAAe,iBACf;AAAA,uCACC,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,uBAdF;AAAA;AAAA;AAAA;AAAA;AAAA,qBAnED;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,iBADD,eA2FC;AAAK,UAAA,SAAS,EAAC,4BAAf;AAAA,iCACC,QAAC,IAAD;AAAM,YAAA,SAAS,EAAC,gBAAhB;AAAiC,YAAA,KAAK,EAAC,oDAAvC;AAAA,mCACC;AAAI,cAAA,SAAS,EAAC,gBAAd;AAAA,wBACEU,WAAW,gBACX;AAAK,gBAAA,SAAS,EAAC,kBAAf;AAAA,wCACC,QAAC,IAAD;AAAA;AAAA;AAAA;AAAA,yBADD,eAEC;AAAG,kBAAA,SAAS,EAAC,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,uBADW,GAKR,CAAAF,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEoB,MAAV,IAAmB,CAAnB,GACHpB,QAAQ,CAACuG,GAAT,CAAa,UAAC3E,IAAD,EAAO6B,KAAP;AAAA,oCACZ;AAAgB,kBAAA,SAAS,EAAE7B,IAAI,CAACsB,EAAL,IAAW3E,MAAX,GAAoB,QAApB,GAA+B,EAA1D;AAAA,yCACC,QAAC,IAAD;AACC,oBAAA,IAAI,EAAE;AACLiI,sBAAAA,QAAQ,EAAE,6CADL;AAEL/H,sBAAAA,KAAK,EAAE;AAAEC,wBAAAA,IAAI,EAAEkD,IAAI,CAACsB;AAAb;AAFF,qBADP;AAAA,2CAMC;AAAG,sBAAA,SAAS,EAAC,EAAb;AAAA,8CACC;AAAM,wBAAA,SAAS,EAAC,QAAhB;AAAA,mCAA0BO,KAAK,GAAG,CAAlC;AAAA;AAAA;AAAA;AAAA;AAAA,+BADD,eAEC;AAAM,wBAAA,SAAS,EAAC,MAAhB;AAAA,kCAAwB7B,IAAI,CAAC0E;AAA7B;AAAA;AAAA;AAAA;AAAA,+BAFD;AAAA;AAAA;AAAA;AAAA;AAAA;AAND;AAAA;AAAA;AAAA;AAAA;AADD,mBAAS7C,KAAT;AAAA;AAAA;AAAA;AAAA,yBADY;AAAA,eAAb,CADG,gBAiBH;AAAG,gBAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAvBF;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,iBA3FD;AAAA;AAAA;AAAA;AAAA;AAAA,eAbD;AAAA;AAAA;AAAA;AAAA;AAAA;AAhBD;AAAA;AAAA;AAAA;AAAA,WADD;AA2JA,CA7sBD;;GAAMzF,U;UACgBhB,O,EAGNvB,S;;;KAJVuC,U;AA8sBNA,UAAU,CAACyI,MAAX,GAAoB1J,UAApB;AACA,eAAeiB,UAAf;AAEA,OAAO,IAAM0I,aAAa,GAAG,SAAhBA,aAAgB;AAAA;;AAAA,SAAM/K,UAAU,CAACuB,iBAAD,CAAhB;AAAA,CAAtB;;IAAMwJ,a","sourcesContent":["import { AlignRightOutlined } from '@ant-design/icons'\r\nimport { Card, Popover, Skeleton, Spin } from 'antd'\r\nimport Link from 'next/link'\r\nimport { useRouter } from 'next/router'\r\nimport { createContext, useContext, useEffect, useRef, useState } from 'react'\r\nimport { Bookmark, Info } from 'react-feather'\r\nimport { examDetailApi, examTopicApi } from '~/apiBase'\r\nimport PopupConfirm from '~/components/Elements/PopupConfirm'\r\nimport TitlePage from '~/components/Elements/TitlePage'\r\nimport AddQuestionAuto from '~/components/Global/ExamDetail/AddQuestionAuto'\r\nimport AddQuestionModal from '~/components/Global/ExamDetail/AddQuestionModal'\r\nimport ChoiceList from '~/components/Global/ExamList/ExamShow/ChoiceList'\r\nimport DragList from '~/components/Global/ExamList/ExamShow/DragList'\r\nimport MapList from '~/components/Global/ExamList/ExamShow/MapList'\r\nimport MultipleList from '~/components/Global/ExamList/ExamShow/MultipleList'\r\nimport SpeakingList from '~/components/Global/ExamList/ExamShow/Speaking'\r\nimport TypingList from '~/components/Global/ExamList/ExamShow/TypingList'\r\nimport WrapList from '~/components/Global/ExamList/ExamShow/WrapList'\r\nimport WrittingList from '~/components/Global/ExamList/ExamShow/WrittingList'\r\nimport LayoutBase from '~/components/LayoutBase'\r\nimport { useWrap } from '~/context/wrap'\r\n\r\nconst listAlphabet = ['A', 'B', 'C', 'D', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V']\r\n\r\ntype objectQuestionAddOutside = {\r\n\ttype: number\r\n\tExerciseOrExerciseGroupID: number\r\n}\r\n\r\nexport type IProps = {\r\n\tonAddQuestion: Function\r\n\tonGetListQuestionID: Function\r\n\tonRemoveQuestionAdd: Function\r\n\tonDeleteQuestion: Function\r\n\tonEditPoint: Function\r\n\tgetDataChange: Function\r\n\tisGetQuestion: boolean\r\n\tlistQuestionAddOutside: Array<objectQuestionAddOutside>\r\n\tlistQuestionID: Array<number>\r\n\tlistGroupID: Array<number>\r\n\tdataChange: Array<{\r\n\t\tID: number\r\n\t\tIndex: number\r\n\t}>\r\n\tisChangePosition: boolean\r\n}\r\n\r\nconst ExamDetailContext = createContext<IProps>({\r\n\tonAddQuestion: () => {},\r\n\tonDeleteQuestion: () => {},\r\n\tonEditPoint: () => {},\r\n\tonRemoveQuestionAdd: (data) => {},\r\n\tonGetListQuestionID: (data) => {},\r\n\tgetDataChange: (data) => {},\r\n\tisGetQuestion: false,\r\n\tlistQuestionAddOutside: [],\r\n\tlistQuestionID: [],\r\n\tlistGroupID: [],\r\n\tdataChange: [],\r\n\tisChangePosition: false\r\n})\r\n\r\nconst ExamDetail = () => {\r\n\tconst { showNoti } = useWrap()\r\n\tconst [rr, setRerender] = useState('') // ĐỂ CÁI NÀY BUỘC NÓ RERENDER - BÙA CHÚ CẢ\r\n\tconst [arPosition, setArPositions] = useState([])\r\n\tconst router = useRouter()\r\n\tconst examID = parseInt(router.query.slug as string)\r\n\tconst [dataExamDetail, setDataExamDetail] = useState([])\r\n\tconst [examTopicDetail, setExamTopicDetail] = useState<IExamTopic>(null)\r\n\tconst [listQuestionID, setListQuestionID] = useState([]) // Lấy tất cả ID đã có\r\n\tconst [listGroupID, setListGroupID] = useState([]) // Lấy tất cả group ID đã có\r\n\tconst [listQuestionAddOutside, setListQuestionAddOutside] = useState([]) // Lấy tất cả ID vừa add\r\n\tconst [isGetQuestion, setIsGetQuestion] = useState(false)\r\n\tconst [isLoading, setIsLoading] = useState(false)\r\n\tconst [totalPageIndex, setTotalPageIndex] = useState(0)\r\n\tconst boxEl = useRef(null)\r\n\tconst [loadingQuestion, setLoadingQuestion] = useState(false)\r\n\tconst listTodoApi = {\r\n\t\tpageIndex: 1,\r\n\t\tpageSize: 10,\r\n\t\tExamTopicID: examID\r\n\t}\r\n\tconst [todoApi, setTodoApi] = useState(listTodoApi)\r\n\tconst [listExam, setListExam] = useState([])\r\n\tconst [loadingExam, setLoadingExam] = useState(false)\r\n\tconst [loadingDetail, setLoadingDetail] = useState(false)\r\n\tconst [dataChange, setDataChange] = useState([])\r\n\tconst [loadingPosition, setLoadingPosition] = useState(false)\r\n\tconst [isChangePosition, setIsChangePosition] = useState(false)\r\n\tconst [isConfirmChange, setIsConfirmChange] = useState(false)\r\n\tconst [visiblePopover, setVisiblePopover] = useState(false)\r\n\r\n\tconst setArPosition = (param) => {\r\n\t\tsetArPositions(param)\r\n\t}\r\n\r\n\tconst getPosi = (ar, it) => {\r\n\t\tfor (let i = 0; i < ar.length; i++) {\r\n\t\t\tif (ar[i].value == it) {\r\n\t\t\t\treturn i\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn -1\r\n\t}\r\n\r\n\tconst removeItem = (ar, po, old) => {\r\n\t\tlet temp = []\r\n\t\tfor (let i = 0; i < ar.length; i++) {\r\n\t\t\tif (i !== po) {\r\n\t\t\t\ttemp.push(ar[i])\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (old > 0) {\r\n\t\t\taddItem(old, temp)\r\n\t\t} else {\r\n\t\t\tsetArPosition(temp)\r\n\t\t}\r\n\t}\r\n\r\n\tconst addItem = async (item, ar) => {\r\n\t\tlet temp = ar\r\n\t\tlet po = await getPosi(arPosition, item)\r\n\t\tif (po == -1) {\r\n\t\t\ttemp.push({ value: item, label: item })\r\n\t\t\tsetArPosition(temp)\r\n\t\t}\r\n\t\treRender(po)\r\n\t}\r\n\r\n\tconst addOldItem = async (item) => {\r\n\t\tlet temp = arPosition\r\n\t\tlet po = await getPosi(arPosition, item)\r\n\t\tif (po == -1) {\r\n\t\t\ttemp.push({ value: item, label: item })\r\n\t\t\tsetArPosition(temp)\r\n\t\t}\r\n\t\tlet now = new Date()\r\n\t\tsetRerender(item + now + '')\r\n\t}\r\n\r\n\tconst handleChange = async (value, old) => {\r\n\t\tlet po = await getPosi(arPosition, value)\r\n\t\treRender(value)\r\n\t\tif (po !== -1) {\r\n\t\t\tawait removeItem(arPosition, po, old)\r\n\t\t}\r\n\t}\r\n\r\n\tconst reRender = (value) => {\r\n\t\tlet now = new Date()\r\n\t\tvalue !== undefined ? setRerender(value + now + '') : setRerender('fuck - ' + now + '')\r\n\t}\r\n\r\n\t// ---- GET LIST EXAM ----\r\n\tconst getListExam = async () => {\r\n\t\ttry {\r\n\t\t\tlet res = await examTopicApi.getAll({\r\n\t\t\t\tsetlectAll: true,\r\n\t\t\t\tCurriculumID: examTopicDetail.CurriculumID,\r\n\t\t\t\tType: examTopicDetail.Type\r\n\t\t\t})\r\n\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tsetListExam(res.data.data)\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetLoadingExam(false)\r\n\t\t\tsetIsLoading(false)\r\n\t\t}\r\n\t}\r\n\r\n\t// ---- GET ALL LIST QUESTION ID ----\r\n\tconst getAllListQuestionID = async () => {\r\n\t\tlet cloneListQuestionID = [...listQuestionID]\r\n\t\tlet cloneListGroupID = [...listGroupID]\r\n\r\n\t\ttry {\r\n\t\t\tlet res = await examDetailApi.getAll({ ...todoApi, pageSize: 9999, pageIndex: 1 })\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tres.data.data.forEach((item) => {\r\n\t\t\t\t\tif (item.Enable) {\r\n\t\t\t\t\t\titem.ExerciseGroupID !== 0 && cloneListGroupID.push(item.ExerciseGroupID)\r\n\t\t\t\t\t\tdataChange.push({\r\n\t\t\t\t\t\t\tID: item.ID,\r\n\t\t\t\t\t\t\tIndex: null\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\titem.ExerciseTopic.forEach((ques) => {\r\n\t\t\t\t\t\t\tcloneListQuestionID.push(ques.ExerciseID)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tsetListGroupID([...cloneListGroupID])\r\n\t\t\t\tsetListQuestionID([...cloneListQuestionID])\r\n\t\t\t\tsetDataChange([...dataChange])\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t} finally {\r\n\t\t\tsetIsLoading(false)\r\n\t\t}\r\n\t}\r\n\r\n\t// ---- GET LIST QUESTION IN EXAM ----\r\n\tconst getExamDetail = async () => {\r\n\t\tlet cloneListQuestionID = [...listQuestionID]\r\n\t\tlet cloneListGroupID = [...listGroupID]\r\n\r\n\t\ttry {\r\n\t\t\tlet res = await examDetailApi.getAll(todoApi)\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tsetDataExamDetail(res.data.data)\r\n\r\n\t\t\t\tlet cloneData = [...dataExamDetail]\r\n\t\t\t\tres.data.data.forEach((item, index) => {\r\n\t\t\t\t\tcloneData.push(item)\r\n\t\t\t\t})\r\n\r\n\t\t\t\tsetDataExamDetail([...cloneData])\r\n\r\n\t\t\t\tres.data.data.forEach((item) => {\r\n\t\t\t\t\tif (item.Enable) {\r\n\t\t\t\t\t\titem.ExerciseGroupID !== 0 && cloneListGroupID.push(item.ExerciseGroupID)\r\n\t\t\t\t\t\titem.ExerciseTopic.forEach((ques) => {\r\n\t\t\t\t\t\t\tcloneListQuestionID.push(ques.ExerciseID)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tsetListGroupID([...cloneListGroupID])\r\n\t\t\t\tsetListQuestionID([...cloneListQuestionID])\r\n\t\t\t\tsetListQuestionAddOutside([])\r\n\r\n\t\t\t\t// Caculator pageindex\r\n\t\t\t\tlet totalPage = Math.ceil(res.data.totalRow / 10)\r\n\t\t\t\tsetTotalPageIndex(totalPage)\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetLoadingQuestion(false)\r\n\t\t\tsetIsLoading(false)\r\n\t\t}\r\n\t}\r\n\r\n\tconst getExamTopicDetail = async () => {\r\n\t\tlistExam.length == 0 && setLoadingExam(true)\r\n\t\tsetLoadingDetail(true)\r\n\t\ttry {\r\n\t\t\tlet res = await examTopicApi.getByID(examID)\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tsetExamTopicDetail(res.data.data)\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetLoadingDetail(false)\r\n\t\t}\r\n\t}\r\n\r\n\t// RETURN QUESTION TYPE\r\n\tconst returnQuestionType = (item, index) => {\r\n\t\tconst type = item.Type\r\n\t\tswitch (type) {\r\n\t\t\tcase 1:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div key={index}>\r\n\t\t\t\t\t\t<WrapList\r\n\t\t\t\t\t\t\tdataQuestion={item}\r\n\t\t\t\t\t\t\tlistQuestionID={listQuestionID}\r\n\t\t\t\t\t\t\tarPosition={arPosition}\r\n\t\t\t\t\t\t\thandleChange={handleChange}\r\n\t\t\t\t\t\t\taddOldItem={addOldItem}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ChoiceList\r\n\t\t\t\t\t\t\t\tisDoingTest={false}\r\n\t\t\t\t\t\t\t\tlistQuestionID={listQuestionID}\r\n\t\t\t\t\t\t\t\tdataQuestion={item}\r\n\t\t\t\t\t\t\t\tlistAlphabet={listAlphabet}\r\n\t\t\t\t\t\t\t\tshowScore={true}\r\n\t\t\t\t\t\t\t\tarPosition={arPosition}\r\n\t\t\t\t\t\t\t\thandleChange={handleChange}\r\n\t\t\t\t\t\t\t\taddOldItem={addOldItem}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</WrapList>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\tcase 2:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div key={index}>\r\n\t\t\t\t\t\t<WrapList\r\n\t\t\t\t\t\t\tdataQuestion={item}\r\n\t\t\t\t\t\t\tlistQuestionID={listQuestionID}\r\n\t\t\t\t\t\t\tarPosition={arPosition}\r\n\t\t\t\t\t\t\thandleChange={handleChange}\r\n\t\t\t\t\t\t\taddOldItem={addOldItem}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<DragList isDoingTest={false} listQuestionID={listQuestionID} dataQuestion={item} listAlphabet={listAlphabet} />\r\n\t\t\t\t\t\t</WrapList>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\tcase 3:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div key={index}>\r\n\t\t\t\t\t\t<WrapList\r\n\t\t\t\t\t\t\tdataQuestion={item}\r\n\t\t\t\t\t\t\tlistQuestionID={listQuestionID}\r\n\t\t\t\t\t\t\tarPosition={arPosition}\r\n\t\t\t\t\t\t\thandleChange={handleChange}\r\n\t\t\t\t\t\t\taddOldItem={addOldItem}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<TypingList isDoingTest={false} listQuestionID={listQuestionID} dataQuestion={item} listAlphabet={listAlphabet} />\r\n\t\t\t\t\t\t</WrapList>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\tcase 4:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div key={index}>\r\n\t\t\t\t\t\t<WrapList dataQuestion={item} listQuestionID={listQuestionID}>\r\n\t\t\t\t\t\t\t<MultipleList\r\n\t\t\t\t\t\t\t\tisDoingTest={false}\r\n\t\t\t\t\t\t\t\tlistQuestionID={listQuestionID}\r\n\t\t\t\t\t\t\t\tdataQuestion={item}\r\n\t\t\t\t\t\t\t\tlistAlphabet={listAlphabet}\r\n\t\t\t\t\t\t\t\tarPosition={arPosition}\r\n\t\t\t\t\t\t\t\thandleChange={handleChange}\r\n\t\t\t\t\t\t\t\taddOldItem={addOldItem}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</WrapList>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\tcase 5:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div key={index}>\r\n\t\t\t\t\t\t<WrapList\r\n\t\t\t\t\t\t\tdataQuestion={item}\r\n\t\t\t\t\t\t\tlistQuestionID={listQuestionID}\r\n\t\t\t\t\t\t\tarPosition={arPosition}\r\n\t\t\t\t\t\t\thandleChange={handleChange}\r\n\t\t\t\t\t\t\taddOldItem={addOldItem}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<MapList isDoingTest={false} listQuestionID={listQuestionID} dataQuestion={item} listAlphabet={listAlphabet} />\r\n\t\t\t\t\t\t</WrapList>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\tcase 6:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div key={index}>\r\n\t\t\t\t\t\t<WrapList dataQuestion={item} listQuestionID={listQuestionID} arPosition={arPosition} handleChange={handleChange}>\r\n\t\t\t\t\t\t\t<WrittingList\r\n\t\t\t\t\t\t\t\tisDoingTest={false}\r\n\t\t\t\t\t\t\t\tlistQuestionID={listQuestionID}\r\n\t\t\t\t\t\t\t\tdataQuestion={item}\r\n\t\t\t\t\t\t\t\tlistAlphabet={listAlphabet}\r\n\t\t\t\t\t\t\t\tarPosition={arPosition}\r\n\t\t\t\t\t\t\t\thandleChange={handleChange}\r\n\t\t\t\t\t\t\t\tremoveItem={removeItem}\r\n\t\t\t\t\t\t\t\taddOldItem={addOldItem}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</WrapList>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\tcase 7:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div key={index}>\r\n\t\t\t\t\t\t<WrapList dataQuestion={item} listQuestionID={listQuestionID} handleChange={handleChange} addOldItem={addOldItem}>\r\n\t\t\t\t\t\t\t<SpeakingList\r\n\t\t\t\t\t\t\t\tisDoingTest={false}\r\n\t\t\t\t\t\t\t\tlistQuestionID={listQuestionID}\r\n\t\t\t\t\t\t\t\tdataQuestion={item}\r\n\t\t\t\t\t\t\t\tlistAlphabet={listAlphabet}\r\n\t\t\t\t\t\t\t\tarPosition={arPosition}\r\n\t\t\t\t\t\t\t\thandleChange={handleChange}\r\n\t\t\t\t\t\t\t\taddOldItem={addOldItem}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</WrapList>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\tdefault:\r\n\t\t\t\treturn\r\n\t\t}\r\n\t}\r\n\r\n\t// ON ADD QUESTION TO EXAM\r\n\tconst onAddQuestion = () => {\r\n\t\tsetIsGetQuestion(true)\r\n\t}\r\n\r\n\t// ON FETCH DATA\r\n\tconst onFetchData = () => {\r\n\t\tsetIsLoading(true)\r\n\t\tsetListGroupID([])\r\n\t\tsetListQuestionID([])\r\n\t\tsetDataExamDetail([])\r\n\t\tsetTodoApi(listTodoApi)\r\n\t\tsetIsGetQuestion(false)\r\n\t}\r\n\r\n\t// ON DELETE QUESTION\r\n\tconst onDeleteQuestion = (dataDelete) => {\r\n\t\tlet cloneListQuestionID = []\r\n\t\tlet cloneListGroupID = []\r\n\t\tlet cloneDataExam = [...dataExamDetail]\r\n\r\n\t\tlet indexQues = cloneDataExam.findIndex((item) => item.ID == dataDelete.ID)\r\n\t\tcloneDataExam.splice(indexQues, 1)\r\n\r\n\t\tcloneDataExam.forEach((item) => {\r\n\t\t\titem.ExerciseGroupID !== 0 && cloneListGroupID.push(item.ExerciseGroupID)\r\n\t\t\titem.ExerciseTopic.forEach((ques) => {\r\n\t\t\t\tcloneListQuestionID.push(ques.ExerciseID)\r\n\t\t\t})\r\n\t\t})\r\n\t\tsetListGroupID([...cloneListGroupID])\r\n\t\tsetListQuestionID([...cloneListQuestionID])\r\n\r\n\t\tsetDataExamDetail([...cloneDataExam])\r\n\t}\r\n\r\n\t// ON EDIT POINT\r\n\tconst onEditPoint = (dataEdit, detailID) => {\r\n\t\tdataExamDetail.every((item, index) => {\r\n\t\t\tif (detailID == item.ID) {\r\n\t\t\t\titem.ExerciseTopic[0].Point = dataEdit[0].Point\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t\treturn true\r\n\t\t})\r\n\r\n\t\tsetDataExamDetail([...dataExamDetail])\r\n\t}\r\n\r\n\t// ON REMOVE QUESTION ADD IN LIST\r\n\tconst onRemoveQuestionAdd = (objectQuestion: any) => {\r\n\t\tlet index = listQuestionAddOutside.findIndex((item) => item.ExerciseOrExerciseGroupID == objectQuestion.ExerciseOrExerciseGroupID)\r\n\t\tlistQuestionAddOutside.splice(index, 1)\r\n\t\tsetListQuestionAddOutside([...listQuestionAddOutside])\r\n\t}\r\n\r\n\t// ON GET LIST QUESTION ID\r\n\tconst onGetListQuestionID = (objectQuestion: any) => {\r\n\t\tlistQuestionAddOutside.push(objectQuestion)\r\n\r\n\t\tsetListQuestionAddOutside([...listQuestionAddOutside])\r\n\t}\r\n\r\n\t// SCROLL TO TOP\r\n\tconst scrollToTop = () => {\r\n\t\tboxEl.current.scrollTo(0, 0)\r\n\t}\r\n\t// ON SCROLL\r\n\tconst onScroll = () => {\r\n\t\tconst scrollHeight = boxEl.current.scrollHeight\r\n\t\tconst offsetHeight = boxEl.current.offsetHeight\r\n\t\tconst scrollTop = boxEl.current.scrollTop\r\n\r\n\t\tif (scrollTop > scrollHeight - offsetHeight - 50) {\r\n\t\t\tif (todoApi.pageIndex < totalPageIndex) {\r\n\t\t\t\tdataExamDetail?.length !== 0 && setLoadingQuestion(true)\r\n\r\n\t\t\t\tif (scrollTop > 0 && loadingQuestion == false) {\r\n\t\t\t\t\tsetTodoApi({\r\n\t\t\t\t\t\t...todoApi,\r\n\t\t\t\t\t\tpageIndex: todoApi.pageIndex + 1\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// ACTION CHANGE POSITION\r\n\tconst actionChangePosition = async () => {\r\n\t\tconsole.log('dataChange: ', dataChange)\r\n\r\n\t\tsetLoadingPosition(true)\r\n\t\t// let cloneListQuestionID = [];\r\n\t\t// let cloneListGroupID = [];\r\n\t\ttry {\r\n\t\t\tlet res = await examDetailApi.changePosition(dataChange)\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tshowNoti('success', 'Đổi vị trí thành công')\r\n\t\t\t\tonFetchData()\r\n\t\t\t\tsetIsConfirmChange(false)\r\n\t\t\t\tsetIsChangePosition(false)\r\n\t\t\t\t// changePositionInArray();\r\n\t\t\t\t// res.data.data.forEach((item) => {\r\n\t\t\t\t// \tif (item.Enable) {\r\n\t\t\t\t// \t\titem.ExerciseGroupID !== 0 && cloneListGroupID.push(item.ExerciseGroupID);\r\n\t\t\t\t// \t\titem.ExerciseTopic.forEach((ques) => {\r\n\t\t\t\t// \t\t\tcloneListQuestionID.push(ques.ExerciseID);\r\n\t\t\t\t// \t\t});\r\n\t\t\t\t// \t}\r\n\t\t\t\t// });\r\n\t\t\t\t// setListGroupID([...cloneListGroupID]);\r\n\t\t\t\t// setListQuestionID([...cloneListQuestionID]);\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetLoadingPosition(false)\r\n\t\t}\r\n\t}\r\n\r\n\t// const changePositionInArray = () => {\r\n\t// \tlet dataFrom = null;\r\n\t// \tlet dataTo = null;\r\n\r\n\t// \tlet indexFrom = null;\r\n\t// \tlet indexTo = null;\r\n\r\n\t// \tdataExamDetail.every((item, index) => {\r\n\t// \t\tif (item.ID === dataChange.IDChangeOne) {\r\n\t// \t\t\tdataFrom = item;\r\n\t// \t\t\tindexFrom = index;\r\n\t// \t\t}\r\n\t// \t\tif (item.ID === dataChange.IDChangeTwo) {\r\n\t// \t\t\tdataTo = item;\r\n\t// \t\t\tindexTo = index;\r\n\t// \t\t}\r\n\t// \t\tif (dataFrom && dataTo) {\r\n\t// \t\t\treturn false;\r\n\t// \t\t} else {\r\n\t// \t\t\treturn true;\r\n\t// \t\t}\r\n\t// \t});\r\n\r\n\t// \tdataExamDetail[indexFrom] = dataTo;\r\n\t// \tdataExamDetail[indexTo] = dataFrom;\r\n\r\n\t// \tsetDataExamDetail([...dataExamDetail]);\r\n\t// };\r\n\r\n\t// START CHANGE POSITION\r\n\tconst startChangePosition = () => {\r\n\t\t!isChangePosition && setIsChangePosition(true)\r\n\t\tisChangePosition && setIsConfirmChange(true)\r\n\t}\r\n\r\n\t// GET DATA CHANGE\r\n\tconst getDataChange = (data: any) => {\r\n\t\tsetDataChange([...data])\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tsetIsLoading(true)\r\n\t\tgetExamTopicDetail()\r\n\t}, [examID])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (examTopicDetail) {\r\n\t\t\tif (listExam.length == 0) {\r\n\t\t\t\tgetListExam()\r\n\t\t\t}\r\n\t\t}\r\n\t}, [examTopicDetail])\r\n\r\n\tuseEffect(() => {\r\n\t\tonFetchData()\r\n\t\tscrollToTop()\r\n\t}, [examID])\r\n\r\n\tuseEffect(() => {\r\n\t\tgetExamDetail()\r\n\t}, [todoApi])\r\n\r\n\t// useEffect(() => {\r\n\t// \tif (dataChange.IDChangeOne && dataChange.IDChangeTwo) {\r\n\t// \t\tactionChangePosition();\r\n\t// \t}\r\n\t// }, [dataChange]);\r\n\r\n\tuseEffect(() => {\r\n\t\tgetAllListQuestionID()\r\n\t\tsetIsLoading(true)\r\n\r\n\t\twindow.onclick = function (ev) {\r\n\t\t\tconsole.log('TEST: ', ev.target)\r\n\t\t\tif (ev.target.nodeName !== 'BUTTON') {\r\n\t\t\t\tsetVisiblePopover(false)\r\n\t\t\t}\r\n\t\t}\r\n\t}, [])\r\n\r\n\tconst contentButton = (\r\n\t\t<div onClick={() => setVisiblePopover(false)}>\r\n\t\t\t<button className=\"btn btn-primary d-block w-100 text-center mb-2\" onClick={startChangePosition}>\r\n\t\t\t\t<div className=\"d-flex align-items-center\">\r\n\t\t\t\t\t<AlignRightOutlined className=\"mr-2\" style={{ width: '18px' }} />\r\n\t\t\t\t\t{isChangePosition ? 'Lưu' : 'Sắp xếp'}\r\n\t\t\t\t</div>\r\n\t\t\t</button>\r\n\t\t\t<AddQuestionAuto dataExam={examTopicDetail} onFetchData={onFetchData} examTopicID={examID} />\r\n\t\t\t<AddQuestionModal dataExam={examTopicDetail} onFetchData={onFetchData} />\r\n\t\t</div>\r\n\t)\r\n\r\n\tconst content = (\r\n\t\t<div className=\"question-bank-info\">\r\n\t\t\t<ul className=\"list\">\r\n\t\t\t\t<div className=\"d-flex\">\r\n\t\t\t\t\t<li className=\"list-item\">\r\n\t\t\t\t\t\t<span className=\"list-title\">Giáo trình:</span>\r\n\t\t\t\t\t\t<span className=\"list-text\">{examTopicDetail?.CurriculumName}</span>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li className=\"list-item\">\r\n\t\t\t\t\t\t<span className=\"list-title\">Tổng số câu</span>\r\n\t\t\t\t\t\t<span className=\"list-text\">{listQuestionID?.length}</span>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"d-flex\">\r\n\t\t\t\t\t<li className=\"list-item\">\r\n\t\t\t\t\t\t<span className=\"list-title\">Dạng đề thi:</span>\r\n\t\t\t\t\t\t<span className=\"list-text\">{examTopicDetail?.TypeName}</span>\r\n\t\t\t\t\t</li>\r\n\r\n\t\t\t\t\t<li className=\"list-item mb-0\">\r\n\t\t\t\t\t\t<span className=\"list-title\">Thời gian:</span>\r\n\t\t\t\t\t\t<span className=\"list-text\">{examTopicDetail?.Time} phút</span>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</div>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t)\r\n\r\n\treturn (\r\n\t\t<ExamDetailContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\tonAddQuestion,\r\n\t\t\t\tonEditPoint,\r\n\t\t\t\tisGetQuestion: isGetQuestion,\r\n\t\t\t\tonGetListQuestionID,\r\n\t\t\t\tlistQuestionAddOutside,\r\n\t\t\t\tlistQuestionID: listQuestionID,\r\n\t\t\t\tlistGroupID: listGroupID,\r\n\t\t\t\tonRemoveQuestionAdd,\r\n\t\t\t\tonDeleteQuestion,\r\n\t\t\t\tdataChange: dataChange,\r\n\t\t\t\tgetDataChange,\r\n\t\t\t\tisChangePosition: isChangePosition\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div className=\"question-create exam\">\r\n\t\t\t\t<PopupConfirm\r\n\t\t\t\t\tokText=\"Đồng ý\"\r\n\t\t\t\t\tcancelText=\"Hủy\"\r\n\t\t\t\t\tisOpen={isConfirmChange}\r\n\t\t\t\t\tonOk={actionChangePosition}\r\n\t\t\t\t\tonCancel={() => setIsConfirmChange(false)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<p style={{ fontWeight: 500 }}>Thay đổi vị trí câu hỏi ngay bây giờ?</p>\r\n\t\t\t\t</PopupConfirm>\r\n\r\n\t\t\t\t<TitlePage title=\"Tạo đề thi\" />\r\n\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-md-9 col-12\">\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tclassName=\"card-detail-exam card-detail-question\"\r\n\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t<div className=\"title-question-bank\">\r\n\t\t\t\t\t\t\t\t\t<h3 className=\"title-big\">\r\n\t\t\t\t\t\t\t\t\t\t<Bookmark /> {examTopicDetail?.Name}\r\n\t\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t\t<Popover content={content} trigger=\"hover\" placement=\"bottomLeft\">\r\n\t\t\t\t\t\t\t\t\t\t{loadingDetail ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Skeleton paragraph={false} loading={true} title={true} active />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Skeleton paragraph={false} loading={true} title={true} active />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Skeleton paragraph={false} loading={true} title={true} active />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<ul className=\"list-detail-question\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"icon-detail-question\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Info />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"title\">Giáo trình:</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text text-curriculum\">{examTopicDetail?.CurriculumName}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{/* <li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"title\">Thời gian:</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text\">{examTopicDetail?.Time} phút</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"title\">Tổng số câu:</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text\">{listQuestionID.length}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</li> */}\r\n\t\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\textra={\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t{/* <button className=\"btn btn-primary\" onClick={startChangePosition}>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t<AlignRightOutlined className=\"mr-2\" style={{ width: '18px' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t{isChangePosition ? 'Lưu' : 'Sắp xếp'}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t<AddQuestionAuto dataExam={examTopicDetail} onFetchData={onFetchData} examTopicID={examID} />\r\n\t\t\t\t\t\t\t\t\t<AddQuestionModal dataExam={examTopicDetail} onFetchData={onFetchData} /> */}\r\n\t\t\t\t\t\t\t\t\t<Popover visible={visiblePopover} content={contentButton} placement=\"bottomRight\" title={null} trigger=\"click\">\r\n\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-light btn-function\" onClick={() => setVisiblePopover(!visiblePopover)}>\r\n\t\t\t\t\t\t\t\t\t\t\tChức năng\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{loadingPosition && (\r\n\t\t\t\t\t\t\t\t<div className=\"loading-all\">\r\n\t\t\t\t\t\t\t\t\t<Spin />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<div className=\"question-list\" ref={boxEl} onScroll={onScroll}>\r\n\t\t\t\t\t\t\t\t{isLoading ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-center mt-3\">\r\n\t\t\t\t\t\t\t\t\t\t<Spin />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : dataExamDetail.length == 0 ? (\r\n\t\t\t\t\t\t\t\t\t<p className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t<b>Đề thi hiện chưa có câu hỏi nào</b>\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\tdataExamDetail?.map((item, index) => item.Enable && returnQuestionType(item, index))\r\n\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t{loadingQuestion && (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<Skeleton />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"col-md-3 col-12 fixed-card\">\r\n\t\t\t\t\t\t<Card className=\"card-exam-bank\" title=\"Danh sách đề cùng giáo trình\">\r\n\t\t\t\t\t\t\t<ul className=\"list-exam-bank\">\r\n\t\t\t\t\t\t\t\t{loadingExam ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-center mt-4\">\r\n\t\t\t\t\t\t\t\t\t\t<Spin />\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"d-block\">Đang tải danh sách...</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : listExam?.length > 0 ? (\r\n\t\t\t\t\t\t\t\t\tlistExam.map((item, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<li key={index} className={item.ID == examID ? 'active' : ''}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\thref={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpathname: '/question-bank/exam-list/exam-detail/[slug]',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tquery: { slug: item.ID }\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<a className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"number\">{index + 1}/</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text\">{item.Name}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<p className=\"font-italic\">Không có dữ liệu</p>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</ExamDetailContext.Provider>\r\n\t)\r\n}\r\nExamDetail.layout = LayoutBase\r\nexport default ExamDetail\r\n\r\nexport const useExamDetail = () => useContext(ExamDetailContext)\r\n"]},"metadata":{},"sourceType":"module"}