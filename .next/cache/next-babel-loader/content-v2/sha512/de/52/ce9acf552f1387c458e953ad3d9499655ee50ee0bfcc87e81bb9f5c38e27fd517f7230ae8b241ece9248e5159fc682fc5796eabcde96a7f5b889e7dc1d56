{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\pages\\\\feedback\\\\index.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useLayoutEffect, useState } from 'react';\nimport { Select, Modal, Popover, Input } from 'antd';\nimport Link from 'next/link';\nimport { Filter, Eye, CheckCircle } from 'react-feather';\nimport { Tooltip } from 'antd';\nimport LayoutBase from '~/components/LayoutBase';\nimport { FeedbackApi } from '~/apiBase';\nimport FeedbackTable from '~/components/FeedbackTable';\nimport { useWrap } from '~/context/wrap';\nimport StudentFeedbackList from '~/components/FeedBack/student-feed-back';\nimport { FeedbackCategoryApi } from '~/apiBase/feed-back-category';\nvar Search = Input.Search;\n\nvar FeedbackList = function FeedbackList() {\n  _s();\n\n  var _useState = useState({\n    ID: ''\n  }),\n      selectedItem = _useState[0],\n      setSelectedItem = _useState[1];\n\n  var _useWrap = useWrap(),\n      userInformation = _useWrap.userInformation,\n      getTitlePage = _useWrap.getTitlePage;\n\n  var _useState2 = useState(true),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  React.useEffect(function () {\n    getTitlePage('Danh sách phản hồi');\n  }, []);\n\n  var showModal = function showModal() {\n    setIsModalVisible(true);\n  };\n\n  var handleOk = function handleOk() {\n    setIsModalVisible(false);\n    var temp = {\n      ID: selectedItem.ID,\n      StatusID: 3\n    };\n    updateData(temp);\n  };\n\n  var handleCancel = function handleCancel() {\n    setIsModalVisible(false);\n  };\n\n  var updateData = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(param) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return FeedbackApi.update(param);\n\n            case 3:\n              getAllData();\n              _context.next = 8;\n              break;\n\n            case 6:\n              _context.prev = 6;\n              _context.t0 = _context[\"catch\"](0);\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 6]]);\n    }));\n\n    return function updateData(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var columns = [{\n    title: 'Loại phản hồi',\n    dataIndex: 'TypeName',\n    key: 'TypeName'\n  }, {\n    title: 'Tiêu đề',\n    dataIndex: 'Title',\n    key: 'Title'\n  }, {\n    title: 'Người gửi',\n    dataIndex: 'CreatedBy',\n    key: 'CreatedBy'\n  }, {\n    title: 'Tư vấn viên',\n    dataIndex: 'ModifiedBy',\n    key: 'ModifiedBy'\n  }, {\n    title: 'Ngày gửi',\n    dataIndex: 'ModifiedOn',\n    key: 'ModifiedOn'\n  }, {\n    title: 'Trạng thái',\n    dataIndex: 'StatusName',\n    key: 'StatusName',\n    align: 'center',\n    render: function render(value, record) {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [record.StatusID == 1 && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"tag red\",\n          children: value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 31\n        }, _this), record.StatusID == 2 && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"tag yellow\",\n          children: value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 31\n        }, _this), record.StatusID == 3 && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"tag green\",\n          children: value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 31\n        }, _this)]\n      }, void 0, true);\n    }\n  }, {\n    title: 'Thao tác',\n    dataIndex: 'Action',\n    key: 'action',\n    render: function render(Action, data) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n          title: data.StatusID === 3 ? 'Đã xử lý' : 'Xong',\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"btn btn-icon\",\n            onClick: function onClick() {\n              if (data.StatusID !== 3) {\n                setSelectedItem(data);\n                showModal();\n              }\n            },\n            children: /*#__PURE__*/_jsxDEV(CheckCircle, {\n              style: {\n                color: data.StatusID === 3 ? '#CFD8DC' : '#1cc474'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 8\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 7\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 6\n        }, _this), /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"Xem chi ti\\u1EBFt\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            href: {\n              pathname: '/feedback/[slug]',\n              query: {\n                slug: data.ID\n              }\n            },\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-icon\",\n              children: /*#__PURE__*/_jsxDEV(Eye, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 9\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 8\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 7\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 6\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 5\n      }, _this);\n    }\n  }];\n\n  var _useState3 = useState([]),\n      allFeedBackup = _useState3[0],\n      setBackup = _useState3[1];\n\n  var _useState4 = useState([]),\n      allFeedback = _useState4[0],\n      setAllFeedback = _useState4[1];\n\n  var _useState5 = useState([]),\n      categories = _useState5[0],\n      setCategories = _useState5[1];\n\n  useLayoutEffect(function () {\n    if (userInformation) {\n      getAllData();\n    }\n  }, [userInformation]); // GET ALL DATA WHEN OPEN\n\n  var getAllData = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var temp, temp2;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              temp = {\n                pageIndex: 1,\n                pageSize: 20\n              };\n              temp2 = {\n                pageIndex: 1,\n                pageSize: 20,\n                TypeID: 3\n              };\n              _context2.next = 4;\n              return getAllFeedBack((userInformation === null || userInformation === void 0 ? void 0 : userInformation.RoleID) == 6 ? temp2 : temp);\n\n            case 4:\n              getFeedBackCategory();\n              setLoading(false);\n\n            case 6:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function getAllData() {\n      return _ref2.apply(this, arguments);\n    };\n  }(); // GET ALL DATA WITH FILTER\n\n\n  var filter = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(ID) {\n      var temp;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              temp = {\n                pageIndex: 1,\n                pageSize: 20,\n                TypeID: ID\n              };\n              _context3.next = 3;\n              return getAllFeedBack(temp);\n\n            case 3:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function filter(_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }(); // GET DATA\n\n\n  var getAllFeedBack = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(param) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              if (!(userInformation !== null && ((userInformation === null || userInformation === void 0 ? void 0 : userInformation.RoleID) == 1 || (userInformation === null || userInformation === void 0 ? void 0 : userInformation.RoleID) == 6))) {\n                _context4.next = 13;\n                break;\n              }\n\n              _context4.prev = 1;\n              _context4.next = 4;\n              return FeedbackApi.getAll(param);\n\n            case 4:\n              res = _context4.sent;\n              res.status == 200 && setAllFeedback(res.data.data);\n              res.status == 200 && setBackup(res.data.data);\n              res.status == 204 && setAllFeedback([]);\n              _context4.next = 13;\n              break;\n\n            case 10:\n              _context4.prev = 10;\n              _context4.t0 = _context4[\"catch\"](1);\n              console.log(_context4.t0);\n\n            case 13:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[1, 10]]);\n    }));\n\n    return function getAllFeedBack(_x3) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var _useState6 = useState(false),\n      showFilter = _useState6[0],\n      showFilterSet = _useState6[1];\n\n  var funcShowFilter = function funcShowFilter() {\n    showFilter ? showFilterSet(false) : showFilterSet(true);\n  };\n\n  var _useState7 = useState(false),\n      isModalVisible = _useState7[0],\n      setIsModalVisible = _useState7[1];\n\n  var flag = 0;\n\n  var expandedRowRender = function expandedRowRender() {\n    var Option = Select.Option;\n    flag++;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"feedback-detail-text\",\n        children: \"asd asd asdqw tw qgasgdas dnb \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false);\n  }; // GET CATEGORY\n\n\n  var getFeedBackCategory = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n      var temp, res;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              temp = {\n                pageIndex: 1,\n                pageSize: 20\n              };\n              _context5.prev = 1;\n              _context5.next = 4;\n              return FeedbackCategoryApi.getAll(temp);\n\n            case 4:\n              res = _context5.sent;\n              res.status == 200 && setCategories(res.data.data);\n              _context5.next = 11;\n              break;\n\n            case 8:\n              _context5.prev = 8;\n              _context5.t0 = _context5[\"catch\"](1);\n              console.log(_context5.t0);\n\n            case 11:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, null, [[1, 8]]);\n    }));\n\n    return function getFeedBackCategory() {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  var onSearch = function onSearch(t) {\n    console.log(t);\n\n    if (t !== '') {\n      var temp = [];\n\n      for (var i = 0; i < allFeedBackup.length; i++) {\n        if (allFeedBackup[i].Title.indexOf(t) !== -1) {\n          temp.push(allFeedBackup[i]);\n        }\n      }\n\n      setAllFeedback(temp);\n    } else {\n      setAllFeedback(allFeedBackup);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [userInformation !== null && ((userInformation === null || userInformation === void 0 ? void 0 : userInformation.RoleID) === 1 || (userInformation === null || userInformation === void 0 ? void 0 : userInformation.RoleID) === 6) && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Modal, {\n        title: \"X\\xE1c nh\\u1EADn th\\xF4ng tin\",\n        visible: isModalVisible,\n        onOk: handleOk,\n        onCancel: handleCancel,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"B\\u1EA1n ch\\u1EAFc ch\\u1EAFn \\u0111\\xE3 x\\u1EED l\\xED xong ph\\u1EA3n h\\u1ED3i\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 7\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 6\n      }, _this), /*#__PURE__*/_jsxDEV(FeedbackTable, {\n        loading: loading,\n        columns: columns,\n        dataSource: allFeedback // TitlePage=\"Danh sách phản hồi\"\n        ,\n        Extra: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"extra-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row m-0 st-fb-100w st-fb-flex-end-row\",\n            children: /*#__PURE__*/_jsxDEV(Search, {\n              className: \"fb-btn-search style-input vc-teach-modal_search-feedback \",\n              size: \"large\",\n              placeholder: \"T\\xECm ki\\u1EBFm\",\n              onSearch: function onSearch() {},\n              onChange: function onChange(e) {\n                onSearch(e.target.value);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 10\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 9\n          }, _this), (userInformation === null || userInformation === void 0 ? void 0 : userInformation.RoleID) !== 6 && /*#__PURE__*/_jsxDEV(Popover, {\n            placement: \"bottomLeft\",\n            title: \"Ch\\u1ECDn l\\u1ECDc\",\n            content: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"st-fb-column fb-f-btn\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: function onClick() {\n                  getAllData();\n                },\n                className: \"btn light fb-i-filter\",\n                children: \"T\\u1EA5t c\\u1EA3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 13\n              }, _this), categories.map(function (item, index) {\n                return /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: function onClick() {\n                    filter(item.ID);\n                  },\n                  className: \"btn light fb-i-filter\",\n                  children: item.Name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 267,\n                  columnNumber: 14\n                }, _this);\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 12\n            }, _this),\n            trigger: \"click\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"ml-3 btn btn-secondary light fb-btn-filter\",\n              onClick: funcShowFilter,\n              children: /*#__PURE__*/_jsxDEV(Filter, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 12\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 11\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 10\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 8\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 6\n      }, _this)]\n    }, void 0, true), userInformation !== null && (userInformation === null || userInformation === void 0 ? void 0 : userInformation.RoleID) !== 1 && (userInformation === null || userInformation === void 0 ? void 0 : userInformation.RoleID) !== 6 && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(StudentFeedbackList, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 6\n      }, _this)\n    }, void 0, false)]\n  }, void 0, true);\n};\n\n_s(FeedbackList, \"hMLet98hMkuqq12fuh9NJ5Bt7T4=\", false, function () {\n  return [useWrap];\n});\n\n_c = FeedbackList;\nFeedbackList.layout = LayoutBase;\nexport default FeedbackList;\n\nvar _c;\n\n$RefreshReg$(_c, \"FeedbackList\");","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/pages/feedback/index.tsx"],"names":["React","useLayoutEffect","useState","Select","Modal","Popover","Input","Link","Filter","Eye","CheckCircle","Tooltip","LayoutBase","FeedbackApi","FeedbackTable","useWrap","StudentFeedbackList","FeedbackCategoryApi","Search","FeedbackList","ID","selectedItem","setSelectedItem","userInformation","getTitlePage","loading","setLoading","useEffect","showModal","setIsModalVisible","handleOk","temp","StatusID","updateData","handleCancel","param","update","getAllData","columns","title","dataIndex","key","align","render","value","record","Action","data","color","pathname","query","slug","allFeedBackup","setBackup","allFeedback","setAllFeedback","categories","setCategories","pageIndex","pageSize","temp2","TypeID","getAllFeedBack","RoleID","getFeedBackCategory","filter","getAll","res","status","console","log","showFilter","showFilterSet","funcShowFilter","isModalVisible","flag","expandedRowRender","Option","onSearch","t","i","length","Title","indexOf","push","e","target","map","item","index","Name","layout"],"mappings":"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","sourcesContent":["import React, { useLayoutEffect, useState } from 'react'\r\nimport { Select, Modal, Popover, Input } from 'antd'\r\nimport Link from 'next/link'\r\nimport { Filter, Eye, CheckCircle } from 'react-feather'\r\nimport { Tooltip } from 'antd'\r\nimport LayoutBase from '~/components/LayoutBase'\r\nimport { FeedbackApi } from '~/apiBase'\r\nimport FeedbackTable from '~/components/FeedbackTable'\r\nimport { useWrap } from '~/context/wrap'\r\nimport StudentFeedbackList from '~/components/FeedBack/student-feed-back'\r\nimport { FeedbackCategoryApi } from '~/apiBase/feed-back-category'\r\n\r\nconst { Search } = Input\r\n\r\nconst FeedbackList = () => {\r\n\tconst [selectedItem, setSelectedItem] = useState({ ID: '' })\r\n\tconst { userInformation, getTitlePage } = useWrap()\r\n\tconst [loading, setLoading] = useState(true)\r\n\r\n\tReact.useEffect(() => {\r\n\t\tgetTitlePage('Danh sách phản hồi')\r\n\t}, [])\r\n\r\n\tconst showModal = () => {\r\n\t\tsetIsModalVisible(true)\r\n\t}\r\n\r\n\tconst handleOk = () => {\r\n\t\tsetIsModalVisible(false)\r\n\t\tlet temp = {\r\n\t\t\tID: selectedItem.ID,\r\n\t\t\tStatusID: 3\r\n\t\t}\r\n\t\tupdateData(temp)\r\n\t}\r\n\r\n\tconst handleCancel = () => {\r\n\t\tsetIsModalVisible(false)\r\n\t}\r\n\r\n\tconst updateData = async (param) => {\r\n\t\ttry {\r\n\t\t\tawait FeedbackApi.update(param)\r\n\t\t\tgetAllData()\r\n\t\t} catch (error) {}\r\n\t}\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Loại phản hồi',\r\n\t\t\tdataIndex: 'TypeName',\r\n\t\t\tkey: 'TypeName'\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Tiêu đề',\r\n\t\t\tdataIndex: 'Title',\r\n\t\t\tkey: 'Title'\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Người gửi',\r\n\t\t\tdataIndex: 'CreatedBy',\r\n\t\t\tkey: 'CreatedBy'\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Tư vấn viên',\r\n\t\t\tdataIndex: 'ModifiedBy',\r\n\t\t\tkey: 'ModifiedBy'\r\n\t\t},\r\n\r\n\t\t{\r\n\t\t\ttitle: 'Ngày gửi',\r\n\t\t\tdataIndex: 'ModifiedOn',\r\n\t\t\tkey: 'ModifiedOn'\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Trạng thái',\r\n\t\t\tdataIndex: 'StatusName',\r\n\t\t\tkey: 'StatusName',\r\n\t\t\talign: 'center',\r\n\t\t\trender: (value, record) => (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{record.StatusID == 1 && <span className=\"tag red\">{value}</span>}\r\n\t\t\t\t\t{record.StatusID == 2 && <span className=\"tag yellow\">{value}</span>}\r\n\t\t\t\t\t{record.StatusID == 3 && <span className=\"tag green\">{value}</span>}\r\n\t\t\t\t</>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Thao tác',\r\n\t\t\tdataIndex: 'Action',\r\n\t\t\tkey: 'action',\r\n\t\t\trender: (Action, data) => (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Tooltip title={data.StatusID === 3 ? 'Đã xử lý' : 'Xong'}>\r\n\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\tclassName=\"btn btn-icon\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tif (data.StatusID !== 3) {\r\n\t\t\t\t\t\t\t\t\tsetSelectedItem(data)\r\n\t\t\t\t\t\t\t\t\tshowModal()\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<CheckCircle style={{ color: data.StatusID === 3 ? '#CFD8DC' : '#1cc474' }} />\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</Tooltip>\r\n\r\n\t\t\t\t\t<Tooltip title=\"Xem chi tiết\">\r\n\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\thref={{\r\n\t\t\t\t\t\t\t\tpathname: '/feedback/[slug]',\r\n\t\t\t\t\t\t\t\tquery: { slug: data.ID }\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-icon\">\r\n\t\t\t\t\t\t\t\t<Eye />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t]\r\n\r\n\tconst [allFeedBackup, setBackup] = useState([])\r\n\tconst [allFeedback, setAllFeedback] = useState([])\r\n\tconst [categories, setCategories] = useState([])\r\n\r\n\tuseLayoutEffect(() => {\r\n\t\tif (userInformation) {\r\n\t\t\tgetAllData()\r\n\t\t}\r\n\t}, [userInformation])\r\n\r\n\t// GET ALL DATA WHEN OPEN\r\n\tconst getAllData = async () => {\r\n\t\tconst temp = {\r\n\t\t\tpageIndex: 1,\r\n\t\t\tpageSize: 20\r\n\t\t}\r\n\t\tconst temp2 = {\r\n\t\t\tpageIndex: 1,\r\n\t\t\tpageSize: 20,\r\n\t\t\tTypeID: 3\r\n\t\t}\r\n\r\n\t\tawait getAllFeedBack(userInformation?.RoleID == 6 ? temp2 : temp)\r\n\t\tgetFeedBackCategory()\r\n\t\tsetLoading(false)\r\n\t}\r\n\r\n\t// GET ALL DATA WITH FILTER\r\n\tconst filter = async (ID) => {\r\n\t\tconst temp = {\r\n\t\t\tpageIndex: 1,\r\n\t\t\tpageSize: 20,\r\n\t\t\tTypeID: ID\r\n\t\t}\r\n\t\tawait getAllFeedBack(temp)\r\n\t}\r\n\r\n\t// GET DATA\r\n\tconst getAllFeedBack = async (param) => {\r\n\t\tif (userInformation !== null && (userInformation?.RoleID == 1 || userInformation?.RoleID == 6)) {\r\n\t\t\ttry {\r\n\t\t\t\tconst res = await FeedbackApi.getAll(param)\r\n\t\t\t\tres.status == 200 && setAllFeedback(res.data.data)\r\n\t\t\t\tres.status == 200 && setBackup(res.data.data)\r\n\t\t\t\tres.status == 204 && setAllFeedback([])\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log(error)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tconst [showFilter, showFilterSet] = useState(false)\r\n\r\n\tconst funcShowFilter = () => {\r\n\t\tshowFilter ? showFilterSet(false) : showFilterSet(true)\r\n\t}\r\n\r\n\tconst [isModalVisible, setIsModalVisible] = useState(false)\r\n\r\n\tlet flag = 0\r\n\r\n\tconst expandedRowRender = () => {\r\n\t\tconst { Option } = Select\r\n\t\tflag++\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<div className=\"feedback-detail-text\">asd asd asdqw tw qgasgdas dnb </div>\r\n\t\t\t</>\r\n\t\t)\r\n\t}\r\n\r\n\t// GET CATEGORY\r\n\tconst getFeedBackCategory = async () => {\r\n\t\tconst temp = {\r\n\t\t\tpageIndex: 1,\r\n\t\t\tpageSize: 20\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tconst res = await FeedbackCategoryApi.getAll(temp)\r\n\t\t\tres.status == 200 && setCategories(res.data.data)\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error)\r\n\t\t}\r\n\t}\r\n\r\n\tconst onSearch = (t) => {\r\n\t\tconsole.log(t)\r\n\t\tif (t !== '') {\r\n\t\t\tlet temp = []\r\n\t\t\tfor (let i = 0; i < allFeedBackup.length; i++) {\r\n\t\t\t\tif (allFeedBackup[i].Title.indexOf(t) !== -1) {\r\n\t\t\t\t\ttemp.push(allFeedBackup[i])\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tsetAllFeedback(temp)\r\n\t\t} else {\r\n\t\t\tsetAllFeedback(allFeedBackup)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{userInformation !== null && (userInformation?.RoleID === 1 || userInformation?.RoleID === 6) && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Modal title=\"Xác nhận thông tin\" visible={isModalVisible} onOk={handleOk} onCancel={handleCancel}>\r\n\t\t\t\t\t\t<p>Bạn chắc chắn đã xử lí xong phản hồi</p>\r\n\t\t\t\t\t</Modal>\r\n\r\n\t\t\t\t\t<FeedbackTable\r\n\t\t\t\t\t\tloading={loading}\r\n\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\tdataSource={allFeedback}\r\n\t\t\t\t\t\t// TitlePage=\"Danh sách phản hồi\"\r\n\t\t\t\t\t\tExtra={\r\n\t\t\t\t\t\t\t<div className=\"extra-table\">\r\n\t\t\t\t\t\t\t\t<div className=\"row m-0 st-fb-100w st-fb-flex-end-row\">\r\n\t\t\t\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"fb-btn-search style-input vc-teach-modal_search-feedback \"\r\n\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Tìm kiếm\"\r\n\t\t\t\t\t\t\t\t\t\tonSearch={() => {}}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\tonSearch(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t{userInformation?.RoleID !== 6 && (\r\n\t\t\t\t\t\t\t\t\t<Popover\r\n\t\t\t\t\t\t\t\t\t\tplacement=\"bottomLeft\"\r\n\t\t\t\t\t\t\t\t\t\ttitle=\"Chọn lọc\"\r\n\t\t\t\t\t\t\t\t\t\tcontent={\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"st-fb-column fb-f-btn\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tgetAllData()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn light fb-i-filter\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tTất cả\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{categories.map((item, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfilter(item.ID)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn light fb-i-filter\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.Name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\ttrigger=\"click\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<button className=\"ml-3 btn btn-secondary light fb-btn-filter\" onClick={funcShowFilter}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Filter />\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t></FeedbackTable>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\r\n\t\t\t{userInformation !== null && userInformation?.RoleID !== 1 && userInformation?.RoleID !== 6 && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<StudentFeedbackList />\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nFeedbackList.layout = LayoutBase\r\nexport default FeedbackList\r\n"]},"metadata":{},"sourceType":"module"}