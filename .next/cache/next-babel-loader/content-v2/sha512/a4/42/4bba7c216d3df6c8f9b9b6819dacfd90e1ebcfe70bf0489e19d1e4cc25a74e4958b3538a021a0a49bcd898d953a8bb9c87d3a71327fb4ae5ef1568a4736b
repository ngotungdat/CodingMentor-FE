{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\pages\\\\teacher\\\\day-off-schedule\\\\index.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport LayoutBase from '~/components/LayoutBase';\nimport TitlePage from '~/components/TitlePage';\nimport { Card } from 'antd';\nimport { Checkbox, DatePicker } from 'antd';\nimport { Check } from 'react-feather';\nimport { teacherOffScheduleApi } from '~/apiBase/teacher/teacher-off-schedule';\nimport { useWrap } from '~/context/wrap';\n\nvar DayOffSchedule = function DayOffSchedule() {\n  _s();\n\n  var _useState = useState(),\n      dataSchedule = _useState[0],\n      setDataSchedule = _useState[1];\n\n  var _useState2 = useState({\n    status: '',\n    loading: false\n  }),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var _useState3 = useState({\n    Date: new Date().toJSON().slice(0, 10).replace(/-/g, '/'),\n    Type: 0\n  }),\n      params = _useState3[0],\n      setParams = _useState3[1];\n\n  var _useWrap = useWrap(),\n      showNoti = _useWrap.showNoti;\n\n  var getSchedule = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setIsLoading({\n                status: 'GET_ALL',\n                loading: true\n              });\n              _context.prev = 1;\n              _context.next = 4;\n              return teacherOffScheduleApi.getAll(params);\n\n            case 4:\n              res = _context.sent;\n\n              if (res.status == 200) {\n                setDataSchedule(res.data.data);\n              }\n\n              if (res.status == 204) {\n                setDataSchedule([]);\n              }\n\n              _context.next = 11;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](1);\n\n            case 11:\n              _context.prev = 11;\n              setIsLoading({\n                status: 'GET_ALL',\n                loading: false\n              });\n              return _context.finish(11);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 9, 11, 14]]);\n    }));\n\n    return function getSchedule() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var updateSchedule = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(Day, StudyTimeID) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setIsLoading({\n                status: 'UPDATE_SCHEDULE',\n                loading: true\n              });\n              _context2.prev = 1;\n              _context2.next = 4;\n              return teacherOffScheduleApi.update({\n                DateOff: Day,\n                StudyTimeID: StudyTimeID\n              });\n\n            case 4:\n              res = _context2.sent;\n\n              if (res.status == 200) {\n                setParams(_objectSpread({}, params));\n                showNoti('success', 'Thành công');\n              }\n\n              _context2.next = 11;\n              break;\n\n            case 8:\n              _context2.prev = 8;\n              _context2.t0 = _context2[\"catch\"](1);\n              showNoti('danger', _context2.t0.message);\n\n            case 11:\n              _context2.prev = 11;\n              setIsLoading({\n                status: 'UPDATE_SCHEDULE',\n                loading: false\n              });\n              return _context2.finish(11);\n\n            case 14:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[1, 8, 11, 14]]);\n    }));\n\n    return function updateSchedule(_x, _x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    getSchedule();\n  }, [params]);\n\n  function onChangeDate(date, dateString) {\n    setParams({\n      Date: dateString,\n      Type: 0\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"day-off-schedule\",\n    children: [/*#__PURE__*/_jsxDEV(TitlePage, {\n      title: \"L\\u1ECBch ngh\\u1EC9\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 4\n    }, _this), /*#__PURE__*/_jsxDEV(Card, {\n      title: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(DatePicker, {\n          className: \"style-input\",\n          onChange: onChangeDate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 7\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 6\n      }, _this),\n      children: [/*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table-dayoff\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Ca\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 8\n            }, _this), dataSchedule && dataSchedule[0].Info.sort(function (a, b) {\n              return a.StudyTimeID - b.StudyTimeID;\n            }).map(function (item, index) {\n              return /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: item.StudyTimeName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 78,\n                    columnNumber: 13\n                  }, _this)\n                }, void 0, false)\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 10\n              }, _this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 7\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 6\n        }, _this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: dataSchedule && dataSchedule.map(function (item, indexItem) {\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.Day\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 10\n              }, _this), item.Info.sort(function (a, b) {\n                return a.StudyTimeID - b.StudyTimeID;\n              }).map(function (itemInfo, indexInfo) {\n                return /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(Checkbox, {\n                    checked: itemInfo.Checked,\n                    disabled: itemInfo.IsHideCheckBox,\n                    onChange: function onChange(event) {\n                      // console.log(itemInfo.StudyTimeID);\n                      // console.log(item.Day.split('/').reverse().join('-'));\n                      updateSchedule(item.Day.split('/').reverse().join('-'), itemInfo.StudyTimeID);\n                    }\n                  }, indexInfo, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 92,\n                    columnNumber: 12\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 11\n                }, _this);\n              })]\n            }, indexItem, true, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 9\n            }, _this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 6\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 5\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"note-info mt-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n          className: \"mb-4\",\n          children: \"Th\\xF4ng tin th\\xEAm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 6\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"note-info__item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"box white\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u0110\\u01B0\\u1EE3c \\u0111\\u0103ng k\\xFD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 8\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 7\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 6\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"note-info__item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"box grey\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Kh\\xF4ng \\u0111\\u01B0\\u1EE3c \\u0111\\u0103ng k\\xFD(C\\xF3 gi\\u1EDD n\\u1EB1m trong l\\u1ECBch d\\u1EA1y)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 8\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 7\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 6\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"note-info__item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"box red\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u0110\\xE3 c\\xF3 l\\u1ECBch d\\u1EA1y\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 8\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 7\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 6\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"note-info__item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"box blue\",\n            children: /*#__PURE__*/_jsxDEV(Check, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 8\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u0110\\xE3 \\u0111\\u0103ng k\\xFD ngh\\u1EC9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 8\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 7\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 6\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 5\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 4\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 3\n  }, _this);\n};\n\n_s(DayOffSchedule, \"Ft/OaGg/+VjFdUNEjvpyfRa2SvI=\", false, function () {\n  return [useWrap];\n});\n\n_c = DayOffSchedule;\nDayOffSchedule.layout = LayoutBase;\nexport default DayOffSchedule;\n\nvar _c;\n\n$RefreshReg$(_c, \"DayOffSchedule\");","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/pages/teacher/day-off-schedule/index.tsx"],"names":["React","useState","useEffect","LayoutBase","TitlePage","Card","Checkbox","DatePicker","Check","teacherOffScheduleApi","useWrap","DayOffSchedule","dataSchedule","setDataSchedule","status","loading","isLoading","setIsLoading","Date","toJSON","slice","replace","Type","params","setParams","showNoti","getSchedule","getAll","res","data","updateSchedule","Day","StudyTimeID","update","DateOff","message","onChangeDate","date","dateString","Info","sort","a","b","map","item","index","StudyTimeName","indexItem","itemInfo","indexInfo","Checked","IsHideCheckBox","event","split","reverse","join","layout"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport LayoutBase from '~/components/LayoutBase'\r\nimport TitlePage from '~/components/TitlePage'\r\nimport { Card } from 'antd'\r\nimport { Checkbox, DatePicker } from 'antd'\r\nimport { Check } from 'react-feather'\r\nimport { teacherOffScheduleApi } from '~/apiBase/teacher/teacher-off-schedule'\r\nimport { useWrap } from '~/context/wrap'\r\n\r\nconst DayOffSchedule = () => {\r\n\tconst [dataSchedule, setDataSchedule] = useState<ITeacherOff[]>()\r\n\tconst [isLoading, setIsLoading] = useState({\r\n\t\tstatus: '',\r\n\t\tloading: false\r\n\t})\r\n\tconst [params, setParams] = useState({ Date: new Date().toJSON().slice(0, 10).replace(/-/g, '/'), Type: 0 })\r\n\r\n\tconst { showNoti } = useWrap()\r\n\r\n\tconst getSchedule = async () => {\r\n\t\tsetIsLoading({ status: 'GET_ALL', loading: true })\r\n\t\ttry {\r\n\t\t\tlet res = await teacherOffScheduleApi.getAll(params)\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tsetDataSchedule(res.data.data)\r\n\t\t\t}\r\n\t\t\tif (res.status == 204) {\r\n\t\t\t\tsetDataSchedule([])\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({ status: 'GET_ALL', loading: false })\r\n\t\t}\r\n\t}\r\n\r\n\tconst updateSchedule = async (Day, StudyTimeID) => {\r\n\t\tsetIsLoading({ status: 'UPDATE_SCHEDULE', loading: true })\r\n\t\ttry {\r\n\t\t\tlet res = await teacherOffScheduleApi.update({ DateOff: Day, StudyTimeID: StudyTimeID })\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tsetParams({ ...params })\r\n\t\t\t\tshowNoti('success', 'Thành công')\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({ status: 'UPDATE_SCHEDULE', loading: false })\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tgetSchedule()\r\n\t}, [params])\r\n\r\n\tfunction onChangeDate(date, dateString) {\r\n\t\tsetParams({ Date: dateString, Type: 0 })\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"day-off-schedule\">\r\n\t\t\t<TitlePage title=\"Lịch nghỉ\" />\r\n\t\t\t<Card\r\n\t\t\t\ttitle={\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<DatePicker className=\"style-input\" onChange={onChangeDate} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<table className=\"table-dayoff\">\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Ca</th>\r\n\t\t\t\t\t\t\t{dataSchedule &&\r\n\t\t\t\t\t\t\t\tdataSchedule[0].Info.sort((a, b) => a.StudyTimeID - b.StudyTimeID).map((item, index) => (\r\n\t\t\t\t\t\t\t\t\t<th key={index}>\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p>{item.StudyTimeName}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{dataSchedule &&\r\n\t\t\t\t\t\t\tdataSchedule.map((item, indexItem) => (\r\n\t\t\t\t\t\t\t\t<tr key={indexItem}>\r\n\t\t\t\t\t\t\t\t\t<td>{item.Day}</td>\r\n\t\t\t\t\t\t\t\t\t{item.Info.sort((a, b) => a.StudyTimeID - b.StudyTimeID).map((itemInfo, indexInfo) => (\r\n\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={indexInfo}\r\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={itemInfo.Checked}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={itemInfo.IsHideCheckBox}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(event) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// console.log(itemInfo.StudyTimeID);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// console.log(item.Day.split('/').reverse().join('-'));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateSchedule(item.Day.split('/').reverse().join('-'), itemInfo.StudyTimeID)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t\t<div className=\"note-info mt-5\">\r\n\t\t\t\t\t<h6 className=\"mb-4\">Thông tin thêm</h6>\r\n\t\t\t\t\t<div className=\"note-info__item\">\r\n\t\t\t\t\t\t<div className=\"box white\"></div>\r\n\t\t\t\t\t\t<div className=\"text\">\r\n\t\t\t\t\t\t\t<p>Được đăng ký</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"note-info__item\">\r\n\t\t\t\t\t\t<div className=\"box grey\"></div>\r\n\t\t\t\t\t\t<div className=\"text\">\r\n\t\t\t\t\t\t\t<p>Không được đăng ký(Có giờ nằm trong lịch dạy)</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"note-info__item\">\r\n\t\t\t\t\t\t<div className=\"box red\"></div>\r\n\t\t\t\t\t\t<div className=\"text\">\r\n\t\t\t\t\t\t\t<p>Đã có lịch dạy</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"note-info__item\">\r\n\t\t\t\t\t\t<div className=\"box blue\">\r\n\t\t\t\t\t\t\t<Check />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"text\">\r\n\t\t\t\t\t\t\t<p>Đã đăng ký nghỉ</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Card>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nDayOffSchedule.layout = LayoutBase\r\nexport default DayOffSchedule\r\n"]},"metadata":{},"sourceType":"module"}