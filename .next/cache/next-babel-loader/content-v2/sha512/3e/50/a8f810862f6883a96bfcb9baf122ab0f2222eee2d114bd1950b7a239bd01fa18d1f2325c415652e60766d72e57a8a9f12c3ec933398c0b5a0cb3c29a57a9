{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Elements\\\\UploadAudio\\\\index.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Upload, Spin, Button } from 'antd';\nimport { UploadOutlined } from '@ant-design/icons';\nimport { useWrap } from '~/context/wrap';\nimport { exerciseGroupApi } from '~/apiBase/';\n\nvar UploadAudio = function UploadAudio(props) {\n  _s();\n\n  var getFile = props.getFile,\n      valueFile = props.valueFile,\n      onDeleteAudio = props.onDeleteAudio;\n\n  var _useState = useState(valueFile),\n      linkUpload = _useState[0],\n      setLinkUpload = _useState[1];\n\n  var _useState2 = useState(false),\n      loadingUpload = _useState2[0],\n      setLoadingUpload = _useState2[1];\n\n  var _useWrap = useWrap(),\n      showNoti = _useWrap.showNoti; // Upload file audio\n\n\n  var onchange_UploadFile = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(info) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(info.file.status === 'uploading')) {\n                _context.next = 3;\n                break;\n              }\n\n              setLoadingUpload(true);\n              return _context.abrupt(\"return\");\n\n            case 3:\n              setLoadingUpload(true);\n              _context.prev = 4;\n              _context.next = 7;\n              return exerciseGroupApi.UploadAudio(info.file.originFileObj);\n\n            case 7:\n              res = _context.sent;\n\n              if (res.status == 200) {\n                setLinkUpload(res.data.data);\n                getFile && getFile(res.data.data);\n                showNoti('success', 'Upload file thành công');\n              }\n\n              _context.next = 14;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](4);\n              showNoti('danger', _context.t0.message);\n\n            case 14:\n              _context.prev = 14;\n              setLoadingUpload(false);\n              return _context.finish(14);\n\n            case 17:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[4, 11, 14, 17]]);\n    }));\n\n    return function onchange_UploadFile(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Upload, {\n      onChange: onchange_UploadFile,\n      showUploadList: false,\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        icon: /*#__PURE__*/_jsxDEV(UploadOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 19\n        }, _this),\n        children: \"B\\u1EA5m \\u0111\\u1EC3 t\\u1EA3i file\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 4\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-block mt-3\",\n      children: loadingUpload ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(Spin, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 7\n        }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            marginLeft: '5px',\n            fontStyle: 'italic',\n            fontSize: '13px'\n          },\n          children: \"Loading audio...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 7\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 6\n      }, _this) : linkUpload && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"audio\", {\n          controls: true,\n          children: /*#__PURE__*/_jsxDEV(\"source\", {\n            src: linkUpload,\n            type: \"audio/mpeg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 9\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 8\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 7\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 4\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 3\n  }, _this);\n};\n\n_s(UploadAudio, \"Rco/wmAkBSvfGQwxSErUXotdGDo=\", false, function () {\n  return [useWrap];\n});\n\n_c = UploadAudio;\nexport default UploadAudio;\n\nvar _c;\n\n$RefreshReg$(_c, \"UploadAudio\");","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Elements/UploadAudio/index.tsx"],"names":["React","useState","Upload","Spin","Button","UploadOutlined","useWrap","exerciseGroupApi","UploadAudio","props","getFile","valueFile","onDeleteAudio","linkUpload","setLinkUpload","loadingUpload","setLoadingUpload","showNoti","onchange_UploadFile","info","file","status","originFileObj","res","data","message","marginLeft","fontStyle","fontSize"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport { Upload, Spin, Button } from 'antd'\r\nimport { UploadOutlined } from '@ant-design/icons'\r\nimport { useWrap } from '~/context/wrap'\r\nimport { exerciseGroupApi } from '~/apiBase/'\r\n\r\nconst UploadAudio = (props) => {\r\n\tconst { getFile, valueFile, onDeleteAudio } = props\r\n\tconst [linkUpload, setLinkUpload] = useState(valueFile)\r\n\tconst [loadingUpload, setLoadingUpload] = useState(false)\r\n\tconst { showNoti } = useWrap()\r\n\r\n\t// Upload file audio\r\n\tconst onchange_UploadFile = async (info) => {\r\n\t\tif (info.file.status === 'uploading') {\r\n\t\t\tsetLoadingUpload(true)\r\n\t\t\treturn\r\n\t\t}\r\n\t\tsetLoadingUpload(true)\r\n\t\ttry {\r\n\t\t\tlet res = await exerciseGroupApi.UploadAudio(info.file.originFileObj)\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tsetLinkUpload(res.data.data)\r\n\t\t\t\tgetFile && getFile(res.data.data)\r\n\t\t\t\tshowNoti('success', 'Upload file thành công')\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetLoadingUpload(false)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Upload onChange={onchange_UploadFile} showUploadList={false}>\r\n\t\t\t\t<Button icon={<UploadOutlined />}>Bấm để tải file</Button>\r\n\t\t\t</Upload>\r\n\t\t\t<div className=\"d-block mt-3\">\r\n\t\t\t\t{loadingUpload ? (\r\n\t\t\t\t\t<div className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t<Spin />\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tmarginLeft: '5px',\r\n\t\t\t\t\t\t\t\tfontStyle: 'italic',\r\n\t\t\t\t\t\t\t\tfontSize: '13px'\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tLoading audio...\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\tlinkUpload && (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<audio controls>\r\n\t\t\t\t\t\t\t\t<source src={linkUpload} type=\"audio/mpeg\" />\r\n\t\t\t\t\t\t\t</audio>\r\n\t\t\t\t\t\t\t{/* <Tooltip title=\"Xóa audio\">\r\n                <button className=\"delete-ans ms-3\" onClick={deleteAudio}>\r\n                  <CloseOutlined />\r\n                </button>\r\n              </Tooltip> */}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default UploadAudio\r\n"]},"metadata":{},"sourceType":"module"}