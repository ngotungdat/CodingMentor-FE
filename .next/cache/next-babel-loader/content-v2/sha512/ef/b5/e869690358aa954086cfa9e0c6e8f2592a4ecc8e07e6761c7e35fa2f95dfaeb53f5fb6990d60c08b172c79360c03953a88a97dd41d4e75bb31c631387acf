{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Global\\\\NewsFeed\\\\SideBarNewsFeed.tsx\",\n    _s = $RefreshSig$();\n\nimport { Card, Drawer, Input, Select } from 'antd';\nimport Link from 'next/link';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nimport { MoreHorizontal } from 'react-feather';\nimport { packageApi, packageStudentApi } from '~/apiBase';\nimport { useWrap } from '~/context/wrap';\nimport { optionCommonPropTypes } from '~/utils/proptypes';\nimport TopPackageNewsFeed from './TopPackageNewsFeed';\nvar Search = Input.Search;\nvar Option = Select.Option;\nSideBarNewsFeed.propTypes = {\n  optionList: PropTypes.shape({\n    teamOptionList: optionCommonPropTypes,\n    groupOptionList: optionCommonPropTypes\n  }),\n  filtersData: PropTypes.shape({\n    name: PropTypes.string,\n    idTeam: PropTypes.number,\n    idGroup: PropTypes.number\n  }),\n  handleBack: PropTypes.func,\n  handleFilters: PropTypes.func,\n  groupFormComponent: PropTypes.element\n};\nSideBarNewsFeed.defaultProps = {\n  optionList: {\n    teamOptionList: [],\n    groupOptionList: []\n  },\n  filtersData: {\n    name: '',\n    idTeam: 0,\n    idGroup: 0\n  },\n  handleBack: null,\n  handleFilters: null,\n  groupFormComponent: null\n};\n\nfunction SideBarNewsFeed(props) {\n  _s();\n\n  var _this = this;\n\n  var optionList = props.optionList,\n      filtersData = props.filtersData,\n      handleBack = props.handleBack,\n      handleFilters = props.handleFilters,\n      groupFormComponent = props.groupFormComponent;\n  var name = filtersData.name,\n      idTeam = filtersData.idTeam,\n      idGroup = filtersData.idGroup;\n  var teamOptionList = optionList.teamOptionList,\n      groupOptionList = optionList.groupOptionList;\n\n  var _useState = useState(false),\n      visible = _useState[0],\n      setVisible = _useState[1];\n\n  var _useState2 = useState({\n    type: '',\n    status: false\n  }),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var _useWrap = useWrap(),\n      showNoti = _useWrap.showNoti,\n      userInformation = _useWrap.userInformation;\n\n  var _useState3 = useState([]),\n      topPackageList = _useState3[0],\n      setTopPackageList = _useState3[1];\n\n  var showSideBar = function showSideBar() {\n    setVisible(true);\n  };\n\n  var closeSideBar = function closeSideBar() {\n    setVisible(false);\n  };\n\n  var checkHandleFilters = function checkHandleFilters(field, value) {\n    if (!handleFilters) return;\n    handleFilters(field, value);\n  };\n\n  var checkHandleFiltersMobile = function checkHandleFiltersMobile(field, value) {\n    if (!handleFilters) return;\n    handleFilters(field, value);\n    closeSideBar();\n  }; // PACKAGE\n\n\n  var fetchTopPackageList = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n\n              if (!((userInformation === null || userInformation === void 0 ? void 0 : userInformation.RoleID) !== 3)) {\n                _context.next = 3;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 3:\n              _context.next = 5;\n              return packageApi.getAll({\n                Type: 2\n              });\n\n            case 5:\n              res = _context.sent;\n\n              if (res.status === 200) {\n                setTopPackageList(res.data.data);\n              }\n\n              _context.next = 12;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](0);\n              console.log('fetchTopPackageList', _context.t0.message);\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 9]]);\n    }));\n\n    return function fetchTopPackageList() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    fetchTopPackageList();\n  }, [userInformation]);\n\n  var onBuyPackage = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(data) {\n      var ID, Price, PaymentMethodsID, Note, newPackageStudent, res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setIsLoading({\n                type: 'ADD_DATA',\n                status: true\n              });\n              _context2.prev = 1;\n              ID = data.ID, Price = data.Price, PaymentMethodsID = data.PaymentMethodsID, Note = data.Note;\n              newPackageStudent = {\n                StudentID: userInformation.UserInformationID,\n                SetPackageID: ID,\n                Paid: parseInt(Price.toString().replace(/\\D/g, '')),\n                PaymentMethodsID: PaymentMethodsID,\n                Note: Note\n              };\n              _context2.next = 6;\n              return packageStudentApi.add(newPackageStudent);\n\n            case 6:\n              res = _context2.sent;\n\n              if (res.status === 200) {\n                showNoti('success', res.data.message);\n                fetchTopPackageList();\n              }\n\n              return _context2.abrupt(\"return\", res);\n\n            case 11:\n              _context2.prev = 11;\n              _context2.t0 = _context2[\"catch\"](1);\n              showNoti('danger', _context2.t0.message);\n\n            case 14:\n              _context2.prev = 14;\n              setIsLoading({\n                type: 'ADD_DATA',\n                status: false\n              });\n              return _context2.finish(14);\n\n            case 17:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[1, 11, 14, 17]]);\n    }));\n\n    return function onBuyPackage(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var SideBar = function SideBar() {\n    return /*#__PURE__*/_jsxDEV(Card, {\n      className: \"card-newsfeed\",\n      bordered: false,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-newsfeed-wrap__label\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-newsfeed__label font-weight-black mb-1 font-bold\",\n          children: \"Kh\\xF3a h\\u1ECDc video\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 5\n        }, _this), /*#__PURE__*/_jsxDEV(Link, {\n          href: \"/package/package-store?type=2\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"font-weight-black\",\n            style: {\n              width: 100,\n              textAlign: 'right'\n            },\n            children: \"Xem th\\xEAm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 6\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 5\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 4\n      }, _this), /*#__PURE__*/_jsxDEV(Card, {\n        className: \"card-newsfeed\",\n        bordered: false,\n        children: /*#__PURE__*/_jsxDEV(TopPackageNewsFeed, {\n          isLoading: isLoading,\n          topPackageList: topPackageList,\n          handleBuyPackage: onBuyPackage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 5\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 4\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 3\n    }, _this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar-desktop\",\n      children: SideBar()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar-mobile\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          cursor: 'pointer'\n        },\n        className: \"label-nf font-weight-black\",\n        onClick: function onClick() {\n          return handleBack && handleBack();\n        },\n        children: \"NewsFeed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-light\",\n        onClick: showSideBar,\n        children: /*#__PURE__*/_jsxDEV(MoreHorizontal, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Drawer, {\n        placement: \"right\",\n        closable: false,\n        onClose: closeSideBar,\n        visible: visible,\n        className: \"drawer-newsfeed\",\n        children: SideBar()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n}\n\n_s(SideBarNewsFeed, \"WAVDo+j372272UdSFqVb/Hsiiow=\", false, function () {\n  return [useWrap];\n});\n\n_c = SideBarNewsFeed;\nexport default SideBarNewsFeed;\n\nvar _c;\n\n$RefreshReg$(_c, \"SideBarNewsFeed\");","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Global/NewsFeed/SideBarNewsFeed.tsx"],"names":["Card","Drawer","Input","Select","Link","PropTypes","React","useEffect","useState","MoreHorizontal","packageApi","packageStudentApi","useWrap","optionCommonPropTypes","TopPackageNewsFeed","Search","Option","SideBarNewsFeed","propTypes","optionList","shape","teamOptionList","groupOptionList","filtersData","name","string","idTeam","number","idGroup","handleBack","func","handleFilters","groupFormComponent","element","defaultProps","props","visible","setVisible","type","status","isLoading","setIsLoading","showNoti","userInformation","topPackageList","setTopPackageList","showSideBar","closeSideBar","checkHandleFilters","field","value","checkHandleFiltersMobile","fetchTopPackageList","RoleID","getAll","Type","res","data","console","log","message","onBuyPackage","ID","Price","PaymentMethodsID","Note","newPackageStudent","StudentID","UserInformationID","SetPackageID","Paid","parseInt","toString","replace","add","SideBar","width","textAlign","cursor"],"mappings":"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","sourcesContent":["import { Card, Drawer, Input, Select } from 'antd'\r\nimport Link from 'next/link'\r\nimport PropTypes from 'prop-types'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { MoreHorizontal } from 'react-feather'\r\nimport { packageApi, packageStudentApi } from '~/apiBase'\r\nimport { useWrap } from '~/context/wrap'\r\nimport { optionCommonPropTypes } from '~/utils/proptypes'\r\nimport TopPackageNewsFeed from './TopPackageNewsFeed'\r\nconst { Search } = Input\r\nconst { Option } = Select\r\n\r\nSideBarNewsFeed.propTypes = {\r\n\toptionList: PropTypes.shape({\r\n\t\tteamOptionList: optionCommonPropTypes,\r\n\t\tgroupOptionList: optionCommonPropTypes\r\n\t}),\r\n\tfiltersData: PropTypes.shape({\r\n\t\tname: PropTypes.string,\r\n\t\tidTeam: PropTypes.number,\r\n\t\tidGroup: PropTypes.number\r\n\t}),\r\n\thandleBack: PropTypes.func,\r\n\thandleFilters: PropTypes.func,\r\n\tgroupFormComponent: PropTypes.element\r\n}\r\nSideBarNewsFeed.defaultProps = {\r\n\toptionList: {\r\n\t\tteamOptionList: [],\r\n\t\tgroupOptionList: []\r\n\t},\r\n\tfiltersData: {\r\n\t\tname: '',\r\n\t\tidTeam: 0,\r\n\t\tidGroup: 0\r\n\t},\r\n\thandleBack: null,\r\n\thandleFilters: null,\r\n\tgroupFormComponent: null\r\n}\r\n\r\nfunction SideBarNewsFeed(props) {\r\n\tconst { optionList, filtersData, handleBack, handleFilters, groupFormComponent } = props\r\n\tconst { name, idTeam, idGroup } = filtersData\r\n\tconst { teamOptionList, groupOptionList } = optionList\r\n\tconst [visible, setVisible] = useState(false)\r\n\tconst [isLoading, setIsLoading] = useState({ type: '', status: false })\r\n\tconst { showNoti, userInformation } = useWrap()\r\n\tconst [topPackageList, setTopPackageList] = useState<IPackage[]>([])\r\n\r\n\tconst showSideBar = () => {\r\n\t\tsetVisible(true)\r\n\t}\r\n\r\n\tconst closeSideBar = () => {\r\n\t\tsetVisible(false)\r\n\t}\r\n\r\n\tconst checkHandleFilters = (field: string, value: string | number) => {\r\n\t\tif (!handleFilters) return\r\n\t\thandleFilters(field, value)\r\n\t}\r\n\r\n\tconst checkHandleFiltersMobile = (field: string, value: string | number) => {\r\n\t\tif (!handleFilters) return\r\n\t\thandleFilters(field, value)\r\n\t\tcloseSideBar()\r\n\t}\r\n\r\n\t// PACKAGE\r\n\tconst fetchTopPackageList = async () => {\r\n\t\ttry {\r\n\t\t\tif (userInformation?.RoleID !== 3) return\r\n\t\t\tconst res = await packageApi.getAll({ Type: 2 })\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tsetTopPackageList(res.data.data)\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log('fetchTopPackageList', error.message)\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchTopPackageList()\r\n\t}, [userInformation])\r\n\r\n\tconst onBuyPackage = async (data: { ID: number; Price: string; PaymentMethodsID: number; Note: string }) => {\r\n\t\tsetIsLoading({ type: 'ADD_DATA', status: true })\r\n\t\ttry {\r\n\t\t\tconst { ID, Price, PaymentMethodsID, Note } = data\r\n\t\t\tconst newPackageStudent = {\r\n\t\t\t\tStudentID: userInformation.UserInformationID,\r\n\t\t\t\tSetPackageID: ID,\r\n\t\t\t\tPaid: parseInt(Price.toString().replace(/\\D/g, '')),\r\n\t\t\t\tPaymentMethodsID,\r\n\t\t\t\tNote\r\n\t\t\t}\r\n\t\t\tconst res = await packageStudentApi.add(newPackageStudent)\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tshowNoti('success', res.data.message)\r\n\t\t\t\tfetchTopPackageList()\r\n\t\t\t}\r\n\t\t\treturn res\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({\r\n\t\t\t\ttype: 'ADD_DATA',\r\n\t\t\t\tstatus: false\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tconst SideBar = () => (\r\n\t\t<Card className=\"card-newsfeed\" bordered={false}>\r\n\t\t\t<div className=\"card-newsfeed-wrap__label\">\r\n\t\t\t\t<p className=\"card-newsfeed__label font-weight-black mb-1 font-bold\">Khóa học video</p>\r\n\t\t\t\t<Link href=\"/package/package-store?type=2\">\r\n\t\t\t\t\t<a className=\"font-weight-black\" style={{ width: 100, textAlign: 'right' }}>\r\n\t\t\t\t\t\tXem thêm\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t\t<Card className=\"card-newsfeed\" bordered={false}>\r\n\t\t\t\t<TopPackageNewsFeed isLoading={isLoading} topPackageList={topPackageList} handleBuyPackage={onBuyPackage} />\r\n\t\t\t</Card>\r\n\t\t</Card>\r\n\t)\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"sidebar-desktop\">{SideBar()}</div>\r\n\t\t\t<div className=\"sidebar-mobile\">\r\n\t\t\t\t<p style={{ cursor: 'pointer' }} className=\"label-nf font-weight-black\" onClick={() => handleBack && handleBack()}>\r\n\t\t\t\t\tNewsFeed\r\n\t\t\t\t</p>\r\n\t\t\t\t<button className=\"btn btn-light\" onClick={showSideBar}>\r\n\t\t\t\t\t<MoreHorizontal />\r\n\t\t\t\t</button>\r\n\t\t\t\t<Drawer placement=\"right\" closable={false} onClose={closeSideBar} visible={visible} className=\"drawer-newsfeed\">\r\n\t\t\t\t\t{SideBar()}\r\n\t\t\t\t</Drawer>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default SideBarNewsFeed\r\n"]},"metadata":{},"sourceType":"module"}