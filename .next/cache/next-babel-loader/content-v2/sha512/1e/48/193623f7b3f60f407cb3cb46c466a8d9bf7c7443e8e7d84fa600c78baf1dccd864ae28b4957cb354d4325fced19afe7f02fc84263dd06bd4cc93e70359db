{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Profile\\\\ProfileCustomer\\\\InfoPaymentCard\\\\InfoPaymentCard.tsx\";\nimport { Divider } from 'antd';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nimport { billCourseApi } from '~/apiBase/course/bill-course';\nimport { useWrap } from '~/context/wrap';\nimport { numberWithCommas } from '~/utils/functions';\nimport PaymentCourseTable from './PaymentCourseTable';\nimport PaymentExamTable from './PaymentExamTable';\nimport RefundsTable from './RefundsTable';\nInfoPaymentCard.propTypes = {\n  studentID: PropTypes.number,\n  isInfo: PropTypes.any\n};\nInfoPaymentCard.defaultProps = {\n  studentID: 0,\n  isInfo: false\n};\n\nfunction InfoPaymentCard(props) {\n  const {\n    studentID,\n    isInfo\n  } = props;\n  const {\n    showNoti,\n    userInformation\n  } = useWrap();\n  const {\n    0: totalDebt,\n    1: setTotalDebt\n  } = useState(0);\n\n  const getCourseOfStudentPriceAll = async () => {\n    try {\n      const res = await billCourseApi.getAll({\n        pageSize: 9999,\n        pageIndex: 1,\n        StudentID: isInfo ? userInformation === null || userInformation === void 0 ? void 0 : userInformation.UserInformationID : studentID\n      });\n\n      if (res.status === 200) {\n        const rs = res.data.data.reduce((total, course) => {\n          total += course.MoneyInDebt;\n          return total;\n        }, 0);\n        setTotalDebt(rs);\n      }\n    } catch (error) {\n      showNoti('danger', error.message);\n    }\n  };\n\n  useEffect(() => {\n    getCourseOfStudentPriceAll();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pt-3 mb-3\",\n      children: /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: [\"H\\u1ECDc ph\\xED c\\xF2n n\\u1EE3: \", numberWithCommas(totalDebt), \" VN\\u0110\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(PaymentCourseTable, {\n      studentID: studentID\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(PaymentExamTable, {\n      studentID: studentID\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(RefundsTable, {\n      studentID: studentID\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 3\n  }, this);\n}\n\nexport default InfoPaymentCard;","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Profile/ProfileCustomer/InfoPaymentCard/InfoPaymentCard.tsx"],"names":["Divider","PropTypes","React","useEffect","useState","billCourseApi","useWrap","numberWithCommas","PaymentCourseTable","PaymentExamTable","RefundsTable","InfoPaymentCard","propTypes","studentID","number","isInfo","any","defaultProps","props","showNoti","userInformation","totalDebt","setTotalDebt","getCourseOfStudentPriceAll","res","getAll","pageSize","pageIndex","StudentID","UserInformationID","status","rs","data","reduce","total","course","MoneyInDebt","error","message"],"mappings":";;AAAA,SAASA,OAAT,QAAwB,MAAxB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,aAAT,QAA8B,8BAA9B;AACA,SAASC,OAAT,QAAwB,gBAAxB;AACA,SAASC,gBAAT,QAAiC,mBAAjC;AACA,OAAOC,kBAAP,MAA+B,sBAA/B;AACA,OAAOC,gBAAP,MAA6B,oBAA7B;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AAEAC,eAAe,CAACC,SAAhB,GAA4B;AAC3BC,EAAAA,SAAS,EAAEZ,SAAS,CAACa,MADM;AAE3BC,EAAAA,MAAM,EAAEd,SAAS,CAACe;AAFS,CAA5B;AAIAL,eAAe,CAACM,YAAhB,GAA+B;AAC9BJ,EAAAA,SAAS,EAAE,CADmB;AAE9BE,EAAAA,MAAM,EAAE;AAFsB,CAA/B;;AAIA,SAASJ,eAAT,CAAyBO,KAAzB,EAAgC;AAC/B,QAAM;AAAEL,IAAAA,SAAF;AAAaE,IAAAA;AAAb,MAAwBG,KAA9B;AACA,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,MAAgCd,OAAO,EAA7C;AACA,QAAM;AAAA,OAACe,SAAD;AAAA,OAAYC;AAAZ,MAA4BlB,QAAQ,CAAS,CAAT,CAA1C;;AAEA,QAAMmB,0BAA0B,GAAG,YAAY;AAC9C,QAAI;AACH,YAAMC,GAAG,GAAG,MAAMnB,aAAa,CAACoB,MAAd,CAAqB;AACtCC,QAAAA,QAAQ,EAAE,IAD4B;AAEtCC,QAAAA,SAAS,EAAE,CAF2B;AAGtCC,QAAAA,SAAS,EAAEb,MAAM,GAAGK,eAAH,aAAGA,eAAH,uBAAGA,eAAe,CAAES,iBAApB,GAAwChB;AAHnB,OAArB,CAAlB;;AAKA,UAAIW,GAAG,CAACM,MAAJ,KAAe,GAAnB,EAAwB;AACvB,cAAMC,EAAE,GAAGP,GAAG,CAACQ,IAAJ,CAASA,IAAT,CAAcC,MAAd,CAAqB,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAClDD,UAAAA,KAAK,IAAIC,MAAM,CAACC,WAAhB;AACA,iBAAOF,KAAP;AACA,SAHU,EAGR,CAHQ,CAAX;AAIAZ,QAAAA,YAAY,CAACS,EAAD,CAAZ;AACA;AACD,KAbD,CAaE,OAAOM,KAAP,EAAc;AACflB,MAAAA,QAAQ,CAAC,QAAD,EAAWkB,KAAK,CAACC,OAAjB,CAAR;AACA;AACD,GAjBD;;AAmBAnC,EAAAA,SAAS,CAAC,MAAM;AACfoB,IAAAA,0BAA0B;AAC1B,GAFQ,EAEN,EAFM,CAAT;AAIA,sBACC;AAAA,4BACC;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA,6BACC;AAAA,uDAAqBhB,gBAAgB,CAACc,SAAD,CAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,YADD,eAIC,QAAC,kBAAD;AAAoB,MAAA,SAAS,EAAER;AAA/B;AAAA;AAAA;AAAA;AAAA,YAJD,eAKC,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,YALD,eAMC,QAAC,gBAAD;AAAkB,MAAA,SAAS,EAAEA;AAA7B;AAAA;AAAA;AAAA;AAAA,YAND,eAOC,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,YAPD,eAQC,QAAC,YAAD;AAAc,MAAA,SAAS,EAAEA;AAAzB;AAAA;AAAA;AAAA;AAAA,YARD;AAAA;AAAA;AAAA;AAAA;AAAA,UADD;AAYA;;AAED,eAAeF,eAAf","sourcesContent":["import { Divider } from 'antd'\r\nimport PropTypes from 'prop-types'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { billCourseApi } from '~/apiBase/course/bill-course'\r\nimport { useWrap } from '~/context/wrap'\r\nimport { numberWithCommas } from '~/utils/functions'\r\nimport PaymentCourseTable from './PaymentCourseTable'\r\nimport PaymentExamTable from './PaymentExamTable'\r\nimport RefundsTable from './RefundsTable'\r\n\r\nInfoPaymentCard.propTypes = {\r\n\tstudentID: PropTypes.number,\r\n\tisInfo: PropTypes.any\r\n}\r\nInfoPaymentCard.defaultProps = {\r\n\tstudentID: 0,\r\n\tisInfo: false\r\n}\r\nfunction InfoPaymentCard(props) {\r\n\tconst { studentID, isInfo } = props\r\n\tconst { showNoti, userInformation } = useWrap()\r\n\tconst [totalDebt, setTotalDebt] = useState<number>(0)\r\n\r\n\tconst getCourseOfStudentPriceAll = async () => {\r\n\t\ttry {\r\n\t\t\tconst res = await billCourseApi.getAll({\r\n\t\t\t\tpageSize: 9999,\r\n\t\t\t\tpageIndex: 1,\r\n\t\t\t\tStudentID: isInfo ? userInformation?.UserInformationID : studentID\r\n\t\t\t})\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tconst rs = res.data.data.reduce((total, course) => {\r\n\t\t\t\t\ttotal += course.MoneyInDebt\r\n\t\t\t\t\treturn total\r\n\t\t\t\t}, 0)\r\n\t\t\t\tsetTotalDebt(rs)\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tgetCourseOfStudentPriceAll()\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className=\"pt-3 mb-3\">\r\n\t\t\t\t<h5>Học phí còn nợ: {numberWithCommas(totalDebt)} VNĐ</h5>\r\n\t\t\t</div>\r\n\t\t\t<PaymentCourseTable studentID={studentID} />\r\n\t\t\t<Divider />\r\n\t\t\t<PaymentExamTable studentID={studentID} />\r\n\t\t\t<Divider />\r\n\t\t\t<RefundsTable studentID={studentID} />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default InfoPaymentCard\r\n"]},"metadata":{},"sourceType":"module"}