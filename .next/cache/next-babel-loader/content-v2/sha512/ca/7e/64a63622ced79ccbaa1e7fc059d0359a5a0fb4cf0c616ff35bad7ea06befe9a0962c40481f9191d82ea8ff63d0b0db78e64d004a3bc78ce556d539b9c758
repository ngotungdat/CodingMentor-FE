{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Global\\\\CourseList\\\\CourseListDetail\\\\Homework\\\\ModalCreateExercise.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Modal, Select, Tooltip, DatePicker, Input } from 'antd';\nimport { useWrap } from '~/context/wrap';\nimport { homeworkApi } from '~/apiBase/course-detail/home-work';\nimport moment from 'moment';\nvar Option = Select.Option;\nvar RangePicker = DatePicker.RangePicker;\n\nvar ModalCreateExercise = function ModalCreateExercise(props) {\n  _s();\n\n  var dataExam = props.dataExam,\n      courseID = props.courseID,\n      CurriculumID = props.CurriculumID,\n      onFetchData = props.onFetchData;\n\n  var _useState = useState(false),\n      isModalVisible = _useState[0],\n      setIsModalVisible = _useState[1];\n\n  var _useState2 = useState(false),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useWrap = useWrap(),\n      showNoti = _useWrap.showNoti;\n\n  var _useState3 = useState(null),\n      valueExam = _useState3[0],\n      setValueExam = _useState3[1];\n\n  var _useState4 = useState(''),\n      note = _useState4[0],\n      setNote = _useState4[1];\n\n  var _useState5 = useState({\n    start: '',\n    end: ''\n  }),\n      date = _useState5[0],\n      setDate = _useState5[1];\n\n  var showModal = function showModal() {\n    setIsModalVisible(true);\n  };\n\n  var handleOk = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var data, res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              data = {\n                CourseID: courseID,\n                ExamTopicID: valueExam,\n                CurriculumDetailID: CurriculumID,\n                DateStart: date.start,\n                DateEnd: date.end,\n                Note: note\n              };\n              console.log('submit: ', data);\n              setLoading(true);\n              _context.prev = 3;\n              _context.next = 6;\n              return homeworkApi.add(data);\n\n            case 6:\n              res = _context.sent;\n\n              if (res.status === 200) {\n                setIsModalVisible(false);\n                onFetchData && onFetchData();\n                showNoti('success', 'Thành công');\n                onFetchData();\n              } else {\n                showNoti('danger', 'Mạng đang kết nối không ổn định');\n              }\n\n              _context.next = 13;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](3);\n              showNoti('danger', _context.t0.message);\n\n            case 13:\n              _context.prev = 13;\n              setLoading(false);\n              return _context.finish(13);\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[3, 10, 13, 16]]);\n    }));\n\n    return function handleOk() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleCancel = function handleCancel() {\n    setIsModalVisible(false);\n  };\n\n  function handleChange_exam(value) {\n    setValueExam(value);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n      title: \"Th\\xEAm b\\xE0i t\\u1EADp\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-light\",\n        onClick: showModal,\n        children: \"T\\u1EA1o b\\xE0i t\\u1EADp\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 4\n    }, _this), /*#__PURE__*/_jsxDEV(Modal, {\n      title: \"T\\u1EA1o b\\xE0i t\\u1EADp cho kh\\xF3a h\\u1ECDc\",\n      visible: isModalVisible,\n      onOk: handleOk,\n      confirmLoading: loading,\n      okText: \"Th\\xEAm\",\n      onCancel: handleCancel,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrap-create-exercise\",\n        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n          children: \"Ch\\u1ECDn \\u0111\\u1EC1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 6\n        }, _this), /*#__PURE__*/_jsxDEV(Select, {\n          value: valueExam,\n          className: \"style-input\",\n          onChange: handleChange_exam,\n          children: dataExam === null || dataExam === void 0 ? void 0 : dataExam.map(function (item, index) {\n            return /*#__PURE__*/_jsxDEV(Option, {\n              value: item.ID,\n              children: item.Name\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 8\n            }, _this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 6\n        }, _this), /*#__PURE__*/_jsxDEV(\"h6\", {\n          className: \"mt-3\",\n          children: \"Th\\u1EDDi gian\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 6\n        }, _this), /*#__PURE__*/_jsxDEV(RangePicker, {\n          onChange: function onChange(e) {\n            console.log(moment(e[0]).format('DD/MM/yyyy'));\n            setDate({\n              end: moment(e[1]).format('yyyy/MM/DD'),\n              start: moment(e[0]).format('yyyy/MM/DD')\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 6\n        }, _this), /*#__PURE__*/_jsxDEV(\"h6\", {\n          className: \"mt-3\",\n          children: \"Ghi ch\\xFA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 6\n        }, _this), /*#__PURE__*/_jsxDEV(Input, {\n          style: {\n            marginBottom: 0\n          },\n          placeholder: \"Ghi ch\\xFA\",\n          onChange: function onChange(e) {\n            return setNote(e.target.value);\n          },\n          allowClear: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 6\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 4\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(ModalCreateExercise, \"ZctJsiPf/VXasA6WLu2KvyPdnuA=\", false, function () {\n  return [useWrap];\n});\n\n_c = ModalCreateExercise;\nexport default ModalCreateExercise;\n\nvar _c;\n\n$RefreshReg$(_c, \"ModalCreateExercise\");","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Global/CourseList/CourseListDetail/Homework/ModalCreateExercise.tsx"],"names":["React","useState","Modal","Select","Tooltip","DatePicker","Input","useWrap","homeworkApi","moment","Option","RangePicker","ModalCreateExercise","props","dataExam","courseID","CurriculumID","onFetchData","isModalVisible","setIsModalVisible","loading","setLoading","showNoti","valueExam","setValueExam","note","setNote","start","end","date","setDate","showModal","handleOk","data","CourseID","ExamTopicID","CurriculumDetailID","DateStart","DateEnd","Note","console","log","add","res","status","message","handleCancel","handleChange_exam","value","map","item","index","ID","Name","e","format","marginBottom","target"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,KAAT,EAAgBC,MAAhB,EAAwBC,OAAxB,EAAiCC,UAAjC,EAA6CC,KAA7C,QAA0D,MAA1D;AACA,SAASC,OAAT,QAAwB,gBAAxB;AACA,SAASC,WAAT,QAA4B,mCAA5B;AACA,OAAOC,MAAP,MAAmB,QAAnB;IAEQC,M,GAAWP,M,CAAXO,M;IACAC,W,GAAgBN,U,CAAhBM,W;;AAER,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACC,KAAD,EAAW;AAAA;;AAAA,MAC9BC,QAD8B,GACoBD,KADpB,CAC9BC,QAD8B;AAAA,MACpBC,QADoB,GACoBF,KADpB,CACpBE,QADoB;AAAA,MACVC,YADU,GACoBH,KADpB,CACVG,YADU;AAAA,MACIC,WADJ,GACoBJ,KADpB,CACII,WADJ;;AAAA,kBAEMhB,QAAQ,CAAC,KAAD,CAFd;AAAA,MAE/BiB,cAF+B;AAAA,MAEfC,iBAFe;;AAAA,mBAGRlB,QAAQ,CAAC,KAAD,CAHA;AAAA,MAG/BmB,OAH+B;AAAA,MAGtBC,UAHsB;;AAAA,iBAIjBd,OAAO,EAJU;AAAA,MAI9Be,QAJ8B,YAI9BA,QAJ8B;;AAAA,mBAKJrB,QAAQ,CAAC,IAAD,CALJ;AAAA,MAK/BsB,SAL+B;AAAA,MAKpBC,YALoB;;AAAA,mBAMdvB,QAAQ,CAAC,EAAD,CANM;AAAA,MAM/BwB,IAN+B;AAAA,MAMzBC,OANyB;;AAAA,mBAOdzB,QAAQ,CAAC;AAAE0B,IAAAA,KAAK,EAAE,EAAT;AAAaC,IAAAA,GAAG,EAAE;AAAlB,GAAD,CAPM;AAAA,MAO/BC,IAP+B;AAAA,MAOzBC,OAPyB;;AAStC,MAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;AACvBZ,IAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACA,GAFD;;AAIA,MAAMa,QAAQ;AAAA,wEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AACVC,cAAAA,IADU,GACH;AACZC,gBAAAA,QAAQ,EAAEnB,QADE;AAEZoB,gBAAAA,WAAW,EAAEZ,SAFD;AAGZa,gBAAAA,kBAAkB,EAAEpB,YAHR;AAIZqB,gBAAAA,SAAS,EAAER,IAAI,CAACF,KAJJ;AAKZW,gBAAAA,OAAO,EAAET,IAAI,CAACD,GALF;AAMZW,gBAAAA,IAAI,EAAEd;AANM,eADG;AAShBe,cAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBR,IAAxB;AAEAZ,cAAAA,UAAU,CAAC,IAAD,CAAV;AAXgB;AAAA;AAAA,qBAaCb,WAAW,CAACkC,GAAZ,CAAgBT,IAAhB,CAbD;;AAAA;AAaXU,cAAAA,GAbW;;AAcf,kBAAIA,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB;AACvBzB,gBAAAA,iBAAiB,CAAC,KAAD,CAAjB;AACAF,gBAAAA,WAAW,IAAIA,WAAW,EAA1B;AACAK,gBAAAA,QAAQ,CAAC,SAAD,EAAY,YAAZ,CAAR;AACAL,gBAAAA,WAAW;AACX,eALD,MAKO;AACNK,gBAAAA,QAAQ,CAAC,QAAD,EAAW,iCAAX,CAAR;AACA;;AArBc;AAAA;;AAAA;AAAA;AAAA;AAuBfA,cAAAA,QAAQ,CAAC,QAAD,EAAW,YAAMuB,OAAjB,CAAR;;AAvBe;AAAA;AAyBfxB,cAAAA,UAAU,CAAC,KAAD,CAAV;AAzBe;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAARW,QAAQ;AAAA;AAAA;AAAA,KAAd;;AA6BA,MAAMc,YAAY,GAAG,SAAfA,YAAe,GAAM;AAC1B3B,IAAAA,iBAAiB,CAAC,KAAD,CAAjB;AACA,GAFD;;AAIA,WAAS4B,iBAAT,CAA2BC,KAA3B,EAAkC;AACjCxB,IAAAA,YAAY,CAACwB,KAAD,CAAZ;AACA;;AAED,sBACC;AAAA,4BACC,QAAC,OAAD;AAAS,MAAA,KAAK,EAAC,yBAAf;AAAA,6BACC;AAAQ,QAAA,SAAS,EAAC,eAAlB;AAAkC,QAAA,OAAO,EAAEjB,SAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,aADD,eAOC,QAAC,KAAD;AACC,MAAA,KAAK,EAAC,+CADP;AAEC,MAAA,OAAO,EAAEb,cAFV;AAGC,MAAA,IAAI,EAAEc,QAHP;AAIC,MAAA,cAAc,EAAEZ,OAJjB;AAKC,MAAA,MAAM,EAAC,SALR;AAMC,MAAA,QAAQ,EAAE0B,YANX;AAAA,6BAQC;AAAK,QAAA,SAAS,EAAC,sBAAf;AAAA,gCACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADD,eAEC,QAAC,MAAD;AAAQ,UAAA,KAAK,EAAEvB,SAAf;AAA0B,UAAA,SAAS,EAAC,aAApC;AAAkD,UAAA,QAAQ,EAAEwB,iBAA5D;AAAA,oBACEjC,QADF,aACEA,QADF,uBACEA,QAAQ,CAAEmC,GAAV,CAAc,UAACC,IAAD,EAAOC,KAAP;AAAA,gCACd,QAAC,MAAD;AAAQ,cAAA,KAAK,EAAED,IAAI,CAACE,EAApB;AAAA,wBACEF,IAAI,CAACG;AADP,eAA6BF,KAA7B;AAAA;AAAA;AAAA;AAAA,qBADc;AAAA,WAAd;AADF;AAAA;AAAA;AAAA;AAAA,iBAFD,eAUC;AAAI,UAAA,SAAS,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAVD,eAWC,QAAC,WAAD;AACC,UAAA,QAAQ,EAAE,kBAACG,CAAD,EAAO;AAChBd,YAAAA,OAAO,CAACC,GAAR,CAAYhC,MAAM,CAAC6C,CAAC,CAAC,CAAD,CAAF,CAAN,CAAaC,MAAb,CAAoB,YAApB,CAAZ;AACAzB,YAAAA,OAAO,CAAC;AAAEF,cAAAA,GAAG,EAAEnB,MAAM,CAAC6C,CAAC,CAAC,CAAD,CAAF,CAAN,CAAaC,MAAb,CAAoB,YAApB,CAAP;AAA0C5B,cAAAA,KAAK,EAAElB,MAAM,CAAC6C,CAAC,CAAC,CAAD,CAAF,CAAN,CAAaC,MAAb,CAAoB,YAApB;AAAjD,aAAD,CAAP;AACA;AAJF;AAAA;AAAA;AAAA;AAAA,iBAXD,eAkBC;AAAI,UAAA,SAAS,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAlBD,eAmBC,QAAC,KAAD;AAAO,UAAA,KAAK,EAAE;AAAEC,YAAAA,YAAY,EAAE;AAAhB,WAAd;AAAmC,UAAA,WAAW,EAAC,YAA/C;AAAyD,UAAA,QAAQ,EAAE,kBAACF,CAAD;AAAA,mBAAO5B,OAAO,CAAC4B,CAAC,CAACG,MAAF,CAAST,KAAV,CAAd;AAAA,WAAnE;AAAmG,UAAA,UAAU,EAAE;AAA/G;AAAA;AAAA;AAAA;AAAA,iBAnBD;AAAA;AAAA;AAAA;AAAA;AAAA;AARD;AAAA;AAAA;AAAA;AAAA,aAPD;AAAA,kBADD;AAwCA,CA1FD;;GAAMpC,mB;UAIgBL,O;;;KAJhBK,mB;AA4FN,eAAeA,mBAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Modal, Select, Tooltip, DatePicker, Input } from 'antd';\r\nimport { useWrap } from '~/context/wrap';\r\nimport { homeworkApi } from '~/apiBase/course-detail/home-work';\r\nimport moment from 'moment';\r\n\r\nconst { Option } = Select;\r\nconst { RangePicker } = DatePicker;\r\n\r\nconst ModalCreateExercise = (props) => {\r\n\tconst { dataExam, courseID, CurriculumID, onFetchData } = props;\r\n\tconst [isModalVisible, setIsModalVisible] = useState(false);\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst { showNoti } = useWrap();\r\n\tconst [valueExam, setValueExam] = useState(null);\r\n\tconst [note, setNote] = useState('');\r\n\tconst [date, setDate] = useState({ start: '', end: '' });\r\n\r\n\tconst showModal = () => {\r\n\t\tsetIsModalVisible(true);\r\n\t};\r\n\r\n\tconst handleOk = async () => {\r\n\t\tconst data = {\r\n\t\t\tCourseID: courseID,\r\n\t\t\tExamTopicID: valueExam,\r\n\t\t\tCurriculumDetailID: CurriculumID,\r\n\t\t\tDateStart: date.start,\r\n\t\t\tDateEnd: date.end,\r\n\t\t\tNote: note\r\n\t\t};\r\n\t\tconsole.log('submit: ', data);\r\n\r\n\t\tsetLoading(true);\r\n\t\ttry {\r\n\t\t\tlet res = await homeworkApi.add(data);\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tsetIsModalVisible(false);\r\n\t\t\t\tonFetchData && onFetchData();\r\n\t\t\t\tshowNoti('success', 'Thành công');\r\n\t\t\t\tonFetchData();\r\n\t\t\t} else {\r\n\t\t\t\tshowNoti('danger', 'Mạng đang kết nối không ổn định');\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message);\r\n\t\t} finally {\r\n\t\t\tsetLoading(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleCancel = () => {\r\n\t\tsetIsModalVisible(false);\r\n\t};\r\n\r\n\tfunction handleChange_exam(value) {\r\n\t\tsetValueExam(value);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Tooltip title=\"Thêm bài tập\">\r\n\t\t\t\t<button className=\"btn btn-light\" onClick={showModal}>\r\n\t\t\t\t\tTạo bài tập\r\n\t\t\t\t</button>\r\n\t\t\t</Tooltip>\r\n\r\n\t\t\t<Modal\r\n\t\t\t\ttitle=\"Tạo bài tập cho khóa học\"\r\n\t\t\t\tvisible={isModalVisible}\r\n\t\t\t\tonOk={handleOk}\r\n\t\t\t\tconfirmLoading={loading}\r\n\t\t\t\tokText=\"Thêm\"\r\n\t\t\t\tonCancel={handleCancel}\r\n\t\t\t>\r\n\t\t\t\t<div className=\"wrap-create-exercise\">\r\n\t\t\t\t\t<h6>Chọn đề</h6>\r\n\t\t\t\t\t<Select value={valueExam} className=\"style-input\" onChange={handleChange_exam}>\r\n\t\t\t\t\t\t{dataExam?.map((item, index) => (\r\n\t\t\t\t\t\t\t<Option value={item.ID} key={index}>\r\n\t\t\t\t\t\t\t\t{item.Name}\r\n\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</Select>\r\n\r\n\t\t\t\t\t<h6 className=\"mt-3\">Thời gian</h6>\r\n\t\t\t\t\t<RangePicker\r\n\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\tconsole.log(moment(e[0]).format('DD/MM/yyyy'));\r\n\t\t\t\t\t\t\tsetDate({ end: moment(e[1]).format('yyyy/MM/DD'), start: moment(e[0]).format('yyyy/MM/DD') });\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<h6 className=\"mt-3\">Ghi chú</h6>\r\n\t\t\t\t\t<Input style={{ marginBottom: 0 }} placeholder=\"Ghi chú\" onChange={(e) => setNote(e.target.value)} allowClear={false} />\r\n\t\t\t\t</div>\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default ModalCreateExercise;\r\n"]},"metadata":{},"sourceType":"module"}