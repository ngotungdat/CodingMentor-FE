{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Global\\\\Package\\\\PackageStudent\\\\PackageStudentDetail.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { CrownOutlined } from '@ant-design/icons';\nimport { Card, List } from 'antd';\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { packageDetailApi } from '~/apiBase/package/package-detail';\nimport TitlePage from '~/components/Elements/TitlePage';\nimport { useWrap } from '~/context/wrap';\n\nconst PackageStudentDetail = () => {\n  const router = useRouter();\n  const {\n    slug: ID\n  } = router.query;\n  const {\n    0: packageDetailList,\n    1: setPackageDetailList\n  } = useState([]);\n  const {\n    0: isLoading,\n    1: setIsLoading\n  } = useState({\n    type: '',\n    status: false\n  });\n  const {\n    0: totalPage,\n    1: setTotalPage\n  } = useState(null);\n  const {\n    showNoti\n  } = useWrap(); // FILTER\n\n  const listFieldInit = {\n    pageIndex: 1,\n    pageSize: 10,\n    sort: -1,\n    sortType: false,\n    SetPackageID: ID\n  };\n  let refValue = useRef({\n    pageIndex: 1,\n    pageSize: 10,\n    sort: -1,\n    sortType: false\n  });\n  const {\n    0: filters,\n    1: setFilters\n  } = useState(listFieldInit); // PAGINATION\n\n  const getPagination = (pageIndex, pageSize) => {\n    if (!pageSize) pageSize = 10;\n    refValue.current = _objectSpread(_objectSpread({}, refValue.current), {}, {\n      pageSize,\n      pageIndex\n    });\n    setFilters(_objectSpread(_objectSpread({}, filters), refValue.current));\n  }; // GET DATA IN FIRST TIME\n\n\n  const fetchPackageDetailList = async () => {\n    setIsLoading({\n      type: 'GET_ALL',\n      status: true\n    });\n\n    try {\n      let res = await packageDetailApi.getAll(filters);\n\n      if (res.status === 200) {\n        if (res.data.totalRow && res.data.data.length) {\n          setPackageDetailList(res.data.data);\n          setTotalPage(res.data.totalRow);\n        }\n      } else if (res.status === 204) {\n        showNoti('danger', 'Không tìm thấy');\n      }\n    } catch (error) {\n      showNoti('danger', error.message);\n    } finally {\n      setIsLoading({\n        type: 'GET_ALL',\n        status: false\n      });\n    }\n  };\n\n  useEffect(() => {\n    fetchPackageDetailList();\n  }, [filters]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row package-set package-detail-list\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12\",\n        children: [/*#__PURE__*/_jsxDEV(TitlePage, {\n          title: \"Chi ti\\u1EBFt b\\u1ED9 \\u0111\\u1EC1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"wrap-table\",\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"package-set-wrap\",\n            children: /*#__PURE__*/_jsxDEV(List, {\n              loading: (isLoading === null || isLoading === void 0 ? void 0 : isLoading.type) === 'GET_ALL' && (isLoading === null || isLoading === void 0 ? void 0 : isLoading.status),\n              pagination: {\n                onChange: getPagination,\n                total: totalPage,\n                size: 'small',\n                current: filters.pageIndex\n              },\n              itemLayout: \"horizontal\",\n              dataSource: packageDetailList,\n              renderItem: (item, idx) => {\n                const {\n                  ID,\n                  SetPackageID,\n                  SetPackageLevel,\n                  SetPackageName,\n                  ExamTopicID,\n                  ExamTopicName,\n                  Type,\n                  TypeName,\n                  SubjectID,\n                  SubjectName,\n                  Time\n                } = item;\n                return /*#__PURE__*/_jsxDEV(List.Item, {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"wrap-set\",\n                    style: {\n                      paddingRight: 12\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"wrap-set-content\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"wrap-title\",\n                        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                          className: \"set-title\",\n                          children: /*#__PURE__*/_jsxDEV(Link, {\n                            href: {\n                              pathname: '/exam/exam-review',\n                              query: {\n                                examID: ExamTopicID,\n                                packageDetailID: ID,\n                                type: 'examination' // Thi cử\n\n                              }\n                            },\n                            children: /*#__PURE__*/_jsxDEV(\"a\", {\n                              children: ExamTopicName\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 126,\n                              columnNumber: 17\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 116,\n                            columnNumber: 16\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 115,\n                          columnNumber: 15\n                        }, this), /*#__PURE__*/_jsxDEV(Link, {\n                          href: {\n                            pathname: '/package/rank-result-student',\n                            query: {\n                              ExamTopicID: ExamTopicID\n                            }\n                          },\n                          children: /*#__PURE__*/_jsxDEV(CrownOutlined, {\n                            style: {\n                              fontSize: 22,\n                              color: '#50684B'\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 137,\n                            columnNumber: 16\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 129,\n                          columnNumber: 15\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 114,\n                        columnNumber: 14\n                      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                        className: \"set-list\",\n                        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                          children: [\"M\\xF4n: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                            children: SubjectName\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 142,\n                            columnNumber: 21\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 141,\n                          columnNumber: 15\n                        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                          children: [\"Th\\u1EDDi gian: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                            children: [Time, \" ph\\xFAt\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 145,\n                            columnNumber: 27\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 144,\n                          columnNumber: 15\n                        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                          children: [\"H\\xECnh th\\u1EE9c: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                            children: TypeName\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 148,\n                            columnNumber: 27\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 147,\n                          columnNumber: 15\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 140,\n                        columnNumber: 14\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"set-btn\",\n                        children: /*#__PURE__*/_jsxDEV(Link, {\n                          href: {\n                            pathname: '/exam/exam-review',\n                            query: {\n                              examID: ExamTopicID,\n                              packageDetailID: ID,\n                              type: 'examination' // Thi cử\n\n                            }\n                          },\n                          children: /*#__PURE__*/_jsxDEV(\"a\", {\n                            className: \"btn btn-warning\",\n                            children: \"Chi ti\\u1EBFt \\u0111\\u1EC1 thi\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 162,\n                            columnNumber: 16\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 152,\n                          columnNumber: 15\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 151,\n                        columnNumber: 14\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 113,\n                      columnNumber: 13\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 112,\n                    columnNumber: 12\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 11\n                }, this);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 4\n    }, this)\n  }, void 0, false);\n};\n\nexport default PackageStudentDetail;","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Global/Package/PackageStudent/PackageStudentDetail.tsx"],"names":["CrownOutlined","Card","List","Link","useRouter","React","useEffect","useRef","useState","packageDetailApi","TitlePage","useWrap","PackageStudentDetail","router","slug","ID","query","packageDetailList","setPackageDetailList","isLoading","setIsLoading","type","status","totalPage","setTotalPage","showNoti","listFieldInit","pageIndex","pageSize","sort","sortType","SetPackageID","refValue","filters","setFilters","getPagination","current","fetchPackageDetailList","res","getAll","data","totalRow","length","error","message","onChange","total","size","item","idx","SetPackageLevel","SetPackageName","ExamTopicID","ExamTopicName","Type","TypeName","SubjectID","SubjectName","Time","paddingRight","pathname","examID","packageDetailID","fontSize","color"],"mappings":";;;;;;;;;;AAAA,SAASA,aAAT,QAA8B,mBAA9B;AACA,SAASC,IAAT,EAAeC,IAAf,QAA2B,MAA3B;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,EAAmCC,QAAnC,QAAmD,OAAnD;AACA,SAASC,gBAAT,QAAiC,kCAAjC;AACA,OAAOC,SAAP,MAAsB,iCAAtB;AACA,SAASC,OAAT,QAAwB,gBAAxB;;AAEA,MAAMC,oBAAoB,GAAG,MAAM;AAClC,QAAMC,MAAM,GAAGT,SAAS,EAAxB;AACA,QAAM;AAAEU,IAAAA,IAAI,EAAEC;AAAR,MAAeF,MAAM,CAACG,KAA5B;AACA,QAAM;AAAA,OAACC,iBAAD;AAAA,OAAoBC;AAApB,MAA4CV,QAAQ,CAAsB,EAAtB,CAA1D;AACA,QAAM;AAAA,OAACW,SAAD;AAAA,OAAYC;AAAZ,MAA4BZ,QAAQ,CAAC;AAC1Ca,IAAAA,IAAI,EAAE,EADoC;AAE1CC,IAAAA,MAAM,EAAE;AAFkC,GAAD,CAA1C;AAIA,QAAM;AAAA,OAACC,SAAD;AAAA,OAAYC;AAAZ,MAA4BhB,QAAQ,CAAC,IAAD,CAA1C;AACA,QAAM;AAAEiB,IAAAA;AAAF,MAAed,OAAO,EAA5B,CATkC,CAUlC;;AACA,QAAMe,aAAa,GAAG;AACrBC,IAAAA,SAAS,EAAE,CADU;AAErBC,IAAAA,QAAQ,EAAE,EAFW;AAGrBC,IAAAA,IAAI,EAAE,CAAC,CAHc;AAIrBC,IAAAA,QAAQ,EAAE,KAJW;AAMrBC,IAAAA,YAAY,EAAEhB;AANO,GAAtB;AAQA,MAAIiB,QAAQ,GAAGzB,MAAM,CAAC;AACrBoB,IAAAA,SAAS,EAAE,CADU;AAErBC,IAAAA,QAAQ,EAAE,EAFW;AAGrBC,IAAAA,IAAI,EAAE,CAAC,CAHc;AAIrBC,IAAAA,QAAQ,EAAE;AAJW,GAAD,CAArB;AAMA,QAAM;AAAA,OAACG,OAAD;AAAA,OAAUC;AAAV,MAAwB1B,QAAQ,CAACkB,aAAD,CAAtC,CAzBkC,CA0BlC;;AACA,QAAMS,aAAa,GAAG,CAACR,SAAD,EAAoBC,QAApB,KAAyC;AAC9D,QAAI,CAACA,QAAL,EAAeA,QAAQ,GAAG,EAAX;AACfI,IAAAA,QAAQ,CAACI,OAAT,mCACIJ,QAAQ,CAACI,OADb;AAECR,MAAAA,QAFD;AAGCD,MAAAA;AAHD;AAKAO,IAAAA,UAAU,iCACND,OADM,GAEND,QAAQ,CAACI,OAFH,EAAV;AAIA,GAXD,CA3BkC,CAuClC;;;AACA,QAAMC,sBAAsB,GAAG,YAAY;AAC1CjB,IAAAA,YAAY,CAAC;AACZC,MAAAA,IAAI,EAAE,SADM;AAEZC,MAAAA,MAAM,EAAE;AAFI,KAAD,CAAZ;;AAIA,QAAI;AACH,UAAIgB,GAAG,GAAG,MAAM7B,gBAAgB,CAAC8B,MAAjB,CAAwBN,OAAxB,CAAhB;;AACA,UAAIK,GAAG,CAAChB,MAAJ,KAAe,GAAnB,EAAwB;AACvB,YAAIgB,GAAG,CAACE,IAAJ,CAASC,QAAT,IAAqBH,GAAG,CAACE,IAAJ,CAASA,IAAT,CAAcE,MAAvC,EAA+C;AAC9CxB,UAAAA,oBAAoB,CAACoB,GAAG,CAACE,IAAJ,CAASA,IAAV,CAApB;AACAhB,UAAAA,YAAY,CAACc,GAAG,CAACE,IAAJ,CAASC,QAAV,CAAZ;AACA;AACD,OALD,MAKO,IAAIH,GAAG,CAAChB,MAAJ,KAAe,GAAnB,EAAwB;AAC9BG,QAAAA,QAAQ,CAAC,QAAD,EAAW,gBAAX,CAAR;AACA;AACD,KAVD,CAUE,OAAOkB,KAAP,EAAc;AACflB,MAAAA,QAAQ,CAAC,QAAD,EAAWkB,KAAK,CAACC,OAAjB,CAAR;AACA,KAZD,SAYU;AACTxB,MAAAA,YAAY,CAAC;AACZC,QAAAA,IAAI,EAAE,SADM;AAEZC,QAAAA,MAAM,EAAE;AAFI,OAAD,CAAZ;AAIA;AACD,GAvBD;;AAyBAhB,EAAAA,SAAS,CAAC,MAAM;AACf+B,IAAAA,sBAAsB;AACtB,GAFQ,EAEN,CAACJ,OAAD,CAFM,CAAT;AAIA,sBACC;AAAA,2BACC;AAAK,MAAA,SAAS,EAAC,qCAAf;AAAA,6BACC;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA,gCACC,QAAC,SAAD;AAAW,UAAA,KAAK,EAAC;AAAjB;AAAA;AAAA;AAAA;AAAA,gBADD,eAEC;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA,iCACC,QAAC,IAAD;AAAM,YAAA,SAAS,EAAC,kBAAhB;AAAA,mCACC,QAAC,IAAD;AACC,cAAA,OAAO,EAAE,CAAAd,SAAS,SAAT,IAAAA,SAAS,WAAT,YAAAA,SAAS,CAAEE,IAAX,MAAoB,SAApB,KAAiCF,SAAjC,aAAiCA,SAAjC,uBAAiCA,SAAS,CAAEG,MAA5C,CADV;AAEC,cAAA,UAAU,EAAE;AACXuB,gBAAAA,QAAQ,EAAEV,aADC;AAEXW,gBAAAA,KAAK,EAAEvB,SAFI;AAGXwB,gBAAAA,IAAI,EAAE,OAHK;AAIXX,gBAAAA,OAAO,EAAEH,OAAO,CAACN;AAJN,eAFb;AAQC,cAAA,UAAU,EAAC,YARZ;AASC,cAAA,UAAU,EAAEV,iBATb;AAUC,cAAA,UAAU,EAAE,CAAC+B,IAAD,EAA0BC,GAA1B,KAAkC;AAC7C,sBAAM;AACLlC,kBAAAA,EADK;AAELgB,kBAAAA,YAFK;AAGLmB,kBAAAA,eAHK;AAILC,kBAAAA,cAJK;AAKLC,kBAAAA,WALK;AAMLC,kBAAAA,aANK;AAOLC,kBAAAA,IAPK;AAQLC,kBAAAA,QARK;AASLC,kBAAAA,SATK;AAULC,kBAAAA,WAVK;AAWLC,kBAAAA;AAXK,oBAYFV,IAZJ;AAaA,oCACC,QAAC,IAAD,CAAM,IAAN;AAAA,yCACC;AAAK,oBAAA,SAAS,EAAC,UAAf;AAA0B,oBAAA,KAAK,EAAE;AAAEW,sBAAAA,YAAY,EAAE;AAAhB,qBAAjC;AAAA,2CACC;AAAK,sBAAA,SAAS,EAAC,kBAAf;AAAA,8CACC;AAAK,wBAAA,SAAS,EAAC,YAAf;AAAA,gDACC;AAAI,0BAAA,SAAS,EAAC,WAAd;AAAA,iDACC,QAAC,IAAD;AACC,4BAAA,IAAI,EAAE;AACLC,8BAAAA,QAAQ,EAAE,mBADL;AAEL5C,8BAAAA,KAAK,EAAE;AACN6C,gCAAAA,MAAM,EAAET,WADF;AAENU,gCAAAA,eAAe,EAAE/C,EAFX;AAGNM,gCAAAA,IAAI,EAAE,aAHA,CAGc;;AAHd;AAFF,6BADP;AAAA,mDAUC;AAAA,wCAAIgC;AAAJ;AAAA;AAAA;AAAA;AAAA;AAVD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,gCADD,eAeC,QAAC,IAAD;AACC,0BAAA,IAAI,EAAE;AACLO,4BAAAA,QAAQ,EAAE,8BADL;AAEL5C,4BAAAA,KAAK,EAAE;AACNoC,8BAAAA,WAAW,EAAEA;AADP;AAFF,2BADP;AAAA,iDAQC,QAAC,aAAD;AAAe,4BAAA,KAAK,EAAE;AAAEW,8BAAAA,QAAQ,EAAE,EAAZ;AAAgBC,8BAAAA,KAAK,EAAE;AAAvB;AAAtB;AAAA;AAAA;AAAA;AAAA;AARD;AAAA;AAAA;AAAA;AAAA,gCAfD;AAAA;AAAA;AAAA;AAAA;AAAA,8BADD,eA2BC;AAAI,wBAAA,SAAS,EAAC,UAAd;AAAA,gDACC;AAAA,8DACM;AAAA,sCAAOP;AAAP;AAAA;AAAA;AAAA;AAAA,kCADN;AAAA;AAAA;AAAA;AAAA;AAAA,gCADD,eAIC;AAAA,sEACY;AAAA,uCAAOC,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA,kCADZ;AAAA;AAAA;AAAA;AAAA;AAAA,gCAJD,eAOC;AAAA,yEACY;AAAA,sCAAOH;AAAP;AAAA;AAAA;AAAA;AAAA,kCADZ;AAAA;AAAA;AAAA;AAAA;AAAA,gCAPD;AAAA;AAAA;AAAA;AAAA;AAAA,8BA3BD,eAsCC;AAAK,wBAAA,SAAS,EAAC,SAAf;AAAA,+CACC,QAAC,IAAD;AACC,0BAAA,IAAI,EAAE;AACLK,4BAAAA,QAAQ,EAAE,mBADL;AAEL5C,4BAAAA,KAAK,EAAE;AACN6C,8BAAAA,MAAM,EAAET,WADF;AAENU,8BAAAA,eAAe,EAAE/C,EAFX;AAGNM,8BAAAA,IAAI,EAAE,aAHA,CAGc;;AAHd;AAFF,2BADP;AAAA,iDAUC;AAAG,4BAAA,SAAS,EAAC,iBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAVD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,8BAtCD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,wBADD;AA2DA;AAnFF;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,gBAFD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD,mBADD;AAkGA,CAvKD;;AAyKA,eAAeT,oBAAf","sourcesContent":["import { CrownOutlined } from '@ant-design/icons'\r\nimport { Card, List } from 'antd'\r\nimport Link from 'next/link'\r\nimport { useRouter } from 'next/router'\r\nimport React, { useEffect, useRef, useState } from 'react'\r\nimport { packageDetailApi } from '~/apiBase/package/package-detail'\r\nimport TitlePage from '~/components/Elements/TitlePage'\r\nimport { useWrap } from '~/context/wrap'\r\n\r\nconst PackageStudentDetail = () => {\r\n\tconst router = useRouter()\r\n\tconst { slug: ID } = router.query\r\n\tconst [packageDetailList, setPackageDetailList] = useState<ISetPackageDetail[]>([])\r\n\tconst [isLoading, setIsLoading] = useState({\r\n\t\ttype: '',\r\n\t\tstatus: false\r\n\t})\r\n\tconst [totalPage, setTotalPage] = useState(null)\r\n\tconst { showNoti } = useWrap()\r\n\t// FILTER\r\n\tconst listFieldInit = {\r\n\t\tpageIndex: 1,\r\n\t\tpageSize: 10,\r\n\t\tsort: -1,\r\n\t\tsortType: false,\r\n\r\n\t\tSetPackageID: ID\r\n\t}\r\n\tlet refValue = useRef({\r\n\t\tpageIndex: 1,\r\n\t\tpageSize: 10,\r\n\t\tsort: -1,\r\n\t\tsortType: false\r\n\t})\r\n\tconst [filters, setFilters] = useState(listFieldInit)\r\n\t// PAGINATION\r\n\tconst getPagination = (pageIndex: number, pageSize: number) => {\r\n\t\tif (!pageSize) pageSize = 10\r\n\t\trefValue.current = {\r\n\t\t\t...refValue.current,\r\n\t\t\tpageSize,\r\n\t\t\tpageIndex\r\n\t\t}\r\n\t\tsetFilters({\r\n\t\t\t...filters,\r\n\t\t\t...refValue.current\r\n\t\t})\r\n\t}\r\n\t// GET DATA IN FIRST TIME\r\n\tconst fetchPackageDetailList = async () => {\r\n\t\tsetIsLoading({\r\n\t\t\ttype: 'GET_ALL',\r\n\t\t\tstatus: true\r\n\t\t})\r\n\t\ttry {\r\n\t\t\tlet res = await packageDetailApi.getAll(filters)\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tif (res.data.totalRow && res.data.data.length) {\r\n\t\t\t\t\tsetPackageDetailList(res.data.data)\r\n\t\t\t\t\tsetTotalPage(res.data.totalRow)\r\n\t\t\t\t}\r\n\t\t\t} else if (res.status === 204) {\r\n\t\t\t\tshowNoti('danger', 'Không tìm thấy')\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({\r\n\t\t\t\ttype: 'GET_ALL',\r\n\t\t\t\tstatus: false\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchPackageDetailList()\r\n\t}, [filters])\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"row package-set package-detail-list\">\r\n\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t<TitlePage title=\"Chi tiết bộ đề\" />\r\n\t\t\t\t\t<div className=\"wrap-table\">\r\n\t\t\t\t\t\t<Card className=\"package-set-wrap\">\r\n\t\t\t\t\t\t\t<List\r\n\t\t\t\t\t\t\t\tloading={isLoading?.type === 'GET_ALL' && isLoading?.status}\r\n\t\t\t\t\t\t\t\tpagination={{\r\n\t\t\t\t\t\t\t\t\tonChange: getPagination,\r\n\t\t\t\t\t\t\t\t\ttotal: totalPage,\r\n\t\t\t\t\t\t\t\t\tsize: 'small',\r\n\t\t\t\t\t\t\t\t\tcurrent: filters.pageIndex\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\titemLayout=\"horizontal\"\r\n\t\t\t\t\t\t\t\tdataSource={packageDetailList}\r\n\t\t\t\t\t\t\t\trenderItem={(item: ISetPackageDetail, idx) => {\r\n\t\t\t\t\t\t\t\t\tconst {\r\n\t\t\t\t\t\t\t\t\t\tID,\r\n\t\t\t\t\t\t\t\t\t\tSetPackageID,\r\n\t\t\t\t\t\t\t\t\t\tSetPackageLevel,\r\n\t\t\t\t\t\t\t\t\t\tSetPackageName,\r\n\t\t\t\t\t\t\t\t\t\tExamTopicID,\r\n\t\t\t\t\t\t\t\t\t\tExamTopicName,\r\n\t\t\t\t\t\t\t\t\t\tType,\r\n\t\t\t\t\t\t\t\t\t\tTypeName,\r\n\t\t\t\t\t\t\t\t\t\tSubjectID,\r\n\t\t\t\t\t\t\t\t\t\tSubjectName,\r\n\t\t\t\t\t\t\t\t\t\tTime\r\n\t\t\t\t\t\t\t\t\t} = item\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<List.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"wrap-set\" style={{ paddingRight: 12 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"wrap-set-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"wrap-title\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"set-title\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpathname: '/exam/exam-review',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tquery: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\texamID: ExamTopicID,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpackageDetailID: ID,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: 'examination' // Thi cử\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a>{ExamTopicName}</a>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpathname: '/package/rank-result-student',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tquery: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tExamTopicID: ExamTopicID\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CrownOutlined style={{ fontSize: 22, color: '#50684B' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ul className=\"set-list\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tMôn: <span>{SubjectName}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tThời gian: <span>{Time} phút</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tHình thức: <span>{TypeName}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"set-btn\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpathname: '/exam/exam-review',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tquery: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\texamID: ExamTopicID,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpackageDetailID: ID,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: 'examination' // Thi cử\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a className=\"btn btn-warning\">Chi tiết đề thi</a>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</List.Item>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default PackageStudentDetail\r\n"]},"metadata":{},"sourceType":"module"}