{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _defineProperty from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\pages\\\\cart\\\\success\\\\index.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useRouter } from 'next/router';\nimport React, { useEffect, useState } from 'react';\nimport { branchApi } from '~/apiBase';\nimport { shoppingCartApi } from '~/apiBase/shopping-cart/shopping-cart';\nimport { useWrap } from '~/context/wrap';\n\nvar SuccessCheckout = function SuccessCheckout() {\n  _s();\n\n  var router = useRouter();\n\n  var _useState = useState({\n    type: '',\n    status: false\n  }),\n      isLoading = _useState[0],\n      setIsLoading = _useState[1];\n\n  var _useState2 = useState(null),\n      statuPayment = _useState2[0],\n      setStatuPayment = _useState2[1];\n\n  var _useWrap = useWrap(),\n      userInformation = _useWrap.userInformation,\n      pageSize = _useWrap.pageSize;\n\n  var _useState3 = useState(null),\n      branchInfo = _useState3[0],\n      setBranchInfo = _useState3[1];\n\n  console.log(branchInfo);\n\n  var getStatus = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res, _res;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(router.query.type === 'cashpayment' || router.query.type === 'transferpayment')) {\n                _context.next = 4;\n                break;\n              }\n\n              setStatuPayment(_objectSpread(_objectSpread({}, statuPayment), {}, {\n                StatusName: 'Thành công, hệ thống đã tiếp nhận đơn hàng và đang đợi xác nhận!',\n                Status: 2\n              }));\n              _context.next = 33;\n              break;\n\n            case 4:\n              if (!(router.query.type === 'paypal')) {\n                _context.next = 20;\n                break;\n              }\n\n              setIsLoading({\n                type: 'GET_ALL',\n                status: true\n              });\n              _context.prev = 6;\n              _context.next = 9;\n              return shoppingCartApi.getPaypalStatus({\n                PayerID: router.query.PayerID,\n                guid: router.query.guid\n              });\n\n            case 9:\n              res = _context.sent;\n\n              if (res.status === 200) {\n                setStatuPayment(res.data.data);\n              }\n\n              _context.next = 15;\n              break;\n\n            case 13:\n              _context.prev = 13;\n              _context.t0 = _context[\"catch\"](6);\n\n            case 15:\n              _context.prev = 15;\n              setIsLoading({\n                type: 'GET_ALL',\n                status: false\n              });\n              return _context.finish(15);\n\n            case 18:\n              _context.next = 33;\n              break;\n\n            case 20:\n              setIsLoading({\n                type: 'GET_ALL',\n                status: true\n              });\n              _context.prev = 21;\n              _context.next = 24;\n              return shoppingCartApi.getPaymentStatus(router.query.paymentcode);\n\n            case 24:\n              _res = _context.sent;\n\n              if (_res.status === 200) {\n                setStatuPayment(_res.data.data);\n              }\n\n              _context.next = 30;\n              break;\n\n            case 28:\n              _context.prev = 28;\n              _context.t1 = _context[\"catch\"](21);\n\n            case 30:\n              _context.prev = 30;\n              setIsLoading({\n                type: 'GET_ALL',\n                status: false\n              });\n              return _context.finish(30);\n\n            case 33:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[6, 13, 15, 18], [21, 28, 30, 33]]);\n    }));\n\n    return function getStatus() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var getBranchInfo = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return branchApi.getAll({\n                pageIndex: 1,\n                pageSize: pageSize\n              });\n\n            case 3:\n              res = _context2.sent;\n\n              if (res.status === 200) {\n                setBranchInfo(res.data.data);\n              }\n\n              _context2.next = 9;\n              break;\n\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](0);\n\n            case 9:\n              _context2.prev = 9;\n              return _context2.finish(9);\n\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 7, 9, 11]]);\n    }));\n\n    return function getBranchInfo() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    getStatus();\n  }, [router.query.type]);\n  useEffect(function () {\n    getBranchInfo();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"success__checkout\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"success__checkout-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"success__checkout-logo d-flex justify-content-center\",\n        children: [statuPayment && statuPayment.Status === 2 && /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/images/checked-success.svg\",\n          alt: \"check icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 52\n        }, _this), statuPayment && statuPayment.Status === 3 && /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/images/checked-fail.svg\",\n          alt: \"check icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 52\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 5\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"success__checkout-text\",\n        children: [statuPayment && statuPayment.Status === 2 && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-weight-green text-center\",\n            children: statuPayment && statuPayment.StatusName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 8\n          }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-center\",\n            children: [\"M\\u1ECDi th\\u1EAFc m\\u1EAFc xin li\\xEAn h\\u1EC7 Email: \", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: branchInfo && branchInfo[0].Email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 41\n            }, _this), \" ho\\u1EB7c s\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\", ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n              children: branchInfo && branchInfo[0].Phone\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 9\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 8\n          }, _this)]\n        }, void 0, true), statuPayment && statuPayment.Status === 3 && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-weight-primary text-center\",\n            children: statuPayment && statuPayment.StatusName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 8\n          }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-center\",\n            children: [\"M\\u1ECDi th\\u1EAFc m\\u1EAFc xin li\\xEAn h\\u1EC7 Email: \", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: branchInfo && branchInfo[0].Email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 41\n            }, _this), \" ho\\u1EB7c s\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\", ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n              children: branchInfo && branchInfo[0].Phone\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 9\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 8\n          }, _this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 5\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"success__checkout-btn  d-flex justify-content-center \",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: function onClick() {\n            router.push('/');\n          },\n          className: \"btn btn-primary mr-1\",\n          children: \"Quay l\\u1EA1i trang ch\\u1EE7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 6\n        }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: function onClick() {\n            router.push('/video-course-student');\n          },\n          className: \"btn btn-warning ml-1\",\n          children: \"Xem \\u0111\\u01A1n h\\xE0ng\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 6\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 5\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 4\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 3\n  }, _this);\n};\n\n_s(SuccessCheckout, \"Hbb2zMUbJRt/yPPjNUdQADirq0M=\", false, function () {\n  return [useRouter, useWrap];\n});\n\n_c = SuccessCheckout;\nexport default SuccessCheckout;\n\nvar _c;\n\n$RefreshReg$(_c, \"SuccessCheckout\");","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/pages/cart/success/index.tsx"],"names":["useRouter","React","useEffect","useState","branchApi","shoppingCartApi","useWrap","SuccessCheckout","router","type","status","isLoading","setIsLoading","statuPayment","setStatuPayment","userInformation","pageSize","branchInfo","setBranchInfo","console","log","getStatus","query","StatusName","Status","getPaypalStatus","PayerID","guid","res","data","getPaymentStatus","paymentcode","getBranchInfo","getAll","pageIndex","Email","Phone","push"],"mappings":"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","sourcesContent":["import { useRouter } from 'next/router';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { branchApi, studentApi } from '~/apiBase';\r\nimport { shoppingCartApi } from '~/apiBase/shopping-cart/shopping-cart';\r\nimport ResetPassStudent from '~/components/Global/Customer/Student/ResetPassStudent';\r\nimport { useWrap } from '~/context/wrap';\r\n\r\nconst SuccessCheckout = () => {\r\n\tconst router = useRouter();\r\n\tconst [isLoading, setIsLoading] = useState({ type: '', status: false });\r\n\tconst [statuPayment, setStatuPayment] = useState<IStatusPayment>(null);\r\n\tconst { userInformation, pageSize } = useWrap();\r\n\tconst [branchInfo, setBranchInfo] = useState<IBranch[]>(null);\r\n\r\n\tconsole.log(branchInfo);\r\n\r\n\tconst getStatus = async () => {\r\n\t\tif (router.query.type === 'cashpayment' || router.query.type === 'transferpayment') {\r\n\t\t\tsetStatuPayment({ ...statuPayment, StatusName: 'Thành công, hệ thống đã tiếp nhận đơn hàng và đang đợi xác nhận!', Status: 2 });\r\n\t\t} else if (router.query.type === 'paypal') {\r\n\t\t\tsetIsLoading({ type: 'GET_ALL', status: true });\r\n\t\t\ttry {\r\n\t\t\t\tlet res = await shoppingCartApi.getPaypalStatus({ PayerID: router.query.PayerID, guid: router.query.guid });\r\n\t\t\t\tif (res.status === 200) {\r\n\t\t\t\t\tsetStatuPayment(res.data.data);\r\n\t\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t} finally {\r\n\t\t\t\tsetIsLoading({ type: 'GET_ALL', status: false });\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetIsLoading({ type: 'GET_ALL', status: true });\r\n\t\t\ttry {\r\n\t\t\t\tlet res = await shoppingCartApi.getPaymentStatus(router.query.paymentcode);\r\n\t\t\t\tif (res.status === 200) {\r\n\t\t\t\t\tsetStatuPayment(res.data.data);\r\n\t\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t} finally {\r\n\t\t\t\tsetIsLoading({ type: 'GET_ALL', status: false });\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst getBranchInfo = async () => {\r\n\t\ttry {\r\n\t\t\tlet res = await branchApi.getAll({ pageIndex: 1, pageSize: pageSize });\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tsetBranchInfo(res.data.data);\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t} finally {\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tgetStatus();\r\n\t}, [router.query.type]);\r\n\r\n\tuseEffect(() => {\r\n\t\tgetBranchInfo();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"success__checkout\">\r\n\t\t\t<div className=\"success__checkout-content\">\r\n\t\t\t\t<div className=\"success__checkout-logo d-flex justify-content-center\">\r\n\t\t\t\t\t{statuPayment && statuPayment.Status === 2 && <img src=\"/images/checked-success.svg\" alt=\"check icon\" />}\r\n\t\t\t\t\t{statuPayment && statuPayment.Status === 3 && <img src=\"/images/checked-fail.svg\" alt=\"check icon\" />}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"success__checkout-text\">\r\n\t\t\t\t\t{statuPayment && statuPayment.Status === 2 && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<h3 className=\"font-weight-green text-center\">{statuPayment && statuPayment.StatusName}</h3>\r\n\t\t\t\t\t\t\t<p className=\"text-center\">\r\n\t\t\t\t\t\t\t\tMọi thắc mắc xin liên hệ Email: <span>{branchInfo && branchInfo[0].Email}</span> hoặc số điện thoại{' '}\r\n\t\t\t\t\t\t\t\t<span>{branchInfo && branchInfo[0].Phone}</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{statuPayment && statuPayment.Status === 3 && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<h3 className=\"font-weight-primary text-center\">{statuPayment && statuPayment.StatusName}</h3>\r\n\t\t\t\t\t\t\t<p className=\"text-center\">\r\n\t\t\t\t\t\t\t\tMọi thắc mắc xin liên hệ Email: <span>{branchInfo && branchInfo[0].Email}</span> hoặc số điện thoại{' '}\r\n\t\t\t\t\t\t\t\t<span>{branchInfo && branchInfo[0].Phone}</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"success__checkout-btn  d-flex justify-content-center \">\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\trouter.push('/');\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tclassName=\"btn btn-primary mr-1\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tQuay lại trang chủ\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\trouter.push('/video-course-student');\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tclassName=\"btn btn-warning ml-1\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tXem đơn hàng\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default SuccessCheckout;\r\n"]},"metadata":{},"sourceType":"module"}