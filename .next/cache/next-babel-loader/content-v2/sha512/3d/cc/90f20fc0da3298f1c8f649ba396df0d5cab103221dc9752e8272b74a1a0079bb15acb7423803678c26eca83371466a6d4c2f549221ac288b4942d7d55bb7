{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\pages\\\\dev\\\\index.tsx\",\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { Form, Input, Spin, Select } from 'antd';\nimport React, { useState } from 'react';\nimport { devApi } from '~/apiBase/dev/dev';\nimport { signIn } from 'next-auth/client';\nexport var __N_SSP = true;\nexport default function BelongingToDev() {\n  _s();\n\n  var _this = this;\n\n  var _useState = useState(false),\n      isAccess = _useState[0],\n      setIsAccess = _useState[1];\n\n  var _Form$useForm = Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var _useState2 = useState({\n    type: '',\n    status: false\n  }),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var Option = Select.Option;\n  var useAllRoles = [{\n    ID: 1,\n    name: 'Admin'\n  }, {\n    ID: 2,\n    name: 'Giáo viên'\n  }, {\n    ID: 3,\n    name: 'Học viên'\n  } // { ID: 4, name: 'Phụ huynh' },\n  // { ID: 5, name: 'Quản lý' },\n  // { ID: 6, name: 'Tư vấn viên' },\n  // { ID: 10, name: 'Nhân viên' }\n  ];\n\n  var handleAccess = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(data) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setIsLoading({\n                type: 'ACCESS',\n                status: true\n              });\n              _context.prev = 1;\n              _context.next = 4;\n              return devApi.checkPass(data);\n\n            case 4:\n              res = _context.sent;\n\n              if (res.status === 200) {\n                setIsAccess(true);\n              }\n\n              _context.next = 10;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](1);\n\n            case 10:\n              _context.prev = 10;\n              setIsLoading({\n                type: 'ACCESS',\n                status: false\n              });\n              return _context.finish(10);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 8, 10, 13]]);\n    }));\n\n    return function handleAccess(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var renderInputPassScreen = function renderInputPassScreen() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dev__screen d-flex justify-content-center align-items-center\",\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        form: form,\n        onFinish: handleAccess,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dev__screen-content shake\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n            name: \"pass\",\n            style: {\n              width: '100%'\n            },\n            children: /*#__PURE__*/_jsxDEV(Input.Password, {\n              placeholder: \"Show your dick\",\n              style: {\n                width: '100%'\n              },\n              className: \"style-input shake\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 41,\n              columnNumber: 8\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary shake\",\n            disabled: isLoading.status,\n            type: \"submit\",\n            style: {\n              width: '100%'\n            },\n            children: isLoading.type === 'ACCESS' && isLoading.status ? /*#__PURE__*/_jsxDEV(Spin, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 59\n            }, _this) : 'Play Now'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 7\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 6\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 4\n    }, _this);\n  };\n\n  var handleRedirect = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(data) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setIsLoading({\n                type: 'REDIRECT',\n                status: true\n              });\n              _context2.prev = 1;\n              _context2.next = 4;\n              return devApi.loginByDev(data);\n\n            case 4:\n              res = _context2.sent;\n\n              if (res.status === 200) {\n                console.log(res.data);\n                console.log(res.headers);\n                setIsAccess(true);\n                signIn('credentials-dev-signin', _objectSpread(_objectSpread({}, data), {}, {\n                  callbackUrl: '/'\n                }));\n              }\n\n              _context2.next = 10;\n              break;\n\n            case 8:\n              _context2.prev = 8;\n              _context2.t0 = _context2[\"catch\"](1);\n\n            case 10:\n              _context2.prev = 10;\n              setIsLoading({\n                type: 'REDIRECT',\n                status: true\n              });\n              return _context2.finish(10);\n\n            case 13:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[1, 8, 10, 13]]);\n    }));\n\n    return function handleRedirect(_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleSelect = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(event) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              console.log(event);\n              setIsLoading({\n                type: 'SELECT_ROLE',\n                status: true\n              });\n              _context3.prev = 2;\n              _context3.next = 5;\n              return devApi.getAllMenuByRole({\n                roleId: 1\n              });\n\n            case 5:\n              res = _context3.sent;\n              _context3.next = 10;\n              break;\n\n            case 8:\n              _context3.prev = 8;\n              _context3.t0 = _context3[\"catch\"](2);\n\n            case 10:\n              _context3.prev = 10;\n              setIsLoading({\n                type: 'SELECT_ROLE',\n                status: true\n              });\n              return _context3.finish(10);\n\n            case 13:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[2, 8, 10, 13]]);\n    }));\n\n    return function handleSelect(_x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var renderMainScreen = function renderMainScreen() {\n    return /*#__PURE__*/_jsxDEV(Form, {\n      form: form,\n      onFinish: handleRedirect,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dev__main d-flex justify-content-center align-items-center p-5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dev__main-screen row shake\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dev__main-redirect col-12 d-flex justify-content-between \",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-center align-items-center\",\n              style: {\n                flex: 1\n              },\n              children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                name: \"roleId\",\n                className: \"d-flex justify-content-center align-items-center\",\n                style: {\n                  width: '100%'\n                },\n                children: /*#__PURE__*/_jsxDEV(Select, {\n                  placeholder: \"Ch\\u1ECDn role \\u0111i\",\n                  className: \"style-input\",\n                  onChange: handleSelect,\n                  children: !!useAllRoles && useAllRoles.map(function (item, index) {\n                    return /*#__PURE__*/_jsxDEV(Option, {\n                      value: item.ID,\n                      children: item.name\n                    }, index, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 92,\n                      columnNumber: 14\n                    }, _this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 10\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 9\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 8\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-center align-items-center ml-3\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn btn-primary shake\",\n                children: \"FUCK\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 9\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 8\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dev__main-menu col-12\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 7\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 6\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 4\n    }, _this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: isAccess ? renderMainScreen() : renderInputPassScreen()\n  }, void 0, false);\n}\n\n_s(BelongingToDev, \"e7Uiun3QMqOAVC3Op7KclppDMM4=\", false, function () {\n  return [Form.useForm];\n});\n\n_c = BelongingToDev;\n\nvar _c;\n\n$RefreshReg$(_c, \"BelongingToDev\");","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/pages/dev/index.tsx"],"names":["Form","Input","Spin","Select","React","useState","devApi","signIn","BelongingToDev","isAccess","setIsAccess","useForm","form","type","status","isLoading","setIsLoading","Option","useAllRoles","ID","name","handleAccess","data","checkPass","res","renderInputPassScreen","width","handleRedirect","loginByDev","console","log","headers","callbackUrl","handleSelect","event","getAllMenuByRole","roleId","renderMainScreen","flex","map","item","index"],"mappings":"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","sourcesContent":["import { Form, Input, Spin, Select } from 'antd'\r\nimport React, { useState } from 'react'\r\nimport { devApi } from '~/apiBase/dev/dev'\r\nimport { signIn, getProviders } from 'next-auth/client'\r\n\r\nexport default function BelongingToDev() {\r\n\tconst [isAccess, setIsAccess] = useState(false)\r\n\tconst [form] = Form.useForm()\r\n\tconst [isLoading, setIsLoading] = useState({ type: '', status: false })\r\n\tconst { Option } = Select\r\n\r\n\tconst useAllRoles = [\r\n\t\t{ ID: 1, name: 'Admin' },\r\n\t\t{ ID: 2, name: 'Giáo viên' },\r\n\t\t{ ID: 3, name: 'Học viên' }\r\n\t\t// { ID: 4, name: 'Phụ huynh' },\r\n\t\t// { ID: 5, name: 'Quản lý' },\r\n\t\t// { ID: 6, name: 'Tư vấn viên' },\r\n\t\t// { ID: 10, name: 'Nhân viên' }\r\n\t]\r\n\r\n\tconst handleAccess = async (data) => {\r\n\t\tsetIsLoading({ type: 'ACCESS', status: true })\r\n\t\ttry {\r\n\t\t\tlet res = await devApi.checkPass(data)\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tsetIsAccess(true)\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({ type: 'ACCESS', status: false })\r\n\t\t}\r\n\t}\r\n\r\n\tconst renderInputPassScreen = () => {\r\n\t\treturn (\r\n\t\t\t<div className=\"dev__screen d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<Form form={form} onFinish={handleAccess}>\r\n\t\t\t\t\t<div className=\"dev__screen-content shake\">\r\n\t\t\t\t\t\t<Form.Item name=\"pass\" style={{ width: '100%' }}>\r\n\t\t\t\t\t\t\t<Input.Password placeholder=\"Show your dick\" style={{ width: '100%' }} className=\"style-input shake\" />\r\n\t\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t\t<button className=\"btn btn-primary shake\" disabled={isLoading.status} type=\"submit\" style={{ width: '100%' }}>\r\n\t\t\t\t\t\t\t{isLoading.type === 'ACCESS' && isLoading.status ? <Spin /> : 'Play Now'}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\tconst handleRedirect = async (data) => {\r\n\t\tsetIsLoading({ type: 'REDIRECT', status: true })\r\n\t\ttry {\r\n\t\t\tlet res = await devApi.loginByDev(data)\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tconsole.log(res.data)\r\n\t\t\t\tconsole.log(res.headers)\r\n\t\t\t\tsetIsAccess(true)\r\n\t\t\t\tsignIn('credentials-dev-signin', { ...data, callbackUrl: '/' })\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({ type: 'REDIRECT', status: true })\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleSelect = async (event) => {\r\n\t\tconsole.log(event)\r\n\t\tsetIsLoading({ type: 'SELECT_ROLE', status: true })\r\n\t\ttry {\r\n\t\t\tlet res = await devApi.getAllMenuByRole({ roleId: 1 })\r\n\t\t} catch (error) {\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({ type: 'SELECT_ROLE', status: true })\r\n\t\t}\r\n\t}\r\n\r\n\tconst renderMainScreen = () => {\r\n\t\treturn (\r\n\t\t\t<Form form={form} onFinish={handleRedirect}>\r\n\t\t\t\t<div className=\"dev__main d-flex justify-content-center align-items-center p-5\">\r\n\t\t\t\t\t<div className=\"dev__main-screen row shake\">\r\n\t\t\t\t\t\t<div className=\"dev__main-redirect col-12 d-flex justify-content-between \">\r\n\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\" style={{ flex: 1 }}>\r\n\t\t\t\t\t\t\t\t<Form.Item name=\"roleId\" className=\"d-flex justify-content-center align-items-center\" style={{ width: '100%' }}>\r\n\t\t\t\t\t\t\t\t\t<Select placeholder=\"Chọn role đi\" className=\"style-input\" onChange={handleSelect}>\r\n\t\t\t\t\t\t\t\t\t\t{!!useAllRoles &&\r\n\t\t\t\t\t\t\t\t\t\t\tuseAllRoles.map((item, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option value={item.ID} key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center ml-3\">\r\n\t\t\t\t\t\t\t\t<button type=\"submit\" className=\"btn btn-primary shake\">\r\n\t\t\t\t\t\t\t\t\tFUCK\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"dev__main-menu col-12\"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Form>\r\n\t\t)\r\n\t}\r\n\r\n\treturn <>{isAccess ? renderMainScreen() : renderInputPassScreen()}</>\r\n}\r\nexport async function getServerSideProps() {\r\n\tconst providers = await getProviders()\r\n\treturn {\r\n\t\tprops: { providers }\r\n\t}\r\n}\r\n"]},"metadata":{},"sourceType":"module"}