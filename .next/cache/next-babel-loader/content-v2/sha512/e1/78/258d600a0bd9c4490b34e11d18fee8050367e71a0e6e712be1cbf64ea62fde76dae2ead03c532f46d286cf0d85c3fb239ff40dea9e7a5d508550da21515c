{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _defineProperty from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Global\\\\NewsFeed\\\\SideBarNewsFeed.tsx\",\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { Card, Drawer, Input, Select } from 'antd';\nimport Link from 'next/link';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nimport { MoreHorizontal } from 'react-feather';\nimport { packageApi, packageStudentApi } from '~/apiBase';\nimport { VideoCourseStoreApi } from '~/apiBase/video-course-store';\nimport { useWrap } from '~/context/wrap';\nimport { optionCommonPropTypes } from '~/utils/proptypes';\nimport TopPackageNewsFeed from './TopPackageNewsFeed';\nvar Search = Input.Search;\nvar Option = Select.Option;\nSideBarNewsFeed.propTypes = {\n  optionList: PropTypes.shape({\n    teamOptionList: optionCommonPropTypes,\n    groupOptionList: optionCommonPropTypes\n  }),\n  filtersData: PropTypes.shape({\n    name: PropTypes.string,\n    idTeam: PropTypes.number,\n    idGroup: PropTypes.number\n  }),\n  handleBack: PropTypes.func,\n  handleFilters: PropTypes.func,\n  groupFormComponent: PropTypes.element\n};\nSideBarNewsFeed.defaultProps = {\n  optionList: {\n    teamOptionList: [],\n    groupOptionList: []\n  },\n  filtersData: {\n    name: '',\n    idTeam: 0,\n    idGroup: 0\n  },\n  handleBack: null,\n  handleFilters: null,\n  groupFormComponent: null\n};\nvar listTodoApi = {\n  pageSize: 30,\n  pageIndex: 1,\n  search: null,\n  categoryId: null,\n  levelId: null,\n  fromDate: null,\n  toDate: null\n};\n\nfunction SideBarNewsFeed(props) {\n  _s();\n\n  var _this = this;\n\n  var optionList = props.optionList,\n      filtersData = props.filtersData,\n      handleBack = props.handleBack,\n      handleFilters = props.handleFilters,\n      groupFormComponent = props.groupFormComponent;\n  var name = filtersData.name,\n      idTeam = filtersData.idTeam,\n      idGroup = filtersData.idGroup;\n  var teamOptionList = optionList.teamOptionList,\n      groupOptionList = optionList.groupOptionList;\n\n  var _useState = useState(false),\n      visible = _useState[0],\n      setVisible = _useState[1];\n\n  var _useState2 = useState({\n    type: '',\n    status: true\n  }),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var _useWrap = useWrap(),\n      showNoti = _useWrap.showNoti,\n      userInformation = _useWrap.userInformation;\n\n  var _useState3 = useState([]),\n      topPackageList = _useState3[0],\n      setTopPackageList = _useState3[1];\n\n  var _useState4 = useState([]),\n      courses = _useState4[0],\n      setCourse = _useState4[1];\n\n  var showSideBar = function showSideBar() {\n    setVisible(true);\n  };\n\n  var closeSideBar = function closeSideBar() {\n    setVisible(false);\n  };\n\n  var getVideoCourse = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res, _res;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              // ADMIN & HOC VIEN\n              setIsLoading({\n                type: 'GET_ALL',\n                status: true\n              });\n              _context.prev = 1;\n\n              if (!((userInformation === null || userInformation === void 0 ? void 0 : userInformation.RoleID) == 1 || (userInformation === null || userInformation === void 0 ? void 0 : userInformation.RoleID) == 2)) {\n                _context.next = 10;\n                break;\n              }\n\n              _context.next = 5;\n              return VideoCourseStoreApi.getAll(listTodoApi);\n\n            case 5:\n              res = _context.sent;\n              res.status == 200 && setCourse(res.data.data);\n              setIsLoading({\n                type: 'GET_ALL',\n                status: false\n              });\n              _context.next = 15;\n              break;\n\n            case 10:\n              _context.next = 12;\n              return VideoCourseStoreApi.getAllForStudent(_objectSpread({}, listTodoApi));\n\n            case 12:\n              _res = _context.sent;\n              _res.status == 200 && setCourse(_res.data.data);\n              setIsLoading({\n                type: 'GET_ALL',\n                status: false\n              });\n\n            case 15:\n              _context.next = 19;\n              break;\n\n            case 17:\n              _context.prev = 17;\n              _context.t0 = _context[\"catch\"](1);\n\n            case 19:\n              _context.prev = 19;\n              setIsLoading({\n                type: 'GET_ALL',\n                status: false\n              });\n              return _context.finish(19);\n\n            case 22:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 17, 19, 22]]);\n    }));\n\n    return function getVideoCourse() {\n      return _ref.apply(this, arguments);\n    };\n  }(); // PACKAGE\n\n\n  var fetchTopPackageList = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n\n              if (!((userInformation === null || userInformation === void 0 ? void 0 : userInformation.RoleID) !== 3)) {\n                _context2.next = 3;\n                break;\n              }\n\n              return _context2.abrupt(\"return\");\n\n            case 3:\n              _context2.next = 5;\n              return packageApi.getAll({\n                Type: 2\n              });\n\n            case 5:\n              res = _context2.sent;\n\n              if (res.status === 200) {\n                setTopPackageList(res.data.data);\n              }\n\n              _context2.next = 12;\n              break;\n\n            case 9:\n              _context2.prev = 9;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.log('fetchTopPackageList', _context2.t0.message);\n\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 9]]);\n    }));\n\n    return function fetchTopPackageList() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    !!userInformation && getVideoCourse();\n  }, [userInformation]);\n\n  var onBuyPackage = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(data) {\n      var ID, Price, PaymentMethodsID, Note, newPackageStudent, res;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              setIsLoading({\n                type: 'ADD_DATA',\n                status: true\n              });\n              _context3.prev = 1;\n              ID = data.ID, Price = data.Price, PaymentMethodsID = data.PaymentMethodsID, Note = data.Note;\n              newPackageStudent = {\n                StudentID: userInformation.UserInformationID,\n                SetPackageID: ID,\n                Paid: parseInt(Price.toString().replace(/\\D/g, '')),\n                PaymentMethodsID: PaymentMethodsID,\n                Note: Note\n              };\n              _context3.next = 6;\n              return packageStudentApi.add(newPackageStudent);\n\n            case 6:\n              res = _context3.sent;\n\n              if (res.status === 200) {\n                showNoti('success', res.data.message);\n                fetchTopPackageList();\n              }\n\n              return _context3.abrupt(\"return\", res);\n\n            case 11:\n              _context3.prev = 11;\n              _context3.t0 = _context3[\"catch\"](1);\n              showNoti('danger', _context3.t0.message);\n\n            case 14:\n              _context3.prev = 14;\n              setIsLoading({\n                type: 'ADD_DATA',\n                status: false\n              });\n              return _context3.finish(14);\n\n            case 17:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[1, 11, 14, 17]]);\n    }));\n\n    return function onBuyPackage(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var SideBar = function SideBar() {\n    return /*#__PURE__*/_jsxDEV(Card, {\n      className: \"card-newsfeed\",\n      bordered: false,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-newsfeed-wrap__label\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-newsfeed__label font-weight-black mb-1 font-bold\",\n          children: \"Kh\\xF3a h\\u1ECDc video\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 5\n        }, _this), /*#__PURE__*/_jsxDEV(Link, {\n          href: \"/video-course\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"font-weight-black\",\n            style: {\n              width: 100,\n              textAlign: 'right'\n            },\n            children: \"Xem th\\xEAm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 6\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 5\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 4\n      }, _this), /*#__PURE__*/_jsxDEV(Card, {\n        className: \"\",\n        bordered: false,\n        children: /*#__PURE__*/_jsxDEV(TopPackageNewsFeed, {\n          isLoading: isLoading.status,\n          topPackageList: courses,\n          handleBuyPackage: onBuyPackage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 5\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 4\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 3\n    }, _this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar-desktop\",\n      children: SideBar()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar-mobile\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          cursor: 'pointer'\n        },\n        className: \"label-nf font-weight-black\",\n        onClick: function onClick() {\n          return handleBack && handleBack();\n        },\n        children: \"NewsFeed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-light\",\n        onClick: showSideBar,\n        children: /*#__PURE__*/_jsxDEV(MoreHorizontal, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Drawer, {\n        placement: \"right\",\n        closable: false,\n        onClose: closeSideBar,\n        visible: visible,\n        className: \"drawer-newsfeed\",\n        children: SideBar()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n}\n\n_s(SideBarNewsFeed, \"/g+OFbxPma1ekLEjUqXeki1nNqM=\", false, function () {\n  return [useWrap];\n});\n\n_c = SideBarNewsFeed;\nexport default SideBarNewsFeed;\n\nvar _c;\n\n$RefreshReg$(_c, \"SideBarNewsFeed\");","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Global/NewsFeed/SideBarNewsFeed.tsx"],"names":["Card","Drawer","Input","Select","Link","PropTypes","React","useEffect","useState","MoreHorizontal","packageApi","packageStudentApi","VideoCourseStoreApi","useWrap","optionCommonPropTypes","TopPackageNewsFeed","Search","Option","SideBarNewsFeed","propTypes","optionList","shape","teamOptionList","groupOptionList","filtersData","name","string","idTeam","number","idGroup","handleBack","func","handleFilters","groupFormComponent","element","defaultProps","listTodoApi","pageSize","pageIndex","search","categoryId","levelId","fromDate","toDate","props","visible","setVisible","type","status","isLoading","setIsLoading","showNoti","userInformation","topPackageList","setTopPackageList","courses","setCourse","showSideBar","closeSideBar","getVideoCourse","RoleID","getAll","res","data","getAllForStudent","fetchTopPackageList","Type","console","log","message","onBuyPackage","ID","Price","PaymentMethodsID","Note","newPackageStudent","StudentID","UserInformationID","SetPackageID","Paid","parseInt","toString","replace","add","SideBar","width","textAlign","cursor"],"mappings":"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","sourcesContent":["import { Card, Drawer, Input, Select } from 'antd'\r\nimport Link from 'next/link'\r\nimport PropTypes from 'prop-types'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { MoreHorizontal } from 'react-feather'\r\nimport { packageApi, packageStudentApi } from '~/apiBase'\r\nimport { VideoCourseStoreApi } from '~/apiBase/video-course-store'\r\nimport { useWrap } from '~/context/wrap'\r\nimport { optionCommonPropTypes } from '~/utils/proptypes'\r\nimport TopPackageNewsFeed from './TopPackageNewsFeed'\r\nconst { Search } = Input\r\nconst { Option } = Select\r\n\r\nSideBarNewsFeed.propTypes = {\r\n\toptionList: PropTypes.shape({\r\n\t\tteamOptionList: optionCommonPropTypes,\r\n\t\tgroupOptionList: optionCommonPropTypes\r\n\t}),\r\n\tfiltersData: PropTypes.shape({\r\n\t\tname: PropTypes.string,\r\n\t\tidTeam: PropTypes.number,\r\n\t\tidGroup: PropTypes.number\r\n\t}),\r\n\thandleBack: PropTypes.func,\r\n\thandleFilters: PropTypes.func,\r\n\tgroupFormComponent: PropTypes.element\r\n}\r\nSideBarNewsFeed.defaultProps = {\r\n\toptionList: {\r\n\t\tteamOptionList: [],\r\n\t\tgroupOptionList: []\r\n\t},\r\n\tfiltersData: {\r\n\t\tname: '',\r\n\t\tidTeam: 0,\r\n\t\tidGroup: 0\r\n\t},\r\n\thandleBack: null,\r\n\thandleFilters: null,\r\n\tgroupFormComponent: null\r\n}\r\n\r\nconst listTodoApi = {\r\n\tpageSize: 30,\r\n\tpageIndex: 1,\r\n\tsearch: null,\r\n\tcategoryId: null,\r\n\tlevelId: null,\r\n\tfromDate: null,\r\n\ttoDate: null\r\n}\r\n\r\nfunction SideBarNewsFeed(props) {\r\n\tconst { optionList, filtersData, handleBack, handleFilters, groupFormComponent } = props\r\n\tconst { name, idTeam, idGroup } = filtersData\r\n\tconst { teamOptionList, groupOptionList } = optionList\r\n\tconst [visible, setVisible] = useState(false)\r\n\tconst [isLoading, setIsLoading] = useState({ type: '', status: true })\r\n\tconst { showNoti, userInformation } = useWrap()\r\n\tconst [topPackageList, setTopPackageList] = useState<IPackage[]>([])\r\n\tconst [courses, setCourse] = useState<any>([])\r\n\r\n\tconst showSideBar = () => {\r\n\t\tsetVisible(true)\r\n\t}\r\n\r\n\tconst closeSideBar = () => {\r\n\t\tsetVisible(false)\r\n\t}\r\n\r\n\tconst getVideoCourse = async () => {\r\n\t\t// ADMIN & HOC VIEN\r\n\t\tsetIsLoading({ type: 'GET_ALL', status: true })\r\n\t\ttry {\r\n\t\t\tif (userInformation?.RoleID == 1 || userInformation?.RoleID == 2) {\r\n\t\t\t\t// ADMIN\r\n\t\t\t\tconst res = await VideoCourseStoreApi.getAll(listTodoApi)\r\n\t\t\t\tres.status == 200 && setCourse(res.data.data)\r\n\t\t\t\tsetIsLoading({ type: 'GET_ALL', status: false })\r\n\t\t\t} else {\r\n\t\t\t\t// HOC VIEN\r\n\t\t\t\tconst res = await VideoCourseStoreApi.getAllForStudent({ ...listTodoApi })\r\n\t\t\t\tres.status == 200 && setCourse(res.data.data)\r\n\t\t\t\tsetIsLoading({ type: 'GET_ALL', status: false })\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({ type: 'GET_ALL', status: false })\r\n\t\t}\r\n\t}\r\n\r\n\t// PACKAGE\r\n\tconst fetchTopPackageList = async () => {\r\n\t\ttry {\r\n\t\t\tif (userInformation?.RoleID !== 3) return\r\n\t\t\tconst res = await packageApi.getAll({ Type: 2 })\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tsetTopPackageList(res.data.data)\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log('fetchTopPackageList', error.message)\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\t!!userInformation && getVideoCourse()\r\n\t}, [userInformation])\r\n\r\n\tconst onBuyPackage = async (data: { ID: number; Price: string; PaymentMethodsID: number; Note: string }) => {\r\n\t\tsetIsLoading({ type: 'ADD_DATA', status: true })\r\n\t\ttry {\r\n\t\t\tconst { ID, Price, PaymentMethodsID, Note } = data\r\n\t\t\tconst newPackageStudent = {\r\n\t\t\t\tStudentID: userInformation.UserInformationID,\r\n\t\t\t\tSetPackageID: ID,\r\n\t\t\t\tPaid: parseInt(Price.toString().replace(/\\D/g, '')),\r\n\t\t\t\tPaymentMethodsID,\r\n\t\t\t\tNote\r\n\t\t\t}\r\n\t\t\tconst res = await packageStudentApi.add(newPackageStudent)\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tshowNoti('success', res.data.message)\r\n\t\t\t\tfetchTopPackageList()\r\n\t\t\t}\r\n\t\t\treturn res\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({\r\n\t\t\t\ttype: 'ADD_DATA',\r\n\t\t\t\tstatus: false\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tconst SideBar = () => (\r\n\t\t<Card className=\"card-newsfeed\" bordered={false}>\r\n\t\t\t<div className=\"card-newsfeed-wrap__label\">\r\n\t\t\t\t<p className=\"card-newsfeed__label font-weight-black mb-1 font-bold\">Khóa học video</p>\r\n\t\t\t\t<Link href=\"/video-course\">\r\n\t\t\t\t\t<a className=\"font-weight-black\" style={{ width: 100, textAlign: 'right' }}>\r\n\t\t\t\t\t\tXem thêm\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t\t<Card className=\"\" bordered={false}>\r\n\t\t\t\t<TopPackageNewsFeed isLoading={isLoading.status} topPackageList={courses} handleBuyPackage={onBuyPackage} />\r\n\t\t\t</Card>\r\n\t\t</Card>\r\n\t)\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"sidebar-desktop\">{SideBar()}</div>\r\n\t\t\t<div className=\"sidebar-mobile\">\r\n\t\t\t\t<p style={{ cursor: 'pointer' }} className=\"label-nf font-weight-black\" onClick={() => handleBack && handleBack()}>\r\n\t\t\t\t\tNewsFeed\r\n\t\t\t\t</p>\r\n\t\t\t\t<button className=\"btn btn-light\" onClick={showSideBar}>\r\n\t\t\t\t\t<MoreHorizontal />\r\n\t\t\t\t</button>\r\n\t\t\t\t<Drawer placement=\"right\" closable={false} onClose={closeSideBar} visible={visible} className=\"drawer-newsfeed\">\r\n\t\t\t\t\t{SideBar()}\r\n\t\t\t\t</Drawer>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default SideBarNewsFeed\r\n"]},"metadata":{},"sourceType":"module"}