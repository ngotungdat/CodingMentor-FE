{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Global\\\\CourseList\\\\CourseListDetail\\\\Homework\\\\ModalCreateExercise.tsx\";\nimport React, { useState } from 'react';\nimport { Modal, Select, Tooltip, DatePicker, Input } from 'antd';\nimport { useWrap } from '~/context/wrap';\nimport { homeworkApi } from '~/apiBase/course-detail/home-work';\nimport moment from 'moment';\nconst {\n  Option\n} = Select;\nconst {\n  RangePicker\n} = DatePicker;\n\nconst ModalCreateExercise = props => {\n  const {\n    dataExam,\n    courseID,\n    CurriculumID,\n    onFetchData\n  } = props;\n  const {\n    0: isModalVisible,\n    1: setIsModalVisible\n  } = useState(false);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  const {\n    showNoti\n  } = useWrap();\n  const {\n    0: valueExam,\n    1: setValueExam\n  } = useState(null);\n  const {\n    0: note,\n    1: setNote\n  } = useState('');\n  const {\n    0: date,\n    1: setDate\n  } = useState({\n    start: '',\n    end: ''\n  });\n\n  const showModal = () => {\n    setIsModalVisible(true);\n  };\n\n  const handleOk = async () => {\n    const data = {\n      CourseID: courseID,\n      ExamTopicID: valueExam,\n      CurriculumDetailID: CurriculumID,\n      DateStart: date.start,\n      DateEnd: date.end,\n      Note: note\n    };\n    console.log('submit: ', data);\n    setLoading(true);\n\n    try {\n      let res = await homeworkApi.add(data);\n\n      if (res.status === 200) {\n        setIsModalVisible(false);\n        onFetchData && onFetchData();\n        showNoti('success', 'Thành công');\n        onFetchData();\n      } else {\n        showNoti('danger', 'Mạng đang kết nối không ổn định');\n      }\n    } catch (error) {\n      showNoti('danger', error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  };\n\n  function handleChange_exam(value) {\n    setValueExam(value);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n      title: \"Th\\xEAm b\\xE0i t\\u1EADp\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-light\",\n        onClick: showModal,\n        children: \"T\\u1EA1o b\\xE0i t\\u1EADp\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      title: \"T\\u1EA1o b\\xE0i t\\u1EADp cho kh\\xF3a h\\u1ECDc\",\n      visible: isModalVisible,\n      onOk: handleOk,\n      confirmLoading: loading,\n      okText: \"Th\\xEAm\",\n      onCancel: handleCancel,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrap-create-exercise\",\n        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n          children: \"Ch\\u1ECDn \\u0111\\u1EC1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          value: valueExam,\n          className: \"style-input\",\n          onChange: handleChange_exam,\n          children: dataExam === null || dataExam === void 0 ? void 0 : dataExam.map((item, index) => /*#__PURE__*/_jsxDEV(Option, {\n            value: item.ID,\n            children: item.Name\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 8\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n          className: \"mt-3\",\n          children: \"Th\\u1EDDi gian\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(RangePicker, {\n          onChange: e => {\n            console.log(moment(e[0]).format('DD/MM/yyyy'));\n            setDate({\n              end: moment(e[1]).format('yyyy/MM/DD'),\n              start: moment(e[0]).format('yyyy/MM/DD')\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n          className: \"mt-3\",\n          children: \"Ghi ch\\xFA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          style: {\n            marginBottom: 0\n          },\n          placeholder: \"Ghi ch\\xFA\",\n          onChange: e => setNote(e.target.value),\n          allowClear: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n};\n\nexport default ModalCreateExercise;","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Global/CourseList/CourseListDetail/Homework/ModalCreateExercise.tsx"],"names":["React","useState","Modal","Select","Tooltip","DatePicker","Input","useWrap","homeworkApi","moment","Option","RangePicker","ModalCreateExercise","props","dataExam","courseID","CurriculumID","onFetchData","isModalVisible","setIsModalVisible","loading","setLoading","showNoti","valueExam","setValueExam","note","setNote","date","setDate","start","end","showModal","handleOk","data","CourseID","ExamTopicID","CurriculumDetailID","DateStart","DateEnd","Note","console","log","res","add","status","error","message","handleCancel","handleChange_exam","value","map","item","index","ID","Name","e","format","marginBottom","target"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Modal, Select, Tooltip, DatePicker, Input } from 'antd';\r\nimport { useWrap } from '~/context/wrap';\r\nimport { homeworkApi } from '~/apiBase/course-detail/home-work';\r\nimport moment from 'moment';\r\n\r\nconst { Option } = Select;\r\nconst { RangePicker } = DatePicker;\r\n\r\nconst ModalCreateExercise = (props) => {\r\n\tconst { dataExam, courseID, CurriculumID, onFetchData } = props;\r\n\tconst [isModalVisible, setIsModalVisible] = useState(false);\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst { showNoti } = useWrap();\r\n\tconst [valueExam, setValueExam] = useState(null);\r\n\tconst [note, setNote] = useState('');\r\n\tconst [date, setDate] = useState({ start: '', end: '' });\r\n\r\n\tconst showModal = () => {\r\n\t\tsetIsModalVisible(true);\r\n\t};\r\n\r\n\tconst handleOk = async () => {\r\n\t\tconst data = {\r\n\t\t\tCourseID: courseID,\r\n\t\t\tExamTopicID: valueExam,\r\n\t\t\tCurriculumDetailID: CurriculumID,\r\n\t\t\tDateStart: date.start,\r\n\t\t\tDateEnd: date.end,\r\n\t\t\tNote: note\r\n\t\t};\r\n\t\tconsole.log('submit: ', data);\r\n\r\n\t\tsetLoading(true);\r\n\t\ttry {\r\n\t\t\tlet res = await homeworkApi.add(data);\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tsetIsModalVisible(false);\r\n\t\t\t\tonFetchData && onFetchData();\r\n\t\t\t\tshowNoti('success', 'Thành công');\r\n\t\t\t\tonFetchData();\r\n\t\t\t} else {\r\n\t\t\t\tshowNoti('danger', 'Mạng đang kết nối không ổn định');\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message);\r\n\t\t} finally {\r\n\t\t\tsetLoading(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleCancel = () => {\r\n\t\tsetIsModalVisible(false);\r\n\t};\r\n\r\n\tfunction handleChange_exam(value) {\r\n\t\tsetValueExam(value);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Tooltip title=\"Thêm bài tập\">\r\n\t\t\t\t<button className=\"btn btn-light\" onClick={showModal}>\r\n\t\t\t\t\tTạo bài tập\r\n\t\t\t\t</button>\r\n\t\t\t</Tooltip>\r\n\r\n\t\t\t<Modal\r\n\t\t\t\ttitle=\"Tạo bài tập cho khóa học\"\r\n\t\t\t\tvisible={isModalVisible}\r\n\t\t\t\tonOk={handleOk}\r\n\t\t\t\tconfirmLoading={loading}\r\n\t\t\t\tokText=\"Thêm\"\r\n\t\t\t\tonCancel={handleCancel}\r\n\t\t\t>\r\n\t\t\t\t<div className=\"wrap-create-exercise\">\r\n\t\t\t\t\t<h6>Chọn đề</h6>\r\n\t\t\t\t\t<Select value={valueExam} className=\"style-input\" onChange={handleChange_exam}>\r\n\t\t\t\t\t\t{dataExam?.map((item, index) => (\r\n\t\t\t\t\t\t\t<Option value={item.ID} key={index}>\r\n\t\t\t\t\t\t\t\t{item.Name}\r\n\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</Select>\r\n\r\n\t\t\t\t\t<h6 className=\"mt-3\">Thời gian</h6>\r\n\t\t\t\t\t<RangePicker\r\n\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\tconsole.log(moment(e[0]).format('DD/MM/yyyy'));\r\n\t\t\t\t\t\t\tsetDate({ end: moment(e[1]).format('yyyy/MM/DD'), start: moment(e[0]).format('yyyy/MM/DD') });\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<h6 className=\"mt-3\">Ghi chú</h6>\r\n\t\t\t\t\t<Input style={{ marginBottom: 0 }} placeholder=\"Ghi chú\" onChange={(e) => setNote(e.target.value)} allowClear={false} />\r\n\t\t\t\t</div>\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default ModalCreateExercise;\r\n"]},"metadata":{},"sourceType":"module"}