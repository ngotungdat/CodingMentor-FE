{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Dashboard\\\\StatisticalTable.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { DatePicker, Radio, Skeleton } from 'antd';\nimport moment from 'moment';\nimport React, { useState, useEffect } from 'react';\nimport { statisticalApi } from '~/apiBase/statistical/statistical-total';\nimport PowerTable from '~/components/PowerTable';\nimport { useWrap } from '~/context/wrap';\n\nvar StatisticalTotalLessonOfTeacher = function StatisticalTotalLessonOfTeacher(props) {\n  _s();\n\n  var _useState = useState(),\n      dataSource = _useState[0],\n      setDataSource = _useState[1];\n\n  var _useWrap = useWrap(),\n      pageSize = _useWrap.pageSize;\n\n  var _useState2 = useState({\n    type: '',\n    status: false\n  }),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var _useState3 = useState(null),\n      totalPage = _useState3[0],\n      setTotalPage = _useState3[1];\n\n  var _useState4 = useState({\n    pageSize: pageSize,\n    pageIndex: 1,\n    year: new Date().getFullYear(),\n    month: new Date().getMonth() + 1\n  }),\n      filters = _useState4[0],\n      setFilters = _useState4[1];\n\n  var _useState5 = useState(1),\n      typeView = _useState5[0],\n      setTypeView = _useState5[1]; // PAGINATION\n\n\n  var getPagination = function getPagination(pageIndex) {\n    setFilters(_objectSpread(_objectSpread({}, filters), {}, {\n      pageIndex: pageIndex\n    }));\n  };\n\n  var getDataSource = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setIsLoading({\n                type: 'GET_ALL',\n                status: true\n              });\n              _context.prev = 1;\n              _context.next = 4;\n              return statisticalApi.getStatisticalTotalLessonsOfTeacher(filters);\n\n            case 4:\n              res = _context.sent;\n\n              if (res.status === 200) {\n                setDataSource(res.data.data);\n                setTotalPage(res.data.totalRow);\n              }\n\n              if (res.status === 204) {\n                setDataSource([]);\n              }\n\n              _context.next = 11;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](1);\n\n            case 11:\n              _context.prev = 11;\n              setIsLoading({\n                type: 'GET_ALL',\n                status: false\n              });\n              return _context.finish(11);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 9, 11, 14]]);\n    }));\n\n    return function getDataSource() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    getDataSource();\n  }, [filters]);\n  var columns = [{\n    title: 'Ảnh đại diện',\n    width: 120,\n    dataIndex: 'Avatar',\n    render: function render(text, data) {\n      return /*#__PURE__*/_jsxDEV(\"img\", {\n        style: {\n          width: 40,\n          height: 40,\n          borderRadius: '100%'\n        },\n        src: data.Avatar.length > 0 ? data.Avatar : '/images/user.png',\n        alt: \"avatar img\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 5\n      }, _this);\n    }\n  }, {\n    title: 'Họ tên',\n    width: 150,\n    dataIndex: 'FullNameUnicode'\n  }, {\n    title: 'Tổng số bài giảng',\n    width: 180,\n    dataIndex: 'TotalLesson'\n  }, {\n    title: 'Email',\n    width: 150,\n    dataIndex: 'Email'\n  }, {\n    title: 'Số điện thoại',\n    width: 150,\n    dataIndex: 'Mobile'\n  }];\n\n  var handleChangeDate = function handleChangeDate(value) {\n    if (typeView == 1) {\n      setFilters(_objectSpread(_objectSpread({}, filters), {}, {\n        month: Number(moment(value).format('MM')),\n        year: Number(moment(value).format('YYYY'))\n      }));\n    } else if (typeView == 2) {\n      setFilters(_objectSpread(_objectSpread({}, filters), {}, {\n        month: 0,\n        year: Number(moment(value).format('YYYY'))\n      }));\n    }\n  };\n\n  var renderExtra = function renderExtra() {\n    if (typeView == 1) {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(DatePicker, {\n          onChange: handleChangeDate,\n          picker: \"month\",\n          className: \"mr-2\",\n          style: {\n            width: 130\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 6\n        }, _this)\n      }, void 0, false);\n    } else if (typeView == 2) {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(DatePicker, {\n          onChange: handleChangeDate,\n          picker: \"year\",\n          className: \"mr-2\",\n          style: {\n            width: 130\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 6\n        }, _this)\n      }, void 0, false);\n    }\n  };\n\n  var onChange = function onChange(event) {\n    setTypeView(event.target.value);\n  };\n\n  var extra = function extra() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [renderExtra(), /*#__PURE__*/_jsxDEV(Radio.Group, {\n        onChange: onChange,\n        optionType: \"button\",\n        buttonStyle: \"solid\",\n        value: typeView,\n        children: [/*#__PURE__*/_jsxDEV(Radio.Button, {\n          value: 1,\n          children: \"Th\\xE1ng\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 6\n        }, _this), /*#__PURE__*/_jsxDEV(Radio.Button, {\n          value: 2,\n          children: \"N\\u0103m\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 6\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 5\n      }, _this)]\n    }, void 0, true);\n  };\n\n  var renderTable = function renderTable() {\n    return /*#__PURE__*/_jsxDEV(PowerTable, {\n      loading: isLoading,\n      totalPage: totalPage,\n      dataSource: dataSource,\n      getPagination: getPagination,\n      columns: columns,\n      Extra: /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"h4\", {\n          style: {\n            textTransform: 'uppercase'\n          },\n          children: \"Th\\xF4ng k\\xEA s\\u1ED1 l\\u1EDBp d\\u1EA1y c\\u1EE7a gi\\xE1o vi\\xEAn\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 7\n        }, _this)\n      }, void 0, false),\n      TitleCard: extra()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 4\n    }, _this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: isLoading.type === 'GET_ALL' && isLoading.status == true ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row pt-5 pb-5\",\n      children: /*#__PURE__*/_jsxDEV(Skeleton, {\n        active: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 6\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 5\n    }, _this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row pt-5 pb-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12\",\n        children: renderTable()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 6\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 5\n    }, _this)\n  }, void 0, false);\n};\n\n_s(StatisticalTotalLessonOfTeacher, \"NHF/wBYs0Yh+fe+VEuIdn6Er4G4=\", false, function () {\n  return [useWrap];\n});\n\n_c = StatisticalTotalLessonOfTeacher;\nexport default StatisticalTotalLessonOfTeacher;\n\nvar _c;\n\n$RefreshReg$(_c, \"StatisticalTotalLessonOfTeacher\");","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Dashboard/StatisticalTable.tsx"],"names":["DatePicker","Radio","Skeleton","moment","React","useState","useEffect","statisticalApi","PowerTable","useWrap","StatisticalTotalLessonOfTeacher","props","dataSource","setDataSource","pageSize","type","status","isLoading","setIsLoading","totalPage","setTotalPage","pageIndex","year","Date","getFullYear","month","getMonth","filters","setFilters","typeView","setTypeView","getPagination","getDataSource","getStatisticalTotalLessonsOfTeacher","res","data","totalRow","columns","title","width","dataIndex","render","text","height","borderRadius","Avatar","length","handleChangeDate","value","Number","format","renderExtra","onChange","event","target","extra","renderTable","textTransform"],"mappings":"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","sourcesContent":["import { DatePicker, Radio, Skeleton } from 'antd'\r\nimport moment from 'moment'\r\nimport React, { useState, useEffect } from 'react'\r\nimport { statisticalApi } from '~/apiBase/statistical/statistical-total'\r\nimport PowerTable from '~/components/PowerTable'\r\nimport { useWrap } from '~/context/wrap'\r\n\r\nconst StatisticalTotalLessonOfTeacher = (props) => {\r\n\tconst [dataSource, setDataSource] = useState<IStatTotalLessonOfTeacher[]>()\r\n\tconst { pageSize } = useWrap()\r\n\tconst [isLoading, setIsLoading] = useState({\r\n\t\ttype: '',\r\n\t\tstatus: false\r\n\t})\r\n\tconst [totalPage, setTotalPage] = useState(null)\r\n\tconst [filters, setFilters] = useState({\r\n\t\tpageSize: pageSize,\r\n\t\tpageIndex: 1,\r\n\t\tyear: new Date().getFullYear(),\r\n\t\tmonth: new Date().getMonth() + 1\r\n\t})\r\n\tconst [typeView, setTypeView] = useState(1)\r\n\r\n\t// PAGINATION\r\n\tconst getPagination = (pageIndex: number) => {\r\n\t\tsetFilters({\r\n\t\t\t...filters,\r\n\t\t\tpageIndex\r\n\t\t})\r\n\t}\r\n\r\n\tconst getDataSource = async () => {\r\n\t\tsetIsLoading({ type: 'GET_ALL', status: true })\r\n\t\ttry {\r\n\t\t\tlet res = await statisticalApi.getStatisticalTotalLessonsOfTeacher(filters)\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tsetDataSource(res.data.data)\r\n\t\t\t\tsetTotalPage(res.data.totalRow)\r\n\t\t\t}\r\n\t\t\tif (res.status === 204) {\r\n\t\t\t\tsetDataSource([])\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({ type: 'GET_ALL', status: false })\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tgetDataSource()\r\n\t}, [filters])\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Ảnh đại diện',\r\n\t\t\twidth: 120,\r\n\t\t\tdataIndex: 'Avatar',\r\n\t\t\trender: (text, data) => (\r\n\t\t\t\t<img\r\n\t\t\t\t\tstyle={{ width: 40, height: 40, borderRadius: '100%' }}\r\n\t\t\t\t\tsrc={data.Avatar.length > 0 ? data.Avatar : '/images/user.png'}\r\n\t\t\t\t\talt=\"avatar img\"\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{ title: 'Họ tên', width: 150, dataIndex: 'FullNameUnicode' },\r\n\t\t{ title: 'Tổng số bài giảng', width: 180, dataIndex: 'TotalLesson' },\r\n\t\t{ title: 'Email', width: 150, dataIndex: 'Email' },\r\n\t\t{ title: 'Số điện thoại', width: 150, dataIndex: 'Mobile' }\r\n\t]\r\n\r\n\tconst handleChangeDate = (value) => {\r\n\t\tif (typeView == 1) {\r\n\t\t\tsetFilters({ ...filters, month: Number(moment(value).format('MM')), year: Number(moment(value).format('YYYY')) })\r\n\t\t} else if (typeView == 2) {\r\n\t\t\tsetFilters({ ...filters, month: 0, year: Number(moment(value).format('YYYY')) })\r\n\t\t}\r\n\t}\r\n\r\n\tconst renderExtra = () => {\r\n\t\tif (typeView == 1) {\r\n\t\t\treturn (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<DatePicker onChange={handleChangeDate} picker=\"month\" className=\"mr-2\" style={{ width: 130 }} />\r\n\t\t\t\t</>\r\n\t\t\t)\r\n\t\t} else if (typeView == 2) {\r\n\t\t\treturn (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<DatePicker onChange={handleChangeDate} picker=\"year\" className=\"mr-2\" style={{ width: 130 }} />\r\n\t\t\t\t</>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tconst onChange = (event) => {\r\n\t\tsetTypeView(event.target.value)\r\n\t}\r\n\r\n\tconst extra = () => {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{renderExtra()}\r\n\t\t\t\t<Radio.Group onChange={onChange} optionType=\"button\" buttonStyle=\"solid\" value={typeView}>\r\n\t\t\t\t\t<Radio.Button value={1}>Tháng</Radio.Button>\r\n\t\t\t\t\t<Radio.Button value={2}>Năm</Radio.Button>\r\n\t\t\t\t</Radio.Group>\r\n\t\t\t</>\r\n\t\t)\r\n\t}\r\n\r\n\tconst renderTable = () => {\r\n\t\treturn (\r\n\t\t\t<PowerTable\r\n\t\t\t\tloading={isLoading}\r\n\t\t\t\ttotalPage={totalPage}\r\n\t\t\t\tdataSource={dataSource}\r\n\t\t\t\tgetPagination={getPagination}\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tExtra={\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<h4 style={{ textTransform: 'uppercase' }}>Thông kê số lớp dạy của giáo viên</h4>\r\n\t\t\t\t\t</>\r\n\t\t\t\t}\r\n\t\t\t\tTitleCard={extra()}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{isLoading.type === 'GET_ALL' && isLoading.status == true ? (\r\n\t\t\t\t<div className=\"row pt-5 pb-5\">\r\n\t\t\t\t\t<Skeleton active />\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"row pt-5 pb-5\">\r\n\t\t\t\t\t<div className=\"col-12\">{renderTable()}</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default StatisticalTotalLessonOfTeacher\r\n"]},"metadata":{},"sourceType":"module"}