{"ast":null,"code":"import _toConsumableArray from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _defineProperty from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Global\\\\QuestionBank\\\\QuestionShow\\\\QuestionMultiple.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from 'react';\nimport { Radio, Skeleton, Popconfirm, Tooltip, Checkbox } from 'antd';\nimport { Trash2 } from 'react-feather';\nimport CreateQuestionForm from '~/components/Global/QuestionBank/CreateQuestionForm';\nimport ReactHtmlParser from 'react-html-parser';\nimport { useWrap } from '~/context/wrap';\nimport { exerciseApi } from '~/apiBase';\nimport { useExamDetail } from '~/pages/question-bank/exam-list/exam-detail/[slug]';\nimport { CheckOutlined } from '@ant-design/icons';\nimport _ from '~/appConfig';\n\nvar QuestionMultiple = function QuestionMultiple(props) {\n  _s();\n\n  var _useExamDetail = useExamDetail(),\n      onGetListQuestionID = _useExamDetail.onGetListQuestionID,\n      listQuestionID = _useExamDetail.listQuestionID,\n      listQuestionAddOutside = _useExamDetail.listQuestionAddOutside,\n      onRemoveQuestionAdd = _useExamDetail.onRemoveQuestionAdd;\n\n  var isGroup = props.isGroup,\n      listQuestion = props.listQuestion,\n      loadingQuestion = props.loadingQuestion,\n      onFetchData = props.onFetchData,\n      onRemoveData = props.onRemoveData,\n      _onEditData = props.onEditData,\n      listAlphabet = props.listAlphabet,\n      groupID = props.groupID,\n      dataExam = props.dataExam;\n\n  var _useState = useState(listQuestion),\n      dataListQuestion = _useState[0],\n      setDataListQuestion = _useState[1];\n\n  var _useWrap = useWrap(),\n      showNoti = _useWrap.showNoti,\n      userInformation = _useWrap.userInformation;\n\n  var _useState2 = useState({\n    id: null,\n    status: false\n  }),\n      visible = _useState2[0],\n      setVisible = _useState2[1];\n\n  var _useState3 = useState(false),\n      confirmLoading = _useState3[0],\n      setConfirmLoading = _useState3[1];\n\n  var _useState4 = useState(false),\n      loadingInGroup = _useState4[0],\n      setLoadingInGroup = _useState4[1];\n\n  var _useState5 = useState(false),\n      loadingAudio = _useState5[0],\n      setLoadingAudio = _useState5[1];\n\n  var _useState6 = useState(null),\n      activeID = _useState6[0],\n      setActiveID = _useState6[1];\n\n  var _useState7 = useState(0),\n      lengthData = _useState7[0],\n      setLengthData = _useState7[1];\n\n  var onChange = function onChange(e) {\n    e.preventDefault();\n  };\n\n  var deleteQuestionItem = function deleteQuestionItem(quesID) {\n    !visible.status ? setVisible({\n      id: quesID,\n      status: true\n    }) : setVisible({\n      id: quesID,\n      status: false\n    });\n  }; // Chấp nhận xóa câu hỏi\n\n\n  var handleOk = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(quesItem) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setConfirmLoading(true);\n              quesItem.Enable = false;\n              _context.prev = 2;\n              _context.next = 5;\n              return exerciseApi.update(quesItem);\n\n            case 5:\n              res = _context.sent;\n\n              if (res.status == 200) {\n                setVisible(_objectSpread(_objectSpread({}, visible), {}, {\n                  status: false\n                }));\n                onRemoveData(quesItem.ID);\n                showNoti('success', 'Xóa thành công');\n              }\n\n              _context.next = 12;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](2);\n              showNoti('danger', _context.t0.message);\n\n            case 12:\n              _context.prev = 12;\n              setConfirmLoading(false);\n              return _context.finish(12);\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 9, 12, 15]]);\n    }));\n\n    return function handleOk(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleCancel = function handleCancel(quesID) {\n    setVisible({\n      id: quesID,\n      status: false\n    });\n  }; // Lấy data theo group id\n\n\n  var getQuestionInGroup = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setLoadingInGroup(true);\n              _context2.prev = 1;\n              _context2.next = 4;\n              return exerciseApi.getAll({\n                pageIndex: 1,\n                pageSize: 9999,\n                ExerciseGroupID: isGroup.id\n              });\n\n            case 4:\n              res = _context2.sent;\n              res.status == 200 && setDataListQuestion(res.data.data);\n              res.status == 204 && setDataListQuestion([]);\n              _context2.next = 12;\n              break;\n\n            case 9:\n              _context2.prev = 9;\n              _context2.t0 = _context2[\"catch\"](1);\n              showNoti('danger', _context2.t0.message);\n\n            case 12:\n              _context2.prev = 12;\n              setLoadingInGroup(false);\n              return _context2.finish(12);\n\n            case 15:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[1, 9, 12, 15]]);\n    }));\n\n    return function getQuestionInGroup() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var onHover = function onHover(ID) {\n    setActiveID(ID);\n  };\n\n  var returnAudio = function returnAudio(item) {\n    var audioHTML = function audioHTML(item) {\n      return /*#__PURE__*/_jsxDEV(\"audio\", {\n        controls: true,\n        children: /*#__PURE__*/_jsxDEV(\"source\", {\n          src: item.LinkAudio,\n          type: \"audio/mpeg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 6\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 5\n      }, _this);\n    };\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: !activeID ? item.LinkAudio !== '' && audioHTML(item) : item.ID == activeID ? !loadingAudio ? item.LinkAudio !== '' && audioHTML(item) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) : item.LinkAudio !== '' && audioHTML(item)\n    }, void 0, false);\n  }; // Return alphabet\n\n\n  var returnAlphabet = function returnAlphabet(dataItem, AnsID) {\n    var _char = '';\n    var cloneListAnswer = dataItem.ExerciseAnswer.filter(function (item) {\n      return item.Enable !== false;\n    });\n    var indexAnswer = cloneListAnswer.findIndex(function (item) {\n      return item.ID == AnsID;\n    });\n    _char = listAlphabet[indexAnswer];\n    return _char;\n  };\n\n  useEffect(function () {\n    // Check active item when add new data\n    if ((dataListQuestion === null || dataListQuestion === void 0 ? void 0 : dataListQuestion.length) > 0) {\n      if (listQuestion.length > lengthData) {\n        setActiveID(listQuestion[0].ID);\n      }\n    }\n\n    setLengthData(listQuestion.length); // Loading audio for change html audio (because the link not change when update state)\n\n    setLoadingAudio(true);\n    setTimeout(function () {\n      setLoadingAudio(false);\n    }, 100); // Check all situations between no group and have group\n\n    if (!isGroup.status) {\n      listQuestion.forEach(function (item) {\n        item.isChecked = null;\n\n        if ((listQuestionAddOutside === null || listQuestionAddOutside === void 0 ? void 0 : listQuestionAddOutside.length) > 0) {\n          if (listQuestionAddOutside.some(function (object) {\n            return object['ExerciseOrExerciseGroupID'] == item.ID;\n          })) {\n            item.isChecked = true;\n          }\n        }\n      });\n      setDataListQuestion(listQuestion);\n    } else {\n      isGroup.id && isGroup.id === groupID && getQuestionInGroup();\n    }\n  }, [listQuestion]);\n  useEffect(function () {\n    isGroup.status && setDataListQuestion([]);\n    isGroup.status && isGroup.id && isGroup.id === groupID && getQuestionInGroup();\n  }, [isGroup]); // On change - add question\n\n  var onChange_AddQuestion = function onChange_AddQuestion(checked, quesID) {\n    var objectQuestion = {\n      type: 1,\n      ExerciseOrExerciseGroupID: quesID\n    };\n\n    if (checked) {\n      onGetListQuestionID(objectQuestion);\n    } else {\n      onRemoveQuestionAdd(objectQuestion);\n    }\n  };\n\n  useEffect(function () {\n    if ((dataListQuestion === null || dataListQuestion === void 0 ? void 0 : dataListQuestion.length) > 0) {\n      if ((listQuestionAddOutside === null || listQuestionAddOutside === void 0 ? void 0 : listQuestionAddOutside.length) > 0) {\n        dataListQuestion === null || dataListQuestion === void 0 ? void 0 : dataListQuestion.forEach(function (item) {\n          if (listQuestionAddOutside.some(function (object) {\n            return object['ExerciseOrExerciseGroupID'] == item.ID;\n          })) {\n            item.isChecked = true;\n          } else {\n            item.isChecked = false;\n          }\n        });\n      } else {\n        dataListQuestion === null || dataListQuestion === void 0 ? void 0 : dataListQuestion.forEach(function (item) {\n          item.isChecked = false;\n        });\n      }\n\n      setDataListQuestion(_toConsumableArray(dataListQuestion));\n    }\n  }, [listQuestionAddOutside]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [(dataListQuestion === null || dataListQuestion === void 0 ? void 0 : dataListQuestion.length) == 0 ? !isGroup.status && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-center\",\n      children: /*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Danh s\\xE1ch c\\xF2n tr\\u1ED1ng\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 8\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, _this) : dataListQuestion === null || dataListQuestion === void 0 ? void 0 : dataListQuestion.map(function (item, index) {\n      var _item$ExerciseAnswer;\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"question-item \".concat(item.ID == activeID ? 'active' : ''),\n        onMouseEnter: function onMouseEnter() {\n          return onHover(item.ID);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"box-detail\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"box-title\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"title-ques\",\n              children: [\"C\\xE2u h\\u1ECFi \", index + 1]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 10\n            }, _this), item.LinkAudio && returnAudio(item), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"title-text\",\n              children: ReactHtmlParser(item.Content)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 10\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 9\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"box-answer\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"question-single question-wrap w-100\",\n              children: (_item$ExerciseAnswer = item.ExerciseAnswer) === null || _item$ExerciseAnswer === void 0 ? void 0 : _item$ExerciseAnswer.map(function (ans, i) {\n                return /*#__PURE__*/_jsxDEV(Radio, {\n                  checked: ans.isTrue,\n                  className: \"d-block\",\n                  value: ans.ID,\n                  onChange: onChange,\n                  disabled: ans.isTrue ? false : true,\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"tick\",\n                    children: returnAlphabet(item, ans.ID)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 224,\n                    columnNumber: 13\n                  }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text\",\n                    children: ans.AnswerContent\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 225,\n                    columnNumber: 13\n                  }, _this)]\n                }, i, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 12\n                }, _this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 10\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 9\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 8\n        }, _this), (userInformation === null || userInformation === void 0 ? void 0 : userInformation.RoleID) !== 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"box-action\",\n          children: [/*#__PURE__*/_jsxDEV(CreateQuestionForm, {\n            questionData: item,\n            onFetchData: onFetchData,\n            onEditData: function onEditData(data) {\n              return _onEditData(data);\n            },\n            isGroup: {\n              status: false,\n              id: null\n            },\n            getActiveID: function getActiveID(ID) {\n              return setActiveID(ID);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 10\n          }, _this), /*#__PURE__*/_jsxDEV(Popconfirm, {\n            title: \"B\\u1EA1n c\\xF3 ch\\u1EAFc mu\\u1ED1n x\\xF3a?\",\n            onConfirm: function onConfirm() {\n              return handleOk(item);\n            },\n            okButtonProps: {\n              loading: confirmLoading\n            },\n            onCancel: function onCancel() {\n              return handleCancel(item.ID);\n            },\n            children: /*#__PURE__*/_jsxDEV(Tooltip, {\n              title: \"X\\xF3a c\\xE2u h\\u1ECFi\",\n              placement: \"rightTop\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-icon delete\",\n                onClick: function onClick() {\n                  return deleteQuestionItem(item.ID);\n                },\n                children: /*#__PURE__*/_jsxDEV(Trash2, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 13\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 12\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 11\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 10\n          }, _this), !isGroup.status && dataExam && (listQuestionID.includes(item.ID) ? /*#__PURE__*/_jsxDEV(Tooltip, {\n            title: \"\\u0110\\xE3 c\\xF3 trong \\u0111\\u1EC1 thi\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-icon edit\",\n              children: /*#__PURE__*/_jsxDEV(CheckOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 14\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 13\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 12\n          }, _this) : /*#__PURE__*/_jsxDEV(Checkbox, {\n            className: \"checkbox-addquestion\",\n            checked: item.isChecked,\n            onChange: function onChange(e) {\n              return onChange_AddQuestion(e.target.checked, item.ID);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 12\n          }, _this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 9\n        }, _this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 7\n      }, _this);\n    }), isGroup !== null && isGroup !== void 0 && isGroup.status && loadingInGroup ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Skeleton, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 6\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 5\n    }, _this) : (isGroup === null || isGroup === void 0 ? void 0 : isGroup.status) && (dataListQuestion === null || dataListQuestion === void 0 ? void 0 : dataListQuestion.length) == 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: _.primaryColor\n      },\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        children: \"Nh\\xF3m n\\xE0y ch\\u01B0a c\\xF3 c\\xE2u h\\u1ECFi\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 7\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 6\n    }, _this), loadingQuestion && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Skeleton, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 6\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 5\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(QuestionMultiple, \"EcmbVxTeL5yes1c0S8muchZZY0Q=\", false, function () {\n  return [useExamDetail, useWrap];\n});\n\n_c = QuestionMultiple;\nexport default QuestionMultiple;\n\nvar _c;\n\n$RefreshReg$(_c, \"QuestionMultiple\");","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Global/QuestionBank/QuestionShow/QuestionMultiple.tsx"],"names":["React","useEffect","useState","Radio","Skeleton","Popconfirm","Tooltip","Checkbox","Trash2","CreateQuestionForm","ReactHtmlParser","useWrap","exerciseApi","useExamDetail","CheckOutlined","_","QuestionMultiple","props","onGetListQuestionID","listQuestionID","listQuestionAddOutside","onRemoveQuestionAdd","isGroup","listQuestion","loadingQuestion","onFetchData","onRemoveData","onEditData","listAlphabet","groupID","dataExam","dataListQuestion","setDataListQuestion","showNoti","userInformation","id","status","visible","setVisible","confirmLoading","setConfirmLoading","loadingInGroup","setLoadingInGroup","loadingAudio","setLoadingAudio","activeID","setActiveID","lengthData","setLengthData","onChange","e","preventDefault","deleteQuestionItem","quesID","handleOk","quesItem","Enable","update","res","ID","message","handleCancel","getQuestionInGroup","getAll","pageIndex","pageSize","ExerciseGroupID","data","onHover","returnAudio","item","audioHTML","LinkAudio","returnAlphabet","dataItem","AnsID","char","cloneListAnswer","ExerciseAnswer","filter","indexAnswer","findIndex","length","setTimeout","forEach","isChecked","some","object","onChange_AddQuestion","checked","objectQuestion","type","ExerciseOrExerciseGroupID","map","index","Content","ans","i","isTrue","AnswerContent","RoleID","loading","includes","target","color","primaryColor"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Radio, Skeleton, Popconfirm, Tooltip, Checkbox } from 'antd'\r\nimport { Trash2 } from 'react-feather'\r\nimport CreateQuestionForm from '~/components/Global/QuestionBank/CreateQuestionForm'\r\nimport ReactHtmlParser from 'react-html-parser'\r\nimport { useWrap } from '~/context/wrap'\r\nimport { exerciseApi } from '~/apiBase'\r\nimport { useExamDetail } from '~/pages/question-bank/exam-list/exam-detail/[slug]'\r\nimport { CheckOutlined } from '@ant-design/icons'\r\nimport _ from '~/appConfig'\r\n\r\nconst QuestionMultiple = (props: any) => {\r\n\tconst { onGetListQuestionID, listQuestionID, listQuestionAddOutside, onRemoveQuestionAdd } = useExamDetail()\r\n\tconst { isGroup, listQuestion, loadingQuestion, onFetchData, onRemoveData, onEditData, listAlphabet, groupID, dataExam } = props\r\n\tconst [dataListQuestion, setDataListQuestion] = useState(listQuestion)\r\n\tconst { showNoti, userInformation } = useWrap()\r\n\tconst [visible, setVisible] = useState({\r\n\t\tid: null,\r\n\t\tstatus: false\r\n\t})\r\n\tconst [confirmLoading, setConfirmLoading] = useState(false)\r\n\tconst [loadingInGroup, setLoadingInGroup] = useState(false)\r\n\tconst [loadingAudio, setLoadingAudio] = useState(false)\r\n\tconst [activeID, setActiveID] = useState(null)\r\n\tconst [lengthData, setLengthData] = useState(0)\r\n\r\n\tconst onChange = (e) => {\r\n\t\te.preventDefault()\r\n\t}\r\n\r\n\tconst deleteQuestionItem = (quesID) => {\r\n\t\t!visible.status\r\n\t\t\t? setVisible({\r\n\t\t\t\t\tid: quesID,\r\n\t\t\t\t\tstatus: true\r\n\t\t\t  })\r\n\t\t\t: setVisible({\r\n\t\t\t\t\tid: quesID,\r\n\t\t\t\t\tstatus: false\r\n\t\t\t  })\r\n\t}\r\n\r\n\t// Chấp nhận xóa câu hỏi\r\n\tconst handleOk = async (quesItem) => {\r\n\t\tsetConfirmLoading(true)\r\n\t\tquesItem.Enable = false\r\n\t\ttry {\r\n\t\t\tlet res = await exerciseApi.update(quesItem)\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tsetVisible({\r\n\t\t\t\t\t...visible,\r\n\t\t\t\t\tstatus: false\r\n\t\t\t\t})\r\n\t\t\t\tonRemoveData(quesItem.ID)\r\n\t\t\t\tshowNoti('success', 'Xóa thành công')\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetConfirmLoading(false)\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleCancel = (quesID) => {\r\n\t\tsetVisible({\r\n\t\t\tid: quesID,\r\n\t\t\tstatus: false\r\n\t\t})\r\n\t}\r\n\r\n\t// Lấy data theo group id\r\n\tconst getQuestionInGroup = async () => {\r\n\t\tsetLoadingInGroup(true)\r\n\t\ttry {\r\n\t\t\tlet res = await exerciseApi.getAll({\r\n\t\t\t\tpageIndex: 1,\r\n\t\t\t\tpageSize: 9999,\r\n\t\t\t\tExerciseGroupID: isGroup.id\r\n\t\t\t})\r\n\t\t\tres.status == 200 && setDataListQuestion(res.data.data)\r\n\t\t\tres.status == 204 && setDataListQuestion([])\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetLoadingInGroup(false)\r\n\t\t}\r\n\t}\r\n\r\n\tconst onHover = (ID: number) => {\r\n\t\tsetActiveID(ID)\r\n\t}\r\n\r\n\tconst returnAudio = (item) => {\r\n\t\tconst audioHTML = (item) => {\r\n\t\t\treturn (\r\n\t\t\t\t<audio controls>\r\n\t\t\t\t\t<source src={item.LinkAudio} type=\"audio/mpeg\" />\r\n\t\t\t\t</audio>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{!activeID ? (\r\n\t\t\t\t\titem.LinkAudio !== '' && audioHTML(item)\r\n\t\t\t\t) : item.ID == activeID ? (\r\n\t\t\t\t\t!loadingAudio ? (\r\n\t\t\t\t\t\titem.LinkAudio !== '' && audioHTML(item)\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<></>\r\n\t\t\t\t\t)\r\n\t\t\t\t) : (\r\n\t\t\t\t\titem.LinkAudio !== '' && audioHTML(item)\r\n\t\t\t\t)}\r\n\t\t\t</>\r\n\t\t)\r\n\t}\r\n\r\n\t// Return alphabet\r\n\tconst returnAlphabet = (dataItem, AnsID) => {\r\n\t\tlet char = ''\r\n\t\tlet cloneListAnswer = dataItem.ExerciseAnswer.filter((item) => item.Enable !== false)\r\n\t\tlet indexAnswer = cloneListAnswer.findIndex((item) => item.ID == AnsID)\r\n\t\tchar = listAlphabet[indexAnswer]\r\n\r\n\t\treturn char\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\t// Check active item when add new data\r\n\t\tif (dataListQuestion?.length > 0) {\r\n\t\t\tif (listQuestion.length > lengthData) {\r\n\t\t\t\tsetActiveID(listQuestion[0].ID)\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetLengthData(listQuestion.length)\r\n\t\t// Loading audio for change html audio (because the link not change when update state)\r\n\t\tsetLoadingAudio(true)\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetLoadingAudio(false)\r\n\t\t}, 100)\r\n\r\n\t\t// Check all situations between no group and have group\r\n\t\tif (!isGroup.status) {\r\n\t\t\tlistQuestion.forEach((item) => {\r\n\t\t\t\titem.isChecked = null\r\n\r\n\t\t\t\tif (listQuestionAddOutside?.length > 0) {\r\n\t\t\t\t\tif (listQuestionAddOutside.some((object) => object['ExerciseOrExerciseGroupID'] == item.ID)) {\r\n\t\t\t\t\t\titem.isChecked = true\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tsetDataListQuestion(listQuestion)\r\n\t\t} else {\r\n\t\t\tisGroup.id && isGroup.id === groupID && getQuestionInGroup()\r\n\t\t}\r\n\t}, [listQuestion])\r\n\r\n\tuseEffect(() => {\r\n\t\tisGroup.status && setDataListQuestion([])\r\n\t\tisGroup.status && isGroup.id && isGroup.id === groupID && getQuestionInGroup()\r\n\t}, [isGroup])\r\n\r\n\t// On change - add question\r\n\tconst onChange_AddQuestion = (checked, quesID) => {\r\n\t\tlet objectQuestion = {\r\n\t\t\ttype: 1,\r\n\t\t\tExerciseOrExerciseGroupID: quesID\r\n\t\t}\r\n\t\tif (checked) {\r\n\t\t\tonGetListQuestionID(objectQuestion)\r\n\t\t} else {\r\n\t\t\tonRemoveQuestionAdd(objectQuestion)\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (dataListQuestion?.length > 0) {\r\n\t\t\tif (listQuestionAddOutside?.length > 0) {\r\n\t\t\t\tdataListQuestion?.forEach((item) => {\r\n\t\t\t\t\tif (listQuestionAddOutside.some((object) => object['ExerciseOrExerciseGroupID'] == item.ID)) {\r\n\t\t\t\t\t\titem.isChecked = true\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\titem.isChecked = false\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tdataListQuestion?.forEach((item) => {\r\n\t\t\t\t\titem.isChecked = false\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tsetDataListQuestion([...dataListQuestion])\r\n\t\t}\r\n\t}, [listQuestionAddOutside])\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{dataListQuestion?.length == 0\r\n\t\t\t\t? !isGroup.status && (\r\n\t\t\t\t\t\t<p className=\"text-center\">\r\n\t\t\t\t\t\t\t<b>Danh sách còn trống</b>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t  )\r\n\t\t\t\t: dataListQuestion?.map((item, index) => (\r\n\t\t\t\t\t\t<div className={`question-item ${item.ID == activeID ? 'active' : ''}`} key={index} onMouseEnter={() => onHover(item.ID)}>\r\n\t\t\t\t\t\t\t<div className=\"box-detail\">\r\n\t\t\t\t\t\t\t\t<div className=\"box-title\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"title-ques\">Câu hỏi {index + 1}</span>\r\n\t\t\t\t\t\t\t\t\t{item.LinkAudio && returnAudio(item)}\r\n\t\t\t\t\t\t\t\t\t<div className=\"title-text\">{ReactHtmlParser(item.Content)}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"box-answer\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"question-single question-wrap w-100\">\r\n\t\t\t\t\t\t\t\t\t\t{item.ExerciseAnswer?.map((ans, i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<Radio\r\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={ans.isTrue}\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-block\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={ans.ID}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={ans.isTrue ? false : true}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"tick\">{returnAlphabet(item, ans.ID)}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text\">{ans.AnswerContent}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{userInformation?.RoleID !== 2 && (\r\n\t\t\t\t\t\t\t\t<div className=\"box-action\">\r\n\t\t\t\t\t\t\t\t\t<CreateQuestionForm\r\n\t\t\t\t\t\t\t\t\t\tquestionData={item}\r\n\t\t\t\t\t\t\t\t\t\tonFetchData={onFetchData}\r\n\t\t\t\t\t\t\t\t\t\tonEditData={(data) => onEditData(data)}\r\n\t\t\t\t\t\t\t\t\t\tisGroup={{ status: false, id: null }}\r\n\t\t\t\t\t\t\t\t\t\tgetActiveID={(ID: any) => setActiveID(ID)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<Popconfirm\r\n\t\t\t\t\t\t\t\t\t\ttitle=\"Bạn có chắc muốn xóa?\"\r\n\t\t\t\t\t\t\t\t\t\tonConfirm={() => handleOk(item)}\r\n\t\t\t\t\t\t\t\t\t\tokButtonProps={{ loading: confirmLoading }}\r\n\t\t\t\t\t\t\t\t\t\tonCancel={() => handleCancel(item.ID)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Tooltip title=\"Xóa câu hỏi\" placement=\"rightTop\">\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-icon delete\" onClick={() => deleteQuestionItem(item.ID)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Trash2 />\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t\t\t\t\t{!isGroup.status &&\r\n\t\t\t\t\t\t\t\t\t\tdataExam &&\r\n\t\t\t\t\t\t\t\t\t\t(listQuestionID.includes(item.ID) ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip title=\"Đã có trong đề thi\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-icon edit\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckOutlined />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"checkbox-addquestion\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={item.isChecked}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => onChange_AddQuestion(e.target.checked, item.ID)}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t  ))}\r\n\t\t\t{isGroup?.status && loadingInGroup ? (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Skeleton />\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\tisGroup?.status &&\r\n\t\t\t\tdataListQuestion?.length == 0 && (\r\n\t\t\t\t\t<p style={{ color: _.primaryColor }}>\r\n\t\t\t\t\t\t<i>Nhóm này chưa có câu hỏi</i>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t)\r\n\t\t\t)}\r\n\t\t\t{loadingQuestion && (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Skeleton />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default QuestionMultiple\r\n"]},"metadata":{},"sourceType":"module"}