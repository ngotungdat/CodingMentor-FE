{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\pages\\\\doing-test\\\\index.tsx\";\nimport React, { useEffect, useState, useRef } from 'react';\nimport { Steps, Button, Card, Divider, Skeleton, Modal } from 'antd';\nimport { useRouter } from 'next/router';\nimport { WarningOutlined, CaretRightOutlined, PauseOutlined } from '@ant-design/icons';\nconst {\n  Step\n} = Steps;\nimport LayoutBase from '~/components/LayoutBase';\nimport { useWrap } from '~/context/wrap';\nimport TitlePage from '~/components/TitlePage';\nimport moment from 'moment';\nimport ControlVolume from '~/components/Elements/ControlVolume';\nimport MainTest from '~/components/Global/DoingTest/MainTest';\nimport { examTopicApi } from '~/apiBase';\nimport { DoingTestProvider } from '~/context/useDoingTest';\n\nconst InformationUser = () => {\n  const {\n    userInformation\n  } = useWrap();\n  const {\n    0: isLoading,\n    1: setIsLoading\n  } = useState(false);\n  useEffect(() => {\n    if (!userInformation) {\n      setIsLoading(true);\n    } else {\n      setIsLoading(false);\n    }\n  }, [userInformation]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"info-box doing-test-box\",\n    children: [/*#__PURE__*/_jsxDEV(Divider, {\n      orientation: \"center\",\n      children: \"X\\xE1c nh\\u1EADn th\\xF4ng tin sau \\u0111\\xE2y\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 4\n    }, this), isLoading ? /*#__PURE__*/_jsxDEV(Skeleton, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"info-list\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"title\",\n            children: \"H\\u1ECD v\\xE0 t\\xEAn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 8\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text\",\n            children: userInformation === null || userInformation === void 0 ? void 0 : userInformation.FullNameUnicode\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 49\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"title\",\n            children: \"Ng\\xE0y sinh:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 8\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text\",\n            children: moment(userInformation === null || userInformation === void 0 ? void 0 : userInformation.DOB).format('DD/MM/YYYY')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 50\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"title\",\n            children: \"Email:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 8\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text\",\n            children: userInformation === null || userInformation === void 0 ? void 0 : userInformation.Email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 46\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"title\",\n            children: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 8\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text\",\n            children: userInformation === null || userInformation === void 0 ? void 0 : userInformation.Mobile\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 54\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-danger\",\n        children: [/*#__PURE__*/_jsxDEV(WarningOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 7\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text\",\n          children: \"N\\u1EBFu th\\xF4ng tin b\\u1ECB sai, vui l\\xF2ng li\\xEAn h\\u1EC7 t\\u01B0 v\\u1EA5n vi\\xEAn \\u0111\\u1EC3 s\\u1EEDa.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 27\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 3\n  }, this);\n};\n\nconst SoundTest = () => {\n  const {\n    0: isPlaying,\n    1: setIsPlaying\n  } = useState(false);\n  const audio = useRef(null);\n\n  const playSound = () => {\n    if (!isPlaying) {\n      audio.current.play();\n      setIsPlaying(true);\n    } else {\n      audio.current.pause();\n      setIsPlaying(false);\n    }\n  };\n\n  const controlVolume = value => {\n    let customValue = value / 100;\n    audio.current.volume = customValue;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"sound-test doing-test-box\",\n    children: [/*#__PURE__*/_jsxDEV(Divider, {\n      orientation: \"center\",\n      children: \"Ki\\u1EC3m tra \\xE2m thanh\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sound-img\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"/images/headphone-icon.jpg\",\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sound-test-content position-relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u0110eo tai nghe v\\xE0 b\\u1EA5m v\\xE0o n\\xFAt b\\xEAn d\\u01B0\\u1EDBi \\u0111\\u1EC3 ki\\u1EC3m tra \\xE2m thanh.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"position-absolute\",\n        style: {\n          opacity: 0\n        },\n        children: /*#__PURE__*/_jsxDEV(\"audio\", {\n          controls: true,\n          ref: audio,\n          onEnded: () => setIsPlaying(false),\n          children: /*#__PURE__*/_jsxDEV(\"source\", {\n            src: \"https://s3-eu-west-1.amazonaws.com/oep2stt/sample-listening-multiple-choice-one-answer/sample-audio.ogg\",\n            type: \"audio/mpeg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-100 d-flex justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(ControlVolume, {\n          getValueControl: value => controlVolume(value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: playSound,\n        icon: !isPlaying ? /*#__PURE__*/_jsxDEV(CaretRightOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 52\n        }, this) : /*#__PURE__*/_jsxDEV(PauseOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 77\n        }, this),\n        children: \"Nghe th\\u1EED\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 3\n  }, this);\n};\n\nconst steps = [{\n  title: 'Thông tin cá nhân',\n  content: /*#__PURE__*/_jsxDEV(InformationUser, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 12\n  }, this)\n}, {\n  title: 'Kiểm tra âm thanh',\n  content: /*#__PURE__*/_jsxDEV(SoundTest, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 12\n  }, this)\n}];\n\nconst DoingTest = () => {\n  const {\n    0: current,\n    1: setCurrent\n  } = useState(0);\n  const {\n    0: showTest,\n    1: setShowTest\n  } = useState(true);\n  const {\n    0: isModalVisible,\n    1: setIsModalVisible\n  } = useState(false);\n  const {\n    0: infoExam,\n    1: setInfoExam\n  } = useState(null);\n  const router = useRouter();\n  const {\n    examID: examID\n  } = router.query;\n  const {\n    packageDetailID: packageDetailID,\n    type: type,\n    CurriculumDetailID: CurriculumDetailID\n  } = router.query; // --- GET INFO EXAM ---\n\n  const getInfoExam = async () => {\n    try {\n      let res = await examTopicApi.getByID(examID);\n\n      if (res.status === 200) {\n        setInfoExam(res.data.data);\n      }\n    } catch (error) {\n      console.log('Error Info Exam: ', error.message);\n    } finally {}\n  };\n\n  const handleOk = () => {\n    setIsModalVisible(false);\n    router.push('package/package-student/');\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  };\n\n  const next = () => {\n    setCurrent(current + 1);\n  };\n\n  const prev = () => {\n    setCurrent(current - 1);\n  };\n\n  const moveToTest = () => {\n    if (!examID) {\n      setIsModalVisible(true);\n    } else {\n      setShowTest(true);\n    }\n  };\n\n  useEffect(() => {\n    getInfoExam();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(DoingTestProvider, {\n      children: [showTest && /*#__PURE__*/_jsxDEV(MainTest, {\n        packageDetailID: packageDetailID,\n        infoExam: infoExam,\n        examID: examID,\n        isDone: false,\n        type: type,\n        CurriculumDetailID: CurriculumDetailID\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        title: \"Ch\\xFA \\xFD!\",\n        visible: isModalVisible,\n        okText: \"\\u0110\\u1ED3ng \\xFD\",\n        cancelText: \"\\u0110\\xF3ng\",\n        onOk: handleOk,\n        onCancel: handleCancel,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontWeight: 500\n          },\n          children: \"B\\u1EA1n ch\\u01B0a ch\\u1ECDn \\u0111\\u1EC1 thi. Chuy\\u1EC3n \\u0111\\u1EBFn trang b\\u1ED9 \\u0111\\u1EC1?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"doing-test-step\",\n        children: [/*#__PURE__*/_jsxDEV(TitlePage, {\n          title: \"X\\xE1c nh\\u1EADn th\\xF4ng tin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          children: [/*#__PURE__*/_jsxDEV(Steps, {\n            className: \"step-doing\",\n            current: current,\n            children: steps.map(item => /*#__PURE__*/_jsxDEV(Step, {\n              title: item.title\n            }, item.title, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 9\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"steps-content\",\n            children: steps[current].content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"steps-action\",\n            children: [current > 0 && /*#__PURE__*/_jsxDEV(Button, {\n              className: \"btn-back-step\",\n              style: {\n                margin: '0 8px'\n              },\n              onClick: () => prev(),\n              children: \"Quay l\\u1EA1i\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 9\n            }, this), current < steps.length - 1 && /*#__PURE__*/_jsxDEV(Button, {\n              type: \"primary\",\n              onClick: () => next(),\n              children: \"Ti\\u1EBFp t\\u1EE5c\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 9\n            }, this), current === steps.length - 1 && /*#__PURE__*/_jsxDEV(Button, {\n              type: \"primary\",\n              onClick: moveToTest,\n              children: \"Ho\\xE0n t\\u1EA5t\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 4\n    }, this)\n  }, void 0, false);\n};\n\nDoingTest.layout = LayoutBase;\nexport default DoingTest;","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/pages/doing-test/index.tsx"],"names":["React","useEffect","useState","useRef","Steps","Button","Card","Divider","Skeleton","Modal","useRouter","WarningOutlined","CaretRightOutlined","PauseOutlined","Step","LayoutBase","useWrap","TitlePage","moment","ControlVolume","MainTest","examTopicApi","DoingTestProvider","InformationUser","userInformation","isLoading","setIsLoading","FullNameUnicode","DOB","format","Email","Mobile","SoundTest","isPlaying","setIsPlaying","audio","playSound","current","play","pause","controlVolume","value","customValue","volume","opacity","steps","title","content","DoingTest","setCurrent","showTest","setShowTest","isModalVisible","setIsModalVisible","infoExam","setInfoExam","router","examID","query","packageDetailID","type","CurriculumDetailID","getInfoExam","res","getByID","status","data","error","console","log","message","handleOk","push","handleCancel","next","prev","moveToTest","fontWeight","map","item","margin","length","layout"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from 'react'\r\nimport { Steps, Button, message, Card, Divider, Skeleton, Modal } from 'antd'\r\nimport { useRouter } from 'next/router'\r\nimport Link from 'next/link'\r\nimport { WarningOutlined, CaretRightOutlined, PauseOutlined } from '@ant-design/icons'\r\nconst { Step } = Steps\r\nimport LayoutBase from '~/components/LayoutBase'\r\nimport { useWrap } from '~/context/wrap'\r\nimport TitlePage from '~/components/TitlePage'\r\nimport moment from 'moment'\r\nimport ControlVolume from '~/components/Elements/ControlVolume'\r\nimport MainTest from '~/components/Global/DoingTest/MainTest'\r\nimport { examTopicApi } from '~/apiBase'\r\nimport { DoingTestProvider } from '~/context/useDoingTest'\r\n\r\nconst InformationUser = () => {\r\n\tconst { userInformation } = useWrap()\r\n\tconst [isLoading, setIsLoading] = useState(false)\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!userInformation) {\r\n\t\t\tsetIsLoading(true)\r\n\t\t} else {\r\n\t\t\tsetIsLoading(false)\r\n\t\t}\r\n\t}, [userInformation])\r\n\r\n\treturn (\r\n\t\t<div className=\"info-box doing-test-box\">\r\n\t\t\t<Divider orientation=\"center\">Xác nhận thông tin sau đây</Divider>\r\n\t\t\t{isLoading ? (\r\n\t\t\t\t<Skeleton />\r\n\t\t\t) : (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<ul className=\"info-list\">\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<span className=\"title\">Họ và tên</span> <span className=\"text\">{userInformation?.FullNameUnicode}</span>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<span className=\"title\">Ngày sinh:</span> <span className=\"text\">{moment(userInformation?.DOB).format('DD/MM/YYYY')}</span>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<span className=\"title\">Email:</span> <span className=\"text\">{userInformation?.Email}</span>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<span className=\"title\">Số điện thoại:</span> <span className=\"text\">{userInformation?.Mobile}</span>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t<p className=\"text-danger\">\r\n\t\t\t\t\t\t<WarningOutlined /> <span className=\"text\">Nếu thông tin bị sai, vui lòng liên hệ tư vấn viên để sửa.</span>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst SoundTest = () => {\r\n\tconst [isPlaying, setIsPlaying] = useState(false)\r\n\tconst audio = useRef(null)\r\n\r\n\tconst playSound = () => {\r\n\t\tif (!isPlaying) {\r\n\t\t\taudio.current.play()\r\n\t\t\tsetIsPlaying(true)\r\n\t\t} else {\r\n\t\t\taudio.current.pause()\r\n\t\t\tsetIsPlaying(false)\r\n\t\t}\r\n\t}\r\n\r\n\tconst controlVolume = (value) => {\r\n\t\tlet customValue = value / 100\r\n\t\taudio.current.volume = customValue\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"sound-test doing-test-box\">\r\n\t\t\t<Divider orientation=\"center\">Kiểm tra âm thanh</Divider>\r\n\t\t\t<div className=\"sound-img\">\r\n\t\t\t\t<img src=\"/images/headphone-icon.jpg\" alt=\"\" />\r\n\t\t\t</div>\r\n\t\t\t<div className=\"sound-test-content position-relative\">\r\n\t\t\t\t<p>Đeo tai nghe và bấm vào nút bên dưới để kiểm tra âm thanh.</p>\r\n\t\t\t\t<div className=\"position-absolute\" style={{ opacity: 0 }}>\r\n\t\t\t\t\t<audio controls ref={audio} onEnded={() => setIsPlaying(false)}>\r\n\t\t\t\t\t\t<source\r\n\t\t\t\t\t\t\tsrc=\"https://s3-eu-west-1.amazonaws.com/oep2stt/sample-listening-multiple-choice-one-answer/sample-audio.ogg\"\r\n\t\t\t\t\t\t\ttype=\"audio/mpeg\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</audio>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"w-100 d-flex justify-content-center\">\r\n\t\t\t\t\t<ControlVolume getValueControl={(value) => controlVolume(value)} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<Button onClick={playSound} icon={!isPlaying ? <CaretRightOutlined /> : <PauseOutlined />}>\r\n\t\t\t\t\tNghe thử\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst steps = [\r\n\t{\r\n\t\ttitle: 'Thông tin cá nhân',\r\n\t\tcontent: <InformationUser />\r\n\t},\r\n\t{\r\n\t\ttitle: 'Kiểm tra âm thanh',\r\n\t\tcontent: <SoundTest />\r\n\t}\r\n]\r\n\r\nconst DoingTest = () => {\r\n\tconst [current, setCurrent] = useState(0)\r\n\tconst [showTest, setShowTest] = useState(true)\r\n\tconst [isModalVisible, setIsModalVisible] = useState(false)\r\n\tconst [infoExam, setInfoExam] = useState<IExamTopic>(null)\r\n\tconst router = useRouter()\r\n\tconst { examID: examID } = router.query\r\n\tconst { packageDetailID: packageDetailID, type: type, CurriculumDetailID: CurriculumDetailID } = router.query\r\n\r\n\t// --- GET INFO EXAM ---\r\n\tconst getInfoExam = async () => {\r\n\t\ttry {\r\n\t\t\tlet res = await examTopicApi.getByID(examID)\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tsetInfoExam(res.data.data)\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log('Error Info Exam: ', error.message)\r\n\t\t} finally {\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleOk = () => {\r\n\t\tsetIsModalVisible(false)\r\n\t\trouter.push('package/package-student/')\r\n\t}\r\n\r\n\tconst handleCancel = () => {\r\n\t\tsetIsModalVisible(false)\r\n\t}\r\n\r\n\tconst next = () => {\r\n\t\tsetCurrent(current + 1)\r\n\t}\r\n\r\n\tconst prev = () => {\r\n\t\tsetCurrent(current - 1)\r\n\t}\r\n\r\n\tconst moveToTest = () => {\r\n\t\tif (!examID) {\r\n\t\t\tsetIsModalVisible(true)\r\n\t\t} else {\r\n\t\t\tsetShowTest(true)\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tgetInfoExam()\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<DoingTestProvider>\r\n\t\t\t\t{showTest && (\r\n\t\t\t\t\t<MainTest\r\n\t\t\t\t\t\tpackageDetailID={packageDetailID}\r\n\t\t\t\t\t\tinfoExam={infoExam}\r\n\t\t\t\t\t\texamID={examID}\r\n\t\t\t\t\t\tisDone={false}\r\n\t\t\t\t\t\ttype={type}\r\n\t\t\t\t\t\tCurriculumDetailID={CurriculumDetailID}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Modal title=\"Chú ý!\" visible={isModalVisible} okText=\"Đồng ý\" cancelText=\"Đóng\" onOk={handleOk} onCancel={handleCancel}>\r\n\t\t\t\t\t<p style={{ fontWeight: 500 }}>Bạn chưa chọn đề thi. Chuyển đến trang bộ đề?</p>\r\n\t\t\t\t</Modal>\r\n\r\n\t\t\t\t<div className=\"doing-test-step\">\r\n\t\t\t\t\t<TitlePage title=\"Xác nhận thông tin\" />\r\n\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t<Steps className=\"step-doing\" current={current}>\r\n\t\t\t\t\t\t\t{steps.map((item) => (\r\n\t\t\t\t\t\t\t\t<Step key={item.title} title={item.title} />\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Steps>\r\n\t\t\t\t\t\t<div className=\"steps-content\">{steps[current].content}</div>\r\n\t\t\t\t\t\t<div className=\"steps-action\">\r\n\t\t\t\t\t\t\t{current > 0 && (\r\n\t\t\t\t\t\t\t\t<Button className=\"btn-back-step\" style={{ margin: '0 8px' }} onClick={() => prev()}>\r\n\t\t\t\t\t\t\t\t\tQuay lại\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{current < steps.length - 1 && (\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" onClick={() => next()}>\r\n\t\t\t\t\t\t\t\t\tTiếp tục\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{current === steps.length - 1 && (\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" onClick={moveToTest}>\r\n\t\t\t\t\t\t\t\t\tHoàn tất\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</div>\r\n\t\t\t</DoingTestProvider>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nDoingTest.layout = LayoutBase\r\nexport default DoingTest\r\n"]},"metadata":{},"sourceType":"module"}