{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Profile\\\\ProfileCustomer\\\\InfoOtherCard\\\\ExamAppointmentTable.tsx\",\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport moment from 'moment';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nimport { testCustomerApi } from '~/apiBase';\nimport ExpandTable from '~/components/ExpandTable';\nimport { useWrap } from '~/context/wrap';\nExamAppointmentTable.propTypes = {\n  studentID: PropTypes.number\n};\nExamAppointmentTable.defaultProps = {\n  studentID: null\n};\n\nfunction ExamAppointmentTable(props) {\n  _s();\n\n  var _this = this;\n\n  var studentID = props.studentID;\n\n  var _useState = useState({\n    type: 'GET_ALL',\n    status: false\n  }),\n      isLoading = _useState[0],\n      setIsLoading = _useState[1];\n\n  var _useWrap = useWrap(),\n      showNoti = _useWrap.showNoti;\n\n  var _useState2 = useState([]),\n      examAppointmentList = _useState2[0],\n      setExamAppointmentList = _useState2[1];\n\n  var _useState3 = useState(null),\n      totalPage = _useState3[0],\n      setTotalPage = _useState3[1]; // FILTER\n\n\n  var _useState4 = useState({\n    pageSize: 10,\n    pageIndex: 1,\n    UserInformationID: studentID\n  }),\n      filters = _useState4[0],\n      setFilters = _useState4[1];\n\n  var getPagination = function getPagination(pageNumber) {\n    setFilters(_objectSpread(_objectSpread({}, filters), {}, {\n      pageIndex: pageNumber\n    }));\n  };\n\n  var fetchExamAppointmentList = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              setIsLoading({\n                type: 'GET_ALL',\n                status: true\n              });\n              _context.next = 4;\n              return testCustomerApi.getAll(filters);\n\n            case 4:\n              res = _context.sent;\n\n              if (res.status === 200) {\n                setExamAppointmentList(res.data.data);\n                setTotalPage(res.data.totalRow);\n              }\n\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](0);\n              showNoti('danger', _context.t0.message);\n\n            case 11:\n              _context.prev = 11;\n              setIsLoading({\n                type: 'GET_ALL',\n                status: false\n              });\n              return _context.finish(11);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 8, 11, 14]]);\n    }));\n\n    return function fetchExamAppointmentList() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    fetchExamAppointmentList();\n  }, [filters]);\n  var columns = [{\n    title: 'Trung tâm',\n    width: 150,\n    dataIndex: 'BranchName'\n  }, {\n    title: 'Ngày hẹn',\n    width: 150,\n    dataIndex: 'AppointmentDate',\n    render: function render(date) {\n      return date ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-weight-black\",\n        children: moment(date).format('DD/MM/YYYY')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 30\n      }, _this) : '';\n    }\n  }, {\n    title: 'Thời gian',\n    dataIndex: 'Time',\n    width: 150,\n    render: function render(time) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-weight-black\",\n        children: time\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 22\n      }, _this);\n    }\n  }, {\n    title: 'Nhân viên tư vấn',\n    width: 150,\n    dataIndex: 'CounselorsName'\n  }, {\n    title: 'Trạng thái',\n    width: 150,\n    dataIndex: 'StatusName',\n    render: function render(statusName) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-weight-black\",\n        children: statusName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 28\n      }, _this);\n    }\n  }];\n\n  var expandedRowRender = function expandedRowRender(item) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"font-weight-black\",\n        children: \"Ghi ch\\xFA: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 5\n      }, _this), item.Note]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 4\n    }, _this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(ExpandTable, {\n    loading: isLoading,\n    totalPage: totalPage,\n    currentPage: filters.pageIndex,\n    getPagination: getPagination,\n    noScroll: true,\n    dataSource: examAppointmentList,\n    columns: columns,\n    Extra: /*#__PURE__*/_jsxDEV(\"h5\", {\n      children: \"H\\u1EB9n \\u0111\\u0103ng k\\xFD kh\\xF3a h\\u1ECDc\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }, this),\n    expandable: {\n      expandedRowRender: expandedRowRender\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 3\n  }, this);\n}\n\n_s(ExamAppointmentTable, \"BJc9nNq3oysOl0wCC300uiCqA5M=\", false, function () {\n  return [useWrap];\n});\n\n_c = ExamAppointmentTable;\nexport default ExamAppointmentTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"ExamAppointmentTable\");","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Profile/ProfileCustomer/InfoOtherCard/ExamAppointmentTable.tsx"],"names":["moment","PropTypes","React","useEffect","useState","testCustomerApi","ExpandTable","useWrap","ExamAppointmentTable","propTypes","studentID","number","defaultProps","props","type","status","isLoading","setIsLoading","showNoti","examAppointmentList","setExamAppointmentList","totalPage","setTotalPage","pageSize","pageIndex","UserInformationID","filters","setFilters","getPagination","pageNumber","fetchExamAppointmentList","getAll","res","data","totalRow","message","columns","title","width","dataIndex","render","date","format","time","statusName","expandedRowRender","item","Note"],"mappings":"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","sourcesContent":["import moment from 'moment'\r\nimport PropTypes from 'prop-types'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { testCustomerApi } from '~/apiBase'\r\nimport ExpandTable from '~/components/ExpandTable'\r\nimport { useWrap } from '~/context/wrap'\r\n\r\nExamAppointmentTable.propTypes = {\r\n\tstudentID: PropTypes.number\r\n}\r\nExamAppointmentTable.defaultProps = {\r\n\tstudentID: null\r\n}\r\nfunction ExamAppointmentTable(props) {\r\n\tconst { studentID } = props\r\n\tconst [isLoading, setIsLoading] = useState({\r\n\t\ttype: 'GET_ALL',\r\n\t\tstatus: false\r\n\t})\r\n\tconst { showNoti } = useWrap()\r\n\tconst [examAppointmentList, setExamAppointmentList] = useState<ITestCustomer[]>([])\r\n\tconst [totalPage, setTotalPage] = useState(null)\r\n\t// FILTER\r\n\tconst [filters, setFilters] = useState({\r\n\t\tpageSize: 10,\r\n\t\tpageIndex: 1,\r\n\t\tUserInformationID: studentID\r\n\t})\r\n\tconst getPagination = (pageNumber: number) => {\r\n\t\tsetFilters({\r\n\t\t\t...filters,\r\n\t\t\tpageIndex: pageNumber\r\n\t\t})\r\n\t}\r\n\r\n\tconst fetchExamAppointmentList = async () => {\r\n\t\ttry {\r\n\t\t\tsetIsLoading({\r\n\t\t\t\ttype: 'GET_ALL',\r\n\t\t\t\tstatus: true\r\n\t\t\t})\r\n\t\t\tconst res = await testCustomerApi.getAll(filters)\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tsetExamAppointmentList(res.data.data)\r\n\t\t\t\tsetTotalPage(res.data.totalRow)\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({\r\n\t\t\t\ttype: 'GET_ALL',\r\n\t\t\t\tstatus: false\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchExamAppointmentList()\r\n\t}, [filters])\r\n\r\n\tconst columns = [\r\n\t\t{ title: 'Trung tâm', width: 150, dataIndex: 'BranchName' },\r\n\t\t{\r\n\t\t\ttitle: 'Ngày hẹn',\r\n\t\t\twidth: 150,\r\n\t\t\tdataIndex: 'AppointmentDate',\r\n\t\t\trender: (date) => (date ? <p className=\"font-weight-black\">{moment(date).format('DD/MM/YYYY')}</p> : '')\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Thời gian',\r\n\t\t\tdataIndex: 'Time',\r\n\t\t\twidth: 150,\r\n\t\t\trender: (time) => <p className=\"font-weight-black\">{time}</p>\r\n\t\t},\r\n\t\t{ title: 'Nhân viên tư vấn', width: 150, dataIndex: 'CounselorsName' },\r\n\t\t{\r\n\t\t\ttitle: 'Trạng thái',\r\n\t\t\twidth: 150,\r\n\t\t\tdataIndex: 'StatusName',\r\n\t\t\trender: (statusName) => <p className=\"font-weight-black\">{statusName}</p>\r\n\t\t}\r\n\t]\r\n\r\n\tconst expandedRowRender = (item: ITestCustomer) => {\r\n\t\treturn (\r\n\t\t\t<p>\r\n\t\t\t\t<span className=\"font-weight-black\">Ghi chú: </span>\r\n\t\t\t\t{item.Note}\r\n\t\t\t</p>\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<ExpandTable\r\n\t\t\tloading={isLoading}\r\n\t\t\ttotalPage={totalPage}\r\n\t\t\tcurrentPage={filters.pageIndex}\r\n\t\t\tgetPagination={getPagination}\r\n\t\t\tnoScroll\r\n\t\t\tdataSource={examAppointmentList}\r\n\t\t\tcolumns={columns}\r\n\t\t\tExtra={<h5>Hẹn đăng ký khóa học</h5>}\r\n\t\t\texpandable={{ expandedRowRender }}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default ExamAppointmentTable\r\n"]},"metadata":{},"sourceType":"module"}