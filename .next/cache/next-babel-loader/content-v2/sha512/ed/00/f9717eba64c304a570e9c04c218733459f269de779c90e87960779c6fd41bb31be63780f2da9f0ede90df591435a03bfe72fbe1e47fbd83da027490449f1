{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Global\\\\StaffList\\\\ResetPassForm.tsx\";\nimport React, { useState } from 'react';\nimport { Modal } from 'antd';\nimport { RetweetOutlined } from '@ant-design/icons';\nimport { Tooltip } from 'antd';\nimport { staffApi } from '~/apiBase';\nimport { useWrap } from '~/context/wrap';\n\nconst ResetPassForm = props => {\n  const {\n    dataRow\n  } = props;\n  const {\n    showNoti\n  } = useWrap();\n  const {\n    0: isModalVisible,\n    1: setIsModalVisible\n  } = useState(false);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n\n  const showModal = () => {\n    setIsModalVisible(true);\n  };\n\n  const handleOk = () => {\n    resetPassword();\n  }; // -------------- RESET PASSWORD ----------------\n\n\n  const resetPassword = async () => {\n    let dataSubmit = {\n      UserInformationID: dataRow.UserInformationID,\n      Password: '123456'\n    };\n    setLoading(true);\n\n    try {\n      let res = await staffApi.update(dataSubmit);\n\n      if (res.status === 200) {\n        showNoti('success', 'Khôi phục thành công');\n        setIsModalVisible(false);\n      }\n    } catch (error) {\n      showNoti('danger', error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n      title: \"Kh\\xF4i ph\\u1EE5c m\\u1EADt kh\\u1EA9u\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-icon\",\n        onClick: showModal,\n        children: /*#__PURE__*/_jsxDEV(RetweetOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      okButtonProps: {\n        loading: loading\n      },\n      title: \"Kh\\xF4i ph\\u1EE5c m\\u1EADt kh\\u1EA9u\",\n      visible: isModalVisible,\n      onOk: handleOk,\n      onCancel: handleCancel,\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontWeight: 500\n        },\n        children: \"Kh\\xF4i ph\\u1EE5c m\\u1EADt kh\\u1EA9u cho nh\\xE2n vi\\xEAn n\\xE0y?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n};\n\nexport default ResetPassForm;","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Global/StaffList/ResetPassForm.tsx"],"names":["React","useState","Modal","RetweetOutlined","Tooltip","staffApi","useWrap","ResetPassForm","props","dataRow","showNoti","isModalVisible","setIsModalVisible","loading","setLoading","showModal","handleOk","resetPassword","dataSubmit","UserInformationID","Password","res","update","status","error","message","handleCancel","fontWeight"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,KAAT,QAA8B,MAA9B;AACA,SAASC,eAAT,QAAgC,mBAAhC;AACA,SAASC,OAAT,QAAwB,MAAxB;AACA,SAASC,QAAT,QAAyB,WAAzB;AACA,SAASC,OAAT,QAAwB,gBAAxB;;AAEA,MAAMC,aAAa,GAAIC,KAAD,IAAW;AAChC,QAAM;AAAEC,IAAAA;AAAF,MAAcD,KAApB;AACA,QAAM;AAAEE,IAAAA;AAAF,MAAeJ,OAAO,EAA5B;AACA,QAAM;AAAA,OAACK,cAAD;AAAA,OAAiBC;AAAjB,MAAsCX,QAAQ,CAAC,KAAD,CAApD;AACA,QAAM;AAAA,OAACY,OAAD;AAAA,OAAUC;AAAV,MAAwBb,QAAQ,CAAC,KAAD,CAAtC;;AAEA,QAAMc,SAAS,GAAG,MAAM;AACvBH,IAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACA,GAFD;;AAIA,QAAMI,QAAQ,GAAG,MAAM;AACtBC,IAAAA,aAAa;AACb,GAFD,CAVgC,CAchC;;;AACA,QAAMA,aAAa,GAAG,YAAY;AACjC,QAAIC,UAAU,GAAG;AAChBC,MAAAA,iBAAiB,EAAEV,OAAO,CAACU,iBADX;AAEhBC,MAAAA,QAAQ,EAAE;AAFM,KAAjB;AAIAN,IAAAA,UAAU,CAAC,IAAD,CAAV;;AACA,QAAI;AACH,UAAIO,GAAG,GAAG,MAAMhB,QAAQ,CAACiB,MAAT,CAAgBJ,UAAhB,CAAhB;;AACA,UAAIG,GAAG,CAACE,MAAJ,KAAe,GAAnB,EAAwB;AACvBb,QAAAA,QAAQ,CAAC,SAAD,EAAY,sBAAZ,CAAR;AACAE,QAAAA,iBAAiB,CAAC,KAAD,CAAjB;AACA;AACD,KAND,CAME,OAAOY,KAAP,EAAc;AACfd,MAAAA,QAAQ,CAAC,QAAD,EAAWc,KAAK,CAACC,OAAjB,CAAR;AACA,KARD,SAQU;AACTX,MAAAA,UAAU,CAAC,KAAD,CAAV;AACA;AACD,GAjBD;;AAmBA,QAAMY,YAAY,GAAG,MAAM;AAC1Bd,IAAAA,iBAAiB,CAAC,KAAD,CAAjB;AACA,GAFD;;AAIA,sBACC;AAAA,4BACC,QAAC,OAAD;AAAS,MAAA,KAAK,EAAC,sCAAf;AAAA,6BACC;AAAQ,QAAA,SAAS,EAAC,cAAlB;AAAiC,QAAA,OAAO,EAAEG,SAA1C;AAAA,+BACC,QAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,YADD,eAMC,QAAC,KAAD;AACC,MAAA,aAAa,EAAE;AAAEF,QAAAA,OAAO,EAAEA;AAAX,OADhB;AAEC,MAAA,KAAK,EAAC,sCAFP;AAGC,MAAA,OAAO,EAAEF,cAHV;AAIC,MAAA,IAAI,EAAEK,QAJP;AAKC,MAAA,QAAQ,EAAEU,YALX;AAAA,6BAOC;AAAG,QAAA,KAAK,EAAE;AAAEC,UAAAA,UAAU,EAAE;AAAd,SAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAPD;AAAA;AAAA;AAAA;AAAA,YAND;AAAA,kBADD;AAkBA,CAxDD;;AA0DA,eAAepB,aAAf","sourcesContent":["import React, { useState } from 'react';\r\nimport { Modal, Button } from 'antd';\r\nimport { RetweetOutlined } from '@ant-design/icons';\r\nimport { Tooltip } from 'antd';\r\nimport { staffApi } from '~/apiBase';\r\nimport { useWrap } from '~/context/wrap';\r\n\r\nconst ResetPassForm = (props) => {\r\n\tconst { dataRow } = props;\r\n\tconst { showNoti } = useWrap();\r\n\tconst [isModalVisible, setIsModalVisible] = useState(false);\r\n\tconst [loading, setLoading] = useState(false);\r\n\r\n\tconst showModal = () => {\r\n\t\tsetIsModalVisible(true);\r\n\t};\r\n\r\n\tconst handleOk = () => {\r\n\t\tresetPassword();\r\n\t};\r\n\r\n\t// -------------- RESET PASSWORD ----------------\r\n\tconst resetPassword = async () => {\r\n\t\tlet dataSubmit = {\r\n\t\t\tUserInformationID: dataRow.UserInformationID,\r\n\t\t\tPassword: '123456'\r\n\t\t};\r\n\t\tsetLoading(true);\r\n\t\ttry {\r\n\t\t\tlet res = await staffApi.update(dataSubmit);\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tshowNoti('success', 'Khôi phục thành công');\r\n\t\t\t\tsetIsModalVisible(false);\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message);\r\n\t\t} finally {\r\n\t\t\tsetLoading(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleCancel = () => {\r\n\t\tsetIsModalVisible(false);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Tooltip title=\"Khôi phục mật khẩu\">\r\n\t\t\t\t<button className=\"btn btn-icon\" onClick={showModal}>\r\n\t\t\t\t\t<RetweetOutlined />\r\n\t\t\t\t</button>\r\n\t\t\t</Tooltip>\r\n\t\t\t<Modal\r\n\t\t\t\tokButtonProps={{ loading: loading }}\r\n\t\t\t\ttitle=\"Khôi phục mật khẩu\"\r\n\t\t\t\tvisible={isModalVisible}\r\n\t\t\t\tonOk={handleOk}\r\n\t\t\t\tonCancel={handleCancel}\r\n\t\t\t>\r\n\t\t\t\t<p style={{ fontWeight: 500 }}>Khôi phục mật khẩu cho nhân viên này?</p>\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default ResetPassForm;\r\n"]},"metadata":{},"sourceType":"module"}