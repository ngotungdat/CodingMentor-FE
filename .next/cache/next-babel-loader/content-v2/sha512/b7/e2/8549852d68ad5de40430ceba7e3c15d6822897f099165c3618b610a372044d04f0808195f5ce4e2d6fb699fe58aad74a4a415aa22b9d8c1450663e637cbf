{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Global\\\\CourseList\\\\CourseListDetail\\\\CourseDetailCalendar\\\\Calendar.tsx\",\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { Button, Popover, Spin } from 'antd';\nimport moment from 'moment';\nimport { useRouter } from 'next/router';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport { Calendar, momentLocalizer } from 'react-big-calendar';\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\nimport CloseZoomRoom from '~/components/Global/ManageZoom/ZoomRoom/CloseZoomRoom';\nimport ZoomRecordModal from '~/components/Global/ManageZoom/ZoomRoom/ZoomRecordModal';\nimport { useWrap } from '~/context/wrap';\nimport CourseDetailUploadFile from './CourseDetailUploadFile';\nmoment.locale('vi');\nvar localizer = momentLocalizer(moment);\nCDCalendar.propTypes = {\n  isLoading: PropTypes.shape({\n    type: PropTypes.string.isRequired,\n    status: PropTypes.bool.isRequired\n  }),\n  eventList: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    title: PropTypes.string.isRequired,\n    start: PropTypes.instanceOf(Date).isRequired,\n    end: PropTypes.instanceOf(Date).isRequired,\n    resource: PropTypes.object\n  })).isRequired,\n  isLoaded: PropTypes.bool,\n  //\n  isUploadDocument: PropTypes.bool,\n  handleUploadDocument: PropTypes.func,\n  //\n  isGetRecordList: PropTypes.bool,\n  //\n  isStudyZoom: PropTypes.bool,\n  fetchStudyZoom: PropTypes.func,\n  handleStudyZoom: PropTypes.func,\n  handleEndStudyZoom: PropTypes.func\n};\nCDCalendar.defaultProps = {\n  isLoading: {\n    type: '',\n    status: false\n  },\n  eventList: [],\n  isLoaded: false,\n  //\n  isUploadDocument: false,\n  handleUploadDocument: null,\n  //\n  isGetRecordList: false,\n  //\n  isStudyZoom: false,\n  fetchStudyZoom: null,\n  handleStudyZoom: null,\n  handleEndStudyZoom: null\n};\n\nfunction CDCalendar(props) {\n  _s();\n\n  var _this = this;\n\n  var router = useRouter();\n  var isLoading = props.isLoading,\n      eventList = props.eventList,\n      isLoaded = props.isLoaded,\n      isUploadDocument = props.isUploadDocument,\n      handleUploadDocument = props.handleUploadDocument,\n      isGetRecordList = props.isGetRecordList,\n      isStudyZoom = props.isStudyZoom,\n      fetchStudyZoom = props.fetchStudyZoom,\n      handleStudyZoom = props.handleStudyZoom,\n      handleEndStudyZoom = props.handleEndStudyZoom;\n  console.log('eventList: ', eventList);\n\n  var _useState = useState(0),\n      courseScheduleID = _useState[0],\n      setCourseScheduleID = _useState[1];\n\n  var _useState2 = useState({\n    type: '',\n    status: false\n  }),\n      isModalVisible = _useState2[0],\n      setIsModalVisible = _useState2[1];\n\n  var openModal = function openModal(type) {\n    return setIsModalVisible({\n      type: type,\n      status: true\n    });\n  };\n\n  var closeModal = function closeModal() {\n    return setIsModalVisible({\n      type: '',\n      status: false\n    });\n  };\n\n  var _useWrap = useWrap(),\n      userInformation = _useWrap.userInformation;\n\n  var middlewareOpenModal = function middlewareOpenModal(ID, type) {\n    setCourseScheduleID(ID);\n    openModal(type);\n  };\n\n  var checkFetchStudyZoom = function checkFetchStudyZoom(date) {\n    if (!fetchStudyZoom) return;\n    fetchStudyZoom(date);\n  };\n\n  var checkHandleStudyZoom = function checkHandleStudyZoom(data) {\n    if (!handleStudyZoom) return;\n    handleStudyZoom(data);\n  };\n\n  var moveToTest = function moveToTest(data) {\n    router.push({\n      pathname: '/exam/exam-review',\n      query: {\n        examID: data.ExamTopicID,\n        packageDetailID: data.CourseID,\n        type: 'check',\n        // Kiểm tra,\n        CurriculumDetailID: data.CurriculumsDetailID\n      }\n    });\n  };\n\n  var checkTypeButtonStudyZoom = function checkTypeButtonStudyZoom(data) {\n    var btnID = data.btnID,\n        btnName = data.btnName,\n        dataDetail = data.dataDetail;\n    if (!btnID) return; // HỌC VIÊN\n\n    if ((userInformation === null || userInformation === void 0 ? void 0 : userInformation.RoleID) === 3) {\n      if (btnID === 2) {\n        return /*#__PURE__*/_jsxDEV(Button, {\n          size: \"middle\",\n          className: \"mt-3 btn-success w-100\",\n          onClick: function onClick() {\n            checkHandleStudyZoom(data);\n          },\n          children: btnName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 6\n        }, _this);\n      }\n\n      if (btnID === 3) {\n        return /*#__PURE__*/_jsxDEV(Button, {\n          disabled: true,\n          size: \"middle\",\n          className: \"mt-3 btn-light w-100\",\n          children: btnName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 6\n        }, _this);\n      }\n\n      if (btnID === 4) {\n        return /*#__PURE__*/_jsxDEV(Button, {\n          size: \"middle\",\n          className: \"mt-3 btn-success w-100\",\n          onClick: function onClick() {\n            moveToTest(dataDetail);\n          },\n          children: btnName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 6\n        }, _this);\n      }\n    } // GIÁO VIÊN\n\n\n    if ((userInformation === null || userInformation === void 0 ? void 0 : userInformation.RoleID) === 2 || (userInformation === null || userInformation === void 0 ? void 0 : userInformation.RoleID) === 5) {\n      if (btnID === 1) {\n        return /*#__PURE__*/_jsxDEV(Button, {\n          size: \"middle\",\n          className: \"mt-3 btn-warning w-100\",\n          onClick: function onClick() {\n            checkHandleStudyZoom(data);\n          },\n          children: btnName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 6\n        }, _this);\n      }\n\n      if (btnID === 2) {\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            size: \"middle\",\n            className: \"mt-3 btn-success w-100\",\n            onClick: function onClick() {\n              checkHandleStudyZoom(data);\n            },\n            children: btnName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(Button, {\n            size: \"middle\",\n            className: \"btn-primary w-100\",\n            onClick: function onClick() {\n              if (true) {\n                var url = window.location.origin;\n                navigator.clipboard.writeText(\"\".concat(url, \"/course/zoom-view/\").concat(data.scheduleID));\n              }\n            },\n            style: {\n              marginTop: 4\n            },\n            children: \"Sao ch\\xE9p link zoom\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(CloseZoomRoom, {\n            isIcon: false,\n            handleClose: function handleClose() {\n              checkHandleStudyZoom(_objectSpread(_objectSpread({}, data), {}, {\n                btnID: 3\n              }));\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 7\n          }, _this)]\n        }, void 0, true);\n      }\n\n      if (btnID === 3) {\n        return /*#__PURE__*/_jsxDEV(Button, {\n          disabled: true,\n          size: \"middle\",\n          className: \"mt-3 btn-light w-100\",\n          children: btnName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 6\n        }, _this);\n      }\n    }\n  };\n\n  var getStrDate = function getStrDate(date) {\n    var nDate = new Date(date);\n    return nDate.getDate() + '-' + (nDate.getMonth() + 1) + '-' + nDate.getFullYear();\n  };\n\n  var compare = function compare(dateTimeA, dateTimeB) {\n    var momentA = moment(dateTimeA, 'DD/MM/YYYY');\n    var momentB = moment(dateTimeB, 'DD/MM/YYYY');\n    if (momentA > momentB) return 1;else if (momentA < momentB) return -1;else return 0;\n  };\n\n  var styleEvent = function styleEvent(_ref) {\n    var event = _ref.event;\n    var date = new Date();\n    var checkDate = compare(getStrDate(event.start), getStrDate(date)); // -1: qua roi, 0: hom nay, 1: chua qua\n\n    var _event$resource = event.resource,\n        ID = _event$resource.ID,\n        CourseID = _event$resource.CourseID,\n        CourseName = _event$resource.CourseName,\n        RoomName = _event$resource.RoomName,\n        BranchName = _event$resource.BranchName,\n        TeacherName = _event$resource.TeacherName,\n        SubjectName = _event$resource.SubjectName,\n        LinkDocument = _event$resource.LinkDocument,\n        StudyTimeName = _event$resource.StudyTimeName,\n        btnID = _event$resource.ButtonID,\n        btnName = _event$resource.ButtonName,\n        idx = _event$resource.idx,\n        IsExam = _event$resource.IsExam,\n        CurriculumDetailID = _event$resource.CurriculumDetailID,\n        TeacherAttendanceID = _event$resource.TeacherAttendanceID;\n    var dataDetail = event.resource;\n\n    var content = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"course-dt-event-info\",\n      style: {\n        maxWidth: 300\n      },\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [CourseName && /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Kh\\xF3a h\\u1ECDc:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 8\n          }, _this), \" \", CourseName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 7\n        }, _this), SubjectName && /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [IsExam ? 'Kiểm tra môn:' : 'Bài học:', \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 8\n          }, _this), \" \", SubjectName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 7\n        }, _this), RoomName && /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Ph\\xF2ng:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 8\n          }, _this), \" \", RoomName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 7\n        }, _this), TeacherName && /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"GV:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 8\n          }, _this), \" \", TeacherName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 7\n        }, _this), BranchName && /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Trung t\\xE2m:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 8\n          }, _this), \" \", BranchName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 7\n        }, _this), LinkDocument && /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"T\\xE0i li\\u1EC7u: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 8\n          }, _this), LinkDocument ? /*#__PURE__*/_jsxDEV(\"a\", {\n            href: LinkDocument,\n            target: \"_blank\",\n            download: true,\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              children: \"Click to download\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 10\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 9\n          }, _this) : 'Trống']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 7\n        }, _this), isGetRecordList && /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            size: \"middle\",\n            className: \"mt-3 btn-success w-100\",\n            onClick: function onClick() {\n              return middlewareOpenModal(parseInt(ID), 'record');\n            },\n            children: \"B\\u1EA3n ghi bu\\u1ED5i h\\u1ECDc\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 8\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 7\n        }, _this), isUploadDocument && /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            size: \"middle\",\n            className: \"mt-2 btn-warning w-100\",\n            onClick: function onClick() {\n              return middlewareOpenModal(parseInt(ID), 'document');\n            },\n            children: \"Th\\xEAm t\\xE0i li\\u1EC7u\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 8\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 7\n        }, _this), isStudyZoom && /*#__PURE__*/_jsxDEV(\"li\", {\n          children: checkTypeButtonStudyZoom({\n            idx: idx,\n            btnID: btnID,\n            btnName: btnName,\n            scheduleID: ID,\n            dataDetail: dataDetail\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 7\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 4\n    }, _this);\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"calendar-item\",\n      onClick: function onClick(e) {\n        e.stopPropagation();\n        e.nativeEvent.stopImmediatePropagation();\n      } // 0 - ,1-Bắt đầu , 2-Vào lớp học, 3-Kết thúc\n      ,\n      style: {\n        backgroundColor: TeacherAttendanceID !== 0 ? '#80DEEA' : IsExam !== undefined && IsExam == true ? '#FF9800' : checkDate == 0 ? btnID == undefined || btnID == null || btnID == '' ? '#fac10a' : btnID == 3 ? '#bdbdbd' : '#fac10a' : checkDate == -1 ? '#bdbdbd' : '#3174ad'\n      },\n      children: /*#__PURE__*/_jsxDEV(Popover, {\n        zIndex: 999,\n        title: \"Ca: \".concat(StudyTimeName),\n        content: content,\n        placement: \"rightTop\",\n        trigger: window.matchMedia('(max-width: 1199px)').matches ? 'click' : 'hover',\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"course-dt-event\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"time\",\n            children: [\"Ca: \", StudyTimeName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 7\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 6\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 4\n    }, _this);\n  };\n\n  var styleAgenda = function styleAgenda(_ref2) {\n    var event = _ref2.event;\n    var _event$resource2 = event.resource,\n        ID = _event$resource2.ID,\n        RoomName = _event$resource2.RoomName,\n        CourseName = _event$resource2.CourseName,\n        BranchName = _event$resource2.BranchName,\n        TeacherName = _event$resource2.TeacherName,\n        SubjectName = _event$resource2.SubjectName,\n        LinkDocument = _event$resource2.LinkDocument,\n        StudyTimeName = _event$resource2.StudyTimeName,\n        btnID = _event$resource2.ButtonID,\n        btnName = _event$resource2.ButtonName,\n        idx = _event$resource2.idx,\n        IsExam = _event$resource2.IsExam,\n        CurriculumsDetailID = _event$resource2.CurriculumsDetailID;\n    var dataDetail = event.resource;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"course-dt-event\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"time\",\n        children: [\"Ca: \", StudyTimeName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 5\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"course-dt-event-info\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [CourseName && /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Kh\\xF3a h\\u1ECDc:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 9\n            }, _this), \" \", CourseName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 8\n          }, _this), SubjectName && /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [IsExam ? 'Kiểm tra môn:' : 'Môn:', \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 9\n            }, _this), \" \", SubjectName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 8\n          }, _this), RoomName && /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Ph\\xF2ng:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 9\n            }, _this), \" \", RoomName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 8\n          }, _this), TeacherName && /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"GV:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 9\n            }, _this), \" \", TeacherName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 8\n          }, _this), BranchName && /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Trung t\\xE2m:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 9\n            }, _this), \" \", BranchName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 8\n          }, _this), LinkDocument && /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"T\\xE0i li\\u1EC7u: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 419,\n              columnNumber: 9\n            }, _this), LinkDocument ? /*#__PURE__*/_jsxDEV(\"a\", {\n              href: LinkDocument,\n              target: \"_blank\",\n              download: true,\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                children: \"Click to download\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 11\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 10\n            }, _this) : 'Trống']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 8\n          }, _this), isGetRecordList && /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              size: \"middle\",\n              className: \"mt-3 btn-success w-100\",\n              onClick: function onClick() {\n                return middlewareOpenModal(parseInt(ID), 'record');\n              },\n              children: \"B\\u1EA3n ghi bu\\u1ED5i h\\u1ECDc\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 9\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 8\n          }, _this), isUploadDocument && /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              size: \"middle\",\n              className: \"mt-2 btn-warning w-100\",\n              onClick: function onClick() {\n                return middlewareOpenModal(parseInt(ID), 'document');\n              },\n              children: \"Th\\xEAm t\\xE0i li\\u1EC7u\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 9\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 8\n          }, _this), isStudyZoom && /*#__PURE__*/_jsxDEV(\"li\", {\n            children: checkTypeButtonStudyZoom({\n              idx: idx,\n              btnID: btnID,\n              btnName: btnName,\n              scheduleID: ID,\n              dataDetail: dataDetail\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 8\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 6\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 5\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 4\n    }, _this);\n  };\n\n  var styleDay = function styleDay(_ref3) {\n    var event = _ref3.event;\n    var dataDetail = event.resource;\n    var _event$resource3 = event.resource,\n        ID = _event$resource3.ID,\n        CourseID = _event$resource3.CourseID,\n        CourseName = _event$resource3.CourseName,\n        RoomName = _event$resource3.RoomName,\n        BranchName = _event$resource3.BranchName,\n        TeacherName = _event$resource3.TeacherName,\n        SubjectName = _event$resource3.SubjectName,\n        LinkDocument = _event$resource3.LinkDocument,\n        StudyTimeName = _event$resource3.StudyTimeName,\n        btnID = _event$resource3.ButtonID,\n        btnName = _event$resource3.ButtonName,\n        idx = _event$resource3.idx,\n        IsExam = _event$resource3.IsExam,\n        CurriculumsDetailID = _event$resource3.CurriculumsDetailID;\n\n    var content = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"course-dt-event-info\",\n      style: {\n        maxWidth: 300\n      },\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [CourseName && /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Kh\\xF3a h\\u1ECDc:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 485,\n            columnNumber: 8\n          }, _this), \" \", CourseName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 7\n        }, _this), SubjectName && /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [IsExam ? 'Kiểm tra môn:' : 'Môn:', \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 8\n          }, _this), \" \", SubjectName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 7\n        }, _this), RoomName && /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Ph\\xF2ng:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 495,\n            columnNumber: 8\n          }, _this), \" \", RoomName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 494,\n          columnNumber: 7\n        }, _this), TeacherName && /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"GV:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 500,\n            columnNumber: 8\n          }, _this), \" \", TeacherName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 499,\n          columnNumber: 7\n        }, _this), BranchName && /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Trung t\\xE2m:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 505,\n            columnNumber: 8\n          }, _this), \" \", BranchName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 504,\n          columnNumber: 7\n        }, _this), LinkDocument && /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"T\\xE0i li\\u1EC7u: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 510,\n            columnNumber: 8\n          }, _this), LinkDocument ? /*#__PURE__*/_jsxDEV(\"a\", {\n            href: LinkDocument,\n            target: \"_blank\",\n            download: true,\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              children: \"Click to download\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 513,\n              columnNumber: 10\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 512,\n            columnNumber: 9\n          }, _this) : 'Trống']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 509,\n          columnNumber: 7\n        }, _this), isGetRecordList && /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            size: \"middle\",\n            className: \"mt-3 btn-success w-100\",\n            onClick: function onClick() {\n              return middlewareOpenModal(parseInt(ID), 'record');\n            },\n            children: \"B\\u1EA3n ghi bu\\u1ED5i h\\u1ECDc\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 522,\n            columnNumber: 8\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 521,\n          columnNumber: 7\n        }, _this), isUploadDocument && /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            size: \"middle\",\n            className: \"mt-2 btn-warning w-100\",\n            onClick: function onClick() {\n              return middlewareOpenModal(parseInt(ID), 'document');\n            },\n            children: \"Th\\xEAm t\\xE0i li\\u1EC7u\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 529,\n            columnNumber: 8\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 528,\n          columnNumber: 7\n        }, _this), isStudyZoom && /*#__PURE__*/_jsxDEV(\"li\", {\n          children: checkTypeButtonStudyZoom({\n            idx: idx,\n            btnID: btnID,\n            btnName: btnName,\n            scheduleID: ID,\n            dataDetail: dataDetail\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 535,\n          columnNumber: 7\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 482,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 481,\n      columnNumber: 4\n    }, _this);\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: function onClick(e) {\n        e.stopPropagation();\n        e.nativeEvent.stopImmediatePropagation();\n      },\n      children: /*#__PURE__*/_jsxDEV(Popover, {\n        zIndex: 999,\n        title: \"Ca: \".concat(StudyTimeName),\n        content: content,\n        placement: \"bottomLeft\",\n        trigger: window.matchMedia('(max-width: 1199px)').matches ? 'click' : 'hover',\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"course-dt-event\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"time\",\n            children: [\"Ca: \", StudyTimeName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 563,\n            columnNumber: 7\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 562,\n          columnNumber: 6\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 555,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 549,\n      columnNumber: 4\n    }, _this);\n  };\n\n  var customEventPropGetter = function customEventPropGetter(event, start, end, isSelected) {\n    if (event.resource.IsExam) {\n      return {\n        className: 'bg-warning text-dark'\n      };\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wrap-calendar\",\n    children: [/*#__PURE__*/_jsxDEV(Spin, {\n      spinning: !isLoaded,\n      size: \"large\",\n      wrapperClassName: \"calendar-loading\",\n      children: /*#__PURE__*/_jsxDEV(Calendar, {\n        className: \"custom-calendar\",\n        localizer: localizer,\n        events: eventList,\n        startAccessor: \"start\",\n        endAccessor: \"end\",\n        style: {\n          minHeight: 600\n        },\n        popup: true,\n        defaultView: \"month\",\n        showMultiDayTimes: false,\n        onRangeChange: checkFetchStudyZoom,\n        eventPropGetter: customEventPropGetter,\n        handleDragStart: function handleDragStart() {\n          return null;\n        },\n        formats: {\n          agendaDateFormat: 'DD/MM/YYYY',\n          monthHeaderFormat: function monthHeaderFormat(date) {\n            return moment(date).format('MM/YYYY');\n          },\n          dayHeaderFormat: function dayHeaderFormat(date) {\n            var dayArr = ['Chủ Nhật', 'Thứ 2', 'Thứ 3', 'Thứ 4', 'Thứ 5', 'Thứ 6', 'Thứ 7'];\n            var dayOffWeek = dayArr[moment(date).day()];\n            return \"\".concat(dayOffWeek, \" - \").concat(moment(date).format('DD/MM'));\n          },\n          dayRangeHeaderFormat: function dayRangeHeaderFormat(_ref4) {\n            var start = _ref4.start,\n                end = _ref4.end;\n            return \"\".concat(moment(start).format('DD/MM'), \" - \").concat(moment(end).format('DD/MM'));\n          }\n        },\n        components: {\n          event: styleEvent,\n          day: {\n            event: styleDay\n          },\n          agenda: {\n            event: styleAgenda\n          }\n        },\n        messages: {}\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 579,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 578,\n      columnNumber: 4\n    }, this), isUploadDocument && /*#__PURE__*/_jsxDEV(CourseDetailUploadFile, {\n      isLoading: isLoading,\n      isModalVisible: isModalVisible.type === 'document' && isModalVisible.status,\n      handleCloseModal: closeModal,\n      handleUploadDocument: handleUploadDocument,\n      courseScheduleID: courseScheduleID\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 613,\n      columnNumber: 5\n    }, this), isGetRecordList && /*#__PURE__*/_jsxDEV(ZoomRecordModal, {\n      scheduleID: courseScheduleID,\n      isOpenModal: isModalVisible.type === 'record' && isModalVisible.status,\n      onCloseModal: closeModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 622,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row m-0 p-0 pt-3\",\n      style: {\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: 15,\n          height: 15,\n          backgroundColor: '#3174ad',\n          marginRight: 10\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 629,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Ch\\u01B0a h\\u1ECDc\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 630,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: 15,\n          height: 15,\n          backgroundColor: '#fac10a',\n          marginRight: 10,\n          marginLeft: 10\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 631,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Bu\\u1ED5i h\\u1ECDc trong ng\\xE0y\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 632,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: 15,\n          height: 15,\n          backgroundColor: '#FF9800',\n          marginRight: 10,\n          marginLeft: 10\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 633,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Ki\\u1EC3m tra\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 634,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: 15,\n          height: 15,\n          backgroundColor: '#bdbdbd',\n          marginRight: 10,\n          marginLeft: 10\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 635,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Ch\\u01B0a \\u0111i\\u1EC3m danh\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 636,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: 15,\n          height: 15,\n          backgroundColor: '#80DEEA',\n          marginRight: 10,\n          marginLeft: 10\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 637,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"\\u0110\\xE3 \\u0111i\\u1EC3m danh\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 638,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 628,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 577,\n    columnNumber: 3\n  }, this);\n}\n\n_s(CDCalendar, \"ApfUukE4h4QDugzJOQwk/Jc7sFg=\", false, function () {\n  return [useRouter, useWrap];\n});\n\n_c = CDCalendar;\nexport default CDCalendar;\n\nvar _c;\n\n$RefreshReg$(_c, \"CDCalendar\");","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Global/CourseList/CourseListDetail/CourseDetailCalendar/Calendar.tsx"],"names":["Button","Popover","Spin","moment","useRouter","PropTypes","React","useState","Calendar","momentLocalizer","CloseZoomRoom","ZoomRecordModal","useWrap","CourseDetailUploadFile","locale","localizer","CDCalendar","propTypes","isLoading","shape","type","string","isRequired","status","bool","eventList","arrayOf","id","number","title","start","instanceOf","Date","end","resource","object","isLoaded","isUploadDocument","handleUploadDocument","func","isGetRecordList","isStudyZoom","fetchStudyZoom","handleStudyZoom","handleEndStudyZoom","defaultProps","props","router","console","log","courseScheduleID","setCourseScheduleID","isModalVisible","setIsModalVisible","openModal","closeModal","userInformation","middlewareOpenModal","ID","checkFetchStudyZoom","date","checkHandleStudyZoom","data","moveToTest","push","pathname","query","examID","ExamTopicID","packageDetailID","CourseID","CurriculumDetailID","CurriculumsDetailID","checkTypeButtonStudyZoom","btnID","btnName","dataDetail","RoleID","url","window","location","origin","navigator","clipboard","writeText","scheduleID","marginTop","getStrDate","nDate","getDate","getMonth","getFullYear","compare","dateTimeA","dateTimeB","momentA","momentB","styleEvent","event","checkDate","CourseName","RoomName","BranchName","TeacherName","SubjectName","LinkDocument","StudyTimeName","ButtonID","ButtonName","idx","IsExam","TeacherAttendanceID","content","maxWidth","parseInt","e","stopPropagation","nativeEvent","stopImmediatePropagation","backgroundColor","undefined","matchMedia","matches","styleAgenda","styleDay","customEventPropGetter","isSelected","className","minHeight","agendaDateFormat","monthHeaderFormat","format","dayHeaderFormat","dayArr","dayOffWeek","day","dayRangeHeaderFormat","agenda","alignItems","width","height","marginRight","marginLeft"],"mappings":"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","sourcesContent":["import { Button, Popover, Spin } from 'antd'\r\nimport moment from 'moment'\r\nimport { useRouter } from 'next/router'\r\nimport PropTypes from 'prop-types'\r\nimport React, { useState } from 'react'\r\nimport { Calendar, momentLocalizer } from 'react-big-calendar'\r\nimport 'react-big-calendar/lib/css/react-big-calendar.css'\r\nimport CloseZoomRoom from '~/components/Global/ManageZoom/ZoomRoom/CloseZoomRoom'\r\nimport ZoomRecordModal from '~/components/Global/ManageZoom/ZoomRoom/ZoomRecordModal'\r\nimport { useWrap } from '~/context/wrap'\r\nimport CourseDetailUploadFile from './CourseDetailUploadFile'\r\nimport _ from '~/appConfig'\r\nmoment.locale('vi')\r\nconst localizer = momentLocalizer(moment)\r\n\r\nCDCalendar.propTypes = {\r\n\tisLoading: PropTypes.shape({\r\n\t\ttype: PropTypes.string.isRequired,\r\n\t\tstatus: PropTypes.bool.isRequired\r\n\t}),\r\n\teventList: PropTypes.arrayOf(\r\n\t\tPropTypes.shape({\r\n\t\t\tid: PropTypes.number.isRequired,\r\n\t\t\ttitle: PropTypes.string.isRequired,\r\n\t\t\tstart: PropTypes.instanceOf(Date).isRequired,\r\n\t\t\tend: PropTypes.instanceOf(Date).isRequired,\r\n\t\t\tresource: PropTypes.object\r\n\t\t})\r\n\t).isRequired,\r\n\tisLoaded: PropTypes.bool,\r\n\t//\r\n\tisUploadDocument: PropTypes.bool,\r\n\thandleUploadDocument: PropTypes.func,\r\n\t//\r\n\tisGetRecordList: PropTypes.bool,\r\n\t//\r\n\tisStudyZoom: PropTypes.bool,\r\n\tfetchStudyZoom: PropTypes.func,\r\n\thandleStudyZoom: PropTypes.func,\r\n\thandleEndStudyZoom: PropTypes.func\r\n}\r\n\r\nCDCalendar.defaultProps = {\r\n\tisLoading: { type: '', status: false },\r\n\teventList: [],\r\n\tisLoaded: false,\r\n\t//\r\n\tisUploadDocument: false,\r\n\thandleUploadDocument: null,\r\n\t//\r\n\tisGetRecordList: false,\r\n\t//\r\n\tisStudyZoom: false,\r\n\tfetchStudyZoom: null,\r\n\thandleStudyZoom: null,\r\n\thandleEndStudyZoom: null\r\n}\r\n\r\nfunction CDCalendar(props) {\r\n\tconst router = useRouter()\r\n\tconst {\r\n\t\tisLoading,\r\n\t\teventList,\r\n\t\tisLoaded,\r\n\t\tisUploadDocument,\r\n\t\thandleUploadDocument,\r\n\t\tisGetRecordList,\r\n\t\tisStudyZoom,\r\n\t\tfetchStudyZoom,\r\n\t\thandleStudyZoom,\r\n\t\thandleEndStudyZoom\r\n\t} = props\r\n\r\n\tconsole.log('eventList: ', eventList)\r\n\r\n\tconst [courseScheduleID, setCourseScheduleID] = useState(0)\r\n\tconst [isModalVisible, setIsModalVisible] = useState<{\r\n\t\ttype: 'record' | 'document' | ''\r\n\t\tstatus: boolean\r\n\t}>({\r\n\t\ttype: '',\r\n\t\tstatus: false\r\n\t})\r\n\tconst openModal = (type: 'record' | 'document') =>\r\n\t\tsetIsModalVisible({\r\n\t\t\ttype,\r\n\t\t\tstatus: true\r\n\t\t})\r\n\tconst closeModal = () =>\r\n\t\tsetIsModalVisible({\r\n\t\t\ttype: '',\r\n\t\t\tstatus: false\r\n\t\t})\r\n\tconst { userInformation } = useWrap()\r\n\r\n\tconst middlewareOpenModal = (ID: number, type: 'record' | 'document') => {\r\n\t\tsetCourseScheduleID(ID)\r\n\t\topenModal(type)\r\n\t}\r\n\r\n\tconst checkFetchStudyZoom = (date) => {\r\n\t\tif (!fetchStudyZoom) return\r\n\t\tfetchStudyZoom(date)\r\n\t}\r\n\r\n\tconst checkHandleStudyZoom = (data: { idx: number; btnID: number; btnName: string; scheduleID: number }) => {\r\n\t\tif (!handleStudyZoom) return\r\n\t\thandleStudyZoom(data)\r\n\t}\r\n\r\n\tconst moveToTest = (data) => {\r\n\t\trouter.push({\r\n\t\t\tpathname: '/exam/exam-review',\r\n\t\t\tquery: {\r\n\t\t\t\texamID: data.ExamTopicID,\r\n\t\t\t\tpackageDetailID: data.CourseID,\r\n\t\t\t\ttype: 'check', // Kiểm tra,\r\n\t\t\t\tCurriculumDetailID: data.CurriculumsDetailID\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tconst checkTypeButtonStudyZoom = (data: { idx: number; btnID: number; btnName: string; scheduleID: number; dataDetail: any }) => {\r\n\t\tconst { btnID, btnName, dataDetail } = data\r\n\t\tif (!btnID) return\r\n\t\t// HỌC VIÊN\r\n\t\tif (userInformation?.RoleID === 3) {\r\n\t\t\tif (btnID === 2) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\tclassName=\"mt-3 btn-success w-100\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tcheckHandleStudyZoom(data)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{btnName}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\tif (btnID === 3) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Button disabled size=\"middle\" className=\"mt-3 btn-light w-100\">\r\n\t\t\t\t\t\t{btnName}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\tif (btnID === 4) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\tclassName=\"mt-3 btn-success w-100\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tmoveToTest(dataDetail)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{btnName}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\t// GIÁO VIÊN\r\n\t\tif (userInformation?.RoleID === 2 || userInformation?.RoleID === 5) {\r\n\t\t\tif (btnID === 1) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\tclassName=\"mt-3 btn-warning w-100\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tcheckHandleStudyZoom(data)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{btnName}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\tif (btnID === 2) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\t\tclassName=\"mt-3 btn-success w-100\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tcheckHandleStudyZoom(data)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{btnName}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\t\tclassName=\"btn-primary w-100\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tif (typeof window !== 'undefined') {\r\n\t\t\t\t\t\t\t\t\tconst url = window.location.origin\r\n\t\t\t\t\t\t\t\t\tnavigator.clipboard.writeText(`${url}/course/zoom-view/${data.scheduleID}`)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tstyle={{ marginTop: 4 }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tSao chép link zoom\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<CloseZoomRoom\r\n\t\t\t\t\t\t\tisIcon={false}\r\n\t\t\t\t\t\t\thandleClose={() => {\r\n\t\t\t\t\t\t\t\tcheckHandleStudyZoom({ ...data, btnID: 3 })\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\tif (btnID === 3) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Button disabled size=\"middle\" className=\"mt-3 btn-light w-100\">\r\n\t\t\t\t\t\t{btnName}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tconst getStrDate = (date) => {\r\n\t\tconst nDate = new Date(date)\r\n\t\treturn nDate.getDate() + '-' + (nDate.getMonth() + 1) + '-' + nDate.getFullYear()\r\n\t}\r\n\r\n\tconst compare = (dateTimeA, dateTimeB) => {\r\n\t\tvar momentA = moment(dateTimeA, 'DD/MM/YYYY')\r\n\t\tvar momentB = moment(dateTimeB, 'DD/MM/YYYY')\r\n\t\tif (momentA > momentB) return 1\r\n\t\telse if (momentA < momentB) return -1\r\n\t\telse return 0\r\n\t}\r\n\r\n\tconst styleEvent = ({ event }) => {\r\n\t\tconst date = new Date()\r\n\t\tlet checkDate = compare(getStrDate(event.start), getStrDate(date)) // -1: qua roi, 0: hom nay, 1: chua qua\r\n\r\n\t\tconst {\r\n\t\t\tID,\r\n\t\t\tCourseID,\r\n\t\t\tCourseName,\r\n\t\t\tRoomName,\r\n\t\t\tBranchName,\r\n\t\t\tTeacherName,\r\n\t\t\tSubjectName,\r\n\t\t\tLinkDocument,\r\n\t\t\t//\r\n\t\t\tStudyTimeName,\r\n\t\t\t// ZOOM\r\n\t\t\tButtonID: btnID,\r\n\t\t\tButtonName: btnName,\r\n\t\t\tidx,\r\n\t\t\tIsExam,\r\n\t\t\tCurriculumDetailID,\r\n\t\t\tTeacherAttendanceID\r\n\t\t} = event.resource\r\n\r\n\t\tconst dataDetail = event.resource\r\n\t\tconst content = (\r\n\t\t\t<div className=\"course-dt-event-info\" style={{ maxWidth: 300 }}>\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t{CourseName && (\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<span>Khóa học:</span> {CourseName}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{SubjectName && (\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<span>{IsExam ? 'Kiểm tra môn:' : 'Bài học:'} </span> {SubjectName}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{RoomName && (\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<span>Phòng:</span> {RoomName}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{TeacherName && (\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<span>GV:</span> {TeacherName}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{BranchName && (\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<span>Trung tâm:</span> {BranchName}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{LinkDocument && (\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<span>Tài liệu: </span>\r\n\t\t\t\t\t\t\t{LinkDocument ? (\r\n\t\t\t\t\t\t\t\t<a href={LinkDocument} target=\"_blank\" download>\r\n\t\t\t\t\t\t\t\t\t<i>Click to download</i>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t'Trống'\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{isGetRecordList && (\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Button size=\"middle\" className=\"mt-3 btn-success w-100\" onClick={() => middlewareOpenModal(parseInt(ID), 'record')}>\r\n\t\t\t\t\t\t\t\tBản ghi buổi học\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{isUploadDocument && (\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Button size=\"middle\" className=\"mt-2 btn-warning w-100\" onClick={() => middlewareOpenModal(parseInt(ID), 'document')}>\r\n\t\t\t\t\t\t\t\tThêm tài liệu\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{isStudyZoom && (\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t{checkTypeButtonStudyZoom({\r\n\t\t\t\t\t\t\t\tidx,\r\n\t\t\t\t\t\t\t\tbtnID,\r\n\t\t\t\t\t\t\t\tbtnName,\r\n\t\t\t\t\t\t\t\tscheduleID: ID,\r\n\t\t\t\t\t\t\t\tdataDetail\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t)\r\n\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tclassName=\"calendar-item\"\r\n\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\te.stopPropagation()\r\n\t\t\t\t\te.nativeEvent.stopImmediatePropagation()\r\n\t\t\t\t}}\r\n\t\t\t\t// 0 - ,1-Bắt đầu , 2-Vào lớp học, 3-Kết thúc\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tbackgroundColor:\r\n\t\t\t\t\t\tTeacherAttendanceID !== 0\r\n\t\t\t\t\t\t\t? '#80DEEA'\r\n\t\t\t\t\t\t\t: IsExam !== undefined && IsExam == true\r\n\t\t\t\t\t\t\t? '#FF9800'\r\n\t\t\t\t\t\t\t: checkDate == 0\r\n\t\t\t\t\t\t\t? btnID == undefined || btnID == null || btnID == ''\r\n\t\t\t\t\t\t\t\t? '#fac10a'\r\n\t\t\t\t\t\t\t\t: btnID == 3\r\n\t\t\t\t\t\t\t\t? '#bdbdbd'\r\n\t\t\t\t\t\t\t\t: '#fac10a'\r\n\t\t\t\t\t\t\t: checkDate == -1\r\n\t\t\t\t\t\t\t? '#bdbdbd'\r\n\t\t\t\t\t\t\t: '#3174ad'\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Popover\r\n\t\t\t\t\tzIndex={999}\r\n\t\t\t\t\ttitle={`Ca: ${StudyTimeName}`}\r\n\t\t\t\t\tcontent={content}\r\n\t\t\t\t\tplacement=\"rightTop\"\r\n\t\t\t\t\ttrigger={window.matchMedia('(max-width: 1199px)').matches ? 'click' : 'hover'}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className=\"course-dt-event\">\r\n\t\t\t\t\t\t<div className=\"time\">Ca: {StudyTimeName}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Popover>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\tconst styleAgenda = ({ event }) => {\r\n\t\tconst {\r\n\t\t\tID,\r\n\t\t\tRoomName,\r\n\t\t\tCourseName,\r\n\t\t\tBranchName,\r\n\t\t\tTeacherName,\r\n\t\t\tSubjectName,\r\n\t\t\tLinkDocument,\r\n\t\t\t//\r\n\t\t\tStudyTimeName,\r\n\t\t\t// ZOOM\r\n\t\t\tButtonID: btnID,\r\n\t\t\tButtonName: btnName,\r\n\t\t\tidx,\r\n\t\t\tIsExam,\r\n\t\t\tCurriculumsDetailID\r\n\t\t} = event.resource\r\n\r\n\t\tconst dataDetail = event.resource\r\n\t\treturn (\r\n\t\t\t<div className=\"course-dt-event\">\r\n\t\t\t\t<div className=\"time\">Ca: {StudyTimeName}</div>\r\n\t\t\t\t<div className=\"course-dt-event-info\">\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t{CourseName && (\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<span>Khóa học:</span> {CourseName}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{SubjectName && (\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<span>{IsExam ? 'Kiểm tra môn:' : 'Môn:'} </span> {SubjectName}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{RoomName && (\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<span>Phòng:</span> {RoomName}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{TeacherName && (\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<span>GV:</span> {TeacherName}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{BranchName && (\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<span>Trung tâm:</span> {BranchName}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{LinkDocument && (\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<span>Tài liệu: </span>\r\n\t\t\t\t\t\t\t\t{LinkDocument ? (\r\n\t\t\t\t\t\t\t\t\t<a href={LinkDocument} target=\"_blank\" download>\r\n\t\t\t\t\t\t\t\t\t\t<i>Click to download</i>\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t'Trống'\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{isGetRecordList && (\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<Button size=\"middle\" className=\"mt-3 btn-success w-100\" onClick={() => middlewareOpenModal(parseInt(ID), 'record')}>\r\n\t\t\t\t\t\t\t\t\tBản ghi buổi học\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{isUploadDocument && (\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<Button size=\"middle\" className=\"mt-2 btn-warning w-100\" onClick={() => middlewareOpenModal(parseInt(ID), 'document')}>\r\n\t\t\t\t\t\t\t\t\tThêm tài liệu\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{isStudyZoom && (\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t{checkTypeButtonStudyZoom({\r\n\t\t\t\t\t\t\t\t\tidx,\r\n\t\t\t\t\t\t\t\t\tbtnID,\r\n\t\t\t\t\t\t\t\t\tbtnName,\r\n\t\t\t\t\t\t\t\t\tscheduleID: ID,\r\n\t\t\t\t\t\t\t\t\tdataDetail\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\tconst styleDay = ({ event }) => {\r\n\t\tconst dataDetail = event.resource\r\n\r\n\t\tconst {\r\n\t\t\tID,\r\n\t\t\tCourseID,\r\n\t\t\tCourseName,\r\n\t\t\tRoomName,\r\n\t\t\tBranchName,\r\n\t\t\tTeacherName,\r\n\t\t\tSubjectName,\r\n\t\t\tLinkDocument,\r\n\t\t\t//\r\n\t\t\tStudyTimeName,\r\n\t\t\t// ZOOM\r\n\t\t\tButtonID: btnID,\r\n\t\t\tButtonName: btnName,\r\n\t\t\tidx,\r\n\t\t\tIsExam,\r\n\t\t\tCurriculumsDetailID\r\n\t\t} = event.resource\r\n\t\tconst content = (\r\n\t\t\t<div className=\"course-dt-event-info\" style={{ maxWidth: 300 }}>\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t{CourseName && (\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<span>Khóa học:</span> {CourseName}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{SubjectName && (\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<span>{IsExam ? 'Kiểm tra môn:' : 'Môn:'} </span> {SubjectName}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{RoomName && (\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<span>Phòng:</span> {RoomName}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{TeacherName && (\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<span>GV:</span> {TeacherName}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{BranchName && (\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<span>Trung tâm:</span> {BranchName}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{LinkDocument && (\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<span>Tài liệu: </span>\r\n\t\t\t\t\t\t\t{LinkDocument ? (\r\n\t\t\t\t\t\t\t\t<a href={LinkDocument} target=\"_blank\" download>\r\n\t\t\t\t\t\t\t\t\t<i>Click to download</i>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t'Trống'\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{isGetRecordList && (\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Button size=\"middle\" className=\"mt-3 btn-success w-100\" onClick={() => middlewareOpenModal(parseInt(ID), 'record')}>\r\n\t\t\t\t\t\t\t\tBản ghi buổi học\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{isUploadDocument && (\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Button size=\"middle\" className=\"mt-2 btn-warning w-100\" onClick={() => middlewareOpenModal(parseInt(ID), 'document')}>\r\n\t\t\t\t\t\t\t\tThêm tài liệu\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{isStudyZoom && (\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t{checkTypeButtonStudyZoom({\r\n\t\t\t\t\t\t\t\tidx,\r\n\t\t\t\t\t\t\t\tbtnID,\r\n\t\t\t\t\t\t\t\tbtnName,\r\n\t\t\t\t\t\t\t\tscheduleID: ID,\r\n\t\t\t\t\t\t\t\tdataDetail\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t)\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\te.stopPropagation()\r\n\t\t\t\t\te.nativeEvent.stopImmediatePropagation()\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Popover\r\n\t\t\t\t\tzIndex={999}\r\n\t\t\t\t\ttitle={`Ca: ${StudyTimeName}`}\r\n\t\t\t\t\tcontent={content}\r\n\t\t\t\t\tplacement=\"bottomLeft\"\r\n\t\t\t\t\ttrigger={window.matchMedia('(max-width: 1199px)').matches ? 'click' : 'hover'}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className=\"course-dt-event\">\r\n\t\t\t\t\t\t<div className=\"time\">Ca: {StudyTimeName}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Popover>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\tconst customEventPropGetter = (event, start, end, isSelected) => {\r\n\t\tif (event.resource.IsExam) {\r\n\t\t\treturn {\r\n\t\t\t\tclassName: 'bg-warning text-dark'\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn (\r\n\t\t<div className=\"wrap-calendar\">\r\n\t\t\t<Spin spinning={!isLoaded} size=\"large\" wrapperClassName=\"calendar-loading\">\r\n\t\t\t\t<Calendar\r\n\t\t\t\t\tclassName=\"custom-calendar\"\r\n\t\t\t\t\tlocalizer={localizer}\r\n\t\t\t\t\tevents={eventList}\r\n\t\t\t\t\tstartAccessor=\"start\"\r\n\t\t\t\t\tendAccessor=\"end\"\r\n\t\t\t\t\tstyle={{ minHeight: 600 }}\r\n\t\t\t\t\tpopup\r\n\t\t\t\t\tdefaultView=\"month\"\r\n\t\t\t\t\tshowMultiDayTimes={false}\r\n\t\t\t\t\tonRangeChange={checkFetchStudyZoom}\r\n\t\t\t\t\teventPropGetter={customEventPropGetter}\r\n\t\t\t\t\thandleDragStart={() => null}\r\n\t\t\t\t\tformats={{\r\n\t\t\t\t\t\tagendaDateFormat: 'DD/MM/YYYY',\r\n\t\t\t\t\t\tmonthHeaderFormat: (date) => moment(date).format('MM/YYYY'),\r\n\t\t\t\t\t\tdayHeaderFormat: (date) => {\r\n\t\t\t\t\t\t\tconst dayArr = ['Chủ Nhật', 'Thứ 2', 'Thứ 3', 'Thứ 4', 'Thứ 5', 'Thứ 6', 'Thứ 7']\r\n\t\t\t\t\t\t\tconst dayOffWeek = dayArr[moment(date).day()]\r\n\t\t\t\t\t\t\treturn `${dayOffWeek} - ${moment(date).format('DD/MM')}`\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdayRangeHeaderFormat: ({ start, end }) => `${moment(start).format('DD/MM')} - ${moment(end).format('DD/MM')}`\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tcomponents={{\r\n\t\t\t\t\t\tevent: styleEvent,\r\n\t\t\t\t\t\tday: {\r\n\t\t\t\t\t\t\tevent: styleDay\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tagenda: { event: styleAgenda }\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tmessages={{}}\r\n\t\t\t\t/>\r\n\t\t\t</Spin>\r\n\t\t\t{isUploadDocument && (\r\n\t\t\t\t<CourseDetailUploadFile\r\n\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\tisModalVisible={isModalVisible.type === 'document' && isModalVisible.status}\r\n\t\t\t\t\thandleCloseModal={closeModal}\r\n\t\t\t\t\thandleUploadDocument={handleUploadDocument}\r\n\t\t\t\t\tcourseScheduleID={courseScheduleID}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t{isGetRecordList && (\r\n\t\t\t\t<ZoomRecordModal\r\n\t\t\t\t\tscheduleID={courseScheduleID}\r\n\t\t\t\t\tisOpenModal={isModalVisible.type === 'record' && isModalVisible.status}\r\n\t\t\t\t\tonCloseModal={closeModal}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t<div className=\"row m-0 p-0 pt-3\" style={{ alignItems: 'center' }}>\r\n\t\t\t\t<div style={{ width: 15, height: 15, backgroundColor: '#3174ad', marginRight: 10 }} />\r\n\t\t\t\t<div>Chưa học</div>\r\n\t\t\t\t<div style={{ width: 15, height: 15, backgroundColor: '#fac10a', marginRight: 10, marginLeft: 10 }} />\r\n\t\t\t\t<div>Buổi học trong ngày</div>\r\n\t\t\t\t<div style={{ width: 15, height: 15, backgroundColor: '#FF9800', marginRight: 10, marginLeft: 10 }} />\r\n\t\t\t\t<div>Kiểm tra</div>\r\n\t\t\t\t<div style={{ width: 15, height: 15, backgroundColor: '#bdbdbd', marginRight: 10, marginLeft: 10 }} />\r\n\t\t\t\t<div>Chưa điểm danh</div>\r\n\t\t\t\t<div style={{ width: 15, height: 15, backgroundColor: '#80DEEA', marginRight: 10, marginLeft: 10 }} />\r\n\t\t\t\t<div>Đã điểm danh</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default CDCalendar\r\n"]},"metadata":{},"sourceType":"module"}