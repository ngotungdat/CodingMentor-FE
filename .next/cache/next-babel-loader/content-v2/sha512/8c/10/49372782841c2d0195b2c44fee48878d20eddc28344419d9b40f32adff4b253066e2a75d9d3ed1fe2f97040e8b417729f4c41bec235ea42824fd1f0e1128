{"ast":null,"code":"import _defineProperty from \"D:/MonaMedia/Project/CodingMentor/CodingMentor-FE/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"D:/MonaMedia/Project/CodingMentor/CodingMentor-FE/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/MonaMedia/Project/CodingMentor/CodingMentor-FE/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\CodingMentor\\\\CodingMentor-FE\\\\src\\\\components\\\\Elements\\\\UploadFile\\\\UploadFile.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport { lessonDetailApi } from '~/apiBase/options/lesson-detail';\nimport { Upload, Button } from 'antd';\nimport { UploadOutlined } from '@ant-design/icons';\nimport { useWrap } from '~/context/wrap';\n\nvar UploadFile = function UploadFile(props) {\n  _s();\n\n  var getFile = props.getFile;\n\n  var _useWrap = useWrap(),\n      showNoti = _useWrap.showNoti;\n\n  var propsFile = {\n    onChange: function onChange(info) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(info.file.status === 'uploading')) {\n                  _context.next = 2;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 2:\n                if (!(info.file.status !== 'removed')) {\n                  _context.next = 13;\n                  break;\n                }\n\n                _context.prev = 3;\n                _context.next = 6;\n                return lessonDetailApi.UploadDocument(info.file.originFileObj);\n\n              case 6:\n                res = _context.sent;\n\n                if (res.status === 200) {\n                  getFile(res.data.data);\n                  showNoti('success', 'Tải file thành công!');\n                } else {\n                  showNoti('danger', 'Mạng đang không ổn định!');\n                }\n\n                _context.next = 13;\n                break;\n\n              case 10:\n                _context.prev = 10;\n                _context.t0 = _context[\"catch\"](3);\n                showNoti('danger', _context.t0.message);\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[3, 10]]);\n      }))();\n    },\n    progress: {\n      strokeColor: {\n        '0%': '#108ee9',\n        '100%': '#87d068'\n      },\n      strokeWidth: 3,\n      format: function format(percent) {\n        return \"\".concat(parseFloat(percent.toFixed(2)), \"%\");\n      }\n    }\n  }; // const onChange = async (info) => {\n  // \tif (info.file.status === 'uploading') {\n  // \t\treturn;\n  // \t}\n  // \ttry {\n  // \t\tlet res = await lessonDetailApi.UploadDocument(info.file.originFileObj);\n  // \t\tif (res.status === 200) {\n  // \t\t\tgetFile(res.data.data);\n  // \t\t\tshowNoti('success', 'Tải file thành công!');\n  // \t\t} else {\n  // \t\t\tshowNoti('danger', 'Mạng đang không ổn định!');\n  // \t\t}\n  // \t} catch (error) {\n  // \t\tshowNoti('danger', error.message);\n  // \t}\n  // };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Upload, _objectSpread(_objectSpread({}, propsFile), {}, {\n      className: \"file-100\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        icon: /*#__PURE__*/_jsxDEV(UploadOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 19\n        }, _this),\n        children: \"Upload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 5\n      }, _this)\n    }), void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 4\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 3\n  }, _this);\n};\n\n_s(UploadFile, \"9JriQHnK8AkPk1sRixOZ17qrc1I=\", false, function () {\n  return [useWrap];\n});\n\n_c = UploadFile;\nexport default UploadFile;\n\nvar _c;\n\n$RefreshReg$(_c, \"UploadFile\");","map":{"version":3,"sources":["D:/MonaMedia/Project/CodingMentor/CodingMentor-FE/src/components/Elements/UploadFile/UploadFile.tsx"],"names":["React","lessonDetailApi","Upload","Button","UploadOutlined","useWrap","UploadFile","props","getFile","showNoti","propsFile","onChange","info","file","status","UploadDocument","originFileObj","res","data","message","progress","strokeColor","strokeWidth","format","percent","parseFloat","toFixed"],"mappings":";;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,eAAT,QAAgC,iCAAhC;AACA,SAASC,MAAT,EAAiBC,MAAjB,QAA+B,MAA/B;AACA,SAASC,cAAT,QAA+B,mBAA/B;AACA,SAASC,OAAT,QAAwB,gBAAxB;;AAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,KAAD,EAAW;AAAA;;AAAA,MACrBC,OADqB,GACTD,KADS,CACrBC,OADqB;;AAAA,iBAERH,OAAO,EAFC;AAAA,MAErBI,QAFqB,YAErBA,QAFqB;;AAI7B,MAAMC,SAAS,GAAG;AACXC,IAAAA,QADW,oBACFC,IADE,EACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAChBA,IAAI,CAACC,IAAL,CAAUC,MAAV,KAAqB,WADL;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA,sBAKhBF,IAAI,CAACC,IAAL,CAAUC,MAAV,KAAqB,SALL;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,uBAOFb,eAAe,CAACc,cAAhB,CAA+BH,IAAI,CAACC,IAAL,CAAUG,aAAzC,CAPE;;AAAA;AAOdC,gBAAAA,GAPc;;AAQlB,oBAAIA,GAAG,CAACH,MAAJ,KAAe,GAAnB,EAAwB;AACvBN,kBAAAA,OAAO,CAACS,GAAG,CAACC,IAAJ,CAASA,IAAV,CAAP;AACAT,kBAAAA,QAAQ,CAAC,SAAD,EAAY,sBAAZ,CAAR;AACA,iBAHD,MAGO;AACNA,kBAAAA,QAAQ,CAAC,QAAD,EAAW,0BAAX,CAAR;AACA;;AAbiB;AAAA;;AAAA;AAAA;AAAA;AAelBA,gBAAAA,QAAQ,CAAC,QAAD,EAAW,YAAMU,OAAjB,CAAR;;AAfkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBpB,KAnBgB;AAoBjBC,IAAAA,QAAQ,EAAE;AACTC,MAAAA,WAAW,EAAE;AACZ,cAAM,SADM;AAEZ,gBAAQ;AAFI,OADJ;AAKTC,MAAAA,WAAW,EAAE,CALJ;AAMTC,MAAAA,MAAM,EAAE,gBAACC,OAAD;AAAA,yBAAgBC,UAAU,CAACD,OAAO,CAACE,OAAR,CAAgB,CAAhB,CAAD,CAA1B;AAAA;AANC;AApBO,GAAlB,CAJ6B,CAkC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sBACC;AAAA,2BACC,QAAC,MAAD,kCAAYhB,SAAZ;AAAuB,MAAA,SAAS,EAAC,UAAjC;AAAA,6BACC,QAAC,MAAD;AAAQ,QAAA,IAAI,eAAE,QAAC,cAAD;AAAA;AAAA;AAAA;AAAA,iBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,WADD;AAOA,CA1DD;;GAAMJ,U;UAEgBD,O;;;KAFhBC,U;AA4DN,eAAeA,UAAf","sourcesContent":["import React from 'react'\r\nimport { lessonDetailApi } from '~/apiBase/options/lesson-detail'\r\nimport { Upload, Button } from 'antd'\r\nimport { UploadOutlined } from '@ant-design/icons'\r\nimport { useWrap } from '~/context/wrap'\r\n\r\nconst UploadFile = (props) => {\r\n\tconst { getFile } = props\r\n\tconst { showNoti } = useWrap()\r\n\r\n\tconst propsFile = {\r\n\t\tasync onChange(info) {\r\n\t\t\tif (info.file.status === 'uploading') {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tif (info.file.status !== 'removed') {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet res = await lessonDetailApi.UploadDocument(info.file.originFileObj)\r\n\t\t\t\t\tif (res.status === 200) {\r\n\t\t\t\t\t\tgetFile(res.data.data)\r\n\t\t\t\t\t\tshowNoti('success', 'Tải file thành công!')\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tshowNoti('danger', 'Mạng đang không ổn định!')\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tshowNoti('danger', error.message)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tprogress: {\r\n\t\t\tstrokeColor: {\r\n\t\t\t\t'0%': '#108ee9',\r\n\t\t\t\t'100%': '#87d068'\r\n\t\t\t},\r\n\t\t\tstrokeWidth: 3,\r\n\t\t\tformat: (percent) => `${parseFloat(percent.toFixed(2))}%`\r\n\t\t}\r\n\t}\r\n\r\n\t// const onChange = async (info) => {\r\n\t// \tif (info.file.status === 'uploading') {\r\n\t// \t\treturn;\r\n\t// \t}\r\n\t// \ttry {\r\n\t// \t\tlet res = await lessonDetailApi.UploadDocument(info.file.originFileObj);\r\n\t// \t\tif (res.status === 200) {\r\n\t// \t\t\tgetFile(res.data.data);\r\n\t// \t\t\tshowNoti('success', 'Tải file thành công!');\r\n\t// \t\t} else {\r\n\t// \t\t\tshowNoti('danger', 'Mạng đang không ổn định!');\r\n\t// \t\t}\r\n\t// \t} catch (error) {\r\n\t// \t\tshowNoti('danger', error.message);\r\n\t// \t}\r\n\t// };\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Upload {...propsFile} className=\"file-100\">\r\n\t\t\t\t<Button icon={<UploadOutlined />}>Upload</Button>\r\n\t\t\t</Upload>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default UploadFile\r\n"]},"metadata":{},"sourceType":"module"}