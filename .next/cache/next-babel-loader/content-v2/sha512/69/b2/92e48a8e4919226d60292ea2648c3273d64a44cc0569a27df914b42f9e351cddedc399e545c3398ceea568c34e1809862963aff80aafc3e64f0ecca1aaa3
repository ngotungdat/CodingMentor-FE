{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"D:/MonaMedia/Project/CodingMentor/CodingMentor-FE/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/MonaMedia/Project/CodingMentor/CodingMentor-FE/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\CodingMentor\\\\CodingMentor-FE\\\\src\\\\components\\\\Global\\\\Teacher\\\\TeacherSalary\\\\salary-of-teacher-detail.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Tooltip, Modal } from 'antd';\nimport { numberWithCommas } from '~/utils/functions';\nimport { useWrap } from '~/context/wrap';\nimport { teacherSalaryApi } from '~/apiBase/staff-manage/teacher-salary';\nimport PowerTable from '~/components/PowerTable';\nimport moment from 'moment';\n\nvar SalaryOfTeacherDetail = function SalaryOfTeacherDetail(_ref) {\n  _s();\n\n  var price = _ref.price,\n      record = _ref.record;\n\n  var _useState = useState(false),\n      visible = _useState[0],\n      setVisible = _useState[1];\n\n  var _useState2 = useState([]),\n      dataSource = _useState2[0],\n      setDataSource = _useState2[1];\n\n  var _useWrap = useWrap(),\n      showNoti = _useWrap.showNoti,\n      pageSize = _useWrap.pageSize;\n\n  var defaultParams = {\n    pageIndex: 1,\n    pageSize: pageSize,\n    sortType: true,\n    SalaryOfTeacherID: record.ID\n  };\n\n  var getNum = function getNum(num) {\n    return num < 10 ? '0' + num : num;\n  };\n\n  var getStrDate = function getStrDate(date) {\n    var nDate = new Date(date);\n    return getNum(nDate.getDate()) + '-' + getNum(nDate.getMonth() + 1) + '-' + nDate.getFullYear();\n  };\n\n  var columns = [{\n    title: 'Ngày',\n    dataIndex: 'SalaryOfTeacherID',\n    render: function render(item, record) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-weight-primary\",\n        children: moment(item).format('DD/MM/YYYY')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 30\n      }, _this);\n    }\n  }, {\n    title: 'Bắt đầu',\n    dataIndex: 'sTime',\n    render: function render(item, record) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-weight-primary\",\n        children: item\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 30\n      }, _this);\n    }\n  }, {\n    title: 'Kết thúc',\n    dataIndex: 'eTime',\n    render: function render(item, record) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-weight-primary\",\n        children: item\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 30\n      }, _this);\n    }\n  }, {\n    title: 'Trạng thái',\n    dataIndex: 'StatusName',\n    align: 'right',\n    render: function render(item, record) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-weight-primary\",\n        children: item\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 30\n      }, _this);\n    }\n  }];\n\n  var getDataSource = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return teacherSalaryApi.salaryOfTeacherId(defaultParams);\n\n            case 3:\n              res = _context.sent;\n              console.log(res.data.data);\n\n              if (res.status == 200) {\n                setDataSource(res.data.data);\n              }\n\n              if (res.status == 204) {\n                setDataSource([]);\n              }\n\n              _context.next = 11;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](0);\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 9]]);\n    }));\n\n    return function getDataSource() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    if (visible) {\n      getDataSource();\n    }\n  }, [visible]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"font-weight-primary btn btn-icon edit\",\n      onClick: function onClick() {\n        return setVisible(true);\n      },\n      children: /*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"Xem chi ti\\u1EBFt\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"custom-btn-shit\",\n          children: !!price ? numberWithCommas(price) : 0\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 6\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 4\n    }, _this), /*#__PURE__*/_jsxDEV(Modal, {\n      width: 800,\n      title: \"Chi ti\\u1EBFt l\\u01B0\\u01A1ng gi\\xE1o vi\\xEAn\",\n      visible: visible,\n      onCancel: function onCancel() {\n        return setVisible(false);\n      },\n      footer: false,\n      children: /*#__PURE__*/_jsxDEV(PowerTable, {\n        columns: columns,\n        dataSource: dataSource\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 4\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(SalaryOfTeacherDetail, \"chu+3SYORDPq+z1J9Rrf+3JadS8=\", false, function () {\n  return [useWrap];\n});\n\n_c = SalaryOfTeacherDetail;\nexport default SalaryOfTeacherDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"SalaryOfTeacherDetail\");","map":{"version":3,"sources":["D:/MonaMedia/Project/CodingMentor/CodingMentor-FE/src/components/Global/Teacher/TeacherSalary/salary-of-teacher-detail.tsx"],"names":["React","useState","useEffect","Tooltip","Modal","numberWithCommas","useWrap","teacherSalaryApi","PowerTable","moment","SalaryOfTeacherDetail","price","record","visible","setVisible","dataSource","setDataSource","showNoti","pageSize","defaultParams","pageIndex","sortType","SalaryOfTeacherID","ID","getNum","num","getStrDate","date","nDate","Date","getDate","getMonth","getFullYear","columns","title","dataIndex","render","item","format","align","getDataSource","salaryOfTeacherId","res","console","log","data","status"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { Tooltip, Modal } from 'antd'\r\nimport { numberWithCommas } from '~/utils/functions'\r\nimport { useWrap } from '~/context/wrap'\r\nimport { teacherSalaryApi } from '~/apiBase/staff-manage/teacher-salary'\r\nimport PowerTable from '~/components/PowerTable'\r\nimport moment from 'moment'\r\n\r\nconst SalaryOfTeacherDetail = ({ price, record }) => {\r\n\tconst [visible, setVisible] = useState(false)\r\n\tconst [dataSource, setDataSource] = useState<ITeacherSalaryDetail[]>([])\r\n\tconst { showNoti, pageSize } = useWrap()\r\n\tconst defaultParams = {\r\n\t\tpageIndex: 1,\r\n\t\tpageSize: pageSize,\r\n\t\tsortType: true,\r\n\t\tSalaryOfTeacherID: record.ID\r\n\t}\r\n\r\n\tconst getNum = (num) => {\r\n\t\treturn num < 10 ? '0' + num : num\r\n\t}\r\n\r\n\tconst getStrDate = (date) => {\r\n\t\tconst nDate = new Date(date)\r\n\t\treturn getNum(nDate.getDate()) + '-' + getNum(nDate.getMonth() + 1) + '-' + nDate.getFullYear()\r\n\t}\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Ngày',\r\n\t\t\tdataIndex: 'SalaryOfTeacherID',\r\n\t\t\trender: (item, record) => <p className=\"font-weight-primary\">{moment(item).format('DD/MM/YYYY')}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Bắt đầu',\r\n\t\t\tdataIndex: 'sTime',\r\n\t\t\trender: (item, record) => <p className=\"font-weight-primary\">{item}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Kết thúc',\r\n\t\t\tdataIndex: 'eTime',\r\n\t\t\trender: (item, record) => <p className=\"font-weight-primary\">{item}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Trạng thái',\r\n\t\t\tdataIndex: 'StatusName',\r\n\t\t\talign: 'right',\r\n\t\t\trender: (item, record) => <p className=\"font-weight-primary\">{item}</p>\r\n\t\t}\r\n\t]\r\n\r\n\tconst getDataSource = async () => {\r\n\t\ttry {\r\n\t\t\tlet res = await teacherSalaryApi.salaryOfTeacherId(defaultParams)\r\n\t\t\tconsole.log(res.data.data)\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tsetDataSource(res.data.data)\r\n\t\t\t}\r\n\t\t\tif (res.status == 204) {\r\n\t\t\t\tsetDataSource([])\r\n\t\t\t}\r\n\t\t} catch (error) {}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (visible) {\r\n\t\t\tgetDataSource()\r\n\t\t}\r\n\t}, [visible])\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<button className=\"font-weight-primary btn btn-icon edit\" onClick={() => setVisible(true)}>\r\n\t\t\t\t<Tooltip title=\"Xem chi tiết\">\r\n\t\t\t\t\t<button className=\"custom-btn-shit\">{!!price ? numberWithCommas(price) : 0}</button>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t</button>\r\n\r\n\t\t\t<Modal width={800} title=\"Chi tiết lương giáo viên\" visible={visible} onCancel={() => setVisible(false)} footer={false}>\r\n\t\t\t\t<PowerTable columns={columns} dataSource={dataSource}></PowerTable>\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default SalaryOfTeacherDetail\r\n"]},"metadata":{},"sourceType":"module"}