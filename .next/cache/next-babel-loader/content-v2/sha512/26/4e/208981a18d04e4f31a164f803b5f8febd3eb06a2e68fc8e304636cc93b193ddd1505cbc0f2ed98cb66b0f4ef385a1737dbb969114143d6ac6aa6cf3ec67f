{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Global\\\\ManageZoom\\\\ZoomRoom\\\\ZoomRecordModal.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { List, Modal } from 'antd';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nimport { zoomRoomApi } from '~/apiBase';\n\nvar ZoomRecordModal = function ZoomRecordModal(props) {\n  _s();\n\n  var scheduleID = props.scheduleID,\n      isOpenModal = props.isOpenModal,\n      onCloseModal = props.onCloseModal;\n\n  var _useState = useState(false),\n      isLoading = _useState[0],\n      setIsLoading = _useState[1];\n\n  var _useState2 = useState([]),\n      recordList = _useState2[0],\n      setRecordList = _useState2[1];\n\n  var getRecordList = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (scheduleID) {\n                _context.next = 2;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 2:\n              _context.prev = 2;\n              setIsLoading(true);\n              _context.next = 6;\n              return zoomRoomApi.getRecord(scheduleID);\n\n            case 6:\n              res = _context.sent;\n\n              if (res.status === 200 && Array.isArray(res.data.data) && res.data.data.length) {\n                setRecordList(res.data.data);\n              } else {\n                setRecordList([]);\n              }\n\n              _context.next = 14;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](2);\n\n              if (_context.t0.status === 400) {\n                setRecordList([]);\n              }\n\n              console.log('getRecordList', _context.t0.message);\n\n            case 14:\n              _context.prev = 14;\n              setIsLoading(false);\n              return _context.finish(14);\n\n            case 17:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 10, 14, 17]]);\n    }));\n\n    return function getRecordList() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    if (isOpenModal) {\n      getRecordList();\n    }\n  }, [isOpenModal]);\n\n  var checkTitle = function checkTitle(title) {\n    if (title === 'shared_screen') return 'Bản ghi chia sẻ màn hình';\n    if (title === 'shared_screen_with_speaker_view') return 'Bản ghi chia sẻ màn hình có tiếng';\n    if (title === 'active_speaker') return 'Bản ghi âm thanh có hình';\n    if (title === 'audio_only') return 'Bản ghi âm thanh';\n    if (title === 'chat_file') return 'Bảng trò chuyện';\n    return 'Bản ghi khác';\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Modal, {\n      title: \"Danh s\\xE1ch b\\u1EA3n ghi bu\\u1ED5i h\\u1ECDc\",\n      visible: isOpenModal,\n      footer: null,\n      onCancel: onCloseModal,\n      children: /*#__PURE__*/_jsxDEV(List, {\n        pagination: {\n          pageSize: 5\n        },\n        loading: isLoading,\n        itemLayout: \"horizontal\",\n        dataSource: recordList,\n        renderItem: function renderItem(item, idx) {\n          return /*#__PURE__*/_jsxDEV(List.Item, {\n            actions: [/*#__PURE__*/_jsxDEV(\"a\", {\n              target: \"_blank\",\n              href: \"\".concat(item.play_url),\n              children: \"Xem tr\\u1EF1c tuy\\u1EBFn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 9\n            }, _this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"\".concat(item.download_url),\n              download: true,\n              children: \"T\\u1EA3i b\\u1EA3n ghi\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 9\n            }, _this)],\n            children: /*#__PURE__*/_jsxDEV(List.Item.Meta, {\n              title: checkTitle(item.recording_type)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 8\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 7\n          }, _this);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 4\n    }, _this)\n  }, void 0, false);\n};\n\n_s(ZoomRecordModal, \"FbmohDb9+J4Cjk/wB7chZRXc+4o=\");\n\n_c = ZoomRecordModal;\nZoomRecordModal.propTypes = {\n  scheduleID: PropTypes.number.isRequired,\n  isOpenModal: PropTypes.bool.isRequired,\n  onCloseModal: PropTypes.func.isRequired\n};\nZoomRecordModal.defaultProps = {};\nexport default ZoomRecordModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"ZoomRecordModal\");","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Global/ManageZoom/ZoomRoom/ZoomRecordModal.tsx"],"names":["List","Modal","PropTypes","React","useEffect","useState","zoomRoomApi","ZoomRecordModal","props","scheduleID","isOpenModal","onCloseModal","isLoading","setIsLoading","recordList","setRecordList","getRecordList","getRecord","res","status","Array","isArray","data","length","console","log","message","checkTitle","title","pageSize","item","idx","play_url","download_url","recording_type","propTypes","number","isRequired","bool","func","defaultProps"],"mappings":"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","sourcesContent":["import { List, Modal } from 'antd';\r\nimport PropTypes from 'prop-types';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { zoomRoomApi } from '~/apiBase';\r\n\r\nconst ZoomRecordModal = (props) => {\r\n\tconst { scheduleID, isOpenModal, onCloseModal } = props;\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\tconst [recordList, setRecordList] = useState<IZoomRecord[]>([]);\r\n\r\n\tconst getRecordList = async () => {\r\n\t\tif (!scheduleID) return;\r\n\t\ttry {\r\n\t\t\tsetIsLoading(true);\r\n\t\t\tconst res = await zoomRoomApi.getRecord(scheduleID);\r\n\t\t\tif (res.status === 200 && Array.isArray(res.data.data) && res.data.data.length) {\r\n\t\t\t\tsetRecordList(res.data.data);\r\n\t\t\t} else {\r\n\t\t\t\tsetRecordList([]);\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tif (error.status === 400) {\r\n\t\t\t\tsetRecordList([]);\r\n\t\t\t}\r\n\t\t\tconsole.log('getRecordList', error.message);\r\n\t\t} finally {\r\n\t\t\tsetIsLoading(false);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isOpenModal) {\r\n\t\t\tgetRecordList();\r\n\t\t}\r\n\t}, [isOpenModal]);\r\n\r\n\tconst checkTitle = (title: string) => {\r\n\t\tif (title === 'shared_screen') return 'Bản ghi chia sẻ màn hình';\r\n\t\tif (title === 'shared_screen_with_speaker_view') return 'Bản ghi chia sẻ màn hình có tiếng';\r\n\t\tif (title === 'active_speaker') return 'Bản ghi âm thanh có hình';\r\n\t\tif (title === 'audio_only') return 'Bản ghi âm thanh';\r\n\t\tif (title === 'chat_file') return 'Bảng trò chuyện';\r\n\t\treturn 'Bản ghi khác';\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Modal title=\"Danh sách bản ghi buổi học\" visible={isOpenModal} footer={null} onCancel={onCloseModal}>\r\n\t\t\t\t<List\r\n\t\t\t\t\tpagination={{\r\n\t\t\t\t\t\tpageSize: 5\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tloading={isLoading}\r\n\t\t\t\t\titemLayout=\"horizontal\"\r\n\t\t\t\t\tdataSource={recordList}\r\n\t\t\t\t\trenderItem={(item: IZoomRecord, idx) => (\r\n\t\t\t\t\t\t<List.Item\r\n\t\t\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t\t\t<a target=\"_blank\" href={`${item.play_url}`}>\r\n\t\t\t\t\t\t\t\t\tXem trực tuyến\r\n\t\t\t\t\t\t\t\t</a>,\r\n\t\t\t\t\t\t\t\t<a href={`${item.download_url}`} download>\r\n\t\t\t\t\t\t\t\t\tTải bản ghi\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<List.Item.Meta title={checkTitle(item.recording_type)} />\r\n\t\t\t\t\t\t</List.Item>\r\n\t\t\t\t\t)}\r\n\t\t\t\t/>\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t);\r\n};\r\nZoomRecordModal.propTypes = {\r\n\tscheduleID: PropTypes.number.isRequired,\r\n\tisOpenModal: PropTypes.bool.isRequired,\r\n\tonCloseModal: PropTypes.func.isRequired\r\n};\r\nZoomRecordModal.defaultProps = {};\r\nexport default ZoomRecordModal;\r\n"]},"metadata":{},"sourceType":"module"}