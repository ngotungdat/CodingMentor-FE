{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Global\\\\Teacher\\\\TeacherSalary\\\\salary-of-teacher-detail.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Tooltip, Modal } from 'antd';\nimport { numberWithCommas } from '~/utils/functions';\nimport { useWrap } from '~/context/wrap';\nimport { teacherSalaryApi } from '~/apiBase/staff-manage/teacher-salary';\nimport PowerTable from '~/components/PowerTable';\n\nvar SalaryOfTeacherDetail = function SalaryOfTeacherDetail(_ref) {\n  _s();\n\n  var price = _ref.price,\n      record = _ref.record;\n\n  var _useState = useState(false),\n      visible = _useState[0],\n      setVisible = _useState[1];\n\n  var _useState2 = useState([]),\n      dataSource = _useState2[0],\n      setDataSource = _useState2[1];\n\n  var _useWrap = useWrap(),\n      showNoti = _useWrap.showNoti,\n      pageSize = _useWrap.pageSize;\n\n  var defaultParams = {\n    pageIndex: 1,\n    pageSize: pageSize,\n    sortType: true,\n    SalaryOfTeacherID: record.ID\n  };\n\n  var getNum = function getNum(num) {\n    return num < 10 ? '0' + num : num;\n  };\n\n  var getStrDate = function getStrDate(date) {\n    var nDate = new Date(date);\n    return getNum(nDate.getDate()) + '-' + getNum(nDate.getMonth() + 1) + '-' + nDate.getFullYear();\n  };\n\n  var columns = [{\n    title: 'Giáo viên',\n    dataIndex: 'TeacherName',\n    render: function render(price, record) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-weight-primary\",\n        children: price\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 31\n      }, _this);\n    }\n  }, {\n    title: 'Môn học',\n    dataIndex: 'CourseName',\n    render: function render(price, record) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-weight-primary\",\n        children: price\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 31\n      }, _this);\n    }\n  }, {\n    title: 'Buổi học',\n    dataIndex: 'LessonNumber',\n    align: 'center',\n    render: function render(price, record) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          width: 70\n        },\n        children: price\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 31\n      }, _this);\n    }\n  }, {\n    title: 'Ngày dạy',\n    dataIndex: 'Date',\n    align: 'center',\n    render: function render(price, record) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          width: 100\n        },\n        children: getStrDate(price)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 31\n      }, _this);\n    }\n  }, {\n    title: 'Thời gian học',\n    dataIndex: 'StudyTimeName',\n    render: function render(price, record) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          width: 100\n        },\n        children: price\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 31\n      }, _this);\n    }\n  }, {\n    title: 'Lương môn học',\n    dataIndex: 'SalaryOfLesson',\n    render: function render(price, record) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          width: 120\n        },\n        children: numberWithCommas(price)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 31\n      }, _this);\n    }\n  }];\n\n  var getDataSource = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return teacherSalaryApi.getDetail(defaultParams);\n\n            case 3:\n              res = _context.sent;\n              console.log(res.data.data);\n\n              if (res.status == 200) {\n                setDataSource(res.data.data);\n              }\n\n              if (res.status == 204) {\n                setDataSource([]);\n              }\n\n              _context.next = 11;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](0);\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 9]]);\n    }));\n\n    return function getDataSource() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    getDataSource();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"font-weight-primary btn btn-icon edit\",\n      onClick: function onClick() {\n        setVisible(true);\n      },\n      children: /*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"Xem chi ti\\u1EBFt\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"custom-btn-shit\",\n          children: numberWithCommas(price)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 6\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 4\n    }, _this), /*#__PURE__*/_jsxDEV(Modal, {\n      width: 800,\n      title: \"Chi ti\\u1EBFt l\\u01B0\\u01A1ng gi\\xE1o vi\\xEAn\",\n      visible: visible,\n      onCancel: function onCancel() {\n        return setVisible(false);\n      },\n      footer: false,\n      children: /*#__PURE__*/_jsxDEV(PowerTable, {\n        columns: columns,\n        dataSource: dataSource\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 4\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(SalaryOfTeacherDetail, \"chu+3SYORDPq+z1J9Rrf+3JadS8=\", false, function () {\n  return [useWrap];\n});\n\n_c = SalaryOfTeacherDetail;\nexport default SalaryOfTeacherDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"SalaryOfTeacherDetail\");","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Global/Teacher/TeacherSalary/salary-of-teacher-detail.tsx"],"names":["React","useState","useEffect","Tooltip","Modal","numberWithCommas","useWrap","teacherSalaryApi","PowerTable","SalaryOfTeacherDetail","price","record","visible","setVisible","dataSource","setDataSource","showNoti","pageSize","defaultParams","pageIndex","sortType","SalaryOfTeacherID","ID","getNum","num","getStrDate","date","nDate","Date","getDate","getMonth","getFullYear","columns","title","dataIndex","render","align","width","getDataSource","getDetail","res","console","log","data","status"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { Tooltip, Modal } from 'antd'\r\nimport { numberWithCommas } from '~/utils/functions'\r\nimport { useWrap } from '~/context/wrap'\r\nimport { teacherSalaryApi } from '~/apiBase/staff-manage/teacher-salary'\r\nimport PowerTable from '~/components/PowerTable'\r\n\r\nconst SalaryOfTeacherDetail = ({ price, record }) => {\r\n\tconst [visible, setVisible] = useState(false)\r\n\tconst [dataSource, setDataSource] = useState<ITeacherSalaryDetail[]>([])\r\n\tconst { showNoti, pageSize } = useWrap()\r\n\tconst defaultParams = {\r\n\t\tpageIndex: 1,\r\n\t\tpageSize: pageSize,\r\n\t\tsortType: true,\r\n\t\tSalaryOfTeacherID: record.ID\r\n\t}\r\n\r\n\tconst getNum = (num) => {\r\n\t\treturn num < 10 ? '0' + num : num\r\n\t}\r\n\r\n\tconst getStrDate = (date) => {\r\n\t\tconst nDate = new Date(date)\r\n\t\treturn getNum(nDate.getDate()) + '-' + getNum(nDate.getMonth() + 1) + '-' + nDate.getFullYear()\r\n\t}\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Giáo viên',\r\n\t\t\tdataIndex: 'TeacherName',\r\n\t\t\trender: (price, record) => <p className=\"font-weight-primary\">{price}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Môn học',\r\n\t\t\tdataIndex: 'CourseName',\r\n\t\t\trender: (price, record) => <p className=\"font-weight-primary\">{price}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Buổi học',\r\n\t\t\tdataIndex: 'LessonNumber',\r\n\t\t\talign: 'center',\r\n\t\t\trender: (price, record) => <p style={{ width: 70 }}>{price}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Ngày dạy',\r\n\t\t\tdataIndex: 'Date',\r\n\t\t\talign: 'center',\r\n\t\t\trender: (price, record) => <p style={{ width: 100 }}>{getStrDate(price)}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Thời gian học',\r\n\t\t\tdataIndex: 'StudyTimeName',\r\n\t\t\trender: (price, record) => <p style={{ width: 100 }}>{price}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Lương môn học',\r\n\t\t\tdataIndex: 'SalaryOfLesson',\r\n\t\t\trender: (price, record) => <p style={{ width: 120 }}>{numberWithCommas(price)}</p>\r\n\t\t}\r\n\t]\r\n\r\n\tconst getDataSource = async () => {\r\n\t\ttry {\r\n\t\t\tlet res = await teacherSalaryApi.getDetail(defaultParams)\r\n\t\t\tconsole.log(res.data.data)\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tsetDataSource(res.data.data)\r\n\t\t\t}\r\n\t\t\tif (res.status == 204) {\r\n\t\t\t\tsetDataSource([])\r\n\t\t\t}\r\n\t\t} catch (error) {}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tgetDataSource()\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<button\r\n\t\t\t\tclassName=\"font-weight-primary btn btn-icon edit\"\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tsetVisible(true)\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Tooltip title=\"Xem chi tiết\">\r\n\t\t\t\t\t<button className=\"custom-btn-shit\">{numberWithCommas(price)}</button>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t</button>\r\n\r\n\t\t\t<Modal width={800} title=\"Chi tiết lương giáo viên\" visible={visible} onCancel={() => setVisible(false)} footer={false}>\r\n\t\t\t\t<PowerTable columns={columns} dataSource={dataSource}></PowerTable>\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default SalaryOfTeacherDetail\r\n"]},"metadata":{},"sourceType":"module"}