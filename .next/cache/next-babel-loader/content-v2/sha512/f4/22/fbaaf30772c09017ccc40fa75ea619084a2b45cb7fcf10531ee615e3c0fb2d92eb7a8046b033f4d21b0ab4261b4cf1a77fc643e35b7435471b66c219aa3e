{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\VideoLearning\\\\list-video\\\\render-item\\\\index.tsx\";\nimport React, { useEffect, useState } from 'react';\nimport 'antd/dist/antd.css';\nimport { List } from 'antd';\nimport { VideoCourses } from '~/apiBase/video-learning';\nimport { useRouter } from 'next/router';\nimport RenderItemSub from '~/components/VideoLearning/list-video/render-sub-item';\nlet playing = ''; // RENDER ITEM LIST VIDEOS\n\nconst RenderItem = ({\n  item,\n  onPress,\n  data,\n  watching\n}) => {\n  const router = useRouter();\n  const {\n    0: isShow,\n    1: setShow\n  } = useState(false);\n  const {\n    0: subVideos,\n    1: setSubVideos\n  } = useState([]);\n  const {\n    0: reRender,\n    1: setRender\n  } = useState('');\n  const {\n    0: videoWatching,\n    1: setVideoWatching\n  } = useState(0);\n  useEffect(() => {\n    if (item.ID == watching) {\n      console.log(`%cCurrent Video Section:` + `%c ${item.Title}`, 'color: yellow;', 'color: #00B0FF; font-weight: bold');\n      handleClick();\n    }\n\n    if (subVideos.length > 0) {\n      getWatchingVideo();\n    }\n  }, [subVideos]);\n\n  const getWatchingVideo = () => {\n    const indexAPI = subVideos.findIndex(item => (item === null || item === void 0 ? void 0 : item.IsWatching) == true);\n\n    if (indexAPI > -1) {\n      setVideoWatching(subVideos[indexAPI].ID);\n    } else {\n      setVideoWatching(subVideos[0].ID);\n    }\n  }; // CLICK ITEM TO SHOW SUBITEM\n\n\n  const handleClick = () => {\n    if (!isShow && subVideos.length == 0) {\n      getVideos();\n    } else {\n      setShow(!isShow);\n    }\n  }; // GET INDEXT OF ITEM IN LIST\n\n\n  const getSectionNumber = () => {\n    return data.indexOf(item) + 1;\n  }; //GET DATA\n\n\n  const getVideos = async () => {\n    const temp = {\n      SectionID: item.ID,\n      VideoCourseOfStudentID: router.query.course\n    };\n\n    try {\n      const res = await VideoCourses.ListLesson(temp);\n      res.status == 200 && setSubVideos(res.data.data), setShow(true);\n    } catch (err) {}\n  };\n\n  const _gotoTest = async () => {\n    window.open(`/exam/exam-review/?examID=${item === null || item === void 0 ? void 0 : item.ExamTopicID}&lessionID=${item === null || item === void 0 ? void 0 : item.ID}&type=video`);\n  }; // RENDER\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bottom-border\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-3 wrap-render-item\",\n      onClick: handleClick,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"left\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"title none-selection\",\n          children: [\"Section \", getSectionNumber(), \": \", item.Title]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row m-0 p-0 date none-selection\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: item.CompleteVsTotalLesson\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-1\",\n            children: !!item.TotalSecondLesson && ' | ' + item.TotalSecondLesson + ' phút'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n        className: `mr-2 ml-2 far ${isShow ? 'fa-chevron-up' : 'fa-chevron-down'} `\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 4\n    }, this), isShow && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [!!item && (item === null || item === void 0 ? void 0 : item.IsExam) && (item === null || item === void 0 ? void 0 : item.ExamTopicID) > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-exam\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: _gotoTest,\n            className: \"text\",\n            children: \"L\\xE0m b\\xE0i ki\\u1EC3m tra\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 8\n        }, this)\n      }, void 0, false), /*#__PURE__*/_jsxDEV(List, {\n        itemLayout: \"horizontal\",\n        dataSource: subVideos || [],\n        renderItem: i => /*#__PURE__*/_jsxDEV(RenderItemSub, {\n          onPress: p => {\n            setRender(p.ID);\n            onPress(p);\n          },\n          videoWatching: videoWatching,\n          data: data,\n          item: i,\n          subData: subVideos,\n          section: item\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 8\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 3\n  }, this);\n};\n\nexport default RenderItem;","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/VideoLearning/list-video/render-item/index.tsx"],"names":["React","useEffect","useState","List","VideoCourses","useRouter","RenderItemSub","playing","RenderItem","item","onPress","data","watching","router","isShow","setShow","subVideos","setSubVideos","reRender","setRender","videoWatching","setVideoWatching","ID","console","log","Title","handleClick","length","getWatchingVideo","indexAPI","findIndex","IsWatching","getVideos","getSectionNumber","indexOf","temp","SectionID","VideoCourseOfStudentID","query","course","res","ListLesson","status","err","_gotoTest","window","open","ExamTopicID","CompleteVsTotalLesson","TotalSecondLesson","IsExam","i","p"],"mappings":"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","sourcesContent":["import React, { FC, useEffect, useState } from 'react'\r\nimport 'antd/dist/antd.css'\r\nimport { List, Button, Checkbox, notification } from 'antd'\r\nimport { DownloadOutlined } from '@ant-design/icons'\r\nimport { VideoCourses } from '~/apiBase/video-learning'\r\nimport { useRouter } from 'next/router'\r\nimport RenderItemSub from '~/components/VideoLearning/list-video/render-sub-item'\r\n\r\ntype itemType = {\r\n\tID: string\r\n\tTitle: string\r\n\tTotalSecondLesson: string\r\n\tDescription: string\r\n\tCompleteVsTotalLesson: string\r\n\tSecond: string\r\n\tIsSeen: false\r\n\tLinkDocument: string\r\n\tIsExam: boolean\r\n\tExamTopicID: number\r\n}\r\n\r\ntype props = {\r\n\titem: itemType\r\n\tdata: any[]\r\n\tonPress: any\r\n\twatching: any\r\n}\r\n\r\nlet playing: string = ''\r\n\r\n// RENDER ITEM LIST VIDEOS\r\nconst RenderItem: FC<props> = ({ item, onPress, data, watching }) => {\r\n\tconst router = useRouter()\r\n\tconst [isShow, setShow] = useState(false)\r\n\tconst [subVideos, setSubVideos] = useState([])\r\n\tconst [reRender, setRender] = useState('')\r\n\r\n\tconst [videoWatching, setVideoWatching] = useState(0)\r\n\r\n\tuseEffect(() => {\r\n\t\tif (item.ID == watching) {\r\n\t\t\tconsole.log(`%cCurrent Video Section:` + `%c ${item.Title}`, 'color: yellow;', 'color: #00B0FF; font-weight: bold')\r\n\t\t\thandleClick()\r\n\t\t}\r\n\r\n\t\tif (subVideos.length > 0) {\r\n\t\t\tgetWatchingVideo()\r\n\t\t}\r\n\t}, [subVideos])\r\n\r\n\tconst getWatchingVideo = () => {\r\n\t\tconst indexAPI = subVideos.findIndex((item: any) => item?.IsWatching == true)\r\n\t\tif (indexAPI > -1) {\r\n\t\t\tsetVideoWatching(subVideos[indexAPI].ID)\r\n\t\t} else {\r\n\t\t\tsetVideoWatching(subVideos[0].ID)\r\n\t\t}\r\n\t}\r\n\r\n\t// CLICK ITEM TO SHOW SUBITEM\r\n\tconst handleClick = () => {\r\n\t\tif (!isShow && subVideos.length == 0) {\r\n\t\t\tgetVideos()\r\n\t\t} else {\r\n\t\t\tsetShow(!isShow)\r\n\t\t}\r\n\t}\r\n\r\n\t// GET INDEXT OF ITEM IN LIST\r\n\tconst getSectionNumber = () => {\r\n\t\treturn data.indexOf(item) + 1\r\n\t}\r\n\r\n\t//GET DATA\r\n\tconst getVideos = async () => {\r\n\t\tconst temp = { SectionID: item.ID, VideoCourseOfStudentID: router.query.course }\r\n\t\ttry {\r\n\t\t\tconst res = await VideoCourses.ListLesson(temp)\r\n\t\t\tres.status == 200 && setSubVideos(res.data.data), setShow(true)\r\n\t\t} catch (err) {}\r\n\t}\r\n\r\n\tconst _gotoTest = async () => {\r\n\t\twindow.open(`/exam/exam-review/?examID=${item?.ExamTopicID}&lessionID=${item?.ID}&type=video`)\r\n\t}\r\n\r\n\t// RENDER\r\n\treturn (\r\n\t\t<div className=\"bottom-border\">\r\n\t\t\t<div className=\"p-3 wrap-render-item\" onClick={handleClick}>\r\n\t\t\t\t<div className=\"left\">\r\n\t\t\t\t\t<div className=\"title none-selection\">\r\n\t\t\t\t\t\tSection {getSectionNumber()}: {item.Title}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row m-0 p-0 date none-selection\">\r\n\t\t\t\t\t\t<div>{item.CompleteVsTotalLesson}</div>\r\n\t\t\t\t\t\t<div className=\"ml-1\">{!!item.TotalSecondLesson && ' | ' + item.TotalSecondLesson + ' phút'}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<i className={`mr-2 ml-2 far ${isShow ? 'fa-chevron-up' : 'fa-chevron-down'} `} />\r\n\t\t\t</div>\r\n\r\n\t\t\t{isShow && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{!!item && item?.IsExam && item?.ExamTopicID > 0 && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<div className=\"w-exam\">\r\n\t\t\t\t\t\t\t\t<div onClick={_gotoTest} className=\"text\">\r\n\t\t\t\t\t\t\t\t\tLàm bài kiểm tra\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<List\r\n\t\t\t\t\t\titemLayout=\"horizontal\"\r\n\t\t\t\t\t\tdataSource={subVideos || []}\r\n\t\t\t\t\t\trenderItem={(i) => (\r\n\t\t\t\t\t\t\t<RenderItemSub\r\n\t\t\t\t\t\t\t\tonPress={(p) => {\r\n\t\t\t\t\t\t\t\t\tsetRender(p.ID)\r\n\t\t\t\t\t\t\t\t\tonPress(p)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tvideoWatching={videoWatching}\r\n\t\t\t\t\t\t\t\tdata={data}\r\n\t\t\t\t\t\t\t\titem={i}\r\n\t\t\t\t\t\t\t\tsubData={subVideos}\r\n\t\t\t\t\t\t\t\tsection={item}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default RenderItem\r\n"]},"metadata":{},"sourceType":"module"}