{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\CodingMentor\\\\CodingMentor-FE\\\\src\\\\components\\\\Global\\\\NewsFeed\\\\NewsFeedItemComponents\\\\NewsFeedItem.tsx\";\nimport { Image, Popover } from 'antd';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport { MoreHorizontal, Navigation, ThumbsUp } from 'react-feather';\nimport { fmDateFromNow } from '~/utils/functions';\nimport Linkify from 'react-linkify';\nNewsFeedItem.propTypes = {\n  // FILTER SEARCH HANDLE\n  handleFilters: PropTypes.func,\n  // LIKE HANDLE\n  isUserLiked: PropTypes.bool,\n  handleUserLikeNewsFeed: PropTypes.func,\n  // COMMENT HANDLE\n  handleComment: PropTypes.func,\n  fetchComment: PropTypes.func,\n  // REPLY HANDLE\n  handleReplyComment: PropTypes.func,\n  fetchReplyComment: PropTypes.func,\n  // INFORMATION\n  item: PropTypes.shape({\n    ID: PropTypes.number,\n    UserInformationID: PropTypes.number,\n    FullNameUnicode: PropTypes.string,\n    Avatar: PropTypes.string,\n    RoleID: PropTypes.number,\n    RoleName: PropTypes.string,\n    GroupNewsFeedID: PropTypes.number,\n    GroupNewsFeedName: PropTypes.string,\n    Content: PropTypes.string,\n    TypeFile: PropTypes.number,\n    isComment: PropTypes.bool,\n    CommentCount: PropTypes.number,\n    isLike: PropTypes.bool,\n    LikeCount: PropTypes.number,\n    NewsFeedFile: PropTypes.arrayOf(PropTypes.shape({\n      ID: PropTypes.number,\n      NameFile: PropTypes.string,\n      Type: PropTypes.number,\n      TypeName: PropTypes.string,\n      UID: PropTypes.string,\n      Thumnail: PropTypes.string\n    })),\n    NewsFeedBranch: PropTypes.arrayOf(PropTypes.shape({\n      ID: PropTypes.number,\n      BranchID: PropTypes.number,\n      BranchName: PropTypes.string\n    }))\n  }),\n  isLoading: PropTypes.shape({\n    type: PropTypes.string.isRequired,\n    status: PropTypes.bool.isRequired\n  }),\n  userComment: PropTypes.object,\n  //COMPONENT\n  moreActionComponent: PropTypes.element\n};\nNewsFeedItem.defaultProps = {\n  // FILTER SEARCH HANDLE\n  handleFilters: null,\n  // LIKE HANDLE\n  isUserLiked: false,\n  handleUserLikeNewsFeed: null,\n  // COMMENT HANDLE\n  handleComment: null,\n  fetchComment: null,\n  // REPLY HANDLE\n  handleReplyComment: null,\n  fetchReplyComment: null,\n  // INFORMATION\n  item: {\n    ID: 0,\n    UserInformationID: 0,\n    FullNameUnicode: '',\n    Avatar: '',\n    RoleID: 0,\n    RoleName: '',\n    GroupNewsFeedID: 0,\n    GroupNewsFeedName: '',\n    Content: '',\n    TypeFile: 0,\n    isComment: false,\n    CommentCount: 0,\n    isLike: false,\n    LikeCount: 0,\n    NewsFeedFile: [],\n    NewsFeedBranch: []\n  },\n  isLoading: {\n    type: '',\n    status: false\n  },\n  userComment: {},\n  //COMPONENT\n  moreActionComponent: null\n};\n\nfunction NewsFeedItem(props) {\n  const {\n    // FILTER SEARCH HANDLE\n    handleFilters,\n    // LIKE HANDLE\n    isUserLiked,\n    handleUserLikeNewsFeed,\n    // COMMENT HANDLE\n    handleComment,\n    fetchComment,\n    // REPLY HANDLE\n    handleReplyComment,\n    fetchReplyComment,\n    // INFORMATION\n    item,\n    isLoading,\n    userComment,\n    // COMPONENT\n    moreActionComponent\n  } = props;\n  const {\n    0: showComments,\n    1: setShowComments\n  } = useState(false);\n  const {\n    0: commentList,\n    1: setCommentList\n  } = useState([]);\n  const {\n    0: visible,\n    1: setVisible\n  } = useState(false);\n\n  const handleShowComments = () => {\n    setShowComments(!showComments);\n  }; // FILTER AND SORT\n\n\n  const checkHandleFilters = (field, value) => {\n    if (!handleFilters) return;\n    return () => handleFilters(field, value);\n  }; // LIKE\n\n\n  const checkHandleUserLikeNewsFeed = ID => {\n    if (!handleUserLikeNewsFeed) return;\n    handleUserLikeNewsFeed(ID);\n  }; // COMMENT\n\n\n  const checkHandleComment = data => {\n    if (!handleComment) return;\n    return handleComment(data).then(res => {\n      if ((res === null || res === void 0 ? void 0 : res.status) === 200) {\n        setCommentList([res.data.data, ...commentList]);\n        return true;\n      } else {\n        return false;\n      }\n    });\n  };\n\n  const checkFetchComment = ID => {\n    if (!fetchComment) return;\n\n    if (!showComments) {\n      fetchComment(ID).then(res => {\n        if ((res === null || res === void 0 ? void 0 : res.status) === 200) {\n          setCommentList(res.data.data);\n        } else {\n          setCommentList([]);\n        }\n      });\n    }\n  }; // IMAGES LIST\n\n\n  const checkUIImageList = imageList => {\n    const length = imageList.length;\n\n    if (length >= 3) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"more-than-3-images\",\n        children: [imageList.slice(0, 2).map((item, index) => /*#__PURE__*/_jsxDEV(Image, {\n          src: item.NameFile,\n          preview: false,\n          width: '50%',\n          onClick: () => setVisible(true)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 7\n        }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"preview-total\",\n          onClick: () => setVisible(true),\n          children: [\"+ \", imageList.length - 2]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 5\n      }, this);\n    }\n\n    if (length >= 2) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"two-images\",\n        children: imageList.map((item, index) => /*#__PURE__*/_jsxDEV(Image, {\n          src: item.NameFile,\n          preview: false,\n          width: '50%',\n          onClick: () => setVisible(true)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 7\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 5\n      }, this);\n    }\n\n    if (length >= 1) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"one-image\",\n        children: imageList.map((item, index) => /*#__PURE__*/_jsxDEV(Image, {\n          src: item.NameFile,\n          preview: false,\n          width: '100%',\n          onClick: () => setVisible(true)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 7\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 5\n      }, this);\n    }\n  };\n\n  const renderImageList = () => {\n    const imageList = item.NewsFeedFile.filter(item => item.Type === 2);\n\n    if (imageList.length > 0) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"newsfeed-images\",\n        children: [checkUIImageList(imageList), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'none'\n          },\n          children: /*#__PURE__*/_jsxDEV(Image.PreviewGroup, {\n            preview: {\n              visible,\n              onVisibleChange: vis => setVisible(vis)\n            },\n            children: imageList.map((item, index) => /*#__PURE__*/_jsxDEV(Image, {\n              src: item.NameFile\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 9\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 5\n      }, this);\n    }\n  }; // AUDIO LIST\n\n\n  const renderAudioList = () => {\n    const audioList = item.NewsFeedFile.filter(item => item.Type === 3);\n\n    if (audioList.length > 0) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"newsfeed-audio\",\n        children: audioList.map((item, index) => /*#__PURE__*/_jsxDEV(\"audio\", {\n          className: \"audio-tag\",\n          controls: true,\n          children: [/*#__PURE__*/_jsxDEV(\"source\", {\n            src: item.NameFile,\n            type: \"audio/ogg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"source\", {\n            src: item.NameFile,\n            type: \"audio/mpeg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 8\n          }, this), \"Your browser does not support the audio element.\"]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 7\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 5\n      }, this);\n    }\n  }; // VIDEO LIST\n\n\n  const renderVideoList = () => {\n    const videoList = item.NewsFeedFile.filter(item => item.Type === 4);\n\n    if (videoList.length > 0) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"newsfeed-video\",\n        children: videoList.map((item, index) => /*#__PURE__*/_jsxDEV(\"video\", {\n          className: \"video-tag\",\n          controls: true,\n          children: [/*#__PURE__*/_jsxDEV(\"source\", {\n            src: item.NameFile,\n            type: \"video/mp4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"source\", {\n            src: item.NameFile,\n            type: \"video/ogg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 8\n          }, this), \"Your browser does not support the video tag.\"]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 7\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 5\n      }, this);\n    }\n  }; // LIGHT BOX\n\n\n  const renderNewsFeedBackground = () => {\n    const isNewsFeedBackground = item.TypeFile === 1;\n\n    if (isNewsFeedBackground && item.NewsFeedFile.length === 1) {\n      const backgroundFile = item.NewsFeedFile[0];\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"newsfeed-background\",\n        style: {\n          color: item.Color,\n          backgroundImage: `url(${backgroundFile.NameFile})`\n        },\n        children: /*#__PURE__*/_jsxDEV(Linkify, {\n          componentDecorator: (decoratedHref, decoratedText, key) => /*#__PURE__*/_jsxDEV(\"a\", {\n            target: \"blank\",\n            href: decoratedHref,\n            children: decoratedText\n          }, key, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 8\n          }, this),\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: item.Content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 5\n      }, this);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    className: \"item-nf\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"newsfeed\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"newsfeed-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info-current-user\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"avatar\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: item.Avatar || '/images/user.png',\n              alt: \"avatar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"name-user\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"name\",\n              children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                onClick: checkHandleFilters('name', item.FullNameUnicode),\n                children: item.FullNameUnicode\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"share-point\",\n                children: /*#__PURE__*/_jsxDEV(Navigation, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                children: item.NewsFeedBranch.map((item, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"item-branch\",\n                  children: item.BranchName\n                }, idx, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 296,\n                  columnNumber: 11\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"newsfeed-time\",\n              children: fmDateFromNow(item.CreatedOn)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"newsfeed-more\",\n          children: moreActionComponent && /*#__PURE__*/_jsxDEV(Popover, {\n            zIndex: 999,\n            content: moreActionComponent,\n            placement: \"bottomRight\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-more\",\n              children: /*#__PURE__*/_jsxDEV(MoreHorizontal, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 5\n      }, this), item.Content && item.TypeFile !== 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"newsfeed-content\",\n        style: {\n          color: item.Color\n        },\n        children: /*#__PURE__*/_jsxDEV(Linkify, {\n          componentDecorator: (decoratedHref, decoratedText, key) => /*#__PURE__*/_jsxDEV(\"a\", {\n            target: \"blank\",\n            href: decoratedHref,\n            style: {\n              fontWeight: 500\n            },\n            children: decoratedText\n          }, key, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 9\n          }, this),\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: item.Content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 6\n      }, this), renderImageList(), renderVideoList(), renderAudioList(), renderNewsFeedBackground(), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"newsfeed-total\",\n        children: item.LikeCount > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(ThumbsUp, {\n            color: \"#0571e5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 8\n          }, this), \" \", item.LikeCount]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"newsfeed-action\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"action w-100\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: isUserLiked ? 'btn btn-light active' : 'btn btn-light',\n            onClick: () => checkHandleUserLikeNewsFeed(item.ID),\n            children: [/*#__PURE__*/_jsxDEV(ThumbsUp, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ml-2\",\n              children: \"Th\\xEDch\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 280,\n    columnNumber: 3\n  }, this);\n}\n\nexport default NewsFeedItem;","map":{"version":3,"sources":["D:/MonaMedia/Project/CodingMentor/CodingMentor-FE/src/components/Global/NewsFeed/NewsFeedItemComponents/NewsFeedItem.tsx"],"names":["Image","Popover","PropTypes","React","useState","MoreHorizontal","Navigation","ThumbsUp","fmDateFromNow","Linkify","NewsFeedItem","propTypes","handleFilters","func","isUserLiked","bool","handleUserLikeNewsFeed","handleComment","fetchComment","handleReplyComment","fetchReplyComment","item","shape","ID","number","UserInformationID","FullNameUnicode","string","Avatar","RoleID","RoleName","GroupNewsFeedID","GroupNewsFeedName","Content","TypeFile","isComment","CommentCount","isLike","LikeCount","NewsFeedFile","arrayOf","NameFile","Type","TypeName","UID","Thumnail","NewsFeedBranch","BranchID","BranchName","isLoading","type","isRequired","status","userComment","object","moreActionComponent","element","defaultProps","props","showComments","setShowComments","commentList","setCommentList","visible","setVisible","handleShowComments","checkHandleFilters","field","value","checkHandleUserLikeNewsFeed","checkHandleComment","data","then","res","checkFetchComment","checkUIImageList","imageList","length","slice","map","index","renderImageList","filter","display","onVisibleChange","vis","renderAudioList","audioList","renderVideoList","videoList","renderNewsFeedBackground","isNewsFeedBackground","backgroundFile","color","Color","backgroundImage","decoratedHref","decoratedText","key","idx","CreatedOn","fontWeight"],"mappings":"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","sourcesContent":["import { Image, Popover, Spin } from 'antd'\r\nimport PropTypes from 'prop-types'\r\nimport React, { useState } from 'react'\r\nimport { MessageCircle, MoreHorizontal, Navigation, ThumbsUp } from 'react-feather'\r\nimport { fmDateFromNow } from '~/utils/functions'\r\nimport Comment from './Comment'\r\nimport CommentForm from './CommentForm'\r\nimport Linkify from 'react-linkify'\r\n\r\nNewsFeedItem.propTypes = {\r\n\t// FILTER SEARCH HANDLE\r\n\thandleFilters: PropTypes.func,\r\n\t// LIKE HANDLE\r\n\tisUserLiked: PropTypes.bool,\r\n\thandleUserLikeNewsFeed: PropTypes.func,\r\n\t// COMMENT HANDLE\r\n\thandleComment: PropTypes.func,\r\n\tfetchComment: PropTypes.func,\r\n\t// REPLY HANDLE\r\n\thandleReplyComment: PropTypes.func,\r\n\tfetchReplyComment: PropTypes.func,\r\n\t// INFORMATION\r\n\titem: PropTypes.shape({\r\n\t\tID: PropTypes.number,\r\n\t\tUserInformationID: PropTypes.number,\r\n\t\tFullNameUnicode: PropTypes.string,\r\n\t\tAvatar: PropTypes.string,\r\n\t\tRoleID: PropTypes.number,\r\n\t\tRoleName: PropTypes.string,\r\n\t\tGroupNewsFeedID: PropTypes.number,\r\n\t\tGroupNewsFeedName: PropTypes.string,\r\n\t\tContent: PropTypes.string,\r\n\t\tTypeFile: PropTypes.number,\r\n\t\tisComment: PropTypes.bool,\r\n\t\tCommentCount: PropTypes.number,\r\n\t\tisLike: PropTypes.bool,\r\n\t\tLikeCount: PropTypes.number,\r\n\t\tNewsFeedFile: PropTypes.arrayOf(\r\n\t\t\tPropTypes.shape({\r\n\t\t\t\tID: PropTypes.number,\r\n\t\t\t\tNameFile: PropTypes.string,\r\n\t\t\t\tType: PropTypes.number,\r\n\t\t\t\tTypeName: PropTypes.string,\r\n\t\t\t\tUID: PropTypes.string,\r\n\t\t\t\tThumnail: PropTypes.string\r\n\t\t\t})\r\n\t\t),\r\n\t\tNewsFeedBranch: PropTypes.arrayOf(\r\n\t\t\tPropTypes.shape({\r\n\t\t\t\tID: PropTypes.number,\r\n\t\t\t\tBranchID: PropTypes.number,\r\n\t\t\t\tBranchName: PropTypes.string\r\n\t\t\t})\r\n\t\t)\r\n\t}),\r\n\tisLoading: PropTypes.shape({\r\n\t\ttype: PropTypes.string.isRequired,\r\n\t\tstatus: PropTypes.bool.isRequired\r\n\t}),\r\n\tuserComment: PropTypes.object,\r\n\t//COMPONENT\r\n\tmoreActionComponent: PropTypes.element\r\n}\r\nNewsFeedItem.defaultProps = {\r\n\t// FILTER SEARCH HANDLE\r\n\thandleFilters: null,\r\n\t// LIKE HANDLE\r\n\tisUserLiked: false,\r\n\thandleUserLikeNewsFeed: null,\r\n\t// COMMENT HANDLE\r\n\thandleComment: null,\r\n\tfetchComment: null,\r\n\t// REPLY HANDLE\r\n\thandleReplyComment: null,\r\n\tfetchReplyComment: null,\r\n\t// INFORMATION\r\n\titem: {\r\n\t\tID: 0,\r\n\t\tUserInformationID: 0,\r\n\t\tFullNameUnicode: '',\r\n\t\tAvatar: '',\r\n\t\tRoleID: 0,\r\n\t\tRoleName: '',\r\n\t\tGroupNewsFeedID: 0,\r\n\t\tGroupNewsFeedName: '',\r\n\t\tContent: '',\r\n\t\tTypeFile: 0,\r\n\t\tisComment: false,\r\n\t\tCommentCount: 0,\r\n\t\tisLike: false,\r\n\t\tLikeCount: 0,\r\n\t\tNewsFeedFile: [],\r\n\t\tNewsFeedBranch: []\r\n\t},\r\n\tisLoading: { type: '', status: false },\r\n\tuserComment: {},\r\n\t//COMPONENT\r\n\tmoreActionComponent: null\r\n}\r\nfunction NewsFeedItem(props) {\r\n\tconst {\r\n\t\t// FILTER SEARCH HANDLE\r\n\t\thandleFilters,\r\n\t\t// LIKE HANDLE\r\n\t\tisUserLiked,\r\n\t\thandleUserLikeNewsFeed,\r\n\t\t// COMMENT HANDLE\r\n\t\thandleComment,\r\n\t\tfetchComment,\r\n\t\t// REPLY HANDLE\r\n\t\thandleReplyComment,\r\n\t\tfetchReplyComment,\r\n\t\t// INFORMATION\r\n\t\titem,\r\n\t\tisLoading,\r\n\t\tuserComment,\r\n\t\t// COMPONENT\r\n\t\tmoreActionComponent\r\n\t} = props\r\n\tconst [showComments, setShowComments] = useState(false)\r\n\tconst [commentList, setCommentList] = useState<INewsFeedComment[]>([])\r\n\tconst [visible, setVisible] = useState(false)\r\n\r\n\tconst handleShowComments = () => {\r\n\t\tsetShowComments(!showComments)\r\n\t}\r\n\r\n\t// FILTER AND SORT\r\n\tconst checkHandleFilters = (field: string, value) => {\r\n\t\tif (!handleFilters) return\r\n\t\treturn () => handleFilters(field, value)\r\n\t}\r\n\t// LIKE\r\n\tconst checkHandleUserLikeNewsFeed = (ID: number) => {\r\n\t\tif (!handleUserLikeNewsFeed) return\r\n\t\thandleUserLikeNewsFeed(ID)\r\n\t}\r\n\t// COMMENT\r\n\tconst checkHandleComment = (data: { CommentContent: string; NewsFeedID: number }) => {\r\n\t\tif (!handleComment) return\r\n\t\treturn handleComment(data).then((res) => {\r\n\t\t\tif (res?.status === 200) {\r\n\t\t\t\tsetCommentList([res.data.data, ...commentList])\r\n\t\t\t\treturn true\r\n\t\t\t} else {\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\tconst checkFetchComment = (ID: number) => {\r\n\t\tif (!fetchComment) return\r\n\t\tif (!showComments) {\r\n\t\t\tfetchComment(ID).then((res) => {\r\n\t\t\t\tif (res?.status === 200) {\r\n\t\t\t\t\tsetCommentList(res.data.data)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetCommentList([])\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\t// IMAGES LIST\r\n\tconst checkUIImageList = (imageList) => {\r\n\t\tconst length = imageList.length\r\n\t\tif (length >= 3) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"more-than-3-images\">\r\n\t\t\t\t\t{imageList.slice(0, 2).map((item, index) => (\r\n\t\t\t\t\t\t<Image key={index} src={item.NameFile} preview={false} width={'50%'} onClick={() => setVisible(true)} />\r\n\t\t\t\t\t))}\r\n\t\t\t\t\t<div className=\"preview-total\" onClick={() => setVisible(true)}>\r\n\t\t\t\t\t\t+ {imageList.length - 2}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (length >= 2) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"two-images\">\r\n\t\t\t\t\t{imageList.map((item, index) => (\r\n\t\t\t\t\t\t<Image key={index} src={item.NameFile} preview={false} width={'50%'} onClick={() => setVisible(true)} />\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (length >= 1) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"one-image\">\r\n\t\t\t\t\t{imageList.map((item, index) => (\r\n\t\t\t\t\t\t<Image key={index} src={item.NameFile} preview={false} width={'100%'} onClick={() => setVisible(true)} />\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\tconst renderImageList = () => {\r\n\t\tconst imageList = item.NewsFeedFile.filter((item) => item.Type === 2)\r\n\t\tif (imageList.length > 0) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"newsfeed-images\">\r\n\t\t\t\t\t{checkUIImageList(imageList)}\r\n\t\t\t\t\t<div style={{ display: 'none' }}>\r\n\t\t\t\t\t\t<Image.PreviewGroup\r\n\t\t\t\t\t\t\tpreview={{\r\n\t\t\t\t\t\t\t\tvisible,\r\n\t\t\t\t\t\t\t\tonVisibleChange: (vis) => setVisible(vis)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{imageList.map((item, index) => (\r\n\t\t\t\t\t\t\t\t<Image src={item.NameFile} key={index} />\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Image.PreviewGroup>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\t// AUDIO LIST\r\n\tconst renderAudioList = () => {\r\n\t\tconst audioList = item.NewsFeedFile.filter((item) => item.Type === 3)\r\n\t\tif (audioList.length > 0) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"newsfeed-audio\">\r\n\t\t\t\t\t{audioList.map((item, index) => (\r\n\t\t\t\t\t\t<audio className=\"audio-tag\" controls key={index}>\r\n\t\t\t\t\t\t\t<source src={item.NameFile} type=\"audio/ogg\" />\r\n\t\t\t\t\t\t\t<source src={item.NameFile} type=\"audio/mpeg\" />\r\n\t\t\t\t\t\t\tYour browser does not support the audio element.\r\n\t\t\t\t\t\t</audio>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\t// VIDEO LIST\r\n\tconst renderVideoList = () => {\r\n\t\tconst videoList = item.NewsFeedFile.filter((item) => item.Type === 4)\r\n\t\tif (videoList.length > 0) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"newsfeed-video\">\r\n\t\t\t\t\t{videoList.map((item, index) => (\r\n\t\t\t\t\t\t<video className=\"video-tag\" controls key={index}>\r\n\t\t\t\t\t\t\t<source src={item.NameFile} type=\"video/mp4\" />\r\n\t\t\t\t\t\t\t<source src={item.NameFile} type=\"video/ogg\" />\r\n\t\t\t\t\t\t\tYour browser does not support the video tag.\r\n\t\t\t\t\t\t</video>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\t// LIGHT BOX\r\n\tconst renderNewsFeedBackground = () => {\r\n\t\tconst isNewsFeedBackground = item.TypeFile === 1\r\n\t\tif (isNewsFeedBackground && item.NewsFeedFile.length === 1) {\r\n\t\t\tconst backgroundFile = item.NewsFeedFile[0]\r\n\t\t\treturn (\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName=\"newsfeed-background\"\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tcolor: item.Color,\r\n\t\t\t\t\t\tbackgroundImage: `url(${backgroundFile.NameFile})`\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Linkify\r\n\t\t\t\t\t\tcomponentDecorator={(decoratedHref, decoratedText, key) => (\r\n\t\t\t\t\t\t\t<a target=\"blank\" href={decoratedHref} key={key}>\r\n\t\t\t\t\t\t\t\t{decoratedText}\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span>{item.Content}</span>\r\n\t\t\t\t\t</Linkify>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\treturn (\r\n\t\t<li className=\"item-nf\">\r\n\t\t\t<div className=\"newsfeed\">\r\n\t\t\t\t<div className=\"newsfeed-header\">\r\n\t\t\t\t\t<div className=\"info-current-user\">\r\n\t\t\t\t\t\t<div className=\"avatar\">\r\n\t\t\t\t\t\t\t<img src={item.Avatar || '/images/user.png'} alt=\"avatar\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"name-user\">\r\n\t\t\t\t\t\t\t<div className=\"name\">\r\n\t\t\t\t\t\t\t\t<a onClick={checkHandleFilters('name', item.FullNameUnicode)}>{item.FullNameUnicode}</a>\r\n\t\t\t\t\t\t\t\t<span className=\"share-point\">\r\n\t\t\t\t\t\t\t\t\t<Navigation />\r\n\t\t\t\t\t\t\t\t</span>\r\n\r\n\t\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t\t{item.NewsFeedBranch.map((item, idx) => (\r\n\t\t\t\t\t\t\t\t\t\t<li key={idx} className=\"item-branch\">\r\n\t\t\t\t\t\t\t\t\t\t\t{item.BranchName}\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<span className=\"newsfeed-time\">{fmDateFromNow(item.CreatedOn)}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"newsfeed-more\">\r\n\t\t\t\t\t\t{moreActionComponent && (\r\n\t\t\t\t\t\t\t<Popover zIndex={999} content={moreActionComponent} placement=\"bottomRight\">\r\n\t\t\t\t\t\t\t\t<button className=\"btn-more\">\r\n\t\t\t\t\t\t\t\t\t<MoreHorizontal />\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{item.Content && item.TypeFile !== 1 && (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"newsfeed-content\"\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tcolor: item.Color\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Linkify\r\n\t\t\t\t\t\t\tcomponentDecorator={(decoratedHref, decoratedText, key) => (\r\n\t\t\t\t\t\t\t\t<a target=\"blank\" href={decoratedHref} key={key} style={{ fontWeight: 500 }}>\r\n\t\t\t\t\t\t\t\t\t{decoratedText}\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span>{item.Content}</span>\r\n\t\t\t\t\t\t</Linkify>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t{/* SHOW IMAGE OR FILE */}\r\n\t\t\t\t{renderImageList()}\r\n\t\t\t\t{renderVideoList()}\r\n\t\t\t\t{renderAudioList()}\r\n\t\t\t\t{renderNewsFeedBackground()}\r\n\t\t\t\t<div className=\"newsfeed-total\">\r\n\t\t\t\t\t{item.LikeCount > 0 && (\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t<ThumbsUp color=\"#0571e5\" /> {item.LikeCount}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{/* {(commentList.length > 0 || item.CommentCount > 0) && (\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"total-comments\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tcheckFetchComment(item.ID)\r\n\t\t\t\t\t\t\t\thandleShowComments()\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{commentList.length || item.CommentCount} Bình luận\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t)} */}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"newsfeed-action\">\r\n\t\t\t\t\t<div className=\"action w-100\">\r\n\t\t\t\t\t\t<button className={isUserLiked ? 'btn btn-light active' : 'btn btn-light'} onClick={() => checkHandleUserLikeNewsFeed(item.ID)}>\r\n\t\t\t\t\t\t\t<ThumbsUp />\r\n\t\t\t\t\t\t\t<span className=\"ml-2\">Thích</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{/* <div className=\"action\">\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName=\"btn btn-light\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tcheckFetchComment(item.ID)\r\n\t\t\t\t\t\t\t\thandleShowComments()\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<MessageCircle />\r\n\t\t\t\t\t\t\t<span>Bình luận</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div> */}\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* <div className={showComments ? 'newsfeed-comments' : 'hide'}>\r\n\t\t\t\t\t<CommentForm isLoading={isLoading} userComment={userComment} handleComment={checkHandleComment} newsFeedID={item.ID} />\r\n\t\t\t\t\t{commentList.length > 0 && (\r\n\t\t\t\t\t\t<ul className=\"list-comments\">\r\n\t\t\t\t\t\t\t{commentList.map((cmt, index) => (\r\n\t\t\t\t\t\t\t\t<Comment\r\n\t\t\t\t\t\t\t\t\tkey={cmt.ID}\r\n\t\t\t\t\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\t\t\t\t\tdataComment={cmt}\r\n\t\t\t\t\t\t\t\t\tfetchReplyComment={fetchReplyComment}\r\n\t\t\t\t\t\t\t\t\thandleReplyComment={handleReplyComment}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{!commentList.length && isLoading.type === `FETCH_COMMENT_${item.ID}` && isLoading.status && (\r\n\t\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t\t<Spin />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div> */}\r\n\t\t\t</div>\r\n\t\t</li>\r\n\t)\r\n}\r\n\r\nexport default NewsFeedItem\r\n"]},"metadata":{},"sourceType":"module"}