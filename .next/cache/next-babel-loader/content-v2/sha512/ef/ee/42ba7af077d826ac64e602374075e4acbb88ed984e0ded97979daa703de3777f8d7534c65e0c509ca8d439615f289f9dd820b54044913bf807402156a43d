{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Global\\\\Option\\\\NotificationForm.tsx\";\nimport { Form, Input, Modal, Select, Spin, Switch } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport EditorBase from '~/components/Elements/EditorBase';\nimport { useWrap } from '~/context/wrap';\nconst NotificationForm = /*#__PURE__*/React.memo(props => {\n  const {\n    Option\n  } = Select;\n  const {\n    0: isModalVisible,\n    1: setIsModalVisible\n  } = useState(false);\n  const [form] = Form.useForm();\n  const {\n    useAllRoles,\n    useStaffRoles\n  } = useWrap();\n  const {\n    0: sendMail,\n    1: setSendMail\n  } = useState(false);\n\n  const onChange = () => {\n    setSendMail(!sendMail);\n  };\n\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    formState: {\n      isSubmitting,\n      errors,\n      isSubmitted\n    }\n  } = useForm(); // const { showNoti } = useWrap();\n\n  const onSubmit = handleSubmit(data => {\n    data.IsSendMail = sendMail;\n\n    let res = props._onSubmit(data);\n\n    res.then(function (rs) {\n      rs && rs.status == 200 && setIsModalVisible(false), form.resetFields();\n    });\n  });\n\n  const changeContractContent = value => {\n    setValue('NotificationContent', value);\n  };\n\n  useEffect(() => {\n    if (isModalVisible) {\n      if (props.rowData) {\n        Object.keys(props.rowData).forEach(function (key) {\n          setValue(key, props.rowData[key]);\n        });\n      }\n    }\n  }, [isModalVisible]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-warning add-new\",\n      onClick: () => {\n        setIsModalVisible(true);\n      },\n      children: \"Th\\xEAm m\\u1EDBi\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      width: '40%',\n      title: \"T\\u1EA1o th\\xF4ng b\\xE1o\",\n      visible: isModalVisible,\n      onCancel: () => setIsModalVisible(false),\n      footer: null,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid\",\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          form: form,\n          layout: \"vertical\",\n          onFinish: onSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-8\",\n              children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                label: \"T\\xEAn th\\xF4ng b\\xE1o\",\n                name: \"T\\xEAn th\\xF4ng b\\xE1o\",\n                rules: [{\n                  required: true,\n                  message: 'Bạn không được để trống'\n                }],\n                children: /*#__PURE__*/_jsxDEV(Input, {\n                  placeholder: \"\",\n                  className: \"style-input\",\n                  onChange: e => setValue('NotificationTitle', e.target.value),\n                  allowClear: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-4\",\n              children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                label: \"G\\u1EEDi mail\",\n                children: /*#__PURE__*/_jsxDEV(Switch, {\n                  onChange: onChange,\n                  checked: sendMail\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-6\",\n              children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                label: \"Trung t\\xE2m\",\n                name: \"Trung t\\xE2m\",\n                rules: [{\n                  required: true,\n                  message: 'Bạn không được để trống'\n                }],\n                children: /*#__PURE__*/_jsxDEV(Select, {\n                  mode: \"multiple\",\n                  style: {\n                    width: '100%'\n                  },\n                  className: \"style-input multiple-select\",\n                  optionLabelProp: \"label\",\n                  onChange: value => setValue('BranchID', value.toString()),\n                  allowClear: true,\n                  children: [/*#__PURE__*/_jsxDEV(Option, {\n                    value: 0,\n                    label: \"T\\u1EA5t c\\u1EA3\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"demo-option-label-item\",\n                      children: \"T\\u1EA5t c\\u1EA3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 98,\n                      columnNumber: 12\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 97,\n                    columnNumber: 11\n                  }, this), props.dataBranch && props.dataBranch.map(item => /*#__PURE__*/_jsxDEV(Option, {\n                    value: item.ID,\n                    label: item.BranchName,\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"demo-option-label-item\",\n                      children: item.BranchName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 103,\n                      columnNumber: 14\n                    }, this)\n                  }, item.ID, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 102,\n                    columnNumber: 13\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-6\",\n              children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                label: \"Ng\\u01B0\\u1EDDi nh\\u1EADn\",\n                name: \"Ng\\u01B0\\u1EDDi nh\\u1EADn\",\n                rules: [{\n                  required: true,\n                  message: 'Bạn không được để trống'\n                }],\n                children: /*#__PURE__*/_jsxDEV(Select, {\n                  mode: \"multiple\",\n                  style: {\n                    width: '100%'\n                  },\n                  optionLabelProp: \"label\",\n                  className: \"style-input multiple-select\",\n                  onChange: value => setValue('RoleID', value.toString()),\n                  allowClear: true,\n                  children: [/*#__PURE__*/_jsxDEV(Option, {\n                    value: 0,\n                    label: \"T\\u1EA5t c\\u1EA3\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"demo-option-label-item\",\n                      children: \"T\\u1EA5t c\\u1EA3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 120,\n                      columnNumber: 12\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 119,\n                    columnNumber: 11\n                  }, this), useAllRoles !== null && useAllRoles.map(item => /*#__PURE__*/_jsxDEV(Option, {\n                    value: item.ID,\n                    label: item.name,\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"demo-option-label-item\",\n                      children: item.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 125,\n                      columnNumber: 14\n                    }, this)\n                  }, item.ID, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 124,\n                    columnNumber: 13\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n            label: \"N\\u1ED9i dung th\\xF4ng b\\xE1o\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"textarea-editor\",\n              children: /*#__PURE__*/_jsxDEV(EditorBase, {\n                handleChangeDataEditor: changeContractContent\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row \",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn btn-primary w-100\",\n                children: [\"L\\u01B0u\", props.isLoading.type == 'ADD_DATA' && props.isLoading.status && /*#__PURE__*/_jsxDEV(Spin, {\n                  className: \"loading-base\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 75\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n});\nexport default NotificationForm;","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Global/Option/NotificationForm.tsx"],"names":["Form","Input","Modal","Select","Spin","Switch","React","useEffect","useState","useForm","EditorBase","useWrap","NotificationForm","memo","props","Option","isModalVisible","setIsModalVisible","form","useAllRoles","useStaffRoles","sendMail","setSendMail","onChange","register","handleSubmit","setValue","formState","isSubmitting","errors","isSubmitted","onSubmit","data","IsSendMail","res","_onSubmit","then","rs","status","resetFields","changeContractContent","value","rowData","Object","keys","forEach","key","required","message","e","target","width","toString","dataBranch","map","item","ID","BranchName","name","isLoading","type"],"mappings":";;;AAAA,SAASA,IAAT,EAAeC,KAAf,EAAsBC,KAAtB,EAA6BC,MAA7B,EAAqCC,IAArC,EAA2CC,MAA3C,QAAyD,MAAzD;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,OAAOC,UAAP,MAAuB,kCAAvB;AACA,SAASC,OAAT,QAAwB,gBAAxB;AAEA,MAAMC,gBAAgB,gBAAGN,KAAK,CAACO,IAAN,CAAYC,KAAD,IAAgB;AACnD,QAAM;AAAEC,IAAAA;AAAF,MAAaZ,MAAnB;AAEA,QAAM;AAAA,OAACa,cAAD;AAAA,OAAiBC;AAAjB,MAAsCT,QAAQ,CAAC,KAAD,CAApD;AACA,QAAM,CAACU,IAAD,IAASlB,IAAI,CAACS,OAAL,EAAf;AAEA,QAAM;AAAEU,IAAAA,WAAF;AAAeC,IAAAA;AAAf,MAAiCT,OAAO,EAA9C;AAEA,QAAM;AAAA,OAACU,QAAD;AAAA,OAAWC;AAAX,MAA0Bd,QAAQ,CAAC,KAAD,CAAxC;;AAEA,QAAMe,QAAQ,GAAG,MAAM;AACtBD,IAAAA,WAAW,CAAC,CAACD,QAAF,CAAX;AACA,GAFD;;AAIA,QAAM;AACLG,IAAAA,QADK;AAELC,IAAAA,YAFK;AAGLC,IAAAA,QAHK;AAILC,IAAAA,SAAS,EAAE;AAAEC,MAAAA,YAAF;AAAgBC,MAAAA,MAAhB;AAAwBC,MAAAA;AAAxB;AAJN,MAKFrB,OAAO,EALX,CAdmD,CAoBnD;;AAEA,QAAMsB,QAAQ,GAAGN,YAAY,CAAEO,IAAD,IAAe;AAC5CA,IAAAA,IAAI,CAACC,UAAL,GAAkBZ,QAAlB;;AAEA,QAAIa,GAAG,GAAGpB,KAAK,CAACqB,SAAN,CAAgBH,IAAhB,CAAV;;AACAE,IAAAA,GAAG,CAACE,IAAJ,CAAS,UAAUC,EAAV,EAAmB;AAC3BA,MAAAA,EAAE,IAAIA,EAAE,CAACC,MAAH,IAAa,GAAnB,IAA0BrB,iBAAiB,CAAC,KAAD,CAA3C,EAAoDC,IAAI,CAACqB,WAAL,EAApD;AACA,KAFD;AAGA,GAP4B,CAA7B;;AASA,QAAMC,qBAAqB,GAAIC,KAAD,IAAW;AACxCf,IAAAA,QAAQ,CAAC,qBAAD,EAAwBe,KAAxB,CAAR;AACA,GAFD;;AAIAlC,EAAAA,SAAS,CAAC,MAAM;AACf,QAAIS,cAAJ,EAAoB;AACnB,UAAIF,KAAK,CAAC4B,OAAV,EAAmB;AAClBC,QAAAA,MAAM,CAACC,IAAP,CAAY9B,KAAK,CAAC4B,OAAlB,EAA2BG,OAA3B,CAAmC,UAAUC,GAAV,EAAe;AACjDpB,UAAAA,QAAQ,CAACoB,GAAD,EAAMhC,KAAK,CAAC4B,OAAN,CAAcI,GAAd,CAAN,CAAR;AACA,SAFD;AAGA;AACD;AACD,GARQ,EAQN,CAAC9B,cAAD,CARM,CAAT;AAUA,sBACC;AAAA,4BACC;AACC,MAAA,SAAS,EAAC,yBADX;AAEC,MAAA,OAAO,EAAE,MAAM;AACdC,QAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACA,OAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADD,eAWC,QAAC,KAAD;AAAO,MAAA,KAAK,EAAE,KAAd;AAAqB,MAAA,KAAK,EAAC,0BAA3B;AAA2C,MAAA,OAAO,EAAED,cAApD;AAAoE,MAAA,QAAQ,EAAE,MAAMC,iBAAiB,CAAC,KAAD,CAArG;AAA8G,MAAA,MAAM,EAAE,IAAtH;AAAA,6BACC;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA,+BACC,QAAC,IAAD;AAAM,UAAA,IAAI,EAAEC,IAAZ;AAAkB,UAAA,MAAM,EAAC,UAAzB;AAAoC,UAAA,QAAQ,EAAEa,QAA9C;AAAA,kCAEC;AAAK,YAAA,SAAS,EAAC,KAAf;AAAA,oCACC;AAAK,cAAA,SAAS,EAAC,OAAf;AAAA,qCACC,QAAC,IAAD,CAAM,IAAN;AAAW,gBAAA,KAAK,EAAC,wBAAjB;AAAiC,gBAAA,IAAI,EAAC,wBAAtC;AAAsD,gBAAA,KAAK,EAAE,CAAC;AAAEgB,kBAAAA,QAAQ,EAAE,IAAZ;AAAkBC,kBAAAA,OAAO,EAAE;AAA3B,iBAAD,CAA7D;AAAA,uCACC,QAAC,KAAD;AACC,kBAAA,WAAW,EAAC,EADb;AAEC,kBAAA,SAAS,EAAC,aAFX;AAGC,kBAAA,QAAQ,EAAGC,CAAD,IAAOvB,QAAQ,CAAC,mBAAD,EAAsBuB,CAAC,CAACC,MAAF,CAAST,KAA/B,CAH1B;AAIC,kBAAA,UAAU,EAAE;AAJb;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,oBADD,eAWC;AAAK,cAAA,SAAS,EAAC,OAAf;AAAA,qCACC,QAAC,IAAD,CAAM,IAAN;AAAW,gBAAA,KAAK,EAAC,eAAjB;AAAA,uCACC,QAAC,MAAD;AAAQ,kBAAA,QAAQ,EAAElB,QAAlB;AAA4B,kBAAA,OAAO,EAAEF;AAArC;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,oBAXD;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFD,eAoBC;AAAK,YAAA,SAAS,EAAC,KAAf;AAAA,oCACC;AAAK,cAAA,SAAS,EAAC,OAAf;AAAA,qCACC,QAAC,IAAD,CAAM,IAAN;AAAW,gBAAA,KAAK,EAAC,cAAjB;AAA6B,gBAAA,IAAI,EAAC,cAAlC;AAA8C,gBAAA,KAAK,EAAE,CAAC;AAAE0B,kBAAAA,QAAQ,EAAE,IAAZ;AAAkBC,kBAAAA,OAAO,EAAE;AAA3B,iBAAD,CAArD;AAAA,uCACC,QAAC,MAAD;AACC,kBAAA,IAAI,EAAC,UADN;AAEC,kBAAA,KAAK,EAAE;AAAEG,oBAAAA,KAAK,EAAE;AAAT,mBAFR;AAGC,kBAAA,SAAS,EAAC,6BAHX;AAIC,kBAAA,eAAe,EAAC,OAJjB;AAKC,kBAAA,QAAQ,EAAGV,KAAD,IAAWf,QAAQ,CAAC,UAAD,EAAae,KAAK,CAACW,QAAN,EAAb,CAL9B;AAMC,kBAAA,UAAU,EAAE,IANb;AAAA,0CAQC,QAAC,MAAD;AAAQ,oBAAA,KAAK,EAAE,CAAf;AAAkB,oBAAA,KAAK,EAAC,kBAAxB;AAAA,2CACC;AAAK,sBAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,0BARD,EAWEtC,KAAK,CAACuC,UAAN,IACAvC,KAAK,CAACuC,UAAN,CAAiBC,GAAjB,CAAsBC,IAAD,iBACpB,QAAC,MAAD;AAAQ,oBAAA,KAAK,EAAEA,IAAI,CAACC,EAApB;AAAwB,oBAAA,KAAK,EAAED,IAAI,CAACE,UAApC;AAAA,2CACC;AAAK,sBAAA,SAAS,EAAC,wBAAf;AAAA,gCAAyCF,IAAI,CAACE;AAA9C;AAAA;AAAA;AAAA;AAAA;AADD,qBAAqDF,IAAI,CAACC,EAA1D;AAAA;AAAA;AAAA;AAAA,0BADD,CAZF;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,oBADD,eAuBC;AAAK,cAAA,SAAS,EAAC,OAAf;AAAA,qCACC,QAAC,IAAD,CAAM,IAAN;AAAW,gBAAA,KAAK,EAAC,2BAAjB;AAA8B,gBAAA,IAAI,EAAC,2BAAnC;AAAgD,gBAAA,KAAK,EAAE,CAAC;AAAET,kBAAAA,QAAQ,EAAE,IAAZ;AAAkBC,kBAAAA,OAAO,EAAE;AAA3B,iBAAD,CAAvD;AAAA,uCACC,QAAC,MAAD;AACC,kBAAA,IAAI,EAAC,UADN;AAEC,kBAAA,KAAK,EAAE;AAAEG,oBAAAA,KAAK,EAAE;AAAT,mBAFR;AAGC,kBAAA,eAAe,EAAC,OAHjB;AAIC,kBAAA,SAAS,EAAC,6BAJX;AAKC,kBAAA,QAAQ,EAAGV,KAAD,IAAWf,QAAQ,CAAC,QAAD,EAAWe,KAAK,CAACW,QAAN,EAAX,CAL9B;AAMC,kBAAA,UAAU,EAAE,IANb;AAAA,0CAQC,QAAC,MAAD;AAAQ,oBAAA,KAAK,EAAE,CAAf;AAAkB,oBAAA,KAAK,EAAC,kBAAxB;AAAA,2CACC;AAAK,sBAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,0BARD,EAWEjC,WAAW,KAAK,IAAhB,IACAA,WAAW,CAACmC,GAAZ,CAAiBC,IAAD,iBACf,QAAC,MAAD;AAAsB,oBAAA,KAAK,EAAEA,IAAI,CAACC,EAAlC;AAAsC,oBAAA,KAAK,EAAED,IAAI,CAACG,IAAlD;AAAA,2CACC;AAAK,sBAAA,SAAS,EAAC,wBAAf;AAAA,gCAAyCH,IAAI,CAACG;AAA9C;AAAA;AAAA;AAAA;AAAA;AADD,qBAAaH,IAAI,CAACC,EAAlB;AAAA;AAAA;AAAA;AAAA,0BADD,CAZF;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,oBAvBD;AAAA;AAAA;AAAA;AAAA;AAAA,kBApBD,eAmEC,QAAC,IAAD,CAAM,IAAN;AAAW,YAAA,KAAK,EAAC,+BAAjB;AAAA,mCACC;AAAK,cAAA,SAAS,EAAC,iBAAf;AAAA,qCACC,QAAC,UAAD;AAAY,gBAAA,sBAAsB,EAAEhB;AAApC;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,kBAnED,eAwEC;AAAK,YAAA,SAAS,EAAC,MAAf;AAAA,mCACC;AAAK,cAAA,SAAS,EAAC,QAAf;AAAA,qCACC;AAAQ,gBAAA,IAAI,EAAC,QAAb;AAAsB,gBAAA,SAAS,EAAC,uBAAhC;AAAA,uCAEE1B,KAAK,CAAC6C,SAAN,CAAgBC,IAAhB,IAAwB,UAAxB,IAAsC9C,KAAK,CAAC6C,SAAN,CAAgBrB,MAAtD,iBAAgE,QAAC,IAAD;AAAM,kBAAA,SAAS,EAAC;AAAhB;AAAA;AAAA;AAAA;AAAA,wBAFlE;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,kBAxED;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,YAXD;AAAA,kBADD;AAmGA,CAhJwB,CAAzB;AAkJA,eAAe1B,gBAAf","sourcesContent":["import { Form, Input, Modal, Select, Spin, Switch } from 'antd'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useForm } from 'react-hook-form'\r\nimport EditorBase from '~/components/Elements/EditorBase'\r\nimport { useWrap } from '~/context/wrap'\r\n\r\nconst NotificationForm = React.memo((props: any) => {\r\n\tconst { Option } = Select\r\n\r\n\tconst [isModalVisible, setIsModalVisible] = useState(false)\r\n\tconst [form] = Form.useForm()\r\n\r\n\tconst { useAllRoles, useStaffRoles } = useWrap()\r\n\r\n\tconst [sendMail, setSendMail] = useState(false)\r\n\r\n\tconst onChange = () => {\r\n\t\tsetSendMail(!sendMail)\r\n\t}\r\n\r\n\tconst {\r\n\t\tregister,\r\n\t\thandleSubmit,\r\n\t\tsetValue,\r\n\t\tformState: { isSubmitting, errors, isSubmitted }\r\n\t} = useForm()\r\n\t// const { showNoti } = useWrap();\r\n\r\n\tconst onSubmit = handleSubmit((data: any) => {\r\n\t\tdata.IsSendMail = sendMail\r\n\r\n\t\tlet res = props._onSubmit(data)\r\n\t\tres.then(function (rs: any) {\r\n\t\t\trs && rs.status == 200 && setIsModalVisible(false), form.resetFields()\r\n\t\t})\r\n\t})\r\n\r\n\tconst changeContractContent = (value) => {\r\n\t\tsetValue('NotificationContent', value)\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isModalVisible) {\r\n\t\t\tif (props.rowData) {\r\n\t\t\t\tObject.keys(props.rowData).forEach(function (key) {\r\n\t\t\t\t\tsetValue(key, props.rowData[key])\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}, [isModalVisible])\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<button\r\n\t\t\t\tclassName=\"btn btn-warning add-new\"\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tsetIsModalVisible(true)\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\tThêm mới\r\n\t\t\t</button>\r\n\r\n\t\t\t{/*  */}\r\n\t\t\t<Modal width={'40%'} title=\"Tạo thông báo\" visible={isModalVisible} onCancel={() => setIsModalVisible(false)} footer={null}>\r\n\t\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t\t<Form form={form} layout=\"vertical\" onFinish={onSubmit}>\r\n\t\t\t\t\t\t{/*  */}\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-8\">\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Tên thông báo\" name=\"Tên thông báo\" rules={[{ required: true, message: 'Bạn không được để trống' }]}>\r\n\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"style-input\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => setValue('NotificationTitle', e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\tallowClear={true}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-4\">\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Gửi mail\">\r\n\t\t\t\t\t\t\t\t\t<Switch onChange={onChange} checked={sendMail} />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/*  */}\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-6\">\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Trung tâm\" name=\"Trung tâm\" rules={[{ required: true, message: 'Bạn không được để trống' }]}>\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tmode=\"multiple\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: '100%' }}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"style-input multiple-select\"\r\n\t\t\t\t\t\t\t\t\t\toptionLabelProp=\"label\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={(value) => setValue('BranchID', value.toString())}\r\n\t\t\t\t\t\t\t\t\t\tallowClear={true}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Option value={0} label=\"Tất cả\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"demo-option-label-item\">Tất cả</div>\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t{props.dataBranch &&\r\n\t\t\t\t\t\t\t\t\t\t\tprops.dataBranch.map((item) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option value={item.ID} label={item.BranchName} key={item.ID}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"demo-option-label-item\">{item.BranchName}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-6\">\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Người nhận\" name=\"Người nhận\" rules={[{ required: true, message: 'Bạn không được để trống' }]}>\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tmode=\"multiple\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: '100%' }}\r\n\t\t\t\t\t\t\t\t\t\toptionLabelProp=\"label\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"style-input multiple-select\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={(value) => setValue('RoleID', value.toString())}\r\n\t\t\t\t\t\t\t\t\t\tallowClear={true}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Option value={0} label=\"Tất cả\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"demo-option-label-item\">Tất cả</div>\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t{useAllRoles !== null &&\r\n\t\t\t\t\t\t\t\t\t\t\tuseAllRoles.map((item) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option key={item.ID} value={item.ID} label={item.name}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"demo-option-label-item\">{item.name}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/*  */}\r\n\t\t\t\t\t\t<Form.Item label=\"Nội dung thông báo\">\r\n\t\t\t\t\t\t\t<div className=\"textarea-editor\">\r\n\t\t\t\t\t\t\t\t<EditorBase handleChangeDataEditor={changeContractContent} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<div className=\"row \">\r\n\t\t\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t\t\t<button type=\"submit\" className=\"btn btn-primary w-100\">\r\n\t\t\t\t\t\t\t\t\tLưu\r\n\t\t\t\t\t\t\t\t\t{props.isLoading.type == 'ADD_DATA' && props.isLoading.status && <Spin className=\"loading-base\" />}\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</div>\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t)\r\n})\r\n\r\nexport default NotificationForm\r\n"]},"metadata":{},"sourceType":"module"}