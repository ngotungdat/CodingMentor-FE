{"ast":null,"code":"import _toConsumableArray from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\pages\\\\package\\\\package-set-result\\\\index.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from 'react';\nimport SortBox from '~/components/Elements/SortBox';\nimport ExpandTable from '~/components/ExpandTable';\nimport { packageResultApi } from '~/apiBase/package/package-result';\nimport LayoutBase from '~/components/LayoutBase';\nimport FilterColumn from '~/components/Tables/FilterColumn';\nimport { useWrap } from '~/context/wrap';\nimport PackageResultList from '~/components/Global/Package/PackageResult/PackageResultList';\nimport PackageResultUpdateTeacher from '~/components/Global/Package/PackageResult/PackageResultUpdateTeacher';\n\nvar PackageResultPage = function PackageResultPage() {\n  _s();\n\n  var _useState = useState(false),\n      closeAllExpand = _useState[0],\n      setCloseAllExpand = _useState[1];\n\n  var onSearch = function onSearch(data) {\n    setCurrentPage(1);\n    setParams(_objectSpread(_objectSpread({}, listParamsDefault), {}, {\n      StudentName: data\n    }));\n  };\n\n  var handleReset = function handleReset() {\n    setCurrentPage(1);\n    setParams(listParamsDefault);\n  };\n\n  var columns = [_objectSpread(_objectSpread({\n    title: 'Học viên',\n    dataIndex: 'FullNameUnicode'\n  }, FilterColumn('FullNameUnicode', onSearch, handleReset, 'text')), {}, {\n    render: function render(text) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-weight-primary\",\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 22\n      }, _this);\n    }\n  }), {\n    title: 'Email',\n    dataIndex: 'Email',\n    render: function render(text) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-weight-black\",\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 22\n      }, _this);\n    }\n  }, {\n    title: 'SDT',\n    dataIndex: 'Mobile',\n    render: function render(text) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-weight-black\",\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 22\n      }, _this);\n    }\n  }, {\n    title: 'Trạng thái',\n    dataIndex: 'isDone',\n    render: function render(type) {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [type == true && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"tag green\",\n          children: \"\\u0110\\xE3 ch\\u1EA5m t\\u1EA5t c\\u1EA3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 23\n        }, _this), type == false && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"tag gray\",\n          children: \"C\\xF3 b\\xE0i ch\\u01B0a ch\\u1EA5m\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 24\n        }, _this)]\n      }, void 0, true);\n    }\n  } // {\n  // \ttitle: 'Đề thi',\n  // \tdataIndex: 'ExamTopicName',\n  // \trender: (text, data) => (\n  // \t\t<Link\n  // \t\t\thref={{\n  // \t\t\t\tpathname: '/package/package-set-result/detail/[slug]',\n  // \t\t\t\tquery: { slug: `${data.ID}` }\n  // \t\t\t}}\n  // \t\t>\n  // \t\t\t<a href=\"#\" className=\"font-weight-black\">\n  // \t\t\t\t{text}\n  // \t\t\t</a>\n  // \t\t</Link>\n  // \t)\n  // },\n  // {\n  // \ttitle: 'Level',\n  // \tdataIndex: 'SetPackageLevel',\n  // \trender: (text) => <p className=\"font-weight-black\">{text}</p>\n  // },\n  // {\n  // \ttitle: 'Hình thức',\n  // \tdataIndex: 'ExamTopicTypeName',\n  // \trender: (text) => <p className=\"font-weight-black\">{text}</p>\n  // },\n  // {\n  // \ttitle: 'Giáo viên chấm bài',\n  // \tdataIndex: 'TeacherName',\n  // \trender: (text) => <p className=\"font-weight-primary\">{text}</p>\n  // },\n  // {\n  // \ttitle: 'Trạng thái chấm bài',\n  // \tdataIndex: 'isDone',\n  // \trender: (type) => (\n  // \t\t<Fragment>\n  // \t\t\t{type == true && <span className=\"tag green\">Đã chấm xong</span>}\n  // \t\t\t{type == false && <span className=\"tag gray\">Chưa chấm xong</span>}\n  // \t\t</Fragment>\n  // \t)\n  // },\n  // {\n  // \trender: (data) => (\n  // \t\t<>\n  // \t\t\t<Link\n  // \t\t\t\thref={{\n  // \t\t\t\t\tpathname: '/package/package-set-result/detail/[slug]',\n  // \t\t\t\t\tquery: { slug: `${data.ID}` }\n  // \t\t\t\t}}\n  // \t\t\t>\n  // \t\t\t\t<Tooltip title=\"Kết quả bài làm\">\n  // \t\t\t\t\t<button className=\"btn btn-icon\">\n  // \t\t\t\t\t\t<ExclamationCircleOutlined />\n  // \t\t\t\t\t</button>\n  // \t\t\t\t</Tooltip>\n  // \t\t\t</Link>\n  // \t\t</>\n  // \t)\n  // }\n  ];\n\n  var _useState2 = useState(1),\n      currentPage = _useState2[0],\n      setCurrentPage = _useState2[1];\n\n  var _useState3 = useState(),\n      itemDetail = _useState3[0],\n      setItemDetail = _useState3[1];\n\n  var sortOption = [{\n    dataSort: {\n      sortType: null\n    },\n    value: 1,\n    text: 'Mới cập nhật'\n  }, {\n    dataSort: {\n      sortType: true\n    },\n    value: 2,\n    text: 'Từ dưới lên'\n  }];\n\n  var _useState4 = useState([{\n    name: 'StudentID',\n    title: 'Học viên',\n    col: 'col-12',\n    type: 'select',\n    optionList: null,\n    value: null\n  }, {\n    name: 'SetPackageDetailID',\n    title: 'Bộ đề',\n    col: 'col-12',\n    type: 'select',\n    optionList: null,\n    value: null\n  }, {\n    name: 'isDone',\n    title: 'Trạng thái chấm bài',\n    col: 'col-12',\n    type: 'select',\n    optionList: [{\n      value: true,\n      title: 'Đã chấm xong'\n    }, {\n      value: false,\n      title: 'Chưa chấm xong'\n    }],\n    value: null\n  }, {\n    name: 'date-range',\n    title: 'Ngày tạo',\n    col: 'col-12',\n    type: 'date-range',\n    value: null\n  }]),\n      dataFilter = _useState4[0],\n      setDataFilter = _useState4[1];\n\n  var handleFilter = function handleFilter(listFilter) {\n    console.log('List Filter when submit: ', listFilter);\n    var newListFilter = {\n      pageIndex: 1,\n      fromDate: null,\n      toDate: null,\n      StudentID: null,\n      SetPackageDetailID: null,\n      isDone: null,\n      StudentName: null,\n      ExamTopicType: null\n    };\n    listFilter.forEach(function (item, index) {\n      var key = item.name;\n      Object.keys(newListFilter).forEach(function (keyFilter) {\n        if (keyFilter == key) {\n          newListFilter[key] = item.value;\n        }\n      });\n    });\n    setParams(_objectSpread(_objectSpread(_objectSpread({}, listParamsDefault), newListFilter), {}, {\n      pageIndex: 1\n    }));\n  };\n\n  var _handleSort = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(option) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setParams(_objectSpread(_objectSpread({}, listParamsDefault), {}, {\n                sortType: option.title.sortType\n              }));\n              setCloseAllExpand(true);\n              setTimeout(function () {\n                setCloseAllExpand(false);\n              }, 500);\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSort(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var _useWrap = useWrap(),\n      showNoti = _useWrap.showNoti,\n      pageSize = _useWrap.pageSize;\n\n  var listParamsDefault = {\n    pageSize: pageSize,\n    pageIndex: currentPage,\n    sort: null,\n    sortType: null,\n    fromDate: null,\n    toDate: null,\n    StudentID: null,\n    SetPackageDetailID: null,\n    isDone: null,\n    StudentName: null,\n    ExamTopicType: null\n  };\n\n  var _useState5 = useState(listParamsDefault),\n      params = _useState5[0],\n      setParams = _useState5[1];\n\n  var _useState6 = useState(null),\n      totalPage = _useState6[0],\n      setTotalPage = _useState6[1];\n\n  var _useState7 = useState([]),\n      packageSetResult = _useState7[0],\n      setPackageSetResult = _useState7[1];\n\n  var _useState8 = useState({\n    type: 'GET_ALL',\n    status: false\n  }),\n      isLoading = _useState8[0],\n      setIsLoading = _useState8[1];\n\n  var setDataFunc = function setDataFunc(name, data) {\n    dataFilter.every(function (item, index) {\n      if (item.name == name) {\n        item.optionList = data;\n        return false;\n      }\n\n      return true;\n    });\n    setDataFilter(_toConsumableArray(dataFilter));\n  }; // const getDataStudent = async () => {\n  // \ttry {\n  // \t\tlet res = await studentApi.getAll({ pageSize: pageSize, pageIndex: 1 });\n  // \t\tif (res.status == 200) {\n  // \t\t\tconst newData = res.data.data.map((item) => ({\n  // \t\t\t\ttitle: item.FullNameUnicode,\n  // \t\t\t\tvalue: item.UserInformationID\n  // \t\t\t}));\n  // \t\t\tsetDataFunc('StudentID', newData);\n  // \t\t}\n  // \t\tres.status == 204 && showNoti('danger', 'Không có dữ liệu học sinh này!');\n  // \t} catch (error) {\n  // \t\tshowNoti('danger', error.message);\n  // \t} finally {\n  // \t}\n  // };\n  // const getDataPackageDetail = async () => {\n  // \ttry {\n  // \t\tlet res = await packageDetailApi.getAll({\n  // \t\t\tpageSize: 99999,\n  // \t\t\tpageIndex: 1\n  // \t\t});\n  // \t\tif (res.status == 200) {\n  // \t\t\tconst newData = res.data.data.map((item) => ({\n  // \t\t\t\ttitle: item.SetPackageName,\n  // \t\t\t\tvalue: item.ID\n  // \t\t\t}));\n  // \t\t\tsetDataFunc('SetPackageDetailID', newData);\n  // \t\t}\n  // \t\tres.status == 204 && showNoti('danger', 'Không có dữ liệu bộ đề này!');\n  // \t} catch (error) {\n  // \t\tshowNoti('danger', error.message);\n  // \t} finally {\n  // \t}\n  // };\n\n\n  var _getPagination = function getPagination(pageNumber) {\n    setCurrentPage(pageNumber);\n    setParams(_objectSpread(_objectSpread({}, params), {}, {\n      pageIndex: currentPage\n    }));\n  };\n\n  var onFetchData = function onFetchData() {\n    setParams(_objectSpread({}, params));\n  };\n\n  var getDataSetCourseExam = function getDataSetCourseExam(page) {\n    setIsLoading({\n      type: 'GET_ALL',\n      status: true\n    });\n\n    _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return packageResultApi.getAllStudent(_objectSpread(_objectSpread({}, params), {}, {\n                pageIndex: page\n              }));\n\n            case 3:\n              res = _context2.sent;\n              //@ts-ignore\n              res.status == 200 && setPackageSetResult(res.data.data);\n\n              if (res.status == 204) {\n                setCurrentPage(1);\n                setParams(listParamsDefault);\n                setPackageSetResult([]);\n              } else setTotalPage(res.data.totalRow);\n\n              _context2.next = 11;\n              break;\n\n            case 8:\n              _context2.prev = 8;\n              _context2.t0 = _context2[\"catch\"](0);\n              showNoti('danger', _context2.t0.message);\n\n            case 11:\n              _context2.prev = 11;\n              setIsLoading({\n                type: 'GET_ALL',\n                status: false\n              });\n              return _context2.finish(11);\n\n            case 14:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 8, 11, 14]]);\n    }))();\n  }; // useEffect(() => {\n  // \tgetDataStudent();\n  // \tgetDataPackageDetail();\n  // }, []);\n\n\n  useEffect(function () {\n    getDataSetCourseExam(currentPage);\n  }, [params]);\n\n  var expandedRowRender = function expandedRowRender(data) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(PackageResultList, {\n        studentID: data.UserInformationID\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(ExpandTable, {\n    currentPage: currentPage,\n    loading: isLoading,\n    totalPage: totalPage && totalPage,\n    getPagination: function getPagination(pageNumber) {\n      return _getPagination(pageNumber);\n    },\n    addClass: \"basic-header\",\n    TitlePage: \"K\\u1EBFt qu\\u1EA3 ki\\u1EC3m tra\",\n    dataSource: packageSetResult,\n    columns: columns,\n    TitleCard: /*#__PURE__*/_jsxDEV(PackageResultUpdateTeacher, {\n      reloadData: function reloadData() {\n        setParams(_objectSpread({}, params));\n        setCurrentPage(1);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 5\n    }, _this),\n    Extra: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"extra-table\",\n      children: /*#__PURE__*/_jsxDEV(SortBox, {\n        dataOption: sortOption,\n        handleSort: function handleSort(value) {\n          return _handleSort(value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 6\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 5\n    }, _this),\n    handleExpand: function handleExpand(data) {\n      return setItemDetail(data);\n    },\n    expandable: {\n      expandedRowRender: expandedRowRender\n    },\n    closeAllExpand: closeAllExpand\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 353,\n    columnNumber: 3\n  }, _this);\n};\n\n_s(PackageResultPage, \"rQ9QFOCznPd23eA8TWjXdlU0UUU=\", false, function () {\n  return [useWrap];\n});\n\n_c = PackageResultPage;\nPackageResultPage.layout = LayoutBase;\nexport default PackageResultPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"PackageResultPage\");","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/pages/package/package-set-result/index.tsx"],"names":["React","useEffect","useState","SortBox","ExpandTable","packageResultApi","LayoutBase","FilterColumn","useWrap","PackageResultList","PackageResultUpdateTeacher","PackageResultPage","closeAllExpand","setCloseAllExpand","onSearch","data","setCurrentPage","setParams","listParamsDefault","StudentName","handleReset","columns","title","dataIndex","render","text","type","currentPage","itemDetail","setItemDetail","sortOption","dataSort","sortType","value","name","col","optionList","dataFilter","setDataFilter","handleFilter","listFilter","console","log","newListFilter","pageIndex","fromDate","toDate","StudentID","SetPackageDetailID","isDone","ExamTopicType","forEach","item","index","key","Object","keys","keyFilter","handleSort","option","setTimeout","showNoti","pageSize","sort","params","totalPage","setTotalPage","packageSetResult","setPackageSetResult","status","isLoading","setIsLoading","setDataFunc","every","getPagination","pageNumber","onFetchData","getDataSetCourseExam","page","getAllStudent","res","totalRow","message","expandedRowRender","UserInformationID","layout"],"mappings":"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","sourcesContent":["import { Switch, Tooltip } from 'antd';\r\nimport Link from 'next/link';\r\nimport React, { Fragment, useEffect, useState } from 'react';\r\nimport { Eye, Tool } from 'react-feather';\r\nimport { packageExaminerApi, studentApi, teacherApi } from '~/apiBase';\r\nimport { packageDetailApi } from '~/apiBase/package/package-detail';\r\nimport { courseExamApi } from '~/apiBase/package/course-exam';\r\nimport FilterBase from '~/components/Elements/FilterBase/FilterBase';\r\nimport SortBox from '~/components/Elements/SortBox';\r\nimport ExpandTable from '~/components/ExpandTable';\r\nimport PackageResultExpand from '~/components/Global/Package/PackageResult/PackageResultExpand';\r\nimport { packageResultApi } from '~/apiBase/package/package-result';\r\nimport LayoutBase from '~/components/LayoutBase';\r\nimport FilterColumn from '~/components/Tables/FilterColumn';\r\nimport { useWrap } from '~/context/wrap';\r\nimport { CheckOutlined, CloseOutlined, ExclamationCircleOutlined, RedoOutlined } from '@ant-design/icons';\r\nimport CourseExamDetail from '~/components/Global/CourseExam/CourseExamDetail';\r\nimport PackageResultList from '~/components/Global/Package/PackageResult/PackageResultList';\r\nimport PackageResultUpdateTeacher from '~/components/Global/Package/PackageResult/PackageResultUpdateTeacher';\r\n\r\nconst PackageResultPage = () => {\r\n\tconst [closeAllExpand, setCloseAllExpand] = useState(false);\r\n\tconst onSearch = (data) => {\r\n\t\tsetCurrentPage(1);\r\n\t\tsetParams({\r\n\t\t\t...listParamsDefault,\r\n\t\t\tStudentName: data\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleReset = () => {\r\n\t\tsetCurrentPage(1);\r\n\t\tsetParams(listParamsDefault);\r\n\t};\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Học viên',\r\n\t\t\tdataIndex: 'FullNameUnicode',\r\n\t\t\t...FilterColumn('FullNameUnicode', onSearch, handleReset, 'text'),\r\n\t\t\trender: (text) => <p className=\"font-weight-primary\">{text}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Email',\r\n\t\t\tdataIndex: 'Email',\r\n\t\t\trender: (text) => <p className=\"font-weight-black\">{text}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'SDT',\r\n\t\t\tdataIndex: 'Mobile',\r\n\t\t\trender: (text) => <p className=\"font-weight-black\">{text}</p>\r\n\t\t},\r\n\r\n\t\t{\r\n\t\t\ttitle: 'Trạng thái',\r\n\t\t\tdataIndex: 'isDone',\r\n\t\t\trender: (type) => (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{type == true && <span className=\"tag green\">Đã chấm tất cả</span>}\r\n\t\t\t\t\t{type == false && <span className=\"tag gray\">Có bài chưa chấm</span>}\r\n\t\t\t\t</>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\t// {\r\n\t\t// \ttitle: 'Đề thi',\r\n\t\t// \tdataIndex: 'ExamTopicName',\r\n\t\t// \trender: (text, data) => (\r\n\t\t// \t\t<Link\r\n\t\t// \t\t\thref={{\r\n\t\t// \t\t\t\tpathname: '/package/package-set-result/detail/[slug]',\r\n\t\t// \t\t\t\tquery: { slug: `${data.ID}` }\r\n\t\t// \t\t\t}}\r\n\t\t// \t\t>\r\n\t\t// \t\t\t<a href=\"#\" className=\"font-weight-black\">\r\n\t\t// \t\t\t\t{text}\r\n\t\t// \t\t\t</a>\r\n\t\t// \t\t</Link>\r\n\t\t// \t)\r\n\t\t// },\r\n\t\t// {\r\n\t\t// \ttitle: 'Level',\r\n\t\t// \tdataIndex: 'SetPackageLevel',\r\n\t\t// \trender: (text) => <p className=\"font-weight-black\">{text}</p>\r\n\t\t// },\r\n\t\t// {\r\n\t\t// \ttitle: 'Hình thức',\r\n\t\t// \tdataIndex: 'ExamTopicTypeName',\r\n\t\t// \trender: (text) => <p className=\"font-weight-black\">{text}</p>\r\n\t\t// },\r\n\t\t// {\r\n\t\t// \ttitle: 'Giáo viên chấm bài',\r\n\t\t// \tdataIndex: 'TeacherName',\r\n\t\t// \trender: (text) => <p className=\"font-weight-primary\">{text}</p>\r\n\t\t// },\r\n\t\t// {\r\n\t\t// \ttitle: 'Trạng thái chấm bài',\r\n\t\t// \tdataIndex: 'isDone',\r\n\t\t// \trender: (type) => (\r\n\t\t// \t\t<Fragment>\r\n\t\t// \t\t\t{type == true && <span className=\"tag green\">Đã chấm xong</span>}\r\n\t\t// \t\t\t{type == false && <span className=\"tag gray\">Chưa chấm xong</span>}\r\n\t\t// \t\t</Fragment>\r\n\t\t// \t)\r\n\t\t// },\r\n\r\n\t\t// {\r\n\t\t// \trender: (data) => (\r\n\t\t// \t\t<>\r\n\t\t// \t\t\t<Link\r\n\t\t// \t\t\t\thref={{\r\n\t\t// \t\t\t\t\tpathname: '/package/package-set-result/detail/[slug]',\r\n\t\t// \t\t\t\t\tquery: { slug: `${data.ID}` }\r\n\t\t// \t\t\t\t}}\r\n\t\t// \t\t\t>\r\n\t\t// \t\t\t\t<Tooltip title=\"Kết quả bài làm\">\r\n\t\t// \t\t\t\t\t<button className=\"btn btn-icon\">\r\n\t\t// \t\t\t\t\t\t<ExclamationCircleOutlined />\r\n\t\t// \t\t\t\t\t</button>\r\n\t\t// \t\t\t\t</Tooltip>\r\n\t\t// \t\t\t</Link>\r\n\t\t// \t\t</>\r\n\t\t// \t)\r\n\t\t// }\r\n\t];\r\n\tconst [currentPage, setCurrentPage] = useState(1);\r\n\tconst [itemDetail, setItemDetail] = useState();\r\n\r\n\tconst sortOption = [\r\n\t\t{\r\n\t\t\tdataSort: {\r\n\t\t\t\tsortType: null\r\n\t\t\t},\r\n\t\t\tvalue: 1,\r\n\t\t\ttext: 'Mới cập nhật'\r\n\t\t},\r\n\t\t{\r\n\t\t\tdataSort: {\r\n\t\t\t\tsortType: true\r\n\t\t\t},\r\n\t\t\tvalue: 2,\r\n\t\t\ttext: 'Từ dưới lên'\r\n\t\t}\r\n\t];\r\n\r\n\tconst [dataFilter, setDataFilter] = useState([\r\n\t\t{\r\n\t\t\tname: 'StudentID',\r\n\t\t\ttitle: 'Học viên',\r\n\t\t\tcol: 'col-12',\r\n\t\t\ttype: 'select',\r\n\t\t\toptionList: null,\r\n\t\t\tvalue: null\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'SetPackageDetailID',\r\n\t\t\ttitle: 'Bộ đề',\r\n\t\t\tcol: 'col-12',\r\n\t\t\ttype: 'select',\r\n\t\t\toptionList: null,\r\n\t\t\tvalue: null\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'isDone',\r\n\t\t\ttitle: 'Trạng thái chấm bài',\r\n\t\t\tcol: 'col-12',\r\n\t\t\ttype: 'select',\r\n\t\t\toptionList: [\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: true,\r\n\t\t\t\t\ttitle: 'Đã chấm xong'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: false,\r\n\t\t\t\t\ttitle: 'Chưa chấm xong'\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tvalue: null\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'date-range',\r\n\t\t\ttitle: 'Ngày tạo',\r\n\t\t\tcol: 'col-12',\r\n\t\t\ttype: 'date-range',\r\n\t\t\tvalue: null\r\n\t\t}\r\n\t]);\r\n\r\n\tconst handleFilter = (listFilter) => {\r\n\t\tconsole.log('List Filter when submit: ', listFilter);\r\n\r\n\t\tlet newListFilter = {\r\n\t\t\tpageIndex: 1,\r\n\t\t\tfromDate: null,\r\n\t\t\ttoDate: null,\r\n\t\t\tStudentID: null,\r\n\t\t\tSetPackageDetailID: null,\r\n\t\t\tisDone: null,\r\n\t\t\tStudentName: null,\r\n\t\t\tExamTopicType: null\r\n\t\t};\r\n\t\tlistFilter.forEach((item, index) => {\r\n\t\t\tlet key = item.name;\r\n\t\t\tObject.keys(newListFilter).forEach((keyFilter) => {\r\n\t\t\t\tif (keyFilter == key) {\r\n\t\t\t\t\tnewListFilter[key] = item.value;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\tsetParams({ ...listParamsDefault, ...newListFilter, pageIndex: 1 });\r\n\t};\r\n\r\n\tconst handleSort = async (option) => {\r\n\t\tsetParams({\r\n\t\t\t...listParamsDefault,\r\n\t\t\tsortType: option.title.sortType\r\n\t\t});\r\n\t\tsetCloseAllExpand(true);\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetCloseAllExpand(false);\r\n\t\t}, 500);\r\n\t};\r\n\r\n\tconst { showNoti, pageSize } = useWrap();\r\n\tconst listParamsDefault = {\r\n\t\tpageSize: pageSize,\r\n\t\tpageIndex: currentPage,\r\n\t\tsort: null,\r\n\t\tsortType: null,\r\n\t\tfromDate: null,\r\n\t\ttoDate: null,\r\n\t\tStudentID: null,\r\n\t\tSetPackageDetailID: null,\r\n\t\tisDone: null,\r\n\t\tStudentName: null,\r\n\t\tExamTopicType: null\r\n\t};\r\n\tconst [params, setParams] = useState(listParamsDefault);\r\n\tconst [totalPage, setTotalPage] = useState(null);\r\n\tconst [packageSetResult, setPackageSetResult] = useState<ISetPackageResult[]>([]);\r\n\tconst [isLoading, setIsLoading] = useState({\r\n\t\ttype: 'GET_ALL',\r\n\t\tstatus: false\r\n\t});\r\n\r\n\tconst setDataFunc = (name, data) => {\r\n\t\tdataFilter.every((item, index) => {\r\n\t\t\tif (item.name == name) {\r\n\t\t\t\titem.optionList = data;\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t});\r\n\t\tsetDataFilter([...dataFilter]);\r\n\t};\r\n\r\n\t// const getDataStudent = async () => {\r\n\t// \ttry {\r\n\t// \t\tlet res = await studentApi.getAll({ pageSize: pageSize, pageIndex: 1 });\r\n\t// \t\tif (res.status == 200) {\r\n\t// \t\t\tconst newData = res.data.data.map((item) => ({\r\n\t// \t\t\t\ttitle: item.FullNameUnicode,\r\n\t// \t\t\t\tvalue: item.UserInformationID\r\n\t// \t\t\t}));\r\n\t// \t\t\tsetDataFunc('StudentID', newData);\r\n\t// \t\t}\r\n\r\n\t// \t\tres.status == 204 && showNoti('danger', 'Không có dữ liệu học sinh này!');\r\n\t// \t} catch (error) {\r\n\t// \t\tshowNoti('danger', error.message);\r\n\t// \t} finally {\r\n\t// \t}\r\n\t// };\r\n\r\n\t// const getDataPackageDetail = async () => {\r\n\t// \ttry {\r\n\t// \t\tlet res = await packageDetailApi.getAll({\r\n\t// \t\t\tpageSize: 99999,\r\n\t// \t\t\tpageIndex: 1\r\n\t// \t\t});\r\n\t// \t\tif (res.status == 200) {\r\n\t// \t\t\tconst newData = res.data.data.map((item) => ({\r\n\t// \t\t\t\ttitle: item.SetPackageName,\r\n\t// \t\t\t\tvalue: item.ID\r\n\t// \t\t\t}));\r\n\t// \t\t\tsetDataFunc('SetPackageDetailID', newData);\r\n\t// \t\t}\r\n\r\n\t// \t\tres.status == 204 && showNoti('danger', 'Không có dữ liệu bộ đề này!');\r\n\t// \t} catch (error) {\r\n\t// \t\tshowNoti('danger', error.message);\r\n\t// \t} finally {\r\n\t// \t}\r\n\t// };\r\n\r\n\tconst getPagination = (pageNumber: number) => {\r\n\t\tsetCurrentPage(pageNumber);\r\n\t\tsetParams({\r\n\t\t\t...params,\r\n\t\t\tpageIndex: currentPage\r\n\t\t});\r\n\t};\r\n\r\n\tconst onFetchData = () => {\r\n\t\tsetParams({\r\n\t\t\t...params\r\n\t\t});\r\n\t};\r\n\r\n\tconst getDataSetCourseExam = (page: any) => {\r\n\t\tsetIsLoading({\r\n\t\t\ttype: 'GET_ALL',\r\n\t\t\tstatus: true\r\n\t\t});\r\n\t\t(async () => {\r\n\t\t\ttry {\r\n\t\t\t\tlet res = await packageResultApi.getAllStudent({ ...params, pageIndex: page });\r\n\t\t\t\t//@ts-ignore\r\n\t\t\t\tres.status == 200 && setPackageSetResult(res.data.data);\r\n\t\t\t\tif (res.status == 204) {\r\n\t\t\t\t\tsetCurrentPage(1);\r\n\t\t\t\t\tsetParams(listParamsDefault);\r\n\t\t\t\t\tsetPackageSetResult([]);\r\n\t\t\t\t} else setTotalPage(res.data.totalRow);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tshowNoti('danger', error.message);\r\n\t\t\t} finally {\r\n\t\t\t\tsetIsLoading({\r\n\t\t\t\t\ttype: 'GET_ALL',\r\n\t\t\t\t\tstatus: false\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t})();\r\n\t};\r\n\r\n\t// useEffect(() => {\r\n\t// \tgetDataStudent();\r\n\t// \tgetDataPackageDetail();\r\n\t// }, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tgetDataSetCourseExam(currentPage);\r\n\t}, [params]);\r\n\r\n\tconst expandedRowRender = (data) => {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<PackageResultList studentID={data.UserInformationID} />\r\n\t\t\t</>\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<ExpandTable\r\n\t\t\tcurrentPage={currentPage}\r\n\t\t\tloading={isLoading}\r\n\t\t\ttotalPage={totalPage && totalPage}\r\n\t\t\tgetPagination={(pageNumber: number) => getPagination(pageNumber)}\r\n\t\t\taddClass=\"basic-header\"\r\n\t\t\tTitlePage=\"Kết quả kiểm tra\"\r\n\t\t\tdataSource={packageSetResult}\r\n\t\t\tcolumns={columns}\r\n\t\t\tTitleCard={\r\n\t\t\t\t<PackageResultUpdateTeacher\r\n\t\t\t\t\treloadData={() => {\r\n\t\t\t\t\t\tsetParams({ ...params });\r\n\t\t\t\t\t\tsetCurrentPage(1);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t\tExtra={\r\n\t\t\t\t<div className=\"extra-table\">\r\n\t\t\t\t\t{/* <FilterBase\r\n\t\t\t\t\t\tdataFilter={dataFilter}\r\n\t\t\t\t\t\thandleFilter={(listFilter: any) => handleFilter(listFilter)}\r\n\t\t\t\t\t\thandleReset={handleReset}\r\n\t\t\t\t\t/> */}\r\n\r\n\t\t\t\t\t<SortBox dataOption={sortOption} handleSort={(value) => handleSort(value)} />\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t\thandleExpand={(data) => setItemDetail(data)}\r\n\t\t\texpandable={{ expandedRowRender }}\r\n\t\t\tcloseAllExpand={closeAllExpand}\r\n\t\t/>\r\n\t);\r\n};\r\nPackageResultPage.layout = LayoutBase;\r\nexport default PackageResultPage;\r\n"]},"metadata":{},"sourceType":"module"}