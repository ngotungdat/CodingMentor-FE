{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\pages\\\\customer\\\\student\\\\student-advisory\\\\index.tsx\",\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport SortBox from '~/components/Elements/SortBox';\nimport moment from 'moment';\nimport FilterColumn from '~/components/Tables/FilterColumn';\nimport LayoutBase from '~/components/LayoutBase';\nimport { studentAdviseApi, sourceInfomationApi, areaApi, staffApi, consultationStatusApi } from '~/apiBase';\nimport { useWrap } from '~/context/wrap';\nimport StudentAdviseForm from '~/components/Global/Customer/Student/StudentAdviseForm';\nimport FilterBase from '~/components/Elements/FilterBase/FilterBase';\nimport Link from 'next/link';\nimport { Tooltip } from 'antd';\nimport { CalendarOutlined } from '@ant-design/icons';\nimport ExpandTable from '~/components/ExpandTable';\nimport StudentAdvisoryNote from '~/components/Global/Customer/Student/StudentAdvisory/StudentAdvisoryNote';\nimport StudentAdvisoryMail from '~/components/Global/Customer/Student/StudentAdvisory/StudentAdvisoryMail';\nimport { learningNeeds } from '~/apiBase/options/learning-needs';\nvar pageIndex = 1;\nvar listFieldSearch = {\n  pageIndex: 1,\n  CustomerName: null\n};\nvar listFieldFilter = {\n  pageIndex: 1,\n  SourceInformationID: null,\n  CounselorsID: null,\n  fromDate: null,\n  toDate: null,\n  CustomerConsultationStatusID: null,\n  LearningNeedID: null\n};\nvar dataOption = [{\n  dataSort: {\n    sort: 0,\n    sortType: false\n  },\n  text: 'Tên Z - A'\n}, {\n  dataSort: {\n    sort: 0,\n    sortType: true\n  },\n  text: 'Tên A - Z '\n}]; // -- FOR DIFFERENT VIEW --\n\nvar listApi = [{\n  api: areaApi,\n  text: 'Tỉnh/Tp',\n  name: 'Area'\n}, {\n  api: sourceInfomationApi,\n  text: 'Nguồn khách hàng',\n  name: 'SourceInformation'\n}, {\n  api: staffApi,\n  text: 'Tư vấn viên',\n  name: 'Counselors'\n}, {\n  api: consultationStatusApi,\n  text: 'Tình trạng tư vấn',\n  name: 'ConsultationStatus'\n}, {\n  api: learningNeeds,\n  // api: programApi,\n  text: 'Nhu cầu học',\n  name: 'Program'\n}];\nexport default function StudentAdvisory() {\n  _s();\n\n  var _this = this;\n\n  var _useState = useState({\n    Area: [],\n    SourceInformation: [],\n    Counselors: [],\n    ConsultationStatus: [],\n    Program: []\n  }),\n      listDataForm = _useState[0],\n      setListDataForm = _useState[1];\n\n  var _useState2 = useState(false),\n      confirmLoading = _useState2[0],\n      setConfirmLoading = _useState2[1];\n\n  var _useState3 = useState(false),\n      showGroup = _useState3[0],\n      setShowGroup = _useState3[1]; // ------ BASE USESTATE TABLE -------\n\n\n  var _useState4 = useState([]),\n      dataSource = _useState4[0],\n      setDataSource = _useState4[1];\n\n  var _useWrap = useWrap(),\n      showNoti = _useWrap.showNoti,\n      pageSize = _useWrap.pageSize,\n      isAdmin = _useWrap.isAdmin,\n      userInformation = _useWrap.userInformation;\n\n  var listTodoApi = {\n    pageSize: pageSize,\n    pageIndex: pageIndex,\n    sort: null,\n    sortType: null,\n    SourceInformationID: null,\n    CounselorsID: null,\n    fromDate: null,\n    toDate: null,\n    isGroup: null\n  };\n\n  var _useState5 = useState({\n    type: '',\n    status: false\n  }),\n      isLoading = _useState5[0],\n      setIsLoading = _useState5[1];\n\n  var _useState6 = useState(null),\n      totalPage = _useState6[0],\n      setTotalPage = _useState6[1];\n\n  var _useState7 = useState(null),\n      indexRow = _useState7[0],\n      setIndexRow = _useState7[1];\n\n  var _useState8 = useState(1),\n      currentPage = _useState8[0],\n      setCurrentPage = _useState8[1];\n\n  var _useState9 = useState(listTodoApi),\n      todoApi = _useState9[0],\n      setTodoApi = _useState9[1];\n\n  var _useState10 = useState([]),\n      listCustomer = _useState10[0],\n      setListCustomer = _useState10[1];\n\n  var _useState11 = useState(false),\n      showCheckbox = _useState11[0],\n      setShowCheckbox = _useState11[1];\n\n  var _useState12 = useState(false),\n      isResetKey = _useState12[0],\n      setIsResetKey = _useState12[1]; // ------ LIST FILTER -------\n\n\n  var _useState13 = useState([{\n    name: 'SourceInformationID',\n    title: 'Nguồn khách',\n    col: 'col-md-6 col-12',\n    type: 'select',\n    optionList: null,\n    // Gọi api xong trả data vào đây\n    value: null\n  }, {\n    name: 'CounselorsID',\n    title: 'Tư vấn viên',\n    col: 'col-md-6 col-12',\n    type: 'select',\n    optionList: null,\n    value: null\n  }, {\n    name: 'CustomerConsultationStatusID',\n    title: 'Trạng thái hoạt động',\n    col: 'col-md-6 col-12',\n    type: 'select',\n    optionList: null\n  }, {\n    name: 'LearningNeedID',\n    title: 'Nhu cầu học',\n    col: 'col-md-6 col-12',\n    type: 'select',\n    optionList: null\n  }, {\n    name: 'date-range',\n    title: 'Từ - đến',\n    col: 'col-12',\n    type: 'date-range',\n    value: null\n  }]),\n      dataFilter = _useState13[0],\n      setDataFilter = _useState13[1]; // ------ SET DATA FUN ------\n\n\n  var setDataFunc = function setDataFunc(name, data) {\n    dataFilter.every(function (item, index) {\n      if (item.name == name) {\n        item.optionList = data;\n        return false;\n      }\n\n      return true;\n    });\n    setDataFilter(_toConsumableArray(dataFilter));\n  };\n\n  var makeNewData = function makeNewData(data, name) {\n    var newData = null;\n\n    switch (name) {\n      case 'Area':\n        newData = data.map(function (item) {\n          return {\n            title: item.AreaName,\n            value: item.AreaID\n          };\n        });\n        break;\n\n      case 'Program':\n        newData = data.map(function (item) {\n          return {\n            title: item.Name,\n            value: item.ID\n          };\n        });\n        setDataFunc('LearningNeedID', newData);\n        break;\n\n      case 'SourceInformation':\n        newData = data.map(function (item) {\n          return {\n            title: item.SourceInformationName,\n            value: item.SourceInformationID\n          };\n        });\n        setDataFunc('SourceInformationID', newData);\n        break;\n\n      case 'Counselors':\n        newData = data.map(function (item) {\n          return {\n            title: item.FullNameUnicode,\n            value: item.UserInformationID\n          };\n        });\n        setDataFunc('CounselorsID', newData);\n        break;\n\n      case 'ConsultationStatus':\n        newData = data.map(function (item) {\n          return {\n            title: item.Name,\n            value: item.ID\n          };\n        });\n        setDataFunc('CustomerConsultationStatusID', newData);\n        break;\n\n      default:\n        break;\n    }\n\n    return newData;\n  };\n\n  var getDataTolist = function getDataTolist(data, name) {\n    var newData = makeNewData(data, name);\n    Object.keys(listDataForm).forEach(function (key) {\n      if (key == name) {\n        listDataForm[key] = newData;\n      }\n    });\n    setListDataForm(_objectSpread({}, listDataForm));\n  }; // ----------- GET DATA SOURCE ---------------\n\n\n  var getDataStudentForm = function getDataStudentForm(arrApi) {\n    arrApi.forEach(function (item, index) {\n      ;\n\n      _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                res = null;\n                _context.prev = 1;\n\n                if (!(item.name == 'Counselors')) {\n                  _context.next = 8;\n                  break;\n                }\n\n                _context.next = 5;\n                return item.api.getAll({\n                  pageIndex: 1,\n                  pageSize: 99999,\n                  RoleID: 6,\n                  Enable: true,\n                  StatusID: 0\n                });\n\n              case 5:\n                res = _context.sent;\n                _context.next = 11;\n                break;\n\n              case 8:\n                _context.next = 10;\n                return item.api.getAll({\n                  pageIndex: 1,\n                  pageSize: 99999,\n                  Enable: true\n                });\n\n              case 10:\n                res = _context.sent;\n\n              case 11:\n                res.status == 200 && getDataTolist(res.data.data, item.name);\n                res.status == 204 && console.log(item.text + ' Không có dữ liệu');\n                _context.next = 18;\n                break;\n\n              case 15:\n                _context.prev = 15;\n                _context.t0 = _context[\"catch\"](1);\n                // showNoti('danger', error.message);\n                console.log(_context.t0.message);\n\n              case 18:\n                _context.prev = 18;\n                return _context.finish(18);\n\n              case 20:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 15, 18, 20]]);\n      }))();\n    });\n  }; // GET DATA SOURCE\n\n\n  var getDataSource = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setIsLoading({\n                type: 'GET_ALL',\n                status: true\n              });\n              _context2.prev = 1;\n              _context2.next = 4;\n              return studentAdviseApi.getAll(todoApi);\n\n            case 4:\n              res = _context2.sent;\n              res.status == 200 && (setDataSource(res.data.data), setTotalPage(res.data.totalRow), setIsResetKey(true));\n              res.status == 204 && setDataSource([]);\n              setTimeout(function () {\n                setIsResetKey(false);\n              }, 200);\n              _context2.next = 13;\n              break;\n\n            case 10:\n              _context2.prev = 10;\n              _context2.t0 = _context2[\"catch\"](1);\n              showNoti('danger', _context2.t0.message);\n\n            case 13:\n              _context2.prev = 13;\n              setIsLoading({\n                type: 'GET_ALL',\n                status: false\n              });\n              return _context2.finish(13);\n\n            case 16:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[1, 10, 13, 16]]);\n    }));\n\n    return function getDataSource() {\n      return _ref2.apply(this, arguments);\n    };\n  }(); // ---------------- AFTER SUBMIT -----------------\n\n\n  var afterPost = function afterPost(mes) {\n    // showNoti(\"success\", mes);\n    setTodoApi(_objectSpread(_objectSpread({}, listTodoApi), {}, {\n      pageIndex: 1\n    }));\n    setCurrentPage(1);\n  }; // ----------------- ON SUBMIT --------------------\n\n\n  var _onSubmit2 = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dataSubmit) {\n      var res, _res;\n\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              console.log('Data submit: ', dataSubmit);\n              setIsLoading({\n                type: 'ADD_DATA',\n                status: true\n              });\n              res = null;\n\n              if (!dataSubmit.ID) {\n                _context3.next = 20;\n                break;\n              }\n\n              _context3.prev = 4;\n              _context3.next = 7;\n              return studentAdviseApi.update(dataSubmit);\n\n            case 7:\n              res = _context3.sent;\n\n              if (res.status == 200) {\n                // let newDataSource = [...dataSource];\n                // newDataSource.splice(indexRow, 1, {\n                // \t...dataSubmit,\n                // \tAreaName: listDataForm.Area.find((item) => item.value == dataSubmit.AreaID)?.title,\n                // \tCounselorsName: listDataForm.Counselors.find((item) => item.value == dataSubmit.CounselorsID)?.title,\n                // \tSourceInformationName:\n                // \t\tdataSubmit.SourceInformationID &&\n                // \t\tlistDataForm.SourceInformation.find((item) => item.value == dataSubmit.SourceInformationID).title\n                // });\n                // setDataSource(newDataSource);\n                setTodoApi(_objectSpread({}, todoApi));\n                showNoti('success', res.data.message);\n              }\n\n              _context3.next = 15;\n              break;\n\n            case 11:\n              _context3.prev = 11;\n              _context3.t0 = _context3[\"catch\"](4);\n              console.log('error: ', _context3.t0);\n              showNoti('danger', _context3.t0.message);\n\n            case 15:\n              _context3.prev = 15;\n              setIsLoading({\n                type: 'ADD_DATA',\n                status: false\n              });\n              return _context3.finish(15);\n\n            case 18:\n              _context3.next = 34;\n              break;\n\n            case 20:\n              dataSubmit.CounselorsID = 0;\n              _context3.prev = 21;\n              _context3.next = 24;\n              return studentAdviseApi.add(dataSubmit);\n\n            case 24:\n              res = _context3.sent;\n              ((_res = res) === null || _res === void 0 ? void 0 : _res.status) == 200 && afterPost(res.data.message);\n              _context3.next = 31;\n              break;\n\n            case 28:\n              _context3.prev = 28;\n              _context3.t1 = _context3[\"catch\"](21);\n              showNoti('danger', _context3.t1.message);\n\n            case 31:\n              _context3.prev = 31;\n              setIsLoading({\n                type: 'ADD_DATA',\n                status: false\n              });\n              return _context3.finish(31);\n\n            case 34:\n              return _context3.abrupt(\"return\", res);\n\n            case 35:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[4, 11, 15, 18], [21, 28, 31, 34]]);\n    }));\n\n    return function _onSubmit(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var checkEmptyData = function checkEmptyData() {\n    var count = 0;\n    var res = false;\n    Object.keys(listDataForm).forEach(function (key) {\n      if (listDataForm[key].length == 0) {\n        count++;\n      }\n    });\n\n    if (count < 1) {\n      res = true;\n    }\n\n    return res;\n  }; // show group customer\n\n\n  var showGroupCustomer = function showGroupCustomer() {\n    if (!showGroup) {\n      setTodoApi(_objectSpread(_objectSpread({}, todoApi), {}, {\n        isGroup: true\n      }));\n      setShowGroup(true);\n    } else {\n      setTodoApi(listTodoApi);\n      setShowGroup(false);\n    }\n  }; // -------------- HANDLE FILTER ------------------\n\n\n  var _handleFilter = function handleFilter(listFilter) {\n    console.log('List Filter when submit: ', listFilter);\n\n    var newListFilter = _objectSpread({}, listFieldFilter);\n\n    listFilter.forEach(function (item, index) {\n      var key = item.name;\n      Object.keys(newListFilter).forEach(function (keyFilter) {\n        if (keyFilter == key) {\n          newListFilter[key] = item.value;\n        }\n      });\n    });\n    setTodoApi(_objectSpread(_objectSpread(_objectSpread({}, listTodoApi), newListFilter), {}, {\n      pageIndex: 1\n    }));\n  }; // --------------- HANDLE SORT ----------------------\n\n\n  var _handleSort = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(option) {\n      var newTodoApi;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              newTodoApi = _objectSpread(_objectSpread({}, listTodoApi), {}, {\n                pageIndex: 1,\n                sort: option.title.sort,\n                sortType: option.title.sortType\n              });\n              setCurrentPage(1), setTodoApi(newTodoApi);\n\n            case 2:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function handleSort(_x2) {\n      return _ref4.apply(this, arguments);\n    };\n  }(); // ------------ ON SEARCH -----------------------\n\n\n  var checkField = function checkField(valueSearch, dataIndex) {\n    var newList = _objectSpread({}, listFieldSearch);\n\n    Object.keys(newList).forEach(function (key) {\n      console.log('key: ', key);\n\n      if (key != dataIndex) {\n        if (key != 'pageIndex') {\n          newList[key] = null;\n        }\n      } else {\n        newList[key] = valueSearch;\n      }\n    });\n    return newList;\n  };\n\n  var onSearch = function onSearch(valueSearch, dataIndex) {\n    console.log('valueSearch: ', valueSearch);\n    console.log('dataIndex: ', dataIndex);\n    var clearKey = dataIndex == 'CustomerName' ? {\n      CustomerName: valueSearch\n    } : dataIndex == 'Number' ? {\n      Number: valueSearch\n    } : {\n      Email: valueSearch\n    };\n    setTodoApi(_objectSpread(_objectSpread(_objectSpread({}, todoApi), clearKey), listFieldFilter));\n  }; // HANDLE RESET\n\n\n  var resetListFieldSearch = function resetListFieldSearch() {\n    Object.keys(listFieldSearch).forEach(function (key) {\n      if (key != 'pageIndex') {\n        listFieldSearch[key] = null;\n      }\n    });\n  };\n\n  var handleReset = function handleReset() {\n    setTodoApi(_objectSpread(_objectSpread({}, listTodoApi), {}, {\n      pageIndex: 1\n    }));\n    setCurrentPage(1), resetListFieldSearch();\n  }; // -------------- GET PAGE_NUMBER -----------------\n\n\n  var _getPagination = function getPagination(pageNumber) {\n    pageIndex = pageNumber;\n    setCurrentPage(pageNumber);\n    setTodoApi(_objectSpread(_objectSpread({}, todoApi), {}, {\n      // ...listFieldSearch,\n      pageIndex: pageIndex\n    }));\n  }; // --------- ADD TO GROUP ---------\n\n\n  var addToGroup = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(data) {\n      var dataSubmit, res;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              dataSubmit = {\n                ID: data.ID,\n                isGroup: true\n              };\n              setConfirmLoading(true);\n              _context5.prev = 2;\n              _context5.next = 5;\n              return studentAdviseApi.update(dataSubmit);\n\n            case 5:\n              res = _context5.sent;\n\n              if (res.status == 200) {\n                setTodoApi(_objectSpread({}, todoApi));\n                showNoti('success', 'Thêm vào nhóm thành công');\n              }\n\n              _context5.next = 12;\n              break;\n\n            case 9:\n              _context5.prev = 9;\n              _context5.t0 = _context5[\"catch\"](2);\n              showNoti('danger', _context5.t0.message);\n\n            case 12:\n              _context5.prev = 12;\n              setConfirmLoading(false);\n              return _context5.finish(12);\n\n            case 15:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, null, [[2, 9, 12, 15]]);\n    }));\n\n    return function addToGroup(_x3) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  var onChange_sendEmail = function onChange_sendEmail(e, ID) {\n    var checked = e.target.checked;\n\n    if (checked) {\n      listCustomer.push(ID);\n    } else {\n      var index = listCustomer.indexOf(ID);\n      listCustomer.splice(index, 1);\n    }\n\n    setListCustomer(_toConsumableArray(listCustomer));\n  };\n\n  var _resetListCustomer = function resetListCustomer() {\n    setListCustomer([]);\n  }; // -------- ON SELECT ROW ---------\n\n\n  var _onSelectRow = function onSelectRow(selectRow) {\n    var listID = selectRow === null || selectRow === void 0 ? void 0 : selectRow.map(function (item) {\n      return item.ID;\n    });\n    setListCustomer(listID);\n  }; // ============== USE EFFECT - FETCH DATA ===================\n\n\n  useEffect(function () {\n    getDataSource();\n  }, [todoApi]);\n  useEffect(function () {\n    userInformation && (userInformation.RoleID === 1 || userInformation.RoleID === 6 || userInformation.RoleID === 5) && getDataStudentForm(listApi);\n  }, [userInformation]);\n\n  var expandedRowRender = function expandedRowRender(data) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(StudentAdvisoryNote, {\n        onFetchData: function onFetchData() {\n          return setTodoApi(_objectSpread({}, todoApi));\n        },\n        dataSource: data.Note,\n        userID: data.ID\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 536,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false);\n  };\n\n  var columns = userInformation && (userInformation === null || userInformation === void 0 ? void 0 : userInformation.RoleID) !== 10 ? [{\n    title: 'Mã số',\n    dataIndex: 'CustomerCode',\n    fixed: 'left',\n    render: function render(CustomerCode) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-weight-black\",\n        children: CustomerCode\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 548,\n        columnNumber: 33\n      }, _this);\n    }\n  }, _objectSpread(_objectSpread({\n    title: 'Họ tên',\n    dataIndex: 'CustomerName'\n  }, FilterColumn('CustomerName', onSearch, handleReset, 'text')), {}, {\n    fixed: 'left',\n    render: function render(a) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-weight-primary\",\n        children: a\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 555,\n        columnNumber: 22\n      }, _this);\n    }\n  }), _objectSpread(_objectSpread({\n    title: 'Số điện thoại',\n    dataIndex: 'Number'\n  }, FilterColumn('Number', onSearch, handleReset, 'text')), {}, {\n    fixed: 'left',\n    render: function render(a) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          width: 130\n        },\n        children: a\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 562,\n        columnNumber: 22\n      }, _this);\n    }\n  }), _objectSpread(_objectSpread({\n    title: 'Email',\n    dataIndex: 'Email'\n  }, FilterColumn('Email', onSearch, handleReset, 'text')), {}, {\n    fixed: 'left',\n    render: function render(a) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          width: 200\n        },\n        children: a\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 569,\n        columnNumber: 22\n      }, _this);\n    }\n  }), {\n    width: 180,\n    title: 'Nhu cầu học',\n    dataIndex: 'LearningNeedName'\n  }, {\n    width: 150,\n    title: 'Nguồn',\n    dataIndex: 'SourceInformationName'\n  }, {\n    className: 'text-center',\n    width: 200,\n    title: 'Trạng thái',\n    dataIndex: 'CustomerConsultationStatusName',\n    render: function render(text, data) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-weight-black\",\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 587,\n        columnNumber: 31\n      }, _this);\n    }\n  }, {\n    width: 150,\n    title: 'Tư vấn viên',\n    dataIndex: 'CounselorsName',\n    render: function render(CounselorsName) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          width: 200\n        },\n        children: CounselorsName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 593,\n        columnNumber: 35\n      }, _this);\n    }\n  }, {\n    title: 'Ngày đăng ký',\n    dataIndex: 'CreatedOn',\n    render: function render(date) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: moment(date).format('DD/MM/YYYY')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 598,\n        columnNumber: 25\n      }, _this);\n    },\n    width: 120\n  }, {\n    title: '',\n    dataIndex: 'CustomerConsultationStatusID',\n    width: 135,\n    render: function render(text, data, index) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(StudentAdviseForm, {\n          getIndex: function getIndex() {\n            return setIndexRow(index);\n          },\n          index: index,\n          rowData: data,\n          rowID: data.ID,\n          listData: listDataForm,\n          isLoading: isLoading,\n          _onSubmit: function _onSubmit(data) {\n            return _onSubmit2(data);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 608,\n          columnNumber: 10\n        }, _this), /*#__PURE__*/_jsxDEV(StudentAdvisoryMail, {\n          loadingOutside: isLoading,\n          dataSource: dataSource,\n          onFetchData: function onFetchData() {\n            return setTodoApi(_objectSpread({}, todoApi));\n          },\n          dataRow: data,\n          listCustomer: listCustomer\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 618,\n          columnNumber: 10\n        }, _this), text == 2 && /*#__PURE__*/_jsxDEV(Link, {\n          href: {\n            pathname: '/customer/service/service-info-student/',\n            query: {\n              customerID: data.ID\n            }\n          },\n          children: /*#__PURE__*/_jsxDEV(Tooltip, {\n            title: \"H\\u1EB9n test\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-icon view\",\n              children: /*#__PURE__*/_jsxDEV(CalendarOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 634,\n                columnNumber: 14\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 633,\n              columnNumber: 13\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 632,\n            columnNumber: 12\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 626,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 607,\n        columnNumber: 9\n      }, _this);\n    }\n  }] : [{\n    title: 'Mã số',\n    dataIndex: 'CustomerCode',\n    fixed: 'left',\n    render: function render(CustomerCode) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-weight-black\",\n        children: CustomerCode\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 649,\n        columnNumber: 33\n      }, _this);\n    }\n  }, _objectSpread(_objectSpread({\n    title: 'Họ tên',\n    dataIndex: 'CustomerName'\n  }, FilterColumn('CustomerName', onSearch, handleReset, 'text')), {}, {\n    fixed: 'left',\n    render: function render(a) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-weight-primary\",\n        children: a\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 656,\n        columnNumber: 22\n      }, _this);\n    }\n  }), _objectSpread(_objectSpread({\n    title: 'Số điện thoại',\n    dataIndex: 'Number'\n  }, FilterColumn('Number', onSearch, handleReset, 'text')), {}, {\n    fixed: 'left',\n    render: function render(a) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          width: 130\n        },\n        children: a\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 663,\n        columnNumber: 22\n      }, _this);\n    }\n  }), _objectSpread(_objectSpread({\n    title: 'Email',\n    dataIndex: 'Email'\n  }, FilterColumn('Email', onSearch, handleReset, 'text')), {}, {\n    fixed: 'left',\n    render: function render(a) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          width: 200\n        },\n        children: a\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 670,\n        columnNumber: 22\n      }, _this);\n    }\n  }), {\n    width: 180,\n    title: 'Nhu cầu học',\n    dataIndex: 'LearningNeedName'\n  }, {\n    width: 150,\n    title: 'Nguồn',\n    dataIndex: 'SourceInformationName'\n  }, {\n    className: 'text-center',\n    width: 200,\n    title: 'Trạng thái',\n    dataIndex: 'CustomerConsultationStatusName',\n    render: function render(text, data) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-weight-black\",\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 688,\n        columnNumber: 31\n      }, _this);\n    }\n  }, {\n    width: 150,\n    title: 'Tư vấn viên',\n    dataIndex: 'CounselorsName',\n    render: function render(CounselorsName) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          width: 200\n        },\n        children: CounselorsName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 694,\n        columnNumber: 35\n      }, _this);\n    }\n  }, {\n    title: 'Ngày đăng ký',\n    dataIndex: 'CreatedOn',\n    render: function render(date) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: moment(date).format('DD/MM/YYYY')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 699,\n        columnNumber: 25\n      }, _this);\n    },\n    width: 120\n  }];\n  return /*#__PURE__*/_jsxDEV(ExpandTable, {\n    currentPage: currentPage,\n    totalPage: totalPage && totalPage,\n    getPagination: function getPagination(pageNumber) {\n      return _getPagination(pageNumber);\n    },\n    loading: isLoading,\n    addClass: \"basic-header\",\n    TitlePage: \"Danh s\\xE1ch kh\\xE1ch h\\xE0ng\",\n    TitleCard: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex align-items-center justify-content-end\",\n      children: userInformation && (userInformation === null || userInformation === void 0 ? void 0 : userInformation.RoleID) !== 10 && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(StudentAdvisoryMail, {\n          showCheckBox: function showCheckBox() {\n            return setShowCheckbox(!showCheckbox);\n          },\n          loadingOutside: isLoading,\n          dataSource: dataSource,\n          onFetchData: function onFetchData() {\n            return setTodoApi(_objectSpread({}, todoApi));\n          },\n          listCustomer: listCustomer,\n          resetListCustomer: function resetListCustomer() {\n            return _resetListCustomer();\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 716,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(StudentAdviseForm, {\n          listData: checkEmptyData && listDataForm,\n          isLoading: isLoading,\n          _onSubmit: function _onSubmit(data) {\n            return _onSubmit2(data);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 724,\n          columnNumber: 8\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 713,\n      columnNumber: 5\n    }, this),\n    dataSource: dataSource,\n    columns: columns,\n    Extra: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"extra-table\",\n      children: [/*#__PURE__*/_jsxDEV(FilterBase, {\n        dataFilter: dataFilter,\n        handleFilter: function handleFilter(listFilter) {\n          return _handleFilter(listFilter);\n        },\n        handleReset: handleReset\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 737,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(SortBox, {\n        handleSort: function handleSort(value) {\n          return _handleSort(value);\n        },\n        dataOption: dataOption\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 738,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 736,\n      columnNumber: 5\n    }, this),\n    expandable: {\n      expandedRowRender: expandedRowRender\n    },\n    isSelect: showCheckbox,\n    isResetKey: isResetKey,\n    onSelectRow: function onSelectRow(selectRows) {\n      return _onSelectRow(selectRows);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 705,\n    columnNumber: 3\n  }, this);\n}\n\n_s(StudentAdvisory, \"nPnM/OtbyVNxh7T/Xdv3VoO+omA=\", false, function () {\n  return [useWrap];\n});\n\n_c = StudentAdvisory;\nStudentAdvisory.layout = LayoutBase;\n\nvar _c;\n\n$RefreshReg$(_c, \"StudentAdvisory\");","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/pages/customer/student/student-advisory/index.tsx"],"names":["React","useState","useEffect","SortBox","moment","FilterColumn","LayoutBase","studentAdviseApi","sourceInfomationApi","areaApi","staffApi","consultationStatusApi","useWrap","StudentAdviseForm","FilterBase","Link","Tooltip","CalendarOutlined","ExpandTable","StudentAdvisoryNote","StudentAdvisoryMail","learningNeeds","pageIndex","listFieldSearch","CustomerName","listFieldFilter","SourceInformationID","CounselorsID","fromDate","toDate","CustomerConsultationStatusID","LearningNeedID","dataOption","dataSort","sort","sortType","text","listApi","api","name","StudentAdvisory","Area","SourceInformation","Counselors","ConsultationStatus","Program","listDataForm","setListDataForm","confirmLoading","setConfirmLoading","showGroup","setShowGroup","dataSource","setDataSource","showNoti","pageSize","isAdmin","userInformation","listTodoApi","isGroup","type","status","isLoading","setIsLoading","totalPage","setTotalPage","indexRow","setIndexRow","currentPage","setCurrentPage","todoApi","setTodoApi","listCustomer","setListCustomer","showCheckbox","setShowCheckbox","isResetKey","setIsResetKey","title","col","optionList","value","dataFilter","setDataFilter","setDataFunc","data","every","item","index","makeNewData","newData","map","AreaName","AreaID","Name","ID","SourceInformationName","FullNameUnicode","UserInformationID","getDataTolist","Object","keys","forEach","key","getDataStudentForm","arrApi","res","getAll","RoleID","Enable","StatusID","console","log","message","getDataSource","totalRow","setTimeout","afterPost","mes","_onSubmit","dataSubmit","update","add","checkEmptyData","count","length","showGroupCustomer","handleFilter","listFilter","newListFilter","keyFilter","handleSort","option","newTodoApi","checkField","valueSearch","dataIndex","newList","onSearch","clearKey","Number","Email","resetListFieldSearch","handleReset","getPagination","pageNumber","addToGroup","onChange_sendEmail","e","checked","target","push","indexOf","splice","resetListCustomer","onSelectRow","selectRow","listID","expandedRowRender","Note","columns","fixed","render","CustomerCode","a","width","className","CounselorsName","date","format","pathname","query","customerID","selectRows","layout"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport SortBox from '~/components/Elements/SortBox'\r\nimport moment from 'moment'\r\nimport FilterColumn from '~/components/Tables/FilterColumn'\r\nimport LayoutBase from '~/components/LayoutBase'\r\nimport { studentAdviseApi, sourceInfomationApi, areaApi, staffApi, consultationStatusApi, programApi } from '~/apiBase'\r\nimport { useWrap } from '~/context/wrap'\r\nimport StudentAdviseForm from '~/components/Global/Customer/Student/StudentAdviseForm'\r\nimport FilterBase from '~/components/Elements/FilterBase/FilterBase'\r\nimport Link from 'next/link'\r\nimport { Tooltip } from 'antd'\r\nimport { CalendarOutlined } from '@ant-design/icons'\r\nimport ExpandTable from '~/components/ExpandTable'\r\nimport StudentAdvisoryNote from '~/components/Global/Customer/Student/StudentAdvisory/StudentAdvisoryNote'\r\nimport StudentAdvisoryMail from '~/components/Global/Customer/Student/StudentAdvisory/StudentAdvisoryMail'\r\nimport { learningNeeds } from '~/apiBase/options/learning-needs'\r\n\r\nlet pageIndex = 1\r\n\r\nlet listFieldSearch = {\r\n\tpageIndex: 1,\r\n\tCustomerName: null\r\n}\r\n\r\nlet listFieldFilter = {\r\n\tpageIndex: 1,\r\n\tSourceInformationID: null,\r\n\tCounselorsID: null,\r\n\tfromDate: null,\r\n\ttoDate: null,\r\n\tCustomerConsultationStatusID: null,\r\n\tLearningNeedID: null\r\n}\r\n\r\nconst dataOption = [\r\n\t{\r\n\t\tdataSort: {\r\n\t\t\tsort: 0,\r\n\t\t\tsortType: false\r\n\t\t},\r\n\t\ttext: 'Tên Z - A'\r\n\t},\r\n\t{\r\n\t\tdataSort: {\r\n\t\t\tsort: 0,\r\n\t\t\tsortType: true\r\n\t\t},\r\n\t\ttext: 'Tên A - Z '\r\n\t}\r\n]\r\n\r\n// -- FOR DIFFERENT VIEW --\r\ninterface optionObj {\r\n\ttitle: string\r\n\tvalue: number\r\n}\r\n\r\ninterface listDataForm {\r\n\tArea: Array<optionObj>\r\n\tProgram: Array<optionObj>\r\n\tSourceInformation: Array<optionObj>\r\n\tCounselors: Array<optionObj>\r\n\tConsultationStatus: Array<optionObj>\r\n}\r\n\r\nconst listApi = [\r\n\t{\r\n\t\tapi: areaApi,\r\n\t\ttext: 'Tỉnh/Tp',\r\n\t\tname: 'Area'\r\n\t},\r\n\t{\r\n\t\tapi: sourceInfomationApi,\r\n\t\ttext: 'Nguồn khách hàng',\r\n\t\tname: 'SourceInformation'\r\n\t},\r\n\t{\r\n\t\tapi: staffApi,\r\n\t\ttext: 'Tư vấn viên',\r\n\t\tname: 'Counselors'\r\n\t},\r\n\t{\r\n\t\tapi: consultationStatusApi,\r\n\t\ttext: 'Tình trạng tư vấn',\r\n\t\tname: 'ConsultationStatus'\r\n\t},\r\n\t{\r\n\t\tapi: learningNeeds,\r\n\t\t// api: programApi,\r\n\t\ttext: 'Nhu cầu học',\r\n\t\tname: 'Program'\r\n\t}\r\n]\r\n\r\nexport default function StudentAdvisory() {\r\n\tconst [listDataForm, setListDataForm] = useState<listDataForm>({\r\n\t\tArea: [],\r\n\t\tSourceInformation: [],\r\n\t\tCounselors: [],\r\n\t\tConsultationStatus: [],\r\n\t\tProgram: []\r\n\t})\r\n\tconst [confirmLoading, setConfirmLoading] = useState(false)\r\n\tconst [showGroup, setShowGroup] = useState(false)\r\n\t// ------ BASE USESTATE TABLE -------\r\n\tconst [dataSource, setDataSource] = useState<IStudentAdvise[]>([])\r\n\tconst { showNoti, pageSize, isAdmin, userInformation } = useWrap()\r\n\tconst listTodoApi = {\r\n\t\tpageSize: pageSize,\r\n\t\tpageIndex: pageIndex,\r\n\t\tsort: null,\r\n\t\tsortType: null,\r\n\t\tSourceInformationID: null,\r\n\t\tCounselorsID: null,\r\n\t\tfromDate: null,\r\n\t\ttoDate: null,\r\n\t\tisGroup: null\r\n\t}\r\n\tconst [isLoading, setIsLoading] = useState({\r\n\t\ttype: '',\r\n\t\tstatus: false\r\n\t})\r\n\tconst [totalPage, setTotalPage] = useState(null)\r\n\tconst [indexRow, setIndexRow] = useState(null)\r\n\tconst [currentPage, setCurrentPage] = useState(1)\r\n\tconst [todoApi, setTodoApi] = useState(listTodoApi)\r\n\tconst [listCustomer, setListCustomer] = useState([])\r\n\tconst [showCheckbox, setShowCheckbox] = useState(false)\r\n\tconst [isResetKey, setIsResetKey] = useState(false)\r\n\r\n\t// ------ LIST FILTER -------\r\n\tconst [dataFilter, setDataFilter] = useState([\r\n\t\t{\r\n\t\t\tname: 'SourceInformationID',\r\n\t\t\ttitle: 'Nguồn khách',\r\n\t\t\tcol: 'col-md-6 col-12',\r\n\t\t\ttype: 'select',\r\n\t\t\toptionList: null, // Gọi api xong trả data vào đây\r\n\t\t\tvalue: null\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'CounselorsID',\r\n\t\t\ttitle: 'Tư vấn viên',\r\n\t\t\tcol: 'col-md-6 col-12',\r\n\t\t\ttype: 'select',\r\n\t\t\toptionList: null,\r\n\t\t\tvalue: null\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'CustomerConsultationStatusID',\r\n\t\t\ttitle: 'Trạng thái hoạt động',\r\n\t\t\tcol: 'col-md-6 col-12',\r\n\t\t\ttype: 'select',\r\n\t\t\toptionList: null\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'LearningNeedID',\r\n\t\t\ttitle: 'Nhu cầu học',\r\n\t\t\tcol: 'col-md-6 col-12',\r\n\t\t\ttype: 'select',\r\n\t\t\toptionList: null\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'date-range',\r\n\t\t\ttitle: 'Từ - đến',\r\n\t\t\tcol: 'col-12',\r\n\t\t\ttype: 'date-range',\r\n\t\t\tvalue: null\r\n\t\t}\r\n\t])\r\n\r\n\t// ------ SET DATA FUN ------\r\n\tconst setDataFunc = (name, data) => {\r\n\t\tdataFilter.every((item, index) => {\r\n\t\t\tif (item.name == name) {\r\n\t\t\t\titem.optionList = data\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t\treturn true\r\n\t\t})\r\n\t\tsetDataFilter([...dataFilter])\r\n\t}\r\n\r\n\tconst makeNewData = (data, name) => {\r\n\t\tlet newData = null\r\n\t\tswitch (name) {\r\n\t\t\tcase 'Area':\r\n\t\t\t\tnewData = data.map((item) => ({\r\n\t\t\t\t\ttitle: item.AreaName,\r\n\t\t\t\t\tvalue: item.AreaID\r\n\t\t\t\t}))\r\n\r\n\t\t\t\tbreak\r\n\t\t\tcase 'Program':\r\n\t\t\t\tnewData = data.map((item) => ({\r\n\t\t\t\t\ttitle: item.Name,\r\n\t\t\t\t\tvalue: item.ID\r\n\t\t\t\t}))\r\n\t\t\t\tsetDataFunc('LearningNeedID', newData)\r\n\t\t\t\tbreak\r\n\r\n\t\t\tcase 'SourceInformation':\r\n\t\t\t\tnewData = data.map((item) => ({\r\n\t\t\t\t\ttitle: item.SourceInformationName,\r\n\t\t\t\t\tvalue: item.SourceInformationID\r\n\t\t\t\t}))\r\n\t\t\t\tsetDataFunc('SourceInformationID', newData)\r\n\t\t\t\tbreak\r\n\t\t\tcase 'Counselors':\r\n\t\t\t\tnewData = data.map((item) => ({\r\n\t\t\t\t\ttitle: item.FullNameUnicode,\r\n\t\t\t\t\tvalue: item.UserInformationID\r\n\t\t\t\t}))\r\n\t\t\t\tsetDataFunc('CounselorsID', newData)\r\n\t\t\t\tbreak\r\n\t\t\tcase 'ConsultationStatus':\r\n\t\t\t\tnewData = data.map((item) => ({\r\n\t\t\t\t\ttitle: item.Name,\r\n\t\t\t\t\tvalue: item.ID\r\n\t\t\t\t}))\r\n\t\t\t\tsetDataFunc('CustomerConsultationStatusID', newData)\r\n\t\t\t\tbreak\r\n\t\t\tdefault:\r\n\t\t\t\tbreak\r\n\t\t}\r\n\r\n\t\treturn newData\r\n\t}\r\n\r\n\tconst getDataTolist = (data: any, name: any) => {\r\n\t\tlet newData = makeNewData(data, name)\r\n\r\n\t\tObject.keys(listDataForm).forEach(function (key) {\r\n\t\t\tif (key == name) {\r\n\t\t\t\tlistDataForm[key] = newData\r\n\t\t\t}\r\n\t\t})\r\n\t\tsetListDataForm({ ...listDataForm })\r\n\t}\r\n\r\n\t// ----------- GET DATA SOURCE ---------------\r\n\tconst getDataStudentForm = (arrApi) => {\r\n\t\tarrApi.forEach((item, index) => {\r\n\t\t\t;(async () => {\r\n\t\t\t\tlet res = null\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (item.name == 'Counselors') {\r\n\t\t\t\t\t\tres = await item.api.getAll({\r\n\t\t\t\t\t\t\tpageIndex: 1,\r\n\t\t\t\t\t\t\tpageSize: 99999,\r\n\t\t\t\t\t\t\tRoleID: 6,\r\n\t\t\t\t\t\t\tEnable: true,\r\n\t\t\t\t\t\t\tStatusID: 0\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tres = await item.api.getAll({\r\n\t\t\t\t\t\t\tpageIndex: 1,\r\n\t\t\t\t\t\t\tpageSize: 99999,\r\n\t\t\t\t\t\t\tEnable: true\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tres.status == 200 && getDataTolist(res.data.data, item.name)\r\n\r\n\t\t\t\t\tres.status == 204 && console.log(item.text + ' Không có dữ liệu')\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\t// showNoti('danger', error.message);\r\n\t\t\t\t\tconsole.log(error.message)\r\n\t\t\t\t} finally {\r\n\t\t\t\t}\r\n\t\t\t})()\r\n\t\t})\r\n\t}\r\n\r\n\t// GET DATA SOURCE\r\n\tconst getDataSource = async () => {\r\n\t\tsetIsLoading({\r\n\t\t\ttype: 'GET_ALL',\r\n\t\t\tstatus: true\r\n\t\t})\r\n\r\n\t\ttry {\r\n\t\t\tlet res = await studentAdviseApi.getAll(todoApi)\r\n\t\t\tres.status == 200 && (setDataSource(res.data.data), setTotalPage(res.data.totalRow), setIsResetKey(true))\r\n\t\t\tres.status == 204 && setDataSource([])\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetIsResetKey(false)\r\n\t\t\t}, 200)\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({\r\n\t\t\t\ttype: 'GET_ALL',\r\n\t\t\t\tstatus: false\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\t// ---------------- AFTER SUBMIT -----------------\r\n\tconst afterPost = (mes) => {\r\n\t\t// showNoti(\"success\", mes);\r\n\t\tsetTodoApi({\r\n\t\t\t...listTodoApi,\r\n\t\t\tpageIndex: 1\r\n\t\t})\r\n\t\tsetCurrentPage(1)\r\n\t}\r\n\r\n\t// ----------------- ON SUBMIT --------------------\r\n\tconst _onSubmit = async (dataSubmit: any) => {\r\n\t\tconsole.log('Data submit: ', dataSubmit)\r\n\t\tsetIsLoading({\r\n\t\t\ttype: 'ADD_DATA',\r\n\t\t\tstatus: true\r\n\t\t})\r\n\r\n\t\tlet res = null\r\n\r\n\t\tif (dataSubmit.ID) {\r\n\t\t\ttry {\r\n\t\t\t\tres = await studentAdviseApi.update(dataSubmit)\r\n\r\n\t\t\t\tif (res.status == 200) {\r\n\t\t\t\t\t// let newDataSource = [...dataSource];\r\n\t\t\t\t\t// newDataSource.splice(indexRow, 1, {\r\n\t\t\t\t\t// \t...dataSubmit,\r\n\t\t\t\t\t// \tAreaName: listDataForm.Area.find((item) => item.value == dataSubmit.AreaID)?.title,\r\n\t\t\t\t\t// \tCounselorsName: listDataForm.Counselors.find((item) => item.value == dataSubmit.CounselorsID)?.title,\r\n\t\t\t\t\t// \tSourceInformationName:\r\n\t\t\t\t\t// \t\tdataSubmit.SourceInformationID &&\r\n\t\t\t\t\t// \t\tlistDataForm.SourceInformation.find((item) => item.value == dataSubmit.SourceInformationID).title\r\n\t\t\t\t\t// });\r\n\t\t\t\t\t// setDataSource(newDataSource);\r\n\t\t\t\t\tsetTodoApi({ ...todoApi })\r\n\t\t\t\t\tshowNoti('success', res.data.message)\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log('error: ', error)\r\n\t\t\t\tshowNoti('danger', error.message)\r\n\t\t\t} finally {\r\n\t\t\t\tsetIsLoading({\r\n\t\t\t\t\ttype: 'ADD_DATA',\r\n\t\t\t\t\tstatus: false\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tdataSubmit.CounselorsID = 0\r\n\t\t\ttry {\r\n\t\t\t\tres = await studentAdviseApi.add(dataSubmit)\r\n\t\t\t\tres?.status == 200 && afterPost(res.data.message)\r\n\t\t\t} catch (error) {\r\n\t\t\t\tshowNoti('danger', error.message)\r\n\t\t\t} finally {\r\n\t\t\t\tsetIsLoading({\r\n\t\t\t\t\ttype: 'ADD_DATA',\r\n\t\t\t\t\tstatus: false\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn res\r\n\t}\r\n\r\n\tconst checkEmptyData = () => {\r\n\t\tlet count = 0\r\n\t\tlet res = false\r\n\t\tObject.keys(listDataForm).forEach(function (key) {\r\n\t\t\tif (listDataForm[key].length == 0) {\r\n\t\t\t\tcount++\r\n\t\t\t}\r\n\t\t})\r\n\t\tif (count < 1) {\r\n\t\t\tres = true\r\n\t\t}\r\n\t\treturn res\r\n\t}\r\n\r\n\t// show group customer\r\n\tconst showGroupCustomer = () => {\r\n\t\tif (!showGroup) {\r\n\t\t\tsetTodoApi({\r\n\t\t\t\t...todoApi,\r\n\t\t\t\tisGroup: true\r\n\t\t\t})\r\n\t\t\tsetShowGroup(true)\r\n\t\t} else {\r\n\t\t\tsetTodoApi(listTodoApi)\r\n\t\t\tsetShowGroup(false)\r\n\t\t}\r\n\t}\r\n\r\n\t// -------------- HANDLE FILTER ------------------\r\n\tconst handleFilter = (listFilter) => {\r\n\t\tconsole.log('List Filter when submit: ', listFilter)\r\n\r\n\t\tlet newListFilter = { ...listFieldFilter }\r\n\t\tlistFilter.forEach((item, index) => {\r\n\t\t\tlet key = item.name\r\n\t\t\tObject.keys(newListFilter).forEach((keyFilter) => {\r\n\t\t\t\tif (keyFilter == key) {\r\n\t\t\t\t\tnewListFilter[key] = item.value\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t})\r\n\t\tsetTodoApi({ ...listTodoApi, ...newListFilter, pageIndex: 1 })\r\n\t}\r\n\r\n\t// --------------- HANDLE SORT ----------------------\r\n\tconst handleSort = async (option) => {\r\n\t\tlet newTodoApi = {\r\n\t\t\t...listTodoApi,\r\n\t\t\tpageIndex: 1,\r\n\t\t\tsort: option.title.sort,\r\n\t\t\tsortType: option.title.sortType\r\n\t\t}\r\n\t\tsetCurrentPage(1), setTodoApi(newTodoApi)\r\n\t}\r\n\r\n\t// ------------ ON SEARCH -----------------------\r\n\r\n\tconst checkField = (valueSearch, dataIndex) => {\r\n\t\tlet newList = { ...listFieldSearch }\r\n\t\tObject.keys(newList).forEach(function (key) {\r\n\t\t\tconsole.log('key: ', key)\r\n\t\t\tif (key != dataIndex) {\r\n\t\t\t\tif (key != 'pageIndex') {\r\n\t\t\t\t\tnewList[key] = null\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tnewList[key] = valueSearch\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\treturn newList\r\n\t}\r\n\r\n\tconst onSearch = (valueSearch, dataIndex) => {\r\n\t\tconsole.log('valueSearch: ', valueSearch)\r\n\t\tconsole.log('dataIndex: ', dataIndex)\r\n\r\n\t\tlet clearKey =\r\n\t\t\tdataIndex == 'CustomerName' ? { CustomerName: valueSearch } : dataIndex == 'Number' ? { Number: valueSearch } : { Email: valueSearch }\r\n\r\n\t\tsetTodoApi({\r\n\t\t\t...todoApi,\r\n\t\t\t...clearKey,\r\n\t\t\t...listFieldFilter\r\n\t\t})\r\n\t}\r\n\r\n\t// HANDLE RESET\r\n\tconst resetListFieldSearch = () => {\r\n\t\tObject.keys(listFieldSearch).forEach(function (key) {\r\n\t\t\tif (key != 'pageIndex') {\r\n\t\t\t\tlistFieldSearch[key] = null\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tconst handleReset = () => {\r\n\t\tsetTodoApi({\r\n\t\t\t...listTodoApi,\r\n\t\t\tpageIndex: 1\r\n\t\t})\r\n\t\tsetCurrentPage(1), resetListFieldSearch()\r\n\t}\r\n\r\n\t// -------------- GET PAGE_NUMBER -----------------\r\n\tconst getPagination = (pageNumber: number) => {\r\n\t\tpageIndex = pageNumber\r\n\t\tsetCurrentPage(pageNumber)\r\n\t\tsetTodoApi({\r\n\t\t\t...todoApi,\r\n\t\t\t// ...listFieldSearch,\r\n\t\t\tpageIndex: pageIndex\r\n\t\t})\r\n\t}\r\n\r\n\t// --------- ADD TO GROUP ---------\r\n\tconst addToGroup = async (data) => {\r\n\t\tlet dataSubmit = {\r\n\t\t\tID: data.ID,\r\n\t\t\tisGroup: true\r\n\t\t}\r\n\t\tsetConfirmLoading(true)\r\n\t\ttry {\r\n\t\t\tlet res = await studentAdviseApi.update(dataSubmit)\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tsetTodoApi({\r\n\t\t\t\t\t...todoApi\r\n\t\t\t\t})\r\n\t\t\t\tshowNoti('success', 'Thêm vào nhóm thành công')\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetConfirmLoading(false)\r\n\t\t}\r\n\t}\r\n\r\n\tconst onChange_sendEmail = (e, ID) => {\r\n\t\tlet checked = e.target.checked\r\n\t\tif (checked) {\r\n\t\t\tlistCustomer.push(ID)\r\n\t\t} else {\r\n\t\t\tlet index = listCustomer.indexOf(ID)\r\n\t\t\tlistCustomer.splice(index, 1)\r\n\t\t}\r\n\t\tsetListCustomer([...listCustomer])\r\n\t}\r\n\r\n\tconst resetListCustomer = () => {\r\n\t\tsetListCustomer([])\r\n\t}\r\n\r\n\t// -------- ON SELECT ROW ---------\r\n\tconst onSelectRow = (selectRow) => {\r\n\t\tlet listID = selectRow?.map((item) => item.ID)\r\n\t\tsetListCustomer(listID)\r\n\t}\r\n\r\n\t// ============== USE EFFECT - FETCH DATA ===================\r\n\tuseEffect(() => {\r\n\t\tgetDataSource()\r\n\t}, [todoApi])\r\n\r\n\tuseEffect(() => {\r\n\t\tuserInformation &&\r\n\t\t\t(userInformation.RoleID === 1 || userInformation.RoleID === 6 || userInformation.RoleID === 5) &&\r\n\t\t\tgetDataStudentForm(listApi)\r\n\t}, [userInformation])\r\n\r\n\tconst expandedRowRender = (data) => {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<StudentAdvisoryNote onFetchData={() => setTodoApi({ ...todoApi })} dataSource={data.Note} userID={data.ID} />\r\n\t\t\t</>\r\n\t\t)\r\n\t}\r\n\r\n\tconst columns =\r\n\t\tuserInformation && userInformation?.RoleID !== 10\r\n\t\t\t? [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: 'Mã số',\r\n\t\t\t\t\t\tdataIndex: 'CustomerCode',\r\n\t\t\t\t\t\tfixed: 'left',\r\n\t\t\t\t\t\trender: (CustomerCode) => <p className=\"font-weight-black\">{CustomerCode}</p>\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: 'Họ tên',\r\n\t\t\t\t\t\tdataIndex: 'CustomerName',\r\n\t\t\t\t\t\t...FilterColumn('CustomerName', onSearch, handleReset, 'text'),\r\n\t\t\t\t\t\tfixed: 'left',\r\n\t\t\t\t\t\trender: (a) => <p className=\"font-weight-primary\">{a}</p>\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: 'Số điện thoại',\r\n\t\t\t\t\t\tdataIndex: 'Number',\r\n\t\t\t\t\t\t...FilterColumn('Number', onSearch, handleReset, 'text'),\r\n\t\t\t\t\t\tfixed: 'left',\r\n\t\t\t\t\t\trender: (a) => <p style={{ width: 130 }}>{a}</p>\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: 'Email',\r\n\t\t\t\t\t\tdataIndex: 'Email',\r\n\t\t\t\t\t\t...FilterColumn('Email', onSearch, handleReset, 'text'),\r\n\t\t\t\t\t\tfixed: 'left',\r\n\t\t\t\t\t\trender: (a) => <p style={{ width: 200 }}>{a}</p>\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\twidth: 180,\r\n\t\t\t\t\t\ttitle: 'Nhu cầu học',\r\n\t\t\t\t\t\tdataIndex: 'LearningNeedName'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\twidth: 150,\r\n\t\t\t\t\t\ttitle: 'Nguồn',\r\n\t\t\t\t\t\tdataIndex: 'SourceInformationName'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tclassName: 'text-center',\r\n\t\t\t\t\t\twidth: 200,\r\n\t\t\t\t\t\ttitle: 'Trạng thái',\r\n\t\t\t\t\t\tdataIndex: 'CustomerConsultationStatusName',\r\n\r\n\t\t\t\t\t\trender: (text, data) => <p className=\"font-weight-black\">{text}</p>\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\twidth: 150,\r\n\t\t\t\t\t\ttitle: 'Tư vấn viên',\r\n\t\t\t\t\t\tdataIndex: 'CounselorsName',\r\n\t\t\t\t\t\trender: (CounselorsName) => <p style={{ width: 200 }}>{CounselorsName}</p>\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: 'Ngày đăng ký',\r\n\t\t\t\t\t\tdataIndex: 'CreatedOn',\r\n\t\t\t\t\t\trender: (date) => <p>{moment(date).format('DD/MM/YYYY')}</p>,\r\n\t\t\t\t\t\twidth: 120\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: '',\r\n\t\t\t\t\t\tdataIndex: 'CustomerConsultationStatusID',\r\n\t\t\t\t\t\twidth: 135,\r\n\t\t\t\t\t\trender: (text, data, index) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t\t<StudentAdviseForm\r\n\t\t\t\t\t\t\t\t\t\tgetIndex={() => setIndexRow(index)}\r\n\t\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\t\trowData={data}\r\n\t\t\t\t\t\t\t\t\t\trowID={data.ID}\r\n\t\t\t\t\t\t\t\t\t\tlistData={listDataForm}\r\n\t\t\t\t\t\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\t\t\t\t\t\t_onSubmit={(data: any) => _onSubmit(data)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t<StudentAdvisoryMail\r\n\t\t\t\t\t\t\t\t\t\tloadingOutside={isLoading}\r\n\t\t\t\t\t\t\t\t\t\tdataSource={dataSource}\r\n\t\t\t\t\t\t\t\t\t\tonFetchData={() => setTodoApi({ ...todoApi })}\r\n\t\t\t\t\t\t\t\t\t\tdataRow={data}\r\n\t\t\t\t\t\t\t\t\t\tlistCustomer={listCustomer}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t{text == 2 && (\r\n\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\thref={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tpathname: '/customer/service/service-info-student/',\r\n\t\t\t\t\t\t\t\t\t\t\t\tquery: { customerID: data.ID }\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip title=\"Hẹn test\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-icon view\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<CalendarOutlined />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t  ]\r\n\t\t\t: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: 'Mã số',\r\n\t\t\t\t\t\tdataIndex: 'CustomerCode',\r\n\t\t\t\t\t\tfixed: 'left',\r\n\t\t\t\t\t\trender: (CustomerCode) => <p className=\"font-weight-black\">{CustomerCode}</p>\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: 'Họ tên',\r\n\t\t\t\t\t\tdataIndex: 'CustomerName',\r\n\t\t\t\t\t\t...FilterColumn('CustomerName', onSearch, handleReset, 'text'),\r\n\t\t\t\t\t\tfixed: 'left',\r\n\t\t\t\t\t\trender: (a) => <p className=\"font-weight-primary\">{a}</p>\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: 'Số điện thoại',\r\n\t\t\t\t\t\tdataIndex: 'Number',\r\n\t\t\t\t\t\t...FilterColumn('Number', onSearch, handleReset, 'text'),\r\n\t\t\t\t\t\tfixed: 'left',\r\n\t\t\t\t\t\trender: (a) => <p style={{ width: 130 }}>{a}</p>\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: 'Email',\r\n\t\t\t\t\t\tdataIndex: 'Email',\r\n\t\t\t\t\t\t...FilterColumn('Email', onSearch, handleReset, 'text'),\r\n\t\t\t\t\t\tfixed: 'left',\r\n\t\t\t\t\t\trender: (a) => <p style={{ width: 200 }}>{a}</p>\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\twidth: 180,\r\n\t\t\t\t\t\ttitle: 'Nhu cầu học',\r\n\t\t\t\t\t\tdataIndex: 'LearningNeedName'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\twidth: 150,\r\n\t\t\t\t\t\ttitle: 'Nguồn',\r\n\t\t\t\t\t\tdataIndex: 'SourceInformationName'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tclassName: 'text-center',\r\n\t\t\t\t\t\twidth: 200,\r\n\t\t\t\t\t\ttitle: 'Trạng thái',\r\n\t\t\t\t\t\tdataIndex: 'CustomerConsultationStatusName',\r\n\r\n\t\t\t\t\t\trender: (text, data) => <p className=\"font-weight-black\">{text}</p>\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\twidth: 150,\r\n\t\t\t\t\t\ttitle: 'Tư vấn viên',\r\n\t\t\t\t\t\tdataIndex: 'CounselorsName',\r\n\t\t\t\t\t\trender: (CounselorsName) => <p style={{ width: 200 }}>{CounselorsName}</p>\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: 'Ngày đăng ký',\r\n\t\t\t\t\t\tdataIndex: 'CreatedOn',\r\n\t\t\t\t\t\trender: (date) => <p>{moment(date).format('DD/MM/YYYY')}</p>,\r\n\t\t\t\t\t\twidth: 120\r\n\t\t\t\t\t}\r\n\t\t\t  ]\r\n\r\n\treturn (\r\n\t\t<ExpandTable\r\n\t\t\tcurrentPage={currentPage}\r\n\t\t\ttotalPage={totalPage && totalPage}\r\n\t\t\tgetPagination={(pageNumber: number) => getPagination(pageNumber)}\r\n\t\t\tloading={isLoading}\r\n\t\t\taddClass=\"basic-header\"\r\n\t\t\tTitlePage=\"Danh sách khách hàng\"\r\n\t\t\tTitleCard={\r\n\t\t\t\t<div className=\"d-flex align-items-center justify-content-end\">\r\n\t\t\t\t\t{userInformation && userInformation?.RoleID !== 10 && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<StudentAdvisoryMail\r\n\t\t\t\t\t\t\t\tshowCheckBox={() => setShowCheckbox(!showCheckbox)}\r\n\t\t\t\t\t\t\t\tloadingOutside={isLoading}\r\n\t\t\t\t\t\t\t\tdataSource={dataSource}\r\n\t\t\t\t\t\t\t\tonFetchData={() => setTodoApi({ ...todoApi })}\r\n\t\t\t\t\t\t\t\tlistCustomer={listCustomer}\r\n\t\t\t\t\t\t\t\tresetListCustomer={() => resetListCustomer()}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<StudentAdviseForm\r\n\t\t\t\t\t\t\t\tlistData={checkEmptyData && listDataForm}\r\n\t\t\t\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\t\t\t\t_onSubmit={(data: any) => _onSubmit(data)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t\tdataSource={dataSource}\r\n\t\t\tcolumns={columns}\r\n\t\t\tExtra={\r\n\t\t\t\t<div className=\"extra-table\">\r\n\t\t\t\t\t<FilterBase dataFilter={dataFilter} handleFilter={(listFilter: any) => handleFilter(listFilter)} handleReset={handleReset} />\r\n\t\t\t\t\t<SortBox handleSort={(value) => handleSort(value)} dataOption={dataOption} />\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t\texpandable={{ expandedRowRender }}\r\n\t\t\tisSelect={showCheckbox}\r\n\t\t\tisResetKey={isResetKey}\r\n\t\t\tonSelectRow={(selectRows) => onSelectRow(selectRows)}\r\n\t\t/>\r\n\t)\r\n}\r\nStudentAdvisory.layout = LayoutBase\r\n"]},"metadata":{},"sourceType":"module"}