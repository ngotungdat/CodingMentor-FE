{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\pages\\\\cart\\\\shopping-cart\\\\index.tsx\";\nimport { EllipsisOutlined, FormOutlined, LoginOutlined, LogoutOutlined, RedoOutlined, SearchOutlined, ShoppingCartOutlined, UserOutlined } from '@ant-design/icons';\nimport { Dropdown, Input, Popover, Skeleton, Tooltip } from 'antd';\nimport { signIn, signOut, useSession } from 'next-auth/client';\nimport Link from 'next/link';\nimport router from 'next/router';\nimport React, { useEffect, useState } from 'react';\nimport { shoppingCartApi } from '~/apiBase/shopping-cart/shopping-cart';\nimport QuantityOfItems from '~/components/Global/Option/shopping-cart/QuantityOfItems';\nimport { useWrap } from '~/context/wrap';\nimport { numberWithCommas } from '~/utils/functions';\nimport DeleteItem from './../../../components/Tables/DeleteItem';\n\nconst ShoppingCart = () => {\n  const [session] = useSession();\n  const {\n    0: dataUser,\n    1: setDataUser\n  } = useState();\n  const {\n    userInformation\n  } = useWrap();\n  const {\n    0: cartItems,\n    1: setCartItems\n  } = useState();\n  const {\n    0: dropDownVisible,\n    1: setDropDownVisible\n  } = useState(false);\n  const {\n    0: isLoading,\n    1: setIsLoading\n  } = useState({\n    status: '',\n    loading: false\n  });\n  const {\n    0: isDisabledPayButton,\n    1: setIsDisabledPayButton\n  } = useState(false);\n  const {\n    0: clickedItem,\n    1: setClickedItem\n  } = useState(null);\n  const {\n    Search\n  } = Input;\n\n  const moveToLogin = () => {\n    signIn();\n  };\n\n  const contentLogout = /*#__PURE__*/_jsxDEV(\"ul\", {\n    className: \"user-function\",\n    children: [/*#__PURE__*/_jsxDEV(\"li\", {\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        href: \"/profile\",\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"icon\",\n            children: /*#__PURE__*/_jsxDEV(UserOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"function-name\",\n            children: \"Trang c\\xE1 nh\\xE2n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        href: \"/change-password\",\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"#\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"icon inbox\",\n            children: /*#__PURE__*/_jsxDEV(RedoOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"function-name\",\n            children: \"\\u0110\\u1ED5i m\\u1EADt kh\\u1EA9u\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#\",\n        onClick: () => (signOut(), localStorage.removeItem('dataUserEchinese')),\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"icon logout\",\n          children: /*#__PURE__*/_jsxDEV(LogoutOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"function-name\",\n          children: \"Log out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 3\n  }, this);\n\n  const contentLogin = /*#__PURE__*/_jsxDEV(\"ul\", {\n    className: \"user-function\",\n    children: [/*#__PURE__*/_jsxDEV(\"li\", {\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#\",\n        onClick: moveToLogin,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"icon\",\n          children: /*#__PURE__*/_jsxDEV(LoginOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"function-name\",\n          children: \"\\u0110\\u0103ng nh\\u1EADp\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"icon inbox\",\n          children: /*#__PURE__*/_jsxDEV(FormOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"function-name\",\n          children: \"\\u0110\\u0103ng k\\xED\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 3\n  }, this);\n\n  function parseJwt(token) {\n    var base64Url = token.split('.')[1];\n    var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n    var jsonPayload = decodeURIComponent(atob(base64).split('').map(function (c) {\n      return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n    }).join(''));\n    return JSON.parse(jsonPayload);\n  }\n\n  const getShoppingCartData = async () => {\n    setIsLoading({\n      status: 'GET_CART_DATA',\n      loading: true\n    });\n\n    try {\n      let res = await shoppingCartApi.getAll();\n\n      if (res.status == 200) {\n        setCartItems(res.data.data); //@ts-ignore\n\n        getOrderID(res.data.cartId);\n      }\n\n      if (res.status == 204) {\n        setCartItems([]);\n        setIsDisabledPayButton(true);\n      }\n    } catch (error) {} finally {\n      setIsLoading({\n        status: 'GET_CART_DATA',\n        loading: false\n      });\n    }\n  };\n\n  const getShoppingCartDataNoLoading = async () => {\n    try {\n      let res = await shoppingCartApi.getAll();\n\n      if (res.status == 200) {\n        setCartItems(res.data.data); //@ts-ignore\n\n        getOrderID(res.data.cartId);\n      }\n\n      if (res.status == 204) {\n        setCartItems([]);\n      }\n    } catch (error) {} finally {}\n  };\n\n  const deleteItem = async id => {\n    setIsLoading({\n      status: 'loading',\n      loading: true\n    });\n\n    try {\n      let res = await shoppingCartApi.update({\n        ID: id,\n        Enable: false\n      });\n\n      if (res.status == 200) {\n        getShoppingCartData();\n      }\n    } catch (error) {} finally {\n      setIsLoading({\n        status: 'loading',\n        loading: false\n      });\n    }\n  };\n\n  const increseItem = async (id, quantity) => {\n    setIsLoading({\n      status: 'CHANGE_QUANTITY',\n      loading: true\n    });\n\n    try {\n      let res = await shoppingCartApi.update({\n        ID: id,\n        Quantity: quantity + 1,\n        Enable: true\n      });\n\n      if (res.status == 200) {\n        getShoppingCartDataNoLoading();\n      }\n    } catch (error) {} finally {\n      setIsLoading({\n        status: 'CHANGE_QUANTITY',\n        loading: false\n      });\n    }\n  };\n\n  const decreseItem = async (id, quantity) => {\n    setIsLoading({\n      status: 'CHANGE_QUANTITY',\n      loading: true\n    });\n\n    try {\n      let res = await shoppingCartApi.update(quantity == 1 ? {\n        ID: id,\n        Enable: false\n      } : {\n        ID: id,\n        Quantity: quantity - 1,\n        Enable: true\n      });\n\n      if (res.status == 200) {\n        getShoppingCartDataNoLoading();\n      }\n    } catch (error) {} finally {\n      setIsLoading({\n        status: 'CHANGE_QUANTITY',\n        loading: false\n      });\n    }\n  };\n\n  const renderCartItems = () => {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-between\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"d-flex justify-content-between align-items-center text-primary-heading mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(ShoppingCartOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 7\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ml-3\",\n            children: \"Gi\\u1ECF H\\xE0ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 32\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 5\n      }, this), cartItems === null || cartItems === void 0 ? void 0 : cartItems.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart__item d-flex justify-content-between align-items-center row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => router.push({\n            pathname: '/video-course/[slug]',\n            query: {\n              slug: item.VideoCourseID,\n              Thum: item.ImageThumbnails,\n              Sell: item.Price\n            }\n          }),\n          className: \"cart__item-img\",\n          style: {\n            cursor: 'pointer'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: item.ImageThumbnails && item.ImageThumbnails.length ? item.ImageThumbnails : '/images/logo-thumnail.jpg',\n            alt: \"img course\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: item.VideoCourseName,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart__item-detail d-none d-sm-inline-block mt-sm-0 mb-sm-0\",\n            children: /*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"limit-text-two-line\",\n              children: item.VideoCourseName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart__item-detail d-none d-sm-inline-block mt-sm-0 mb-sm-0\",\n          children: /*#__PURE__*/_jsxDEV(\"h5\", {\n            style: {\n              fontSize: 14\n            },\n            children: [\"H\\u1EA1n: \", item.ExpiryDays, \" ng\\xE0y\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart__item-action d-none d-sm-inline-block d-none d-sm-inline-block col-sm-2\",\n          children: /*#__PURE__*/_jsxDEV(QuantityOfItems, {\n            item: item,\n            index: index,\n            decreseItem: decreseItem,\n            increseItem: increseItem,\n            setClickedItem: setClickedItem\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart__item-price d-none d-sm-inline-block\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-weight-primary\",\n            children: [numberWithCommas(item.Price * item.Quantity), \" VND\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart__item-remove d-none d-sm-inline-block col-sm-1\",\n          children: /*#__PURE__*/_jsxDEV(DeleteItem, {\n            onDelete: () => deleteItem(item.ID)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-8 d-sm-none\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart__item-detail col-12 col-sm-3 mt-3  mt-sm-0 mb-sm-0 limit-text-two-line\",\n            children: /*#__PURE__*/_jsxDEV(\"h5\", {\n              children: item.VideoCourseName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart__item-detail col-12 col-sm-3 mt-3  mt-sm-0 mb-sm-0\",\n            children: /*#__PURE__*/_jsxDEV(\"h5\", {\n              style: {\n                fontSize: 14\n              },\n              children: [\"H\\u1EA1n: \", item.ExpiryDays, \" ng\\xE0y\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart__item-price\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-weight-primary\",\n              children: [numberWithCommas(item.Price * item.Quantity), \" VND\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mt-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart__item-action pl-3 pl-md-5  col-8 col-sm-2\",\n              children: /*#__PURE__*/_jsxDEV(QuantityOfItems, {\n                item: item,\n                index: index,\n                decreseItem: decreseItem,\n                increseItem: increseItem,\n                setClickedItem: setClickedItem\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart__item-remove col-4 col-sm-1\",\n              children: /*#__PURE__*/_jsxDEV(DeleteItem, {\n                onDelete: () => deleteItem(item.ID)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 7\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 6\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary mt-5\",\n        onClick: () => {\n          router.push('/video-course');\n        },\n        children: \"Mua s\\u1EAFm th\\xEAm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true);\n  };\n\n  const menuDropdown = () => {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"menu__dropdown d-inline-block d-md-none\",\n        style: {\n          width: 300\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-inline-block d-md-none \",\n          children: [/*#__PURE__*/_jsxDEV(Search, {\n            onChange: event => {},\n            name: \"CourseSearch\",\n            placeholder: \"T\\xECm kh\\xF3a h\\u1ECDc\",\n            className: \"style-input mb-3\",\n            allowClear: true,\n            enterButton: /*#__PURE__*/_jsxDEV(SearchOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 21\n            }, this),\n            size: \"large\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Popover, {\n            content: !session ? contentLogin : contentLogout,\n            trigger: \"click\",\n            title: \"\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-wrap\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"user-info\",\n                children: session !== null && session !== void 0 && session.user ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"user-wrap\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"user-img\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: dataUser !== null && dataUser !== void 0 && dataUser.Avatar ? dataUser.Avatar : '/images/user.png',\n                      alt: \"\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 315,\n                      columnNumber: 13\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 314,\n                    columnNumber: 12\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"user-info\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"user-name\",\n                      children: dataUser === null || dataUser === void 0 ? void 0 : dataUser.FullNameUnicode\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 318,\n                      columnNumber: 13\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"user-position\",\n                      children: dataUser === null || dataUser === void 0 ? void 0 : dataUser.RoleName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 319,\n                      columnNumber: 13\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 317,\n                    columnNumber: 12\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 11\n                }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"T\\xE0i kho\\u1EA3n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 5\n      }, this)\n    }, void 0, false);\n  };\n\n  useEffect(() => {\n    if (session !== undefined) {\n      let token = session.accessToken;\n\n      if (userInformation) {\n        setDataUser(userInformation);\n      } else {\n        setDataUser(parseJwt(token));\n      }\n    }\n  }, [userInformation]);\n  useEffect(() => {\n    getShoppingCartData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"shopping-wrap-all-content\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"shopping__cart-header justify-content-between align-items-center row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header__logo col-6 col-md-3\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            href: \"/\",\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"logo-img\",\n                src: \"/images/logo-final.jpg\",\n                alt: \"logo branch\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header__profile col-2 col-md-3\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-setting\",\n            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"col-setting-list\",\n              children: /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"user\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-inline-block d-md-none  w-25 \",\n                  children: /*#__PURE__*/_jsxDEV(Dropdown, {\n                    overlay: menuDropdown,\n                    trigger: ['click'],\n                    visible: dropDownVisible,\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      className: \"ant-dropdown-link\",\n                      onClick: e => {\n                        e.preventDefault();\n                        setDropDownVisible(!dropDownVisible);\n                      },\n                      children: /*#__PURE__*/_jsxDEV(EllipsisOutlined, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 373,\n                        columnNumber: 13\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 366,\n                      columnNumber: 12\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 365,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 364,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-none d-md-inline-block \",\n                  children: /*#__PURE__*/_jsxDEV(Popover, {\n                    content: !session ? contentLogin : contentLogout,\n                    trigger: \"click\",\n                    title: \"\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"user-wrap\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"user-info\",\n                        children: session !== null && session !== void 0 && session.user ? /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"user-wrap\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"user-img\",\n                            children: /*#__PURE__*/_jsxDEV(\"img\", {\n                              src: dataUser !== null && dataUser !== void 0 && dataUser.Avatar ? dataUser.Avatar : '/images/user.png',\n                              alt: \"\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 384,\n                              columnNumber: 17\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 383,\n                            columnNumber: 16\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"user-info\",\n                            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                              className: \"user-name\",\n                              children: dataUser === null || dataUser === void 0 ? void 0 : dataUser.FullNameUnicode\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 387,\n                              columnNumber: 17\n                            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                              className: \"user-position\",\n                              children: dataUser === null || dataUser === void 0 ? void 0 : dataUser.RoleName\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 388,\n                              columnNumber: 17\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 386,\n                            columnNumber: 16\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 382,\n                          columnNumber: 15\n                        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                          children: \"T\\xE0i kho\\u1EA3n\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 392,\n                          columnNumber: 15\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 380,\n                        columnNumber: 13\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 379,\n                      columnNumber: 12\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 378,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 377,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"shopping__cart-body\",\n      children: isLoading.loading && isLoading.status == 'GET_CART_DATA' ? /*#__PURE__*/_jsxDEV(Skeleton, {\n        active: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 6\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"shopping__cart-content row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"shopping__cart-items\",\n          children: renderCartItems()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"shopping__cart-total\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"col-4 pr-0\",\n              children: \"T\\u1ED5ng c\\u1ED9ng: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"font-weight-primary col-8\",\n              children: [numberWithCommas(cartItems === null || cartItems === void 0 ? void 0 : cartItems.reduce((a, b) => Number(a) + Number(b.Price * b.Quantity), 0)), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"ml-2\",\n                children: \"VND\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 10\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            href: \"/cart/check-out\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              disabled: isDisabledPayButton,\n              className: \"btn btn-primary w-100\",\n              children: \"Thanh to\\xE1n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 350,\n    columnNumber: 3\n  }, this);\n};\n\nexport default ShoppingCart;","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/pages/cart/shopping-cart/index.tsx"],"names":["EllipsisOutlined","FormOutlined","LoginOutlined","LogoutOutlined","RedoOutlined","SearchOutlined","ShoppingCartOutlined","UserOutlined","Dropdown","Input","Popover","Skeleton","Tooltip","signIn","signOut","useSession","Link","router","React","useEffect","useState","shoppingCartApi","QuantityOfItems","useWrap","numberWithCommas","DeleteItem","ShoppingCart","session","dataUser","setDataUser","userInformation","cartItems","setCartItems","dropDownVisible","setDropDownVisible","isLoading","setIsLoading","status","loading","isDisabledPayButton","setIsDisabledPayButton","clickedItem","setClickedItem","Search","moveToLogin","contentLogout","localStorage","removeItem","contentLogin","parseJwt","token","base64Url","split","base64","replace","jsonPayload","decodeURIComponent","atob","map","c","charCodeAt","toString","slice","join","JSON","parse","getShoppingCartData","res","getAll","data","getOrderID","cartId","error","getShoppingCartDataNoLoading","deleteItem","id","update","ID","Enable","increseItem","quantity","Quantity","decreseItem","renderCartItems","item","index","push","pathname","query","slug","VideoCourseID","Thum","ImageThumbnails","Sell","Price","cursor","length","VideoCourseName","fontSize","ExpiryDays","menuDropdown","width","event","user","Avatar","FullNameUnicode","RoleName","undefined","accessToken","e","preventDefault","reduce","a","b","Number"],"mappings":"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","sourcesContent":["import {\r\n\tEllipsisOutlined,\r\n\tFormOutlined,\r\n\tLoginOutlined,\r\n\tLogoutOutlined,\r\n\tRedoOutlined,\r\n\tSearchOutlined,\r\n\tShoppingCartOutlined,\r\n\tUserOutlined\r\n} from '@ant-design/icons'\r\nimport { Dropdown, Input, Popover, Skeleton, Tooltip } from 'antd'\r\nimport { signIn, signOut, useSession } from 'next-auth/client'\r\nimport Link from 'next/link'\r\nimport router from 'next/router'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { shoppingCartApi } from '~/apiBase/shopping-cart/shopping-cart'\r\nimport QuantityOfItems from '~/components/Global/Option/shopping-cart/QuantityOfItems'\r\nimport { useWrap } from '~/context/wrap'\r\nimport { numberWithCommas } from '~/utils/functions'\r\nimport DeleteItem from './../../../components/Tables/DeleteItem'\r\nimport ReactHlsPlayer from 'react-hls-player'\r\n\r\nconst ShoppingCart = () => {\r\n\tconst [session] = useSession()\r\n\tconst [dataUser, setDataUser] = useState<IUser>()\r\n\tconst { userInformation } = useWrap()\r\n\tconst [cartItems, setCartItems] = useState<IShoppingCart[]>()\r\n\tconst [dropDownVisible, setDropDownVisible] = useState(false)\r\n\tconst [isLoading, setIsLoading] = useState({\r\n\t\tstatus: '',\r\n\t\tloading: false\r\n\t})\r\n\tconst [isDisabledPayButton, setIsDisabledPayButton] = useState(false)\r\n\tconst [clickedItem, setClickedItem] = useState(null)\r\n\r\n\tconst { Search } = Input\r\n\r\n\tconst moveToLogin = () => {\r\n\t\tsignIn()\r\n\t}\r\n\r\n\tconst contentLogout = (\r\n\t\t<ul className=\"user-function\">\r\n\t\t\t<li>\r\n\t\t\t\t<Link href=\"/profile\">\r\n\t\t\t\t\t<a href=\"\">\r\n\t\t\t\t\t\t<span className=\"icon\">\r\n\t\t\t\t\t\t\t<UserOutlined />\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span className=\"function-name\">Trang cá nhân</span>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</Link>\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t\t<Link href=\"/change-password\">\r\n\t\t\t\t\t<a href=\"#\">\r\n\t\t\t\t\t\t<span className=\"icon inbox\">\r\n\t\t\t\t\t\t\t<RedoOutlined />\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span className=\"function-name\">Đổi mật khẩu</span>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</Link>\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t\t<a href=\"#\" onClick={() => (signOut(), localStorage.removeItem('dataUserEchinese'))}>\r\n\t\t\t\t\t<span className=\"icon logout\">\r\n\t\t\t\t\t\t<LogoutOutlined />\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span className=\"function-name\">Log out</span>\r\n\t\t\t\t</a>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t)\r\n\r\n\tconst contentLogin = (\r\n\t\t<ul className=\"user-function\">\r\n\t\t\t<li>\r\n\t\t\t\t<a href=\"#\" onClick={moveToLogin}>\r\n\t\t\t\t\t<span className=\"icon\">\r\n\t\t\t\t\t\t<LoginOutlined />\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span className=\"function-name\">Đăng nhập</span>\r\n\t\t\t\t</a>\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t\t<a href=\"#\">\r\n\t\t\t\t\t<span className=\"icon inbox\">\r\n\t\t\t\t\t\t<FormOutlined />\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span className=\"function-name\">Đăng kí</span>\r\n\t\t\t\t</a>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t)\r\n\r\n\tfunction parseJwt(token) {\r\n\t\tvar base64Url = token.split('.')[1]\r\n\t\tvar base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/')\r\n\t\tvar jsonPayload = decodeURIComponent(\r\n\t\t\tatob(base64)\r\n\t\t\t\t.split('')\r\n\t\t\t\t.map(function (c) {\r\n\t\t\t\t\treturn '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2)\r\n\t\t\t\t})\r\n\t\t\t\t.join('')\r\n\t\t)\r\n\r\n\t\treturn JSON.parse(jsonPayload)\r\n\t}\r\n\r\n\tconst getShoppingCartData = async () => {\r\n\t\tsetIsLoading({ status: 'GET_CART_DATA', loading: true })\r\n\t\ttry {\r\n\t\t\tlet res = await shoppingCartApi.getAll()\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tsetCartItems(res.data.data)\r\n\t\t\t\t//@ts-ignore\r\n\t\t\t\tgetOrderID(res.data.cartId)\r\n\t\t\t}\r\n\t\t\tif (res.status == 204) {\r\n\t\t\t\tsetCartItems([])\r\n\t\t\t\tsetIsDisabledPayButton(true)\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({ status: 'GET_CART_DATA', loading: false })\r\n\t\t}\r\n\t}\r\n\r\n\tconst getShoppingCartDataNoLoading = async () => {\r\n\t\ttry {\r\n\t\t\tlet res = await shoppingCartApi.getAll()\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tsetCartItems(res.data.data)\r\n\t\t\t\t//@ts-ignore\r\n\t\t\t\tgetOrderID(res.data.cartId)\r\n\t\t\t}\r\n\t\t\tif (res.status == 204) {\r\n\t\t\t\tsetCartItems([])\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t} finally {\r\n\t\t}\r\n\t}\r\n\r\n\tconst deleteItem = async (id) => {\r\n\t\tsetIsLoading({ status: 'loading', loading: true })\r\n\t\ttry {\r\n\t\t\tlet res = await shoppingCartApi.update({ ID: id, Enable: false })\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tgetShoppingCartData()\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({ status: 'loading', loading: false })\r\n\t\t}\r\n\t}\r\n\r\n\tconst increseItem = async (id, quantity) => {\r\n\t\tsetIsLoading({\r\n\t\t\tstatus: 'CHANGE_QUANTITY',\r\n\t\t\tloading: true\r\n\t\t})\r\n\t\ttry {\r\n\t\t\tlet res = await shoppingCartApi.update({ ID: id, Quantity: quantity + 1, Enable: true })\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tgetShoppingCartDataNoLoading()\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({\r\n\t\t\t\tstatus: 'CHANGE_QUANTITY',\r\n\t\t\t\tloading: false\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tconst decreseItem = async (id, quantity) => {\r\n\t\tsetIsLoading({\r\n\t\t\tstatus: 'CHANGE_QUANTITY',\r\n\t\t\tloading: true\r\n\t\t})\r\n\t\ttry {\r\n\t\t\tlet res = await shoppingCartApi.update(quantity == 1 ? { ID: id, Enable: false } : { ID: id, Quantity: quantity - 1, Enable: true })\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tgetShoppingCartDataNoLoading()\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({\r\n\t\t\t\tstatus: 'CHANGE_QUANTITY',\r\n\t\t\t\tloading: false\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tconst renderCartItems = () => {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<div className=\"d-flex justify-content-between\">\r\n\t\t\t\t\t<h1 className=\"d-flex justify-content-between align-items-center text-primary-heading mb-4\">\r\n\t\t\t\t\t\t<ShoppingCartOutlined /> <span className=\"ml-3\">Giỏ Hàng</span>\r\n\t\t\t\t\t</h1>\r\n\t\t\t\t</div>\r\n\t\t\t\t{cartItems?.map((item, index) => (\r\n\t\t\t\t\t<div className=\"cart__item d-flex justify-content-between align-items-center row\" key={index}>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\trouter.push({\r\n\t\t\t\t\t\t\t\t\tpathname: '/video-course/[slug]',\r\n\t\t\t\t\t\t\t\t\tquery: { slug: item.VideoCourseID, Thum: item.ImageThumbnails, Sell: item.Price }\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tclassName=\"cart__item-img\"\r\n\t\t\t\t\t\t\tstyle={{ cursor: 'pointer' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tsrc={item.ImageThumbnails && item.ImageThumbnails.length ? item.ImageThumbnails : '/images/logo-thumnail.jpg'}\r\n\t\t\t\t\t\t\t\talt=\"img course\"\r\n\t\t\t\t\t\t\t></img>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<Tooltip title={item.VideoCourseName}>\r\n\t\t\t\t\t\t\t<div className=\"cart__item-detail d-none d-sm-inline-block mt-sm-0 mb-sm-0\">\r\n\t\t\t\t\t\t\t\t<h5 className=\"limit-text-two-line\">{item.VideoCourseName}</h5>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Tooltip>\r\n\r\n\t\t\t\t\t\t<div className=\"cart__item-detail d-none d-sm-inline-block mt-sm-0 mb-sm-0\">\r\n\t\t\t\t\t\t\t<h5 style={{ fontSize: 14 }}>Hạn: {item.ExpiryDays} ngày</h5>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"cart__item-action d-none d-sm-inline-block d-none d-sm-inline-block col-sm-2\">\r\n\t\t\t\t\t\t\t{/* Render quantity button */}\r\n\t\t\t\t\t\t\t<QuantityOfItems\r\n\t\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\tdecreseItem={decreseItem}\r\n\t\t\t\t\t\t\t\tincreseItem={increseItem}\r\n\t\t\t\t\t\t\t\tsetClickedItem={setClickedItem}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"cart__item-price d-none d-sm-inline-block\">\r\n\t\t\t\t\t\t\t<p className=\"font-weight-primary\">{numberWithCommas(item.Price * item.Quantity)} VND</p>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"cart__item-remove d-none d-sm-inline-block col-sm-1\">\r\n\t\t\t\t\t\t\t<DeleteItem onDelete={() => deleteItem(item.ID)} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/* info in small screen */}\r\n\t\t\t\t\t\t<div className=\"col-8 d-sm-none\">\r\n\t\t\t\t\t\t\t<div className=\"cart__item-detail col-12 col-sm-3 mt-3  mt-sm-0 mb-sm-0 limit-text-two-line\">\r\n\t\t\t\t\t\t\t\t<h5>{item.VideoCourseName}</h5>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"cart__item-detail col-12 col-sm-3 mt-3  mt-sm-0 mb-sm-0\">\r\n\t\t\t\t\t\t\t\t<h5 style={{ fontSize: 14 }}>Hạn: {item.ExpiryDays} ngày</h5>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"cart__item-price\">\r\n\t\t\t\t\t\t\t\t<p className=\"font-weight-primary\">{numberWithCommas(item.Price * item.Quantity)} VND</p>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"row mt-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"cart__item-action pl-3 pl-md-5  col-8 col-sm-2\">\r\n\t\t\t\t\t\t\t\t\t{/* Render quantity button */}\r\n\t\t\t\t\t\t\t\t\t<QuantityOfItems\r\n\t\t\t\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\t\tdecreseItem={decreseItem}\r\n\t\t\t\t\t\t\t\t\t\tincreseItem={increseItem}\r\n\t\t\t\t\t\t\t\t\t\tsetClickedItem={setClickedItem}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"cart__item-remove col-4 col-sm-1\">\r\n\t\t\t\t\t\t\t\t\t<DeleteItem onDelete={() => deleteItem(item.ID)} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName=\"btn btn-primary mt-5\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\trouter.push('/video-course')\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tMua sắm thêm\r\n\t\t\t\t</button>\r\n\t\t\t</>\r\n\t\t)\r\n\t}\r\n\r\n\tconst menuDropdown = () => {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<div className=\"menu__dropdown d-inline-block d-md-none\" style={{ width: 300 }}>\r\n\t\t\t\t\t<div className=\"d-inline-block d-md-none \">\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\tonChange={(event) => {}}\r\n\t\t\t\t\t\t\tname=\"CourseSearch\"\r\n\t\t\t\t\t\t\tplaceholder=\"Tìm khóa học\"\r\n\t\t\t\t\t\t\tclassName=\"style-input mb-3\"\r\n\t\t\t\t\t\t\tallowClear\r\n\t\t\t\t\t\t\tenterButton={<SearchOutlined />}\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Popover content={!session ? contentLogin : contentLogout} trigger=\"click\" title=\"\">\r\n\t\t\t\t\t\t\t<div className=\"user-wrap\">\r\n\t\t\t\t\t\t\t\t<div className=\"user-info\">\r\n\t\t\t\t\t\t\t\t\t{session?.user ? (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"user-wrap\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"user-img\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img src={dataUser?.Avatar ? dataUser.Avatar : '/images/user.png'} alt=\"\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"user-info\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"user-name\">{dataUser?.FullNameUnicode}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"user-position\">{dataUser?.RoleName}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<p>Tài khoản</p>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t)\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (session !== undefined) {\r\n\t\t\tlet token = session.accessToken\r\n\t\t\tif (userInformation) {\r\n\t\t\t\tsetDataUser(userInformation)\r\n\t\t\t} else {\r\n\t\t\t\tsetDataUser(parseJwt(token))\r\n\t\t\t}\r\n\t\t}\r\n\t}, [userInformation])\r\n\r\n\tuseEffect(() => {\r\n\t\tgetShoppingCartData()\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<div className=\"shopping-wrap-all-content\">\r\n\t\t\t<header>\r\n\t\t\t\t<div className=\"shopping__cart-header justify-content-between align-items-center row\">\r\n\t\t\t\t\t<div className=\"header__logo col-6 col-md-3\">\r\n\t\t\t\t\t\t<Link href=\"/\">\r\n\t\t\t\t\t\t\t<a href=\"#\">\r\n\t\t\t\t\t\t\t\t<img className=\"logo-img\" src=\"/images/logo-final.jpg\" alt=\"logo branch\"></img>\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"header__profile col-2 col-md-3\">\r\n\t\t\t\t\t\t<div className=\"col-setting\">\r\n\t\t\t\t\t\t\t<ul className=\"col-setting-list\">\r\n\t\t\t\t\t\t\t\t<li className=\"user\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"d-inline-block d-md-none  w-25 \">\r\n\t\t\t\t\t\t\t\t\t\t<Dropdown overlay={menuDropdown} trigger={['click']} visible={dropDownVisible}>\r\n\t\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"ant-dropdown-link\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetDropDownVisible(!dropDownVisible)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<EllipsisOutlined />\r\n\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t</Dropdown>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"d-none d-md-inline-block \">\r\n\t\t\t\t\t\t\t\t\t\t<Popover content={!session ? contentLogin : contentLogout} trigger=\"click\" title=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"user-wrap\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"user-info\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{session?.user ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"user-wrap\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"user-img\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img src={dataUser?.Avatar ? dataUser.Avatar : '/images/user.png'} alt=\"\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"user-info\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"user-name\">{dataUser?.FullNameUnicode}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"user-position\">{dataUser?.RoleName}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>Tài khoản</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</header>\r\n\r\n\t\t\t<div className=\"shopping__cart-body\">\r\n\t\t\t\t{isLoading.loading && isLoading.status == 'GET_CART_DATA' ? (\r\n\t\t\t\t\t<Skeleton active />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className=\"shopping__cart-content row\">\r\n\t\t\t\t\t\t<div className=\"shopping__cart-items\">{renderCartItems()}</div>\r\n\r\n\t\t\t\t\t\t<div className=\"shopping__cart-total\">\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<h5 className=\"col-4 pr-0\">Tổng cộng: </h5>\r\n\t\t\t\t\t\t\t\t<h5 className=\"font-weight-primary col-8\">\r\n\t\t\t\t\t\t\t\t\t{numberWithCommas(cartItems?.reduce((a, b) => Number(a) + Number(b.Price * b.Quantity), 0))}\r\n\t\t\t\t\t\t\t\t\t<span className=\"ml-2\">VND</span>\r\n\t\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<Link href=\"/cart/check-out\">\r\n\t\t\t\t\t\t\t\t<button disabled={isDisabledPayButton} className=\"btn btn-primary w-100\">\r\n\t\t\t\t\t\t\t\t\tThanh toán\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default ShoppingCart\r\n"]},"metadata":{},"sourceType":"module"}