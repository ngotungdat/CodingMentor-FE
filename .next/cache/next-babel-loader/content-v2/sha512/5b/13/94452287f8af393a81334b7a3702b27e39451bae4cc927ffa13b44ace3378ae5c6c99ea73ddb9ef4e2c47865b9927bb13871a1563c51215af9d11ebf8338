{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Global\\\\Teacher\\\\TeacherSalary\\\\salary-of-teacher-detail.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport { Tooltip, Modal } from 'antd';\nimport { numberWithCommas } from '~/utils/functions';\nimport { useWrap } from '~/context/wrap';\nimport { teacherSalaryApi } from '~/apiBase/staff-manage/teacher-salary';\nimport PowerTable from '~/components/PowerTable';\nimport moment from 'moment';\n\nconst SalaryOfTeacherDetail = ({\n  price,\n  record\n}) => {\n  const {\n    0: visible,\n    1: setVisible\n  } = useState(false);\n  const {\n    0: dataSource,\n    1: setDataSource\n  } = useState([]);\n  const {\n    showNoti,\n    pageSize\n  } = useWrap();\n  const defaultParams = {\n    pageIndex: 1,\n    pageSize: pageSize,\n    sortType: true,\n    SalaryOfTeacherID: record.ID\n  };\n\n  const getNum = num => {\n    return num < 10 ? '0' + num : num;\n  };\n\n  const getStrDate = date => {\n    const nDate = new Date(date);\n    return getNum(nDate.getDate()) + '-' + getNum(nDate.getMonth() + 1) + '-' + nDate.getFullYear();\n  };\n\n  const columns = [{\n    title: 'Ngày',\n    dataIndex: 'SalaryOfTeacherID',\n    render: (item, record) => /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"font-weight-primary\",\n      children: moment(item).format('DD/MM/YYYY')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 30\n    }, this)\n  }, {\n    title: 'Bắt đầu',\n    dataIndex: 'sTime',\n    render: (item, record) => /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"font-weight-primary\",\n      children: item\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 30\n    }, this)\n  }, {\n    title: 'Kết thúc',\n    dataIndex: 'eTime',\n    render: (item, record) => /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"font-weight-primary\",\n      children: item\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 30\n    }, this)\n  }, {\n    title: 'Trạng thái',\n    dataIndex: 'StatusName',\n    align: 'right',\n    render: (item, record) => /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"font-weight-primary\",\n      children: item\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 30\n    }, this)\n  }];\n\n  const getDataSource = async () => {\n    try {\n      let res = await teacherSalaryApi.salaryOfTeacherId(defaultParams);\n      console.log(res.data.data);\n\n      if (res.status == 200) {\n        setDataSource(res.data.data);\n      }\n\n      if (res.status == 204) {\n        setDataSource([]);\n      }\n    } catch (error) {}\n  };\n\n  useEffect(() => {\n    if (visible) {\n      getDataSource();\n    }\n  }, [visible]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"font-weight-primary btn btn-icon edit\",\n      onClick: () => setVisible(true),\n      children: /*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"Xem chi ti\\u1EBFt\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"custom-btn-shit\",\n          children: !!price ? numberWithCommas(price) : 0\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      width: 800,\n      title: \"Chi ti\\u1EBFt l\\u01B0\\u01A1ng gi\\xE1o vi\\xEAn\",\n      visible: visible,\n      onCancel: () => setVisible(false),\n      footer: false,\n      children: /*#__PURE__*/_jsxDEV(PowerTable, {\n        columns: columns,\n        dataSource: dataSource\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n};\n\nexport default SalaryOfTeacherDetail;","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Global/Teacher/TeacherSalary/salary-of-teacher-detail.tsx"],"names":["React","useState","useEffect","Tooltip","Modal","numberWithCommas","useWrap","teacherSalaryApi","PowerTable","moment","SalaryOfTeacherDetail","price","record","visible","setVisible","dataSource","setDataSource","showNoti","pageSize","defaultParams","pageIndex","sortType","SalaryOfTeacherID","ID","getNum","num","getStrDate","date","nDate","Date","getDate","getMonth","getFullYear","columns","title","dataIndex","render","item","format","align","getDataSource","res","salaryOfTeacherId","console","log","data","status","error"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { Tooltip, Modal } from 'antd'\r\nimport { numberWithCommas } from '~/utils/functions'\r\nimport { useWrap } from '~/context/wrap'\r\nimport { teacherSalaryApi } from '~/apiBase/staff-manage/teacher-salary'\r\nimport PowerTable from '~/components/PowerTable'\r\nimport moment from 'moment'\r\n\r\nconst SalaryOfTeacherDetail = ({ price, record }) => {\r\n\tconst [visible, setVisible] = useState(false)\r\n\tconst [dataSource, setDataSource] = useState<ITeacherSalaryDetail[]>([])\r\n\tconst { showNoti, pageSize } = useWrap()\r\n\tconst defaultParams = {\r\n\t\tpageIndex: 1,\r\n\t\tpageSize: pageSize,\r\n\t\tsortType: true,\r\n\t\tSalaryOfTeacherID: record.ID\r\n\t}\r\n\r\n\tconst getNum = (num) => {\r\n\t\treturn num < 10 ? '0' + num : num\r\n\t}\r\n\r\n\tconst getStrDate = (date) => {\r\n\t\tconst nDate = new Date(date)\r\n\t\treturn getNum(nDate.getDate()) + '-' + getNum(nDate.getMonth() + 1) + '-' + nDate.getFullYear()\r\n\t}\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Ngày',\r\n\t\t\tdataIndex: 'SalaryOfTeacherID',\r\n\t\t\trender: (item, record) => <p className=\"font-weight-primary\">{moment(item).format('DD/MM/YYYY')}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Bắt đầu',\r\n\t\t\tdataIndex: 'sTime',\r\n\t\t\trender: (item, record) => <p className=\"font-weight-primary\">{item}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Kết thúc',\r\n\t\t\tdataIndex: 'eTime',\r\n\t\t\trender: (item, record) => <p className=\"font-weight-primary\">{item}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Trạng thái',\r\n\t\t\tdataIndex: 'StatusName',\r\n\t\t\talign: 'right',\r\n\t\t\trender: (item, record) => <p className=\"font-weight-primary\">{item}</p>\r\n\t\t}\r\n\t]\r\n\r\n\tconst getDataSource = async () => {\r\n\t\ttry {\r\n\t\t\tlet res = await teacherSalaryApi.salaryOfTeacherId(defaultParams)\r\n\t\t\tconsole.log(res.data.data)\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tsetDataSource(res.data.data)\r\n\t\t\t}\r\n\t\t\tif (res.status == 204) {\r\n\t\t\t\tsetDataSource([])\r\n\t\t\t}\r\n\t\t} catch (error) {}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (visible) {\r\n\t\t\tgetDataSource()\r\n\t\t}\r\n\t}, [visible])\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<button className=\"font-weight-primary btn btn-icon edit\" onClick={() => setVisible(true)}>\r\n\t\t\t\t<Tooltip title=\"Xem chi tiết\">\r\n\t\t\t\t\t<button className=\"custom-btn-shit\">{!!price ? numberWithCommas(price) : 0}</button>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t</button>\r\n\r\n\t\t\t<Modal width={800} title=\"Chi tiết lương giáo viên\" visible={visible} onCancel={() => setVisible(false)} footer={false}>\r\n\t\t\t\t<PowerTable columns={columns} dataSource={dataSource}></PowerTable>\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default SalaryOfTeacherDetail\r\n"]},"metadata":{},"sourceType":"module"}