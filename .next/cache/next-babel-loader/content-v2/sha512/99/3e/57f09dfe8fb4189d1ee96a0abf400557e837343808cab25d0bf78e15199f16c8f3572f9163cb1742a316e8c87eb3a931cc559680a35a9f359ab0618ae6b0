{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Global\\\\SalaryHistory\\\\SalaryHistory.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useWrap } from '~/context/wrap';\nimport NestedTable from '~/components/Elements/NestedTable';\nimport { staffSalaryApi } from '~/apiBase';\nimport { parseToMoney } from '~/utils/functions';\nimport moment from 'moment';\n\nvar SalaryHistory = function SalaryHistory(props) {\n  _s();\n\n  var ID = props.ID; // ------ BASE USESTATE TABLE -------\n\n  var _useState = useState([]),\n      dataSource = _useState[0],\n      setDataSource = _useState[1];\n\n  var _useWrap = useWrap(),\n      showNoti = _useWrap.showNoti,\n      pageSize = _useWrap.pageSize,\n      userInformation = _useWrap.userInformation;\n\n  var _useState2 = useState({\n    type: '',\n    status: false\n  }),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var _useState3 = useState(null),\n      totalPage = _useState3[0],\n      setTotalPage = _useState3[1];\n\n  var _useState4 = useState(null),\n      indexRow = _useState4[0],\n      setIndexRow = _useState4[1];\n\n  var _useState5 = useState(1),\n      currentPage = _useState5[0],\n      setCurrentPage = _useState5[1];\n\n  var _useState6 = useState([]),\n      dataTeacher = _useState6[0],\n      setDataTeacher = _useState6[1];\n\n  useEffect(function () {\n    getDataSource();\n  }, []); // GET DATA SOURCE\n\n  var getDataSource = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setIsLoading({\n                type: 'GET_ALL',\n                status: true\n              });\n              _context.prev = 1;\n              _context.next = 4;\n              return staffSalaryApi.getHistory(ID);\n\n            case 4:\n              res = _context.sent;\n\n              if (res.status == 200) {\n                setDataSource(res.data.data);\n                setTotalPage(res.data.totalRow);\n              }\n\n              res.status == 204 && setDataSource([]);\n              _context.next = 12;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](1);\n              showNoti('danger', _context.t0.message);\n\n            case 12:\n              _context.prev = 12;\n              setIsLoading({\n                type: 'GET_ALL',\n                status: false\n              });\n              return _context.finish(12);\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 9, 12, 15]]);\n    }));\n\n    return function getDataSource() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var columns = [{\n    title: 'Lương cũ',\n    dataIndex: 'SalaryOld',\n    render: function render(value) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bold disable-text\",\n        children: !!value && parseToMoney(value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 23\n      }, _this);\n    }\n  }, {\n    title: 'Lương mới',\n    dataIndex: 'SalaryNew',\n    render: function render(value) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bold primary\",\n        children: !!value && parseToMoney(value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 23\n      }, _this);\n    }\n  }, {\n    title: 'Ghi chú',\n    dataIndex: 'Note'\n  }, {\n    title: 'Ngày',\n    dataIndex: 'CreatedOn',\n    render: function render(value) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: !!value && moment(value).format('DD/MM/YYYY')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 23\n      }, _this);\n    }\n  }, {\n    title: 'Sửa bởi',\n    dataIndex: 'CreatedBy'\n  }];\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(NestedTable, {\n      currentPage: currentPage,\n      totalPage: totalPage && totalPage,\n      pagination: false,\n      loading: isLoading,\n      addClass: \"basic-header\",\n      TitlePage: \"\",\n      dataSource: dataSource,\n      columns: columns\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 4\n    }, _this)\n  }, void 0, false);\n};\n\n_s(SalaryHistory, \"hmi62Ej7inOUfqQAortmsFGDC8k=\", false, function () {\n  return [useWrap];\n});\n\n_c = SalaryHistory;\nexport default SalaryHistory;\n\nvar _c;\n\n$RefreshReg$(_c, \"SalaryHistory\");","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Global/SalaryHistory/SalaryHistory.tsx"],"names":["React","useState","useEffect","useWrap","NestedTable","staffSalaryApi","parseToMoney","moment","SalaryHistory","props","ID","dataSource","setDataSource","showNoti","pageSize","userInformation","type","status","isLoading","setIsLoading","totalPage","setTotalPage","indexRow","setIndexRow","currentPage","setCurrentPage","dataTeacher","setDataTeacher","getDataSource","getHistory","res","data","totalRow","message","columns","title","dataIndex","render","value","format"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { courseExamApi } from '~/apiBase/package/course-exam'\r\nimport { useWrap } from '~/context/wrap'\r\nimport Link from 'next/link'\r\nimport NestedTable from '~/components/Elements/NestedTable'\r\nimport { Tooltip } from 'antd'\r\nimport { ExclamationCircleOutlined, FormOutlined } from '@ant-design/icons'\r\nimport { staffSalaryApi, teacherApi } from '~/apiBase'\r\nimport { parseToMoney } from '~/utils/functions'\r\nimport moment from 'moment'\r\n\r\nconst SalaryHistory = (props) => {\r\n\tconst { ID } = props\r\n\t// ------ BASE USESTATE TABLE -------\r\n\tconst [dataSource, setDataSource] = useState<IStaffSalaryHistory[]>([])\r\n\tconst { showNoti, pageSize, userInformation } = useWrap()\r\n\tconst [isLoading, setIsLoading] = useState({ type: '', status: false })\r\n\tconst [totalPage, setTotalPage] = useState(null)\r\n\tconst [indexRow, setIndexRow] = useState(null)\r\n\tconst [currentPage, setCurrentPage] = useState(1)\r\n\r\n\tconst [dataTeacher, setDataTeacher] = useState([])\r\n\r\n\tuseEffect(() => {\r\n\t\tgetDataSource()\r\n\t}, [])\r\n\r\n\t// GET DATA SOURCE\r\n\tconst getDataSource = async () => {\r\n\t\tsetIsLoading({ type: 'GET_ALL', status: true })\r\n\t\ttry {\r\n\t\t\tlet res = await staffSalaryApi.getHistory(ID)\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tsetDataSource(res.data.data)\r\n\t\t\t\tsetTotalPage(res.data.totalRow)\r\n\t\t\t}\r\n\t\t\tres.status == 204 && setDataSource([])\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({ type: 'GET_ALL', status: false })\r\n\t\t}\r\n\t}\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Lương cũ',\r\n\t\t\tdataIndex: 'SalaryOld',\r\n\t\t\trender: (value) => <div className=\"bold disable-text\">{!!value && parseToMoney(value)}</div>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Lương mới',\r\n\t\t\tdataIndex: 'SalaryNew',\r\n\t\t\trender: (value) => <div className=\"bold primary\">{!!value && parseToMoney(value)}</div>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Ghi chú',\r\n\t\t\tdataIndex: 'Note'\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Ngày',\r\n\t\t\tdataIndex: 'CreatedOn',\r\n\t\t\trender: (value) => <div>{!!value && moment(value).format('DD/MM/YYYY')}</div>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Sửa bởi',\r\n\t\t\tdataIndex: 'CreatedBy'\r\n\t\t}\r\n\t]\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<NestedTable\r\n\t\t\t\tcurrentPage={currentPage}\r\n\t\t\t\ttotalPage={totalPage && totalPage}\r\n\t\t\t\tpagination={false}\r\n\t\t\t\tloading={isLoading}\r\n\t\t\t\taddClass=\"basic-header\"\r\n\t\t\t\tTitlePage=\"\"\r\n\t\t\t\tdataSource={dataSource}\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t/>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default SalaryHistory\r\n"]},"metadata":{},"sourceType":"module"}