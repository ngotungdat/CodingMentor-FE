{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\pages\\\\cart\\\\check-out\\\\index.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { FormOutlined, LockOutlined, LoginOutlined, LogoutOutlined, RedoOutlined, UserOutlined } from '@ant-design/icons';\nimport { Form, Input, Popover, Radio, Skeleton, Spin, Card, Button, Avatar, Modal, List } from 'antd';\nimport { signIn, signOut, useSession } from 'next-auth/client';\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport React, { useEffect, useState } from 'react';\nimport ReactHtmlParser from 'react-html-parser';\nimport { paymentConfig } from '~/apiBase/shopping-cart/payment-config';\nimport { shoppingCartApi } from '~/apiBase/shopping-cart/shopping-cart';\nimport { numberWithCommas, parseToMoney } from '~/utils/functions';\nimport { useWrap } from './../../../context/wrap';\nimport { discountApi } from './../../../apiBase/options/discount';\nimport RenderItemTicket from './render-item-ticket';\n\nconst CheckOut = () => {\n  const {\n    showNoti\n  } = useWrap();\n  const router = useRouter();\n  const [session] = useSession();\n  const {\n    0: dataUser,\n    1: setDataUser\n  } = useState();\n  const {\n    0: cartItems,\n    1: setCartItems\n  } = useState();\n  const {\n    0: paymentMethods,\n    1: setPaymentMethods\n  } = useState([]);\n  const {\n    0: method,\n    1: setMethod\n  } = useState({\n    PaymentCode: '',\n    transferpayment: ''\n  });\n  const {\n    0: discount,\n    1: setDiscount\n  } = useState([]);\n  const {\n    0: promo,\n    1: setPromo\n  } = useState(null);\n  const {\n    0: isLoading,\n    1: setIsLoading\n  } = useState({\n    status: '',\n    loading: false\n  });\n  const {\n    userInformation,\n    pageSize\n  } = useWrap();\n  const [form] = Form.useForm();\n  const {\n    0: dataOrder,\n    1: setDataOrder\n  } = useState(null);\n  const {\n    0: cartID,\n    1: setCartID\n  } = useState(null);\n  const {\n    0: showDiscount,\n    1: setShowDiscount\n  } = useState(false);\n  const {\n    0: discountSelected,\n    1: setDiscountSelected\n  } = useState('');\n\n  const renderPaymentMethodDetail = () => {\n    const isOnePay = () => {\n      if (method.PaymentCode.toLowerCase().includes('onepay') || method.PaymentCode.toLowerCase().includes('one-pay')) {\n        return true;\n      } else {\n        return false;\n      }\n    };\n\n    const isMomo = () => {\n      if (method.PaymentCode.toLowerCase().includes('momo') || method.PaymentCode.toLowerCase().includes('mo-mo')) {\n        return true;\n      } else {\n        return false;\n      }\n    };\n\n    const isPaypal = () => {\n      if (method.PaymentCode.toLowerCase().includes('paypal') || method.PaymentCode.toLowerCase().includes('pay-pal')) {\n        return true;\n      } else {\n        return false;\n      }\n    };\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [isMomo() && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"paypal-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content\",\n          children: \"Vui l\\xF2ng nh\\u1EA5n v\\xE0o n\\xFAt thanh to\\xE1n \\u0111\\u1EC3 chuy\\u1EC3n \\u0111\\u1EBFn trang thanh to\\xE1n Momo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row m-0 p-0 ml-2\",\n          children: [/*#__PURE__*/_jsxDEV(LockOutlined, {\n            className: \"lock\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-2 text\",\n            children: \"B\\u1EA3o m\\u1EADt\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 6\n      }, this), isPaypal() && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"paypal-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content\",\n          children: \"Vui l\\xF2ng nh\\u1EA5n v\\xE0o n\\xFAt thanh to\\xE1n \\u0111\\u1EC3 chuy\\u1EC3n \\u0111\\u1EBFn trang thanh to\\xE1n Paypal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row m-0 p-0 ml-2\",\n          children: [/*#__PURE__*/_jsxDEV(LockOutlined, {\n            className: \"lock\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-2 text\",\n            children: \"B\\u1EA3o m\\u1EADt\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 6\n      }, this), isOnePay() && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"paypal-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content\",\n          children: \"Vui l\\xF2ng nh\\u1EA5n v\\xE0o n\\xFAt thanh to\\xE1n \\u0111\\u1EC3 chuy\\u1EC3n \\u0111\\u1EBFn trang thanh to\\xE1n Onepay\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row m-0 p-0 ml-2\",\n          children: [/*#__PURE__*/_jsxDEV(LockOutlined, {\n            className: \"lock\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-2 text\",\n            children: \"B\\u1EA3o m\\u1EADt\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 6\n      }, this), method.PaymentCode == 'transferpayment' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"paypal-info\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: ReactHtmlParser(paymentMethods.filter(item => item.transferpayment.length > 0)[0].transferpayment)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 6\n      }, this), method.PaymentCode.toLowerCase().includes('cash') && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"paypal-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content\",\n          children: \"Qu\\xFD kh\\xE1ch vui l\\xF2ng \\u0111\\u1EBFn trung t\\xE2m \\u0111\\xE3 \\u0111\\u0103ng k\\xED \\u0111\\u1EC3 ho\\xE0n t\\u1EA5t thanh to\\xE1n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row m-0 p-0 ml-2\",\n          children: [/*#__PURE__*/_jsxDEV(LockOutlined, {\n            className: \"lock\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-2 text\",\n            children: \"B\\u1EA3o m\\u1EADt\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true);\n  };\n\n  const handleCheckout = async () => {\n    setIsLoading({\n      status: 'CHECKOUT',\n      loading: true\n    });\n    let res = null;\n\n    try {\n      switch (method.PaymentCode) {\n        case 'momo':\n          res = await shoppingCartApi.checkoutMomo({\n            OrderID: dataOrder.OrderID,\n            type: method.PaymentCode\n          });\n          break;\n\n        case 'momo_test':\n          res = await shoppingCartApi.checkoutMomo({\n            OrderID: dataOrder.OrderID,\n            type: method.PaymentCode\n          });\n          break;\n\n        case 'paypal':\n          res = await shoppingCartApi.checkoutPaypal({\n            OrderID: dataOrder.OrderID,\n            type: method.PaymentCode\n          });\n          break;\n\n        case 'paypal_test':\n          res = await shoppingCartApi.checkoutPaypal({\n            OrderID: dataOrder.OrderID,\n            type: method.PaymentCode\n          });\n          break;\n\n        case 'onepayinternational':\n          res = await shoppingCartApi.checkoutPaymentWithOnePay({\n            OrderID: dataOrder.OrderID,\n            type: method.PaymentCode\n          });\n          break;\n\n        case 'onepayinternational_test':\n          res = await shoppingCartApi.checkoutPaymentWithOnePay({\n            OrderID: dataOrder.OrderID,\n            type: method.PaymentCode\n          });\n          break;\n\n        case 'onepaydomestic':\n          res = await shoppingCartApi.checkoutPaymentWithOnePay({\n            OrderID: dataOrder.OrderID,\n            type: method.PaymentCode\n          });\n          break;\n\n        case 'cashpayment':\n          res = await shoppingCartApi.checkoutCash({\n            cartID: cartID,\n            type: method.PaymentCode\n          });\n          break;\n\n        case 'transferpayment':\n          res = await shoppingCartApi.checkoutTransferPayment({\n            cartID: cartID,\n            type: method.PaymentCode\n          });\n          break;\n\n        default:\n          break;\n      }\n\n      if (res.status == 200) {\n        switch (method.PaymentCode) {\n          case 'momo':\n            router.push(res.data.payUrl);\n            break;\n\n          case 'momo_test':\n            router.push(res.data.payUrl);\n            break;\n\n          case 'paypal':\n            router.push(res.data.payUrl);\n            break;\n\n          case 'paypal_test':\n            router.push(res.data.payUrl);\n            break;\n\n          case 'onepayinternational':\n            router.push(res.data.payUrl);\n            break;\n\n          case 'onepayinternational_test':\n            router.push(res.data.payUrl);\n            break;\n\n          case 'onepaydomestic':\n            router.push(res.data.payUrl);\n            break;\n\n          case 'onepaydomestic_test':\n            router.push(res.data.payUrl);\n            break;\n\n          case 'cashpayment':\n            router.push({\n              pathname: '/cart/success',\n              query: {\n                type: 'cashpayment'\n              }\n            });\n            break;\n\n          case 'transferpayment':\n            router.push({\n              pathname: '/cart/success',\n              query: {\n                type: 'transferpayment'\n              }\n            });\n            break;\n\n          default:\n            break;\n        }\n      }\n    } catch (error) {\n      showNoti('danger', error.message);\n    } finally {\n      setIsLoading({\n        status: 'CHECKOUT',\n        loading: false\n      });\n    }\n  };\n\n  const getShoppingCartData = async () => {\n    setIsLoading({\n      status: 'loading',\n      loading: true\n    });\n\n    try {\n      let res = await shoppingCartApi.getAll();\n\n      if (res.status == 200) {\n        setCartItems(res.data.data);\n        getOrderID(res.data.cartId);\n        setCartID(res.data.cartId);\n      }\n\n      if (res.status == 204) {\n        setCartItems([]);\n      }\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setIsLoading({\n        status: 'loading',\n        loading: false\n      });\n    }\n  };\n\n  const renderCartItems = () => {\n    return cartItems === null || cartItems === void 0 ? void 0 : cartItems.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"item d-flex justify-content-between align-items-center row\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        href: {\n          pathname: '/video-course/[slug]',\n          query: {\n            slug: item.VideoCourseID,\n            Thum: item.ImageThumbnails,\n            Sell: item.Price\n          }\n        },\n        children: /*#__PURE__*/_jsxDEV(Avatar, {\n          className: \"avatar\",\n          src: item.ImageThumbnails.length ? item.ImageThumbnails : '/images/logo-thumnail.jpg',\n          alt: \"img course\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: item.VideoCourseName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"quantity font-weight-green\",\n        children: item.Quantity\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-weight-green\",\n        children: [numberWithCommas(item.Price * item.Quantity), \" vnd\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 5\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 4\n    }, this));\n  };\n\n  const getDiscount = async () => {\n    try {\n      let res = await discountApi.getSuggest(dataOrder.OrderID);\n      res.status === 200 && setDiscount(res.data.data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const moveToLogin = () => {\n    signIn();\n  };\n\n  const contentLogout = /*#__PURE__*/_jsxDEV(\"ul\", {\n    className: \"user-function\",\n    children: [/*#__PURE__*/_jsxDEV(\"li\", {\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        href: \"/profile\",\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"icon\",\n            children: /*#__PURE__*/_jsxDEV(UserOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"function-name\",\n            children: \"Trang c\\xE1 nh\\xE2n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        href: \"/change-password\",\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"#\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"icon inbox\",\n            children: /*#__PURE__*/_jsxDEV(RedoOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"function-name\",\n            children: \"\\u0110\\u1ED5i m\\u1EADt kh\\u1EA9u\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#\",\n        onClick: () => (signOut(), localStorage.removeItem('dataUserEchinese')),\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"icon logout\",\n          children: /*#__PURE__*/_jsxDEV(LogoutOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"function-name\",\n          children: \"Log out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 253,\n    columnNumber: 3\n  }, this);\n\n  const contentLogin = /*#__PURE__*/_jsxDEV(\"ul\", {\n    className: \"user-function\",\n    children: [/*#__PURE__*/_jsxDEV(\"li\", {\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#\",\n        onClick: moveToLogin,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"icon\",\n          children: /*#__PURE__*/_jsxDEV(LoginOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"function-name\",\n          children: \"\\u0110\\u0103ng nh\\u1EADp\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"icon inbox\",\n          children: /*#__PURE__*/_jsxDEV(FormOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"function-name\",\n          children: \"\\u0110\\u0103ng k\\xED\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 286,\n    columnNumber: 3\n  }, this);\n\n  function parseJwt(token) {\n    let base64Url = token.split('.')[1];\n    let base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n    let jsonPayload = decodeURIComponent(atob(base64).split('').map(function (c) {\n      return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n    }).join(''));\n    return JSON.parse(jsonPayload);\n  }\n\n  const applyDiscount = async param => {\n    try {\n      let res = await shoppingCartApi.applyDiscount({\n        OrderID: dataOrder.OrderID,\n        DiscountCode: param === null || param === void 0 ? void 0 : param.DiscountCode\n      });\n\n      if (res.status == 200) {\n        showNoti('success', 'Thêm mã khuyến mãi thành công!');\n        setShowDiscount(false);\n        setPromo(res.data.data);\n        setDiscountSelected(param);\n      }\n    } catch (error) {\n      setPromo(undefined);\n      setDiscountSelected(undefined);\n      showNoti('danger', error.message);\n    }\n  };\n\n  const getPaymentMethod = async () => {\n    setIsLoading({\n      status: 'GET_ALL',\n      loading: true\n    });\n\n    try {\n      let res = await paymentConfig.getAll();\n\n      if (res.status == 200) {\n        setPaymentMethods(res.data.data);\n        setMethod(_objectSpread(_objectSpread({}, method), {}, {\n          PaymentCode: res.data.data[0].PaymentCode\n        }));\n      }\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setIsLoading({\n        status: 'GET_ALL',\n        loading: false\n      });\n    }\n  };\n\n  const getOrderID = async cartId => {\n    try {\n      let res = await shoppingCartApi.getOrderID({\n        cartId: cartId\n      });\n      res.status == 200 && setDataOrder(res.data.data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    if (session !== undefined) {\n      let token = session.accessToken;\n\n      if (userInformation) {\n        setDataUser(userInformation);\n      } else {\n        setDataUser(parseJwt(token));\n      }\n    }\n  }, [userInformation]);\n  useEffect(() => {\n    getShoppingCartData();\n    getPaymentMethod();\n  }, []);\n  useEffect(() => {\n    if (showDiscount) {\n      getDiscount();\n    }\n  }, [showDiscount]);\n\n  const onChangeRadio = event => {\n    setMethod({\n      PaymentCode: event.target.value,\n      transferpayment: ''\n    });\n  };\n\n  const _changeDiscount = param => {\n    applyDiscount(param);\n  };\n\n  const {\n    0: inputDiscount,\n    1: setInputDiscount\n  } = useState('');\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      backgroundColor: '#fff'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"shopping__cart-header justify-content-between align-items-center row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header__logo col-6 col-md-3\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            href: \"/\",\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"logo-img\",\n                src: \"/images/logo-final.png\",\n                alt: \"logo branch\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 399,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header__profile col-2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-setting\",\n            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"col-setting-list\",\n              children: /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"user\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-none d-md-inline-block \",\n                  children: /*#__PURE__*/_jsxDEV(Popover, {\n                    content: !session ? contentLogin : contentLogout,\n                    trigger: \"click\",\n                    title: \"\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"user-wrap\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"user-info\",\n                        children: session !== null && session !== void 0 && session.user ? /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"user-wrap\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"user-img\",\n                            children: /*#__PURE__*/_jsxDEV(\"img\", {\n                              src: dataUser !== null && dataUser !== void 0 && dataUser.Avatar ? dataUser.Avatar : '/images/user.png',\n                              alt: \"\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 414,\n                              columnNumber: 17\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 413,\n                            columnNumber: 16\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"user-info\",\n                            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                              className: \"user-name\",\n                              children: dataUser === null || dataUser === void 0 ? void 0 : dataUser.FullNameUnicode\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 417,\n                              columnNumber: 17\n                            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                              className: \"user-position\",\n                              children: dataUser === null || dataUser === void 0 ? void 0 : dataUser.RoleName\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 418,\n                              columnNumber: 17\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 416,\n                            columnNumber: 16\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 412,\n                          columnNumber: 15\n                        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                          children: \"T\\xE0i kho\\u1EA3n\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 422,\n                          columnNumber: 15\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 410,\n                        columnNumber: 13\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 409,\n                      columnNumber: 12\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 408,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container checkout\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"title\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Thanh to\\xE1n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          href: \"/cart/shopping-cart\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            className: \"btn btn-cancel\",\n            children: \"Quay l\\u1EA1i gi\\u1ECF h\\xE0ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row m-0 p-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-md-8 content mb-4\",\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"card\",\n            children: [/*#__PURE__*/_jsxDEV(Radio.Group, {\n              onChange: onChangeRadio,\n              value: method.PaymentCode,\n              className: \"radio\",\n              children: paymentMethods && paymentMethods.map((item, index) => {\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"payment-card type-checkout\",\n                  children: /*#__PURE__*/_jsxDEV(Radio, {\n                    value: item.PaymentCode,\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"logo-branch p-1 d-flex justify-content-between align-items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"mb-0\",\n                        children: item.PaymentName\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 453,\n                        columnNumber: 15\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: item.PaymentLogo,\n                          alt: \"img branch cc\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 455,\n                          columnNumber: 16\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 454,\n                        columnNumber: 15\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 452,\n                      columnNumber: 14\n                    }, this)\n                  }, index, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 451,\n                    columnNumber: 13\n                  }, this)\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 450,\n                  columnNumber: 12\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"payment-method\",\n              children: renderPaymentMethodDetail()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 464,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"order-detail mt-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Chi ti\\u1EBFt mua h\\xE0ng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 467,\n                columnNumber: 9\n              }, this), isLoading.loading ? /*#__PURE__*/_jsxDEV(Skeleton, {\n                active: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 468,\n                columnNumber: 30\n              }, this) : renderCartItems()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sumary content col-12 col-md-4\",\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"card\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Khuy\\u1EBFn m\\xE3i\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(Form, {\n              form: form,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-4 w-100\",\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  onClick: () => setShowDiscount(true),\n                  className: \"btn btn-light w-100\",\n                  children: \"Ch\\u1ECDn m\\xE3 khuy\\u1EBFn m\\xE3i\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 479,\n                  columnNumber: 10\n                }, this), !!discountSelected && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-2\",\n                  children: [\"\\u0110\\xE3 ch\\u1ECDn: \", discountSelected === null || discountSelected === void 0 ? void 0 : discountSelected.DiscountCode]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 482,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 477,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"T\\u1ED5ng thanh to\\xE1n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-6\",\n                children: /*#__PURE__*/_jsxDEV(\"h6\", {\n                  children: \"Gi\\xE1 g\\u1ED1c\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 489,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 488,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-6\",\n                style: {\n                  textAlign: 'right'\n                },\n                children: [parseToMoney(dataOrder === null || dataOrder === void 0 ? void 0 : dataOrder.TotalPayment), \" VND\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 491,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 487,\n              columnNumber: 8\n            }, this), !!promo && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row sumary__price\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-6\",\n                children: /*#__PURE__*/_jsxDEV(\"h6\", {\n                  children: \"Khuy\\u1EBFn m\\xE3i\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 499,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 498,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-6\",\n                style: {\n                  textAlign: 'right'\n                },\n                children: [\"- \", parseToMoney(promo.DiscountPrice), \" VND\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 501,\n                columnNumber: 10\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"bold col-6\",\n                children: \"T\\u1ED5ng c\\u1ED9ng:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 508,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-6 bold\",\n                style: {\n                  textAlign: 'right'\n                },\n                children: [!!(promo !== null && promo !== void 0 && promo.DiscountPrice) ? parseToMoney((dataOrder === null || dataOrder === void 0 ? void 0 : dataOrder.TotalPayment) - (promo === null || promo === void 0 ? void 0 : promo.DiscountPrice)) : parseToMoney(dataOrder === null || dataOrder === void 0 ? void 0 : dataOrder.TotalPayment), \"VND\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 509,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 507,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary w-100\",\n              onClick: handleCheckout,\n              children: [\"Thanh to\\xE1n\", isLoading.status == 'CHECKOUT' && isLoading.loading && /*#__PURE__*/_jsxDEV(Spin, {\n                className: \"loading-base\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 519,\n                columnNumber: 65\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 517,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Modal, {\n        className: \"custom-scroll-bar\",\n        title: \"Khuy\\u1EBFn m\\xE3i\",\n        centered: true,\n        visible: showDiscount,\n        onCancel: () => setShowDiscount(false),\n        footer: null,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"scrollable w-discount\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-discount row-center\",\n            children: [/*#__PURE__*/_jsxDEV(Input, {\n              className: \"style-input\",\n              placeholder: \"Nh\\u1EADp m\\xE3 khuy\\u1EBFn m\\xE3i\",\n              onChange: e => setInputDiscount(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 537,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => _changeDiscount({\n                DiscountCode: inputDiscount\n              }),\n              className: \"btn btn-primary ml-3\",\n              children: \"\\xC1p d\\u1EE5ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 538,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 536,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(List, {\n            itemLayout: \"horizontal\",\n            dataSource: discount,\n            renderItem: item => /*#__PURE__*/_jsxDEV(RenderItemTicket, {\n              Total: dataOrder === null || dataOrder === void 0 ? void 0 : dataOrder.TotalPayment,\n              onClick: item => _changeDiscount(item),\n              item: item,\n              selected: discountSelected\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 546,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 542,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 535,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 527,\n        columnNumber: 5\n      }, this)\n    }, void 0, false)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 393,\n    columnNumber: 3\n  }, this);\n};\n\nexport default CheckOut;","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/pages/cart/check-out/index.tsx"],"names":["FormOutlined","LockOutlined","LoginOutlined","LogoutOutlined","RedoOutlined","UserOutlined","Form","Input","Popover","Radio","Skeleton","Spin","Card","Button","Avatar","Modal","List","signIn","signOut","useSession","Link","useRouter","React","useEffect","useState","ReactHtmlParser","paymentConfig","shoppingCartApi","numberWithCommas","parseToMoney","useWrap","discountApi","RenderItemTicket","CheckOut","showNoti","router","session","dataUser","setDataUser","cartItems","setCartItems","paymentMethods","setPaymentMethods","method","setMethod","PaymentCode","transferpayment","discount","setDiscount","promo","setPromo","isLoading","setIsLoading","status","loading","userInformation","pageSize","form","useForm","dataOrder","setDataOrder","cartID","setCartID","showDiscount","setShowDiscount","discountSelected","setDiscountSelected","renderPaymentMethodDetail","isOnePay","toLowerCase","includes","isMomo","isPaypal","filter","item","length","handleCheckout","res","checkoutMomo","OrderID","type","checkoutPaypal","checkoutPaymentWithOnePay","checkoutCash","checkoutTransferPayment","push","data","payUrl","pathname","query","error","message","getShoppingCartData","getAll","getOrderID","cartId","console","log","renderCartItems","map","index","slug","VideoCourseID","Thum","ImageThumbnails","Sell","Price","VideoCourseName","Quantity","getDiscount","getSuggest","moveToLogin","contentLogout","localStorage","removeItem","contentLogin","parseJwt","token","base64Url","split","base64","replace","jsonPayload","decodeURIComponent","atob","c","charCodeAt","toString","slice","join","JSON","parse","applyDiscount","param","DiscountCode","undefined","getPaymentMethod","accessToken","onChangeRadio","event","target","value","_changeDiscount","inputDiscount","setInputDiscount","backgroundColor","user","FullNameUnicode","RoleName","PaymentName","PaymentLogo","textAlign","TotalPayment","DiscountPrice","e"],"mappings":"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","sourcesContent":["import { FormOutlined, LockOutlined, LoginOutlined, LogoutOutlined, RedoOutlined, UserOutlined } from '@ant-design/icons'\r\nimport { Form, Input, Popover, Radio, Skeleton, Spin, Select, Card, Button, Avatar, Modal, List } from 'antd'\r\nimport { signIn, signOut, useSession } from 'next-auth/client'\r\nimport Link from 'next/link'\r\nimport { useRouter } from 'next/router'\r\nimport React, { useEffect, useState } from 'react'\r\nimport ReactHtmlParser from 'react-html-parser'\r\nimport { paymentConfig } from '~/apiBase/shopping-cart/payment-config'\r\nimport { shoppingCartApi } from '~/apiBase/shopping-cart/shopping-cart'\r\nimport { numberWithCommas, parseToMoney } from '~/utils/functions'\r\nimport { useWrap } from './../../../context/wrap'\r\nimport { discountApi } from './../../../apiBase/options/discount'\r\nimport RenderItemTicket from './render-item-ticket'\r\n\r\nconst CheckOut = () => {\r\n\tconst { showNoti } = useWrap()\r\n\tconst router = useRouter()\r\n\tconst [session] = useSession()\r\n\tconst [dataUser, setDataUser] = useState<IUser>()\r\n\tconst [cartItems, setCartItems] = useState<IShoppingCart[]>()\r\n\tconst [paymentMethods, setPaymentMethods] = useState([])\r\n\tconst [method, setMethod] = useState<{ PaymentCode: string; transferpayment: string }>({ PaymentCode: '', transferpayment: '' })\r\n\tconst [discount, setDiscount] = useState([])\r\n\tconst [promo, setPromo] = useState(null)\r\n\tconst [isLoading, setIsLoading] = useState({ status: '', loading: false })\r\n\tconst { userInformation, pageSize } = useWrap()\r\n\tconst [form] = Form.useForm()\r\n\tconst [dataOrder, setDataOrder] = useState<{ Note: string; OrderDetailModels: Array<any>; OrderID: number; TotalPayment: number }>(null)\r\n\tconst [cartID, setCartID] = useState(null)\r\n\r\n\tconst [showDiscount, setShowDiscount] = useState(false)\r\n\tconst [discountSelected, setDiscountSelected] = useState<any>('')\r\n\r\n\tconst renderPaymentMethodDetail = () => {\r\n\t\tconst isOnePay = () => {\r\n\t\t\tif (method.PaymentCode.toLowerCase().includes('onepay') || method.PaymentCode.toLowerCase().includes('one-pay')) {\r\n\t\t\t\treturn true\r\n\t\t\t} else {\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst isMomo = () => {\r\n\t\t\tif (method.PaymentCode.toLowerCase().includes('momo') || method.PaymentCode.toLowerCase().includes('mo-mo')) {\r\n\t\t\t\treturn true\r\n\t\t\t} else {\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst isPaypal = () => {\r\n\t\t\tif (method.PaymentCode.toLowerCase().includes('paypal') || method.PaymentCode.toLowerCase().includes('pay-pal')) {\r\n\t\t\t\treturn true\r\n\t\t\t} else {\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{isMomo() && (\r\n\t\t\t\t\t<div className=\"paypal-info\">\r\n\t\t\t\t\t\t<div className=\"content\">Vui lòng nhấn vào nút thanh toán để chuyển đến trang thanh toán Momo</div>\r\n\t\t\t\t\t\t<div className=\"row m-0 p-0 ml-2\">\r\n\t\t\t\t\t\t\t<LockOutlined className=\"lock\" />\r\n\t\t\t\t\t\t\t<div className=\"ml-2 text\">Bảo mật</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{isPaypal() && (\r\n\t\t\t\t\t<div className=\"paypal-info\">\r\n\t\t\t\t\t\t<div className=\"content\">Vui lòng nhấn vào nút thanh toán để chuyển đến trang thanh toán Paypal</div>\r\n\t\t\t\t\t\t<div className=\"row m-0 p-0 ml-2\">\r\n\t\t\t\t\t\t\t<LockOutlined className=\"lock\" />\r\n\t\t\t\t\t\t\t<div className=\"ml-2 text\">Bảo mật</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{isOnePay() && (\r\n\t\t\t\t\t<div className=\"paypal-info\">\r\n\t\t\t\t\t\t<div className=\"content\">Vui lòng nhấn vào nút thanh toán để chuyển đến trang thanh toán Onepay</div>\r\n\t\t\t\t\t\t<div className=\"row m-0 p-0 ml-2\">\r\n\t\t\t\t\t\t\t<LockOutlined className=\"lock\" />\r\n\t\t\t\t\t\t\t<div className=\"ml-2 text\">Bảo mật</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{method.PaymentCode == 'transferpayment' && (\r\n\t\t\t\t\t<div className=\"paypal-info\">\r\n\t\t\t\t\t\t<div>{ReactHtmlParser(paymentMethods.filter((item) => item.transferpayment.length > 0)[0].transferpayment)}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{method.PaymentCode.toLowerCase().includes('cash') && (\r\n\t\t\t\t\t<div className=\"paypal-info\">\r\n\t\t\t\t\t\t<div className=\"content\">Quý khách vui lòng đến trung tâm đã đăng kí để hoàn tất thanh toán</div>\r\n\t\t\t\t\t\t<div className=\"row m-0 p-0 ml-2\">\r\n\t\t\t\t\t\t\t<LockOutlined className=\"lock\" />\r\n\t\t\t\t\t\t\t<div className=\"ml-2 text\">Bảo mật</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</>\r\n\t\t)\r\n\t}\r\n\r\n\tconst handleCheckout = async () => {\r\n\t\tsetIsLoading({ status: 'CHECKOUT', loading: true })\r\n\t\tlet res = null\r\n\t\ttry {\r\n\t\t\tswitch (method.PaymentCode) {\r\n\t\t\t\tcase 'momo':\r\n\t\t\t\t\tres = await shoppingCartApi.checkoutMomo({ OrderID: dataOrder.OrderID, type: method.PaymentCode })\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'momo_test':\r\n\t\t\t\t\tres = await shoppingCartApi.checkoutMomo({ OrderID: dataOrder.OrderID, type: method.PaymentCode })\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'paypal':\r\n\t\t\t\t\tres = await shoppingCartApi.checkoutPaypal({ OrderID: dataOrder.OrderID, type: method.PaymentCode })\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'paypal_test':\r\n\t\t\t\t\tres = await shoppingCartApi.checkoutPaypal({ OrderID: dataOrder.OrderID, type: method.PaymentCode })\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'onepayinternational':\r\n\t\t\t\t\tres = await shoppingCartApi.checkoutPaymentWithOnePay({ OrderID: dataOrder.OrderID, type: method.PaymentCode })\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'onepayinternational_test':\r\n\t\t\t\t\tres = await shoppingCartApi.checkoutPaymentWithOnePay({ OrderID: dataOrder.OrderID, type: method.PaymentCode })\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'onepaydomestic':\r\n\t\t\t\t\tres = await shoppingCartApi.checkoutPaymentWithOnePay({ OrderID: dataOrder.OrderID, type: method.PaymentCode })\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'cashpayment':\r\n\t\t\t\t\tres = await shoppingCartApi.checkoutCash({ cartID: cartID, type: method.PaymentCode })\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'transferpayment':\r\n\t\t\t\t\tres = await shoppingCartApi.checkoutTransferPayment({ cartID: cartID, type: method.PaymentCode })\r\n\t\t\t\t\tbreak\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak\r\n\t\t\t}\r\n\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tswitch (method.PaymentCode) {\r\n\t\t\t\t\tcase 'momo':\r\n\t\t\t\t\t\trouter.push(res.data.payUrl)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'momo_test':\r\n\t\t\t\t\t\trouter.push(res.data.payUrl)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'paypal':\r\n\t\t\t\t\t\trouter.push(res.data.payUrl)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'paypal_test':\r\n\t\t\t\t\t\trouter.push(res.data.payUrl)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'onepayinternational':\r\n\t\t\t\t\t\trouter.push(res.data.payUrl)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'onepayinternational_test':\r\n\t\t\t\t\t\trouter.push(res.data.payUrl)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'onepaydomestic':\r\n\t\t\t\t\t\trouter.push(res.data.payUrl)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'onepaydomestic_test':\r\n\t\t\t\t\t\trouter.push(res.data.payUrl)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'cashpayment':\r\n\t\t\t\t\t\trouter.push({\r\n\t\t\t\t\t\t\tpathname: '/cart/success',\r\n\t\t\t\t\t\t\tquery: { type: 'cashpayment' }\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'transferpayment':\r\n\t\t\t\t\t\trouter.push({\r\n\t\t\t\t\t\t\tpathname: '/cart/success',\r\n\t\t\t\t\t\t\tquery: { type: 'transferpayment' }\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({\r\n\t\t\t\tstatus: 'CHECKOUT',\r\n\t\t\t\tloading: false\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tconst getShoppingCartData = async () => {\r\n\t\tsetIsLoading({ status: 'loading', loading: true })\r\n\t\ttry {\r\n\t\t\tlet res: any = await shoppingCartApi.getAll()\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tsetCartItems(res.data.data)\r\n\t\t\t\tgetOrderID(res.data.cartId)\r\n\t\t\t\tsetCartID(res.data.cartId)\r\n\t\t\t}\r\n\t\t\tif (res.status == 204) {\r\n\t\t\t\tsetCartItems([])\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({ status: 'loading', loading: false })\r\n\t\t}\r\n\t}\r\n\r\n\tconst renderCartItems = () => {\r\n\t\treturn cartItems?.map((item, index) => (\r\n\t\t\t<div className=\"item d-flex justify-content-between align-items-center row\" key={index}>\r\n\t\t\t\t<Link\r\n\t\t\t\t\thref={{\r\n\t\t\t\t\t\tpathname: '/video-course/[slug]',\r\n\t\t\t\t\t\tquery: { slug: item.VideoCourseID, Thum: item.ImageThumbnails, Sell: item.Price }\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\tclassName=\"avatar\"\r\n\t\t\t\t\t\tsrc={item.ImageThumbnails.length ? item.ImageThumbnails : '/images/logo-thumnail.jpg'}\r\n\t\t\t\t\t\talt=\"img course\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Link>\r\n\t\t\t\t<h5>{item.VideoCourseName}</h5>\r\n\t\t\t\t<span className=\"quantity font-weight-green\">{item.Quantity}</span>\r\n\t\t\t\t<p className=\"font-weight-green\">{numberWithCommas(item.Price * item.Quantity)} vnd</p>\r\n\t\t\t</div>\r\n\t\t))\r\n\t}\r\n\r\n\tconst getDiscount = async () => {\r\n\t\ttry {\r\n\t\t\tlet res = await discountApi.getSuggest(dataOrder.OrderID)\r\n\t\t\tres.status === 200 && setDiscount(res.data.data)\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error)\r\n\t\t}\r\n\t}\r\n\r\n\tconst moveToLogin = () => {\r\n\t\tsignIn()\r\n\t}\r\n\r\n\tconst contentLogout = (\r\n\t\t<ul className=\"user-function\">\r\n\t\t\t<li>\r\n\t\t\t\t<Link href=\"/profile\">\r\n\t\t\t\t\t<a href=\"\">\r\n\t\t\t\t\t\t<span className=\"icon\">\r\n\t\t\t\t\t\t\t<UserOutlined />\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span className=\"function-name\">Trang cá nhân</span>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</Link>\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t\t<Link href=\"/change-password\">\r\n\t\t\t\t\t<a href=\"#\">\r\n\t\t\t\t\t\t<span className=\"icon inbox\">\r\n\t\t\t\t\t\t\t<RedoOutlined />\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span className=\"function-name\">Đổi mật khẩu</span>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</Link>\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t\t<a href=\"#\" onClick={() => (signOut(), localStorage.removeItem('dataUserEchinese'))}>\r\n\t\t\t\t\t<span className=\"icon logout\">\r\n\t\t\t\t\t\t<LogoutOutlined />\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span className=\"function-name\">Log out</span>\r\n\t\t\t\t</a>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t)\r\n\r\n\tconst contentLogin = (\r\n\t\t<ul className=\"user-function\">\r\n\t\t\t<li>\r\n\t\t\t\t<a href=\"#\" onClick={moveToLogin}>\r\n\t\t\t\t\t<span className=\"icon\">\r\n\t\t\t\t\t\t<LoginOutlined />\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span className=\"function-name\">Đăng nhập</span>\r\n\t\t\t\t</a>\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t\t<a href=\"#\">\r\n\t\t\t\t\t<span className=\"icon inbox\">\r\n\t\t\t\t\t\t<FormOutlined />\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span className=\"function-name\">Đăng kí</span>\r\n\t\t\t\t</a>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t)\r\n\r\n\tfunction parseJwt(token) {\r\n\t\tlet base64Url = token.split('.')[1]\r\n\t\tlet base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/')\r\n\t\tlet jsonPayload = decodeURIComponent(\r\n\t\t\tatob(base64)\r\n\t\t\t\t.split('')\r\n\t\t\t\t.map(function (c) {\r\n\t\t\t\t\treturn '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2)\r\n\t\t\t\t})\r\n\t\t\t\t.join('')\r\n\t\t)\r\n\t\treturn JSON.parse(jsonPayload)\r\n\t}\r\n\r\n\tconst applyDiscount = async (param: any) => {\r\n\t\ttry {\r\n\t\t\tlet res = await shoppingCartApi.applyDiscount({ OrderID: dataOrder.OrderID, DiscountCode: param?.DiscountCode })\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tshowNoti('success', 'Thêm mã khuyến mãi thành công!')\r\n\t\t\t\tsetShowDiscount(false)\r\n\t\t\t\tsetPromo(res.data.data)\r\n\t\t\t\tsetDiscountSelected(param)\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tsetPromo(undefined)\r\n\t\t\tsetDiscountSelected(undefined)\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t}\r\n\t}\r\n\r\n\tconst getPaymentMethod = async () => {\r\n\t\tsetIsLoading({ status: 'GET_ALL', loading: true })\r\n\t\ttry {\r\n\t\t\tlet res = await paymentConfig.getAll()\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tsetPaymentMethods(res.data.data)\r\n\t\t\t\tsetMethod({ ...method, PaymentCode: res.data.data[0].PaymentCode })\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({ status: 'GET_ALL', loading: false })\r\n\t\t}\r\n\t}\r\n\r\n\tconst getOrderID = async (cartId) => {\r\n\t\ttry {\r\n\t\t\tlet res = await shoppingCartApi.getOrderID({ cartId: cartId })\r\n\t\t\tres.status == 200 && setDataOrder(res.data.data)\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error)\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (session !== undefined) {\r\n\t\t\tlet token = session.accessToken\r\n\t\t\tif (userInformation) {\r\n\t\t\t\tsetDataUser(userInformation)\r\n\t\t\t} else {\r\n\t\t\t\tsetDataUser(parseJwt(token))\r\n\t\t\t}\r\n\t\t}\r\n\t}, [userInformation])\r\n\r\n\tuseEffect(() => {\r\n\t\tgetShoppingCartData()\r\n\t\tgetPaymentMethod()\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (showDiscount) {\r\n\t\t\tgetDiscount()\r\n\t\t}\r\n\t}, [showDiscount])\r\n\r\n\tconst onChangeRadio = (event) => {\r\n\t\tsetMethod({ PaymentCode: event.target.value, transferpayment: '' })\r\n\t}\r\n\r\n\tconst _changeDiscount = (param: any) => {\r\n\t\tapplyDiscount(param)\r\n\t}\r\n\r\n\tconst [inputDiscount, setInputDiscount] = useState<string>('')\r\n\r\n\treturn (\r\n\t\t<div style={{ backgroundColor: '#fff' }}>\r\n\t\t\t<header>\r\n\t\t\t\t<div className=\"shopping__cart-header justify-content-between align-items-center row\">\r\n\t\t\t\t\t<div className=\"header__logo col-6 col-md-3\">\r\n\t\t\t\t\t\t<Link href=\"/\">\r\n\t\t\t\t\t\t\t<a href=\"#\">\r\n\t\t\t\t\t\t\t\t<img className=\"logo-img\" src=\"/images/logo-final.png\" alt=\"logo branch\"></img>\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"header__profile col-2\">\r\n\t\t\t\t\t\t<div className=\"col-setting\">\r\n\t\t\t\t\t\t\t<ul className=\"col-setting-list\">\r\n\t\t\t\t\t\t\t\t<li className=\"user\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"d-none d-md-inline-block \">\r\n\t\t\t\t\t\t\t\t\t\t<Popover content={!session ? contentLogin : contentLogout} trigger=\"click\" title=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"user-wrap\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"user-info\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{session?.user ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"user-wrap\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"user-img\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img src={dataUser?.Avatar ? dataUser.Avatar : '/images/user.png'} alt=\"\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"user-info\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"user-name\">{dataUser?.FullNameUnicode}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"user-position\">{dataUser?.RoleName}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>Tài khoản</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</header>\r\n\r\n\t\t\t<div className=\"container checkout\">\r\n\t\t\t\t<div className=\"title\">\r\n\t\t\t\t\t<h2>Thanh toán</h2>\r\n\t\t\t\t\t<Link href=\"/cart/shopping-cart\">\r\n\t\t\t\t\t\t<Button className=\"btn btn-cancel\">Quay lại giỏ hàng</Button>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"row m-0 p-0\">\r\n\t\t\t\t\t<div className=\"col-12 col-md-8 content mb-4\">\r\n\t\t\t\t\t\t<Card className=\"card\">\r\n\t\t\t\t\t\t\t<Radio.Group onChange={onChangeRadio} value={method.PaymentCode} className=\"radio\">\r\n\t\t\t\t\t\t\t\t{paymentMethods &&\r\n\t\t\t\t\t\t\t\t\tpaymentMethods.map((item, index) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"payment-card type-checkout\" key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Radio value={item.PaymentCode} key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"logo-branch p-1 d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"mb-0\">{item.PaymentName}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img src={item.PaymentLogo} alt=\"img branch cc\"></img>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</Radio.Group>\r\n\r\n\t\t\t\t\t\t\t<div className=\"payment-method\">{renderPaymentMethodDetail()}</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"order-detail mt-4\">\r\n\t\t\t\t\t\t\t\t<h4>Chi tiết mua hàng</h4>\r\n\t\t\t\t\t\t\t\t{isLoading.loading ? <Skeleton active /> : renderCartItems()}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"sumary content col-12 col-md-4\">\r\n\t\t\t\t\t\t<Card className=\"card\">\r\n\t\t\t\t\t\t\t<h4>Khuyến mãi</h4>\r\n\r\n\t\t\t\t\t\t\t<Form form={form}>\r\n\t\t\t\t\t\t\t\t<div className=\"mb-4 w-100\">\r\n\t\t\t\t\t\t\t\t\t<Button onClick={() => setShowDiscount(true)} className=\"btn btn-light w-100\">\r\n\t\t\t\t\t\t\t\t\t\tChọn mã khuyến mãi\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t{!!discountSelected && <div className=\"mt-2\">Đã chọn: {discountSelected?.DiscountCode}</div>}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Form>\r\n\r\n\t\t\t\t\t\t\t<h4>Tổng thanh toán</h4>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-6\">\r\n\t\t\t\t\t\t\t\t\t<h6>Giá gốc</h6>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-6\" style={{ textAlign: 'right' }}>\r\n\t\t\t\t\t\t\t\t\t{parseToMoney(dataOrder?.TotalPayment)} VND\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t{!!promo && (\r\n\t\t\t\t\t\t\t\t<div className=\"row sumary__price\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-6\">\r\n\t\t\t\t\t\t\t\t\t\t<h6>Khuyến mãi</h6>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-6\" style={{ textAlign: 'right' }}>\r\n\t\t\t\t\t\t\t\t\t\t- {parseToMoney(promo.DiscountPrice)} VND\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<p className=\"bold col-6\">Tổng cộng:</p>\r\n\t\t\t\t\t\t\t\t<div className=\"col-6 bold\" style={{ textAlign: 'right' }}>\r\n\t\t\t\t\t\t\t\t\t{!!promo?.DiscountPrice\r\n\t\t\t\t\t\t\t\t\t\t? parseToMoney(dataOrder?.TotalPayment - promo?.DiscountPrice)\r\n\t\t\t\t\t\t\t\t\t\t: parseToMoney(dataOrder?.TotalPayment)}\r\n\t\t\t\t\t\t\t\t\tVND\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<button className=\"btn btn-primary w-100\" onClick={handleCheckout}>\r\n\t\t\t\t\t\t\t\tThanh toán\r\n\t\t\t\t\t\t\t\t{isLoading.status == 'CHECKOUT' && isLoading.loading && <Spin className=\"loading-base\" />}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\tclassName=\"custom-scroll-bar\"\r\n\t\t\t\t\ttitle=\"Khuyến mãi\"\r\n\t\t\t\t\tcentered\r\n\t\t\t\t\tvisible={showDiscount}\r\n\t\t\t\t\tonCancel={() => setShowDiscount(false)}\r\n\t\t\t\t\tfooter={null}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className=\"scrollable w-discount\">\r\n\t\t\t\t\t\t<div className=\"input-discount row-center\">\r\n\t\t\t\t\t\t\t<Input className=\"style-input\" placeholder=\"Nhập mã khuyến mãi\" onChange={(e) => setInputDiscount(e.target.value)} />\r\n\t\t\t\t\t\t\t<Button onClick={() => _changeDiscount({ DiscountCode: inputDiscount })} className=\"btn btn-primary ml-3\">\r\n\t\t\t\t\t\t\t\tÁp dụng\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<List\r\n\t\t\t\t\t\t\titemLayout=\"horizontal\"\r\n\t\t\t\t\t\t\tdataSource={discount}\r\n\t\t\t\t\t\t\trenderItem={(item) => (\r\n\t\t\t\t\t\t\t\t<RenderItemTicket\r\n\t\t\t\t\t\t\t\t\tTotal={dataOrder?.TotalPayment}\r\n\t\t\t\t\t\t\t\t\tonClick={(item: any) => _changeDiscount(item)}\r\n\t\t\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\t\t\tselected={discountSelected}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Modal>\r\n\t\t\t</>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default CheckOut\r\n"]},"metadata":{},"sourceType":"module"}