{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\lib\\\\video-course\\\\modal-update-details\\\\index.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Modal, Form, Spin } from 'antd';\nimport { useWrap } from '~/context/wrap';\nimport EditorSimple from '~/components/Elements/EditorSimple';\nimport { VideoCourseDetailApi } from '~/apiBase/video-course-details';\nimport 'antd/dist/antd.css';\nvar initDetails = {\n  VideoCourseName: '',\n  Slogan: '',\n  Requirements: '',\n  Description: '',\n  ResultsAchieved: '',\n  CourseForObject: '',\n  TotalRating: 0,\n  RatingNumber: 0,\n  TotalStudent: 0,\n  CreatedBy: ''\n};\nvar ModalUpdateDetail = /*#__PURE__*/React.memo(_c = _s(function (props) {\n  _s();\n\n  var programID = props.programID,\n      isModalVisible = props.isModalVisible,\n      setIsModalVisible = props.setIsModalVisible;\n\n  var _Form$useForm = Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var _useWrap = useWrap(),\n      showNoti = _useWrap.showNoti;\n\n  var _useState = useState(true),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var _useState2 = useState(initDetails),\n      details = _useState2[0],\n      setDetails = _useState2[1];\n\n  var _useState3 = useState(false),\n      updateLoading = _useState3[0],\n      setUpdateLoading = _useState3[1]; // Init data\n\n\n  React.useEffect(function () {\n    if (details !== initDetails) {\n      setDescription((details === null || details === void 0 ? void 0 : details.Description) || '');\n      setCourseForObject((details === null || details === void 0 ? void 0 : details.CourseForObject) || '');\n      setRequirements((details === null || details === void 0 ? void 0 : details.Requirements) || '');\n      setResultsAchieved((details === null || details === void 0 ? void 0 : details.ResultsAchieved) || '');\n      setSlogan((details === null || details === void 0 ? void 0 : details.Slogan) || '');\n      setLoading(false);\n    }\n  }, [details]); // IS VISIBLE MODAL\n\n  React.useEffect(function () {\n    if (isModalVisible) {\n      if (programID) {\n        getCourseDetails(programID);\n      }\n    }\n  }, [isModalVisible]); // CALL API DETAILS\n\n  var getCourseDetails = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(param) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return VideoCourseDetailApi.getDetails(param);\n\n            case 3:\n              res = _context.sent;\n              res.status == 200 && setDetails(res.data.data);\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n\n    return function getCourseDetails(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var _useState4 = useState(''),\n      slogan = _useState4[0],\n      setSlogan = _useState4[1];\n\n  var _useState5 = useState(''),\n      requirements = _useState5[0],\n      setRequirements = _useState5[1];\n\n  var _useState6 = useState(''),\n      description = _useState6[0],\n      setDescription = _useState6[1];\n\n  var _useState7 = useState(''),\n      resultsAchieved = _useState7[0],\n      setResultsAchieved = _useState7[1];\n\n  var _useState8 = useState(''),\n      courseForObject = _useState8[0],\n      setCourseForObject = _useState8[1]; // HANDLE UPDATE\n\n\n  var updateDetails = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var temp, res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setUpdateLoading(true);\n              temp = {\n                VideoCourseID: programID,\n                Slogan: slogan,\n                Requirements: requirements,\n                Description: description,\n                ResultsAchieved: resultsAchieved,\n                CourseForObject: courseForObject\n              };\n              _context2.prev = 2;\n              _context2.next = 5;\n              return VideoCourseDetailApi.update(temp);\n\n            case 5:\n              res = _context2.sent;\n              res.status == 200 && (setIsModalVisible(true), showNoti('success', 'Thành công'));\n              _context2.next = 11;\n              break;\n\n            case 9:\n              _context2.prev = 9;\n              _context2.t0 = _context2[\"catch\"](2);\n\n            case 11:\n              _context2.prev = 11;\n              setUpdateLoading(false);\n              return _context2.finish(11);\n\n            case 14:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[2, 9, 11, 14]]);\n    }));\n\n    return function updateDetails() {\n      return _ref2.apply(this, arguments);\n    };\n  }(); // RENDER\n\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Modal, {\n      title: \"C\\u1EADp nh\\u1EADt th\\xF4ng tin chi ti\\u1EBFt\",\n      visible: isModalVisible,\n      onCancel: function onCancel() {\n        return setIsModalVisible(false);\n      },\n      footer: null,\n      style: {\n        zIndex: 99999\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid custom-scroll-bar\",\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          form: form,\n          layout: \"vertical\",\n          onFinish: function onFinish() {},\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row vc-e-d\",\n            children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                width: '100%',\n                justifyContent: 'center',\n                alignItems: 'center'\n              },\n              children: /*#__PURE__*/_jsxDEV(Spin, {\n                size: \"large\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 10\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 9\n            }, _this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-12 col-12\",\n                children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                  name: \"Slogan\",\n                  label: \"Slogan\",\n                  children: /*#__PURE__*/_jsxDEV(EditorSimple, {\n                    defaultValue: slogan,\n                    handleChange: function handleChange(e) {\n                      return setSlogan(e);\n                    },\n                    isTranslate: false\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 108,\n                    columnNumber: 12\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 11\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 10\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-12 col-12\",\n                children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                  name: \"Requirements\",\n                  label: \"\\u0110i\\u1EC1u ki\\u1EC7n h\\u1ECDc\",\n                  children: /*#__PURE__*/_jsxDEV(EditorSimple, {\n                    defaultValue: requirements,\n                    handleChange: function handleChange(e) {\n                      return setRequirements(e);\n                    },\n                    isTranslate: false\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 113,\n                    columnNumber: 12\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 11\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 10\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-12 col-12\",\n                children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                  name: \"CourseForObject\",\n                  label: \"\\u0110\\u1ED1i t\\u01B0\\u1EE3ng h\\u1ECDc\",\n                  children: /*#__PURE__*/_jsxDEV(EditorSimple, {\n                    defaultValue: courseForObject,\n                    handleChange: function handleChange(e) {\n                      return setCourseForObject(e);\n                    },\n                    isTranslate: false\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 122,\n                    columnNumber: 12\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 121,\n                  columnNumber: 11\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 10\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-12 col-12\",\n                children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                  name: \"ResultsAchieved\",\n                  label: \"N\\u1ED9i dung kh\\xF3a h\\u1ECDc\",\n                  children: /*#__PURE__*/_jsxDEV(EditorSimple, {\n                    defaultValue: resultsAchieved,\n                    handleChange: function handleChange(e) {\n                      return setResultsAchieved(e);\n                    },\n                    isTranslate: false\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 131,\n                    columnNumber: 12\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 11\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 10\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-12 col-12\",\n                children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                  name: \"Description\",\n                  label: \"Mi\\xEAu t\\u1EA3\",\n                  children: /*#__PURE__*/_jsxDEV(EditorSimple, {\n                    defaultValue: description,\n                    handleChange: function handleChange(e) {\n                      return setDescription(e);\n                    },\n                    isTranslate: false\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 140,\n                    columnNumber: 12\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 11\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 10\n              }, _this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12 m-0 p-0\",\n            style: {\n              justifyContent: 'flex-end',\n              display: 'flex'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: function onClick() {\n                return setIsModalVisible(false);\n              },\n              className: \"btn btn-warning mr-3\",\n              children: \"Hu\\u1EF7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 8\n            }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: function onClick() {\n                updateDetails();\n              },\n              className: \"btn btn-primary\",\n              children: [\"L\\u01B0u\", updateLoading && /*#__PURE__*/_jsxDEV(Spin, {\n                className: \"loading-base\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 27\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 8\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 7\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 6\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 4\n    }, _this)\n  }, void 0, false);\n}, \"RddEbqbqUNR0Pl4gsuLInaZIDUM=\", false, function () {\n  return [Form.useForm, useWrap];\n}));\n_c2 = ModalUpdateDetail;\nexport default ModalUpdateDetail;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ModalUpdateDetail$React.memo\");\n$RefreshReg$(_c2, \"ModalUpdateDetail\");","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/lib/video-course/modal-update-details/index.tsx"],"names":["React","useState","Modal","Form","Spin","useWrap","EditorSimple","VideoCourseDetailApi","initDetails","VideoCourseName","Slogan","Requirements","Description","ResultsAchieved","CourseForObject","TotalRating","RatingNumber","TotalStudent","CreatedBy","ModalUpdateDetail","memo","props","programID","isModalVisible","setIsModalVisible","useForm","form","showNoti","loading","setLoading","details","setDetails","updateLoading","setUpdateLoading","useEffect","setDescription","setCourseForObject","setRequirements","setResultsAchieved","setSlogan","getCourseDetails","param","getDetails","res","status","data","console","log","slogan","requirements","description","resultsAchieved","courseForObject","updateDetails","temp","VideoCourseID","update","zIndex","display","width","justifyContent","alignItems","e"],"mappings":";;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,KAAT,EAAgBC,IAAhB,EAAsBC,IAAtB,QAA0C,MAA1C;AACA,SAASC,OAAT,QAAwB,gBAAxB;AACA,OAAOC,YAAP,MAAyB,oCAAzB;AACA,SAASC,oBAAT,QAAqC,gCAArC;AACA,OAAO,oBAAP;AAEA,IAAMC,WAAW,GAAG;AACnBC,EAAAA,eAAe,EAAE,EADE;AAEnBC,EAAAA,MAAM,EAAE,EAFW;AAGnBC,EAAAA,YAAY,EAAE,EAHK;AAInBC,EAAAA,WAAW,EAAE,EAJM;AAKnBC,EAAAA,eAAe,EAAE,EALE;AAMnBC,EAAAA,eAAe,EAAE,EANE;AAOnBC,EAAAA,WAAW,EAAE,CAPM;AAQnBC,EAAAA,YAAY,EAAE,CARK;AASnBC,EAAAA,YAAY,EAAE,CATK;AAUnBC,EAAAA,SAAS,EAAE;AAVQ,CAApB;AAaA,IAAMC,iBAAiB,gBAAGnB,KAAK,CAACoB,IAAN,SAAW,UAACC,KAAD,EAAgB;AAAA;;AAAA,MAC5CC,SAD4C,GACKD,KADL,CAC5CC,SAD4C;AAAA,MACjCC,cADiC,GACKF,KADL,CACjCE,cADiC;AAAA,MACjBC,iBADiB,GACKH,KADL,CACjBG,iBADiB;;AAAA,sBAErCrB,IAAI,CAACsB,OAAL,EAFqC;AAAA;AAAA,MAE7CC,IAF6C;;AAAA,iBAG/BrB,OAAO,EAHwB;AAAA,MAG5CsB,QAH4C,YAG5CA,QAH4C;;AAAA,kBAKtB1B,QAAQ,CAAC,IAAD,CALc;AAAA,MAK7C2B,OAL6C;AAAA,MAKpCC,UALoC;;AAAA,mBAMtB5B,QAAQ,CAACO,WAAD,CANc;AAAA,MAM7CsB,OAN6C;AAAA,MAMpCC,UANoC;;AAAA,mBAOV9B,QAAQ,CAAC,KAAD,CAPE;AAAA,MAO7C+B,aAP6C;AAAA,MAO9BC,gBAP8B,kBASpD;;;AACAjC,EAAAA,KAAK,CAACkC,SAAN,CAAgB,YAAM;AACrB,QAAIJ,OAAO,KAAKtB,WAAhB,EAA6B;AAC5B2B,MAAAA,cAAc,CAAC,CAAAL,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAElB,WAAT,KAAwB,EAAzB,CAAd;AACAwB,MAAAA,kBAAkB,CAAC,CAAAN,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEhB,eAAT,KAA4B,EAA7B,CAAlB;AACAuB,MAAAA,eAAe,CAAC,CAAAP,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEnB,YAAT,KAAyB,EAA1B,CAAf;AACA2B,MAAAA,kBAAkB,CAAC,CAAAR,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEjB,eAAT,KAA4B,EAA7B,CAAlB;AACA0B,MAAAA,SAAS,CAAC,CAAAT,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEpB,MAAT,KAAmB,EAApB,CAAT;AACAmB,MAAAA,UAAU,CAAC,KAAD,CAAV;AACA;AACD,GATD,EASG,CAACC,OAAD,CATH,EAVoD,CAqBpD;;AACA9B,EAAAA,KAAK,CAACkC,SAAN,CAAgB,YAAM;AACrB,QAAIX,cAAJ,EAAoB;AACnB,UAAID,SAAJ,EAAe;AACdkB,QAAAA,gBAAgB,CAAClB,SAAD,CAAhB;AACA;AACD;AACD,GAND,EAMG,CAACC,cAAD,CANH,EAtBoD,CA8BpD;;AACA,MAAMiB,gBAAgB;AAAA,wEAAG,iBAAOC,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAELlC,oBAAoB,CAACmC,UAArB,CAAgCD,KAAhC,CAFK;;AAAA;AAEjBE,cAAAA,GAFiB;AAGvBA,cAAAA,GAAG,CAACC,MAAJ,IAAc,GAAd,IAAqBb,UAAU,CAACY,GAAG,CAACE,IAAJ,CAASA,IAAV,CAA/B;AAHuB;AAAA;;AAAA;AAAA;AAAA;AAKvBC,cAAAA,OAAO,CAACC,GAAR;;AALuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAhBP,gBAAgB;AAAA;AAAA;AAAA,KAAtB;;AA/BoD,mBAwCxBvC,QAAQ,CAAC,EAAD,CAxCgB;AAAA,MAwC7C+C,MAxC6C;AAAA,MAwCrCT,SAxCqC;;AAAA,mBAyCZtC,QAAQ,CAAC,EAAD,CAzCI;AAAA,MAyC7CgD,YAzC6C;AAAA,MAyC/BZ,eAzC+B;;AAAA,mBA0CdpC,QAAQ,CAAC,EAAD,CA1CM;AAAA,MA0C7CiD,WA1C6C;AAAA,MA0ChCf,cA1CgC;;AAAA,mBA2CNlC,QAAQ,CAAC,EAAD,CA3CF;AAAA,MA2C7CkD,eA3C6C;AAAA,MA2C5Bb,kBA3C4B;;AAAA,mBA4CNrC,QAAQ,CAAC,EAAD,CA5CF;AAAA,MA4C7CmD,eA5C6C;AAAA,MA4C5BhB,kBA5C4B,kBA8CpD;;;AACA,MAAMiB,aAAa;AAAA,yEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AACrBpB,cAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACIqB,cAAAA,IAFiB,GAEV;AACVC,gBAAAA,aAAa,EAAEjC,SADL;AAEVZ,gBAAAA,MAAM,EAAEsC,MAFE;AAGVrC,gBAAAA,YAAY,EAAEsC,YAHJ;AAIVrC,gBAAAA,WAAW,EAAEsC,WAJH;AAKVrC,gBAAAA,eAAe,EAAEsC,eALP;AAMVrC,gBAAAA,eAAe,EAAEsC;AANP,eAFU;AAAA;AAAA;AAAA,qBAWF7C,oBAAoB,CAACiD,MAArB,CAA4BF,IAA5B,CAXE;;AAAA;AAWdX,cAAAA,GAXc;AAYpBA,cAAAA,GAAG,CAACC,MAAJ,IAAc,GAAd,KAAsBpB,iBAAiB,CAAC,IAAD,CAAjB,EAAyBG,QAAQ,CAAC,SAAD,EAAY,YAAZ,CAAvD;AAZoB;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAepBM,cAAAA,gBAAgB,CAAC,KAAD,CAAhB;AAfoB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAboB,aAAa;AAAA;AAAA;AAAA,KAAnB,CA/CoD,CAkEpD;;;AACA,sBACC;AAAA,2BACC,QAAC,KAAD;AACC,MAAA,KAAK,EAAC,+CADP;AAEC,MAAA,OAAO,EAAE9B,cAFV;AAGC,MAAA,QAAQ,EAAE;AAAA,eAAMC,iBAAiB,CAAC,KAAD,CAAvB;AAAA,OAHX;AAIC,MAAA,MAAM,EAAE,IAJT;AAKC,MAAA,KAAK,EAAE;AAAEiC,QAAAA,MAAM,EAAE;AAAV,OALR;AAAA,6BAOC;AAAK,QAAA,SAAS,EAAC,mCAAf;AAAA,+BACC,QAAC,IAAD;AAAM,UAAA,IAAI,EAAE/B,IAAZ;AAAkB,UAAA,MAAM,EAAC,UAAzB;AAAoC,UAAA,QAAQ,EAAE,oBAAM,CAAE,CAAtD;AAAA,kCACC;AAAK,YAAA,SAAS,EAAC,YAAf;AAAA,sBACEE,OAAO,gBACP;AAAK,cAAA,KAAK,EAAE;AAAE8B,gBAAAA,OAAO,EAAE,MAAX;AAAmBC,gBAAAA,KAAK,EAAE,MAA1B;AAAkCC,gBAAAA,cAAc,EAAE,QAAlD;AAA4DC,gBAAAA,UAAU,EAAE;AAAxE,eAAZ;AAAA,qCACC,QAAC,IAAD;AAAM,gBAAA,IAAI,EAAC;AAAX;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,qBADO,gBAKP;AAAA,sCACC;AAAK,gBAAA,SAAS,EAAC,kBAAf;AAAA,uCACC,QAAC,IAAD,CAAM,IAAN;AAAW,kBAAA,IAAI,EAAC,QAAhB;AAAyB,kBAAA,KAAK,EAAC,QAA/B;AAAA,yCACC,QAAC,YAAD;AAAc,oBAAA,YAAY,EAAEb,MAA5B;AAAoC,oBAAA,YAAY,EAAE,sBAACc,CAAD;AAAA,6BAAOvB,SAAS,CAACuB,CAAD,CAAhB;AAAA,qBAAlD;AAAuE,oBAAA,WAAW,EAAE;AAApF;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,uBADD,eAMC;AAAK,gBAAA,SAAS,EAAC,kBAAf;AAAA,uCACC,QAAC,IAAD,CAAM,IAAN;AAAW,kBAAA,IAAI,EAAC,cAAhB;AAA+B,kBAAA,KAAK,EAAC,mCAArC;AAAA,yCACC,QAAC,YAAD;AACC,oBAAA,YAAY,EAAEb,YADf;AAEC,oBAAA,YAAY,EAAE,sBAACa,CAAD;AAAA,6BAAOzB,eAAe,CAACyB,CAAD,CAAtB;AAAA,qBAFf;AAGC,oBAAA,WAAW,EAAE;AAHd;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,uBAND,eAeC;AAAK,gBAAA,SAAS,EAAC,kBAAf;AAAA,uCACC,QAAC,IAAD,CAAM,IAAN;AAAW,kBAAA,IAAI,EAAC,iBAAhB;AAAkC,kBAAA,KAAK,EAAC,wCAAxC;AAAA,yCACC,QAAC,YAAD;AACC,oBAAA,YAAY,EAAEV,eADf;AAEC,oBAAA,YAAY,EAAE,sBAACU,CAAD;AAAA,6BAAO1B,kBAAkB,CAAC0B,CAAD,CAAzB;AAAA,qBAFf;AAGC,oBAAA,WAAW,EAAE;AAHd;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,uBAfD,eAwBC;AAAK,gBAAA,SAAS,EAAC,kBAAf;AAAA,uCACC,QAAC,IAAD,CAAM,IAAN;AAAW,kBAAA,IAAI,EAAC,iBAAhB;AAAkC,kBAAA,KAAK,EAAC,gCAAxC;AAAA,yCACC,QAAC,YAAD;AACC,oBAAA,YAAY,EAAEX,eADf;AAEC,oBAAA,YAAY,EAAE,sBAACW,CAAD;AAAA,6BAAOxB,kBAAkB,CAACwB,CAAD,CAAzB;AAAA,qBAFf;AAGC,oBAAA,WAAW,EAAE;AAHd;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,uBAxBD,eAiCC;AAAK,gBAAA,SAAS,EAAC,kBAAf;AAAA,uCACC,QAAC,IAAD,CAAM,IAAN;AAAW,kBAAA,IAAI,EAAC,aAAhB;AAA8B,kBAAA,KAAK,EAAC,iBAApC;AAAA,yCACC,QAAC,YAAD;AACC,oBAAA,YAAY,EAAEZ,WADf;AAEC,oBAAA,YAAY,EAAE,sBAACY,CAAD;AAAA,6BAAO3B,cAAc,CAAC2B,CAAD,CAArB;AAAA,qBAFf;AAGC,oBAAA,WAAW,EAAE;AAHd;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,uBAjCD;AAAA;AANF;AAAA;AAAA;AAAA;AAAA,mBADD,eAoDC;AAAK,YAAA,SAAS,EAAC,gBAAf;AAAgC,YAAA,KAAK,EAAE;AAAEF,cAAAA,cAAc,EAAE,UAAlB;AAA8BF,cAAAA,OAAO,EAAE;AAAvC,aAAvC;AAAA,oCACC;AAAQ,cAAA,OAAO,EAAE;AAAA,uBAAMlC,iBAAiB,CAAC,KAAD,CAAvB;AAAA,eAAjB;AAAiD,cAAA,SAAS,EAAC,sBAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADD,eAKC;AACC,cAAA,OAAO,EAAE,mBAAM;AACd6B,gBAAAA,aAAa;AACb,eAHF;AAIC,cAAA,SAAS,EAAC,iBAJX;AAAA,qCAOErB,aAAa,iBAAI,QAAC,IAAD;AAAM,gBAAA,SAAS,EAAC;AAAhB;AAAA;AAAA;AAAA;AAAA,uBAPnB;AAAA;AAAA;AAAA;AAAA;AAAA,qBALD;AAAA;AAAA;AAAA;AAAA;AAAA,mBApDD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AAPD;AAAA;AAAA;AAAA;AAAA;AADD,mBADD;AAkFA,CArJyB;AAAA,UAEV7B,IAAI,CAACsB,OAFK,EAGJpB,OAHI;AAAA,GAA1B;MAAMc,iB;AAuJN,eAAeA,iBAAf","sourcesContent":["import React, { useState } from 'react';\r\nimport { Modal, Form, Spin, Upload } from 'antd';\r\nimport { useWrap } from '~/context/wrap';\r\nimport EditorSimple from '~/components/Elements/EditorSimple';\r\nimport { VideoCourseDetailApi } from '~/apiBase/video-course-details';\r\nimport 'antd/dist/antd.css';\r\n\r\nconst initDetails = {\r\n\tVideoCourseName: '',\r\n\tSlogan: '',\r\n\tRequirements: '',\r\n\tDescription: '',\r\n\tResultsAchieved: '',\r\n\tCourseForObject: '',\r\n\tTotalRating: 0,\r\n\tRatingNumber: 0,\r\n\tTotalStudent: 0,\r\n\tCreatedBy: ''\r\n};\r\n\r\nconst ModalUpdateDetail = React.memo((props: any) => {\r\n\tconst { programID, isModalVisible, setIsModalVisible } = props;\r\n\tconst [form] = Form.useForm();\r\n\tconst { showNoti } = useWrap();\r\n\r\n\tconst [loading, setLoading] = useState(true);\r\n\tconst [details, setDetails] = useState(initDetails);\r\n\tconst [updateLoading, setUpdateLoading] = useState(false);\r\n\r\n\t// Init data\r\n\tReact.useEffect(() => {\r\n\t\tif (details !== initDetails) {\r\n\t\t\tsetDescription(details?.Description || '');\r\n\t\t\tsetCourseForObject(details?.CourseForObject || '');\r\n\t\t\tsetRequirements(details?.Requirements || '');\r\n\t\t\tsetResultsAchieved(details?.ResultsAchieved || '');\r\n\t\t\tsetSlogan(details?.Slogan || '');\r\n\t\t\tsetLoading(false);\r\n\t\t}\r\n\t}, [details]);\r\n\r\n\t// IS VISIBLE MODAL\r\n\tReact.useEffect(() => {\r\n\t\tif (isModalVisible) {\r\n\t\t\tif (programID) {\r\n\t\t\t\tgetCourseDetails(programID);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [isModalVisible]);\r\n\r\n\t// CALL API DETAILS\r\n\tconst getCourseDetails = async (param) => {\r\n\t\ttry {\r\n\t\t\tconst res = await VideoCourseDetailApi.getDetails(param);\r\n\t\t\tres.status == 200 && setDetails(res.data.data);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error);\r\n\t\t}\r\n\t};\r\n\r\n\tconst [slogan, setSlogan] = useState('');\r\n\tconst [requirements, setRequirements] = useState('');\r\n\tconst [description, setDescription] = useState('');\r\n\tconst [resultsAchieved, setResultsAchieved] = useState('');\r\n\tconst [courseForObject, setCourseForObject] = useState('');\r\n\r\n\t// HANDLE UPDATE\r\n\tconst updateDetails = async () => {\r\n\t\tsetUpdateLoading(true);\r\n\t\tlet temp = {\r\n\t\t\tVideoCourseID: programID,\r\n\t\t\tSlogan: slogan,\r\n\t\t\tRequirements: requirements,\r\n\t\t\tDescription: description,\r\n\t\t\tResultsAchieved: resultsAchieved,\r\n\t\t\tCourseForObject: courseForObject\r\n\t\t};\r\n\t\ttry {\r\n\t\t\tconst res = await VideoCourseDetailApi.update(temp);\r\n\t\t\tres.status == 200 && (setIsModalVisible(true), showNoti('success', 'Thành công'));\r\n\t\t} catch (error) {\r\n\t\t} finally {\r\n\t\t\tsetUpdateLoading(false);\r\n\t\t}\r\n\t};\r\n\r\n\t// RENDER\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Modal\r\n\t\t\t\ttitle=\"Cập nhật thông tin chi tiết\"\r\n\t\t\t\tvisible={isModalVisible}\r\n\t\t\t\tonCancel={() => setIsModalVisible(false)}\r\n\t\t\t\tfooter={null}\r\n\t\t\t\tstyle={{ zIndex: 99999 }}\r\n\t\t\t>\r\n\t\t\t\t<div className=\"container-fluid custom-scroll-bar\">\r\n\t\t\t\t\t<Form form={form} layout=\"vertical\" onFinish={() => {}}>\r\n\t\t\t\t\t\t<div className=\"row vc-e-d\">\r\n\t\t\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t\t\t<div style={{ display: 'flex', width: '100%', justifyContent: 'center', alignItems: 'center' }}>\r\n\t\t\t\t\t\t\t\t\t<Spin size=\"large\" />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-md-12 col-12\">\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"Slogan\" label=\"Slogan\">\r\n\t\t\t\t\t\t\t\t\t\t\t<EditorSimple defaultValue={slogan} handleChange={(e) => setSlogan(e)} isTranslate={false} />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-md-12 col-12\">\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"Requirements\" label=\"Điều kiện học\">\r\n\t\t\t\t\t\t\t\t\t\t\t<EditorSimple\r\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={requirements}\r\n\t\t\t\t\t\t\t\t\t\t\t\thandleChange={(e) => setRequirements(e)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tisTranslate={false}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-md-12 col-12\">\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"CourseForObject\" label=\"Đối tượng học\">\r\n\t\t\t\t\t\t\t\t\t\t\t<EditorSimple\r\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={courseForObject}\r\n\t\t\t\t\t\t\t\t\t\t\t\thandleChange={(e) => setCourseForObject(e)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tisTranslate={false}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-md-12 col-12\">\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"ResultsAchieved\" label=\"Nội dung khóa học\">\r\n\t\t\t\t\t\t\t\t\t\t\t<EditorSimple\r\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={resultsAchieved}\r\n\t\t\t\t\t\t\t\t\t\t\t\thandleChange={(e) => setResultsAchieved(e)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tisTranslate={false}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-md-12 col-12\">\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"Description\" label=\"Miêu tả\">\r\n\t\t\t\t\t\t\t\t\t\t\t<EditorSimple\r\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={description}\r\n\t\t\t\t\t\t\t\t\t\t\t\thandleChange={(e) => setDescription(e)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tisTranslate={false}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-12 m-0 p-0\" style={{ justifyContent: 'flex-end', display: 'flex' }}>\r\n\t\t\t\t\t\t\t<button onClick={() => setIsModalVisible(false)} className=\"btn btn-warning mr-3\">\r\n\t\t\t\t\t\t\t\tHuỷ\r\n\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tupdateDetails();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclassName=\"btn btn-primary\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tLưu\r\n\t\t\t\t\t\t\t\t{updateLoading && <Spin className=\"loading-base\" />}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</div>\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t);\r\n});\r\n\r\nexport default ModalUpdateDetail;\r\n"]},"metadata":{},"sourceType":"module"}