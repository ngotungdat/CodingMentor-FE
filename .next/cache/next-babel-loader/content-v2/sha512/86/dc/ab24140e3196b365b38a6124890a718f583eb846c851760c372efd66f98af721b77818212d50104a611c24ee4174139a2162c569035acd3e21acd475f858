{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Global\\\\QuestionBank\\\\QuestionShow\\\\QuestionDrag.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useEffect, useState } from 'react';\nimport { Skeleton, Modal, Popconfirm, Tooltip, Spin, Form, Input, Checkbox } from 'antd';\nimport { Edit, Trash2 } from 'react-feather';\nimport { CloseOutlined } from '@ant-design/icons';\nimport { Plus } from 'react-feather';\nimport ReactHtmlParser from 'react-html-parser';\nimport { exerciseGroupApi } from '~/apiBase';\nimport { useWrap } from '~/context/wrap';\nlet AnsID = 0;\n\nconst EditQuestion = props => {\n  var _dataForm$ExerciseAns;\n\n  const {\n    dataGroup,\n    exerciseID,\n    onEdit\n  } = props;\n  const {\n    0: isModalVisible,\n    1: setIsModalVisible\n  } = useState(false);\n  const {\n    0: dataForm,\n    1: setDataForm\n  } = useState(dataGroup);\n  const {\n    0: indexExercise,\n    1: setIndexExercise\n  } = useState(null);\n  const {\n    0: reloadContent,\n    1: setReloadContent\n  } = useState(false);\n  const {\n    showNoti,\n    userInformation\n  } = useWrap();\n  const {\n    0: isLoading,\n    1: setIsLoading\n  } = useState(false);\n\n  const showModal = () => {\n    setIsModalVisible(true);\n  };\n\n  const handleSubmit = async () => {\n    setIsLoading(true);\n    let newData = JSON.parse(JSON.stringify(dataForm));\n    newData.ExerciseAnswer.forEach(item => {\n      if (item.isAdd) {\n        delete item.ID;\n      }\n    });\n    dataGroup.ExerciseList[indexExercise] = newData;\n\n    try {\n      let res = await exerciseGroupApi.update(dataGroup);\n\n      if (res.status == 200) {\n        setReloadContent(true);\n      }\n    } catch (error) {}\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  }; // ====== HANDLE ADD ANSWER ======\n\n\n  const handleAddAnswer = questionID => {\n    AnsID++;\n    dataForm.ExerciseAnswer.push({\n      ID: AnsID,\n      AnswerContent: '',\n      isTrue: false,\n      Enable: true,\n      isAdd: true\n    });\n    setDataForm(_objectSpread({}, dataForm));\n  }; // ====== HANDLE ON CHANGE ======\n\n\n  const onChange_text = (e, AnswerID, QuestionID) => {\n    let text = e.target.value;\n    let indexAnswer = dataForm.ExerciseAnswer.findIndex(item => item.ID == AnswerID);\n    dataForm.ExerciseAnswer[indexAnswer].AnswerContent = text;\n    setDataForm(_objectSpread({}, dataForm));\n  };\n\n  const deleteAnswerItem = (AnswerID, QuestionID) => {\n    let indexAnswer = dataForm.ExerciseAnswer.findIndex(item => item.ID == AnswerID);\n\n    if (dataForm.ExerciseAnswer[indexAnswer].isAdd) {\n      dataForm.ExerciseAnswer.splice(indexAnswer, 1);\n    } else {\n      dataForm.ExerciseAnswer[indexAnswer].Enable = false;\n    }\n\n    setDataForm(_objectSpread({}, dataForm));\n  };\n\n  const onChange_isCorrect = (e, AnswerID) => {\n    let checked = e.target.checked;\n    let indexAnswer = dataForm.ExerciseAnswer.findIndex(item => item.ID == AnswerID);\n    dataForm.ExerciseAnswer[indexAnswer].isTrue = checked;\n    setDataForm(_objectSpread({}, dataForm));\n  };\n\n  useEffect(() => {\n    if (reloadContent) {\n      ;\n\n      (async function loadData() {\n        try {\n          let res = await exerciseGroupApi.getWithID(dataGroup.ID);\n\n          if (res.status == 200) {\n            showNoti('success', `Thành công`);\n            onEdit && onEdit(res.data.data);\n          }\n\n          res.status == 204 && showNoti('danger', 'Không thành công');\n        } catch (error) {\n          showNoti('danger', error.message);\n        } finally {\n          setReloadContent(false);\n          setIsModalVisible(false);\n          setIsLoading(false);\n          setDataForm(null);\n        }\n      })();\n    }\n  }, [reloadContent]);\n  useEffect(() => {\n    if (isModalVisible) {\n      // Make new data\n      let index = dataGroup.ExerciseList.findIndex(item => item.ID == exerciseID);\n      let data = dataGroup.ExerciseList[index];\n      setDataForm(data);\n      setIndexExercise(index); // Find max id in arr\n\n      let newArr = [];\n      data.ExerciseAnswer.forEach(item => {\n        newArr.push(parseInt(item.ID));\n      });\n      AnsID = Math.max(...newArr);\n    }\n  }, [isModalVisible]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n      title: \"Th\\xEAm/s\\u1EEDa \\u0111\\xE1p \\xE1n\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-icon edit\",\n        onClick: showModal,\n        children: /*#__PURE__*/_jsxDEV(Edit, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      footer: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-light mr-2\",\n          onClick: handleCancel,\n          children: \"H\\u1EE7y t\\xE1c v\\u1EE5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: () => handleSubmit(),\n          children: [\"L\\u01B0u\", isLoading && /*#__PURE__*/_jsxDEV(Spin, {\n            className: \"loading-base\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 22\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 6\n      }, this),\n      title: \"S\\u1EEDa \\u0111\\xE1p \\xE1n\",\n      visible: isModalVisible,\n      onCancel: handleCancel,\n      children: [dataForm === null || dataForm === void 0 ? void 0 : (_dataForm$ExerciseAns = dataForm.ExerciseAnswer) === null || _dataForm$ExerciseAns === void 0 ? void 0 : _dataForm$ExerciseAns.map((itemAns, index) => itemAns.Enable && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-100 d-flex align-items-center mt-2 form-create-question\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row-ans\",\n            children: [/*#__PURE__*/_jsxDEV(Checkbox, {\n              checked: itemAns.isTrue,\n              onChange: e => onChange_isCorrect(e, itemAns.ID)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n              className: \"mb-0\",\n              style: {\n                width: '80%'\n              },\n              children: /*#__PURE__*/_jsxDEV(Input, {\n                value: itemAns.AnswerContent,\n                className: \"style-input\",\n                onChange: e => onChange_text(e, itemAns.ID, dataForm.inputID)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 12\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"delete-ans\",\n              onClick: () => deleteAnswerItem(itemAns.ID, dataForm.inputID),\n              children: /*#__PURE__*/_jsxDEV(CloseOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 12\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 10\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 9\n        }, this)\n      }, void 0, false)), /*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"Th\\xEAm \\u0111\\xE1p \\xE1n\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-add-answer mt-2\",\n          onClick: () => handleAddAnswer(dataForm.inputID),\n          children: /*#__PURE__*/_jsxDEV(Plus, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n};\n\nconst QuestionDrag = props => {\n  var _dataListQuestion$Exe, _dataListQuestion$Exe2, _dataListQuestion$Exe3;\n\n  const {\n    listQuestion,\n    loadingQuestion,\n    onFetchData,\n    onRemoveData,\n    isGroup,\n    onEditData,\n    listAlphabet,\n    groupID\n  } = props;\n  const [value, setValue] = React.useState(1);\n  const {\n    0: dataListQuestion,\n    1: setDataListQuestion\n  } = useState(null);\n  const {\n    showNoti,\n    userInformation\n  } = useWrap();\n  const {\n    0: visible,\n    1: setVisible\n  } = useState({\n    id: null,\n    status: false\n  });\n  const {\n    0: confirmLoading,\n    1: setConfirmLoading\n  } = useState(false);\n  const {\n    0: loadingInGroup,\n    1: setLoadingInGroup\n  } = useState(false);\n  const {\n    0: dataExercise,\n    1: setDataExercise\n  } = useState([]);\n  const {\n    0: showContent,\n    1: setShowContent\n  } = useState(false);\n\n  const onChange = e => {\n    e.preventDefault(); // setValue(e.target.value);\n  }; // ON EDIT\n\n\n  const onEdit = dataEdit => {\n    onEditData(dataEdit);\n  };\n\n  const deleteQuestionItem = quesID => {\n    !visible.status ? setVisible({\n      id: quesID,\n      status: true\n    }) : setVisible({\n      id: quesID,\n      status: false\n    });\n  }; // Chấp nhận xóa câu hỏi\n\n\n  const handleOk = async data => {\n    var _quesItem$ExerciseLis;\n\n    setConfirmLoading(true);\n    let quesItem = JSON.parse(JSON.stringify(dataListQuestion));\n    quesItem === null || quesItem === void 0 ? void 0 : (_quesItem$ExerciseLis = quesItem.ExerciseList) === null || _quesItem$ExerciseLis === void 0 ? void 0 : _quesItem$ExerciseLis.forEach(item => {\n      item.Enable = false;\n    });\n    quesItem.isDeleteExercise = true;\n    quesItem.Paragraph = '<p><br></p>';\n    quesItem.ExerciseGroupID = null;\n\n    try {\n      let res = await exerciseGroupApi.update(quesItem);\n\n      if (res.status == 200) {\n        setVisible(_objectSpread(_objectSpread({}, visible), {}, {\n          status: false\n        }));\n        onRemoveData(quesItem);\n        showNoti('success', 'Xóa thành công');\n      }\n    } catch (error) {\n      showNoti('danger', error.message);\n    } finally {\n      setConfirmLoading(false);\n    }\n  };\n\n  const handleCancel = quesID => {\n    setVisible({\n      id: quesID,\n      status: false\n    });\n  };\n\n  const getQuestionInGroup = async () => {\n    setLoadingInGroup(true);\n\n    try {\n      let res = await exerciseGroupApi.getWithID(isGroup.id);\n\n      if (res.status == 200) {\n        setDataListQuestion(res.data.data);\n        let filterExerciseList = res.data.data.ExerciseList.filter(item => item.Enable !== false);\n        setDataExercise([...filterExerciseList]);\n        checkShowContent(res.data.data);\n      }\n\n      res.status == 204 && setDataListQuestion([]);\n    } catch (error) {\n      showNoti('danger', error.message);\n    } finally {\n      setLoadingInGroup(false);\n    }\n  }; //RETURN INDEX QUESTION - Trả về thứ tự của từng câu hỏi\n\n\n  const returnIndexQuestion = itemQues => {\n    let title = '';\n    let index = dataExercise.findIndex(ex => ex.inputID == itemQues.inputID);\n    title = `Câu (${index + 1})`;\n    return title;\n  };\n\n  const checkShowContent = data => {\n    let preventLoop = false;\n    data.ExerciseList.length == 0 && setShowContent(false);\n    data.ExerciseList.forEach((item, index) => {\n      if (item.Enable) {\n        if (!preventLoop) {\n          setShowContent(true);\n          preventLoop = true;\n        }\n      }\n    });\n\n    if (!preventLoop) {\n      setShowContent(false);\n    }\n  };\n\n  useEffect(() => {\n    if (listQuestion) {\n      checkShowContent(listQuestion);\n      let filterExerciseList = listQuestion === null || listQuestion === void 0 ? void 0 : listQuestion.ExerciseList.filter(item => item.Enable !== false);\n      setDataListQuestion(listQuestion);\n      setDataExercise([...filterExerciseList]);\n    }\n  }, [listQuestion]);\n  useEffect(() => {\n    isGroup.status && setDataListQuestion([]);\n    isGroup.status && isGroup.id && isGroup.id === groupID && getQuestionInGroup();\n\n    if (!isGroup) {\n      return;\n    }\n  }, [isGroup]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"detail-question-typing\",\n      children: showContent && (dataListQuestion === null || dataListQuestion === void 0 ? void 0 : (_dataListQuestion$Exe = dataListQuestion.ExerciseList) === null || _dataListQuestion$Exe === void 0 ? void 0 : _dataListQuestion$Exe.length) > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"paragraph mb-3\",\n          children: ReactHtmlParser(dataListQuestion === null || dataListQuestion === void 0 ? void 0 : dataListQuestion.Paragraph)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"box-action\",\n          children: userInformation && userInformation.RoleID !== 2 && /*#__PURE__*/_jsxDEV(Popconfirm, {\n            title: \"B\\u1EA1n c\\xF3 ch\\u1EAFc mu\\u1ED1n x\\xF3a?\",\n            onConfirm: () => handleOk(dataListQuestion),\n            okButtonProps: {\n              loading: confirmLoading\n            },\n            onCancel: () => handleCancel(dataListQuestion.ID),\n            children: /*#__PURE__*/_jsxDEV(Tooltip, {\n              title: \"X\\xF3a h\\u1EBFt c\\xE2u h\\u1ECFi\",\n              placement: \"rightTop\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-icon delete\",\n                onClick: () => deleteQuestionItem(dataListQuestion.ID),\n                children: /*#__PURE__*/_jsxDEV(Trash2, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 12\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 10\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 4\n    }, this), showContent && (dataListQuestion === null || dataListQuestion === void 0 ? void 0 : (_dataListQuestion$Exe2 = dataListQuestion.ExerciseList) === null || _dataListQuestion$Exe2 === void 0 ? void 0 : _dataListQuestion$Exe2.length) > 0 && /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table-question mt-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"C\\xE2u h\\u1ECFi\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u0110\\xE1p \\xE1n \\u0111\\xFAng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u0110\\xE1p \\xE1n g\\xE2y nhi\\u1EC5u\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: dataListQuestion === null || dataListQuestion === void 0 ? void 0 : (_dataListQuestion$Exe3 = dataListQuestion.ExerciseList) === null || _dataListQuestion$Exe3 === void 0 ? void 0 : _dataListQuestion$Exe3.map((item, index) => {\n          var _item$ExerciseAnswer, _item$ExerciseAnswer2;\n\n          return item.Enable && /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                width: '20%'\n              },\n              children: returnIndexQuestion(item)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: (_item$ExerciseAnswer = item.ExerciseAnswer) === null || _item$ExerciseAnswer === void 0 ? void 0 : _item$ExerciseAnswer.map((ans, i) => ans.Enable && ans.isTrue && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text\",\n                  children: ans.AnswerContent\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 16\n                }, this)\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 370,\n                columnNumber: 15\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: (_item$ExerciseAnswer2 = item.ExerciseAnswer) === null || _item$ExerciseAnswer2 === void 0 ? void 0 : _item$ExerciseAnswer2.map((ans, i) => ans.Enable && !ans.isTrue && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text\",\n                  children: ans.AnswerContent\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 384,\n                  columnNumber: 16\n                }, this)\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 15\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                width: '10%'\n              },\n              children: /*#__PURE__*/_jsxDEV(EditQuestion, {\n                dataGroup: dataListQuestion,\n                exerciseID: item.ID,\n                onEdit: dataEdit => onEdit(dataEdit)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 390,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 11\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 10\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 5\n    }, this), isGroup !== null && isGroup !== void 0 && isGroup.status && loadingInGroup ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Skeleton, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 5\n    }, this) : !showContent && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: '#dd4667'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        children: \"Nh\\xF3m n\\xE0y ch\\u01B0a c\\xF3 c\\xE2u h\\u1ECFi\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 6\n    }, this), loadingQuestion && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Skeleton, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n};\n\nexport default QuestionDrag;","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Global/QuestionBank/QuestionShow/QuestionDrag.tsx"],"names":["React","useEffect","useState","Skeleton","Modal","Popconfirm","Tooltip","Spin","Form","Input","Checkbox","Edit","Trash2","CloseOutlined","Plus","ReactHtmlParser","exerciseGroupApi","useWrap","AnsID","EditQuestion","props","dataGroup","exerciseID","onEdit","isModalVisible","setIsModalVisible","dataForm","setDataForm","indexExercise","setIndexExercise","reloadContent","setReloadContent","showNoti","userInformation","isLoading","setIsLoading","showModal","handleSubmit","newData","JSON","parse","stringify","ExerciseAnswer","forEach","item","isAdd","ID","ExerciseList","res","update","status","error","handleCancel","handleAddAnswer","questionID","push","AnswerContent","isTrue","Enable","onChange_text","e","AnswerID","QuestionID","text","target","value","indexAnswer","findIndex","deleteAnswerItem","splice","onChange_isCorrect","checked","loadData","getWithID","data","message","index","newArr","parseInt","Math","max","map","itemAns","width","inputID","QuestionDrag","listQuestion","loadingQuestion","onFetchData","onRemoveData","isGroup","onEditData","listAlphabet","groupID","setValue","dataListQuestion","setDataListQuestion","visible","setVisible","id","confirmLoading","setConfirmLoading","loadingInGroup","setLoadingInGroup","dataExercise","setDataExercise","showContent","setShowContent","onChange","preventDefault","dataEdit","deleteQuestionItem","quesID","handleOk","quesItem","isDeleteExercise","Paragraph","ExerciseGroupID","getQuestionInGroup","filterExerciseList","filter","checkShowContent","returnIndexQuestion","itemQues","title","ex","preventLoop","length","RoleID","loading","ans","i","color"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Skeleton, Modal, Popconfirm, Tooltip, Spin, Form, Input, Checkbox } from 'antd'\r\nimport { Info, Bookmark, Edit, Trash2 } from 'react-feather'\r\nimport { CloseOutlined } from '@ant-design/icons'\r\nimport { Plus } from 'react-feather'\r\n\r\nimport ReactHtmlParser, { processNodes, convertNodeToElement, htmlparser2 } from 'react-html-parser'\r\nimport { exerciseApi, exerciseGroupApi } from '~/apiBase'\r\nimport { useWrap } from '~/context/wrap'\r\n\r\nlet AnsID = 0\r\nconst EditQuestion = (props) => {\r\n\tconst { dataGroup, exerciseID, onEdit } = props\r\n\tconst [isModalVisible, setIsModalVisible] = useState(false)\r\n\tconst [dataForm, setDataForm] = useState(dataGroup)\r\n\tconst [indexExercise, setIndexExercise] = useState(null)\r\n\tconst [reloadContent, setReloadContent] = useState(false)\r\n\tconst { showNoti, userInformation } = useWrap()\r\n\tconst [isLoading, setIsLoading] = useState(false)\r\n\r\n\tconst showModal = () => {\r\n\t\tsetIsModalVisible(true)\r\n\t}\r\n\r\n\tconst handleSubmit = async () => {\r\n\t\tsetIsLoading(true)\r\n\r\n\t\tlet newData = JSON.parse(JSON.stringify(dataForm))\r\n\t\tnewData.ExerciseAnswer.forEach((item) => {\r\n\t\t\tif (item.isAdd) {\r\n\t\t\t\tdelete item.ID\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tdataGroup.ExerciseList[indexExercise] = newData\r\n\r\n\t\ttry {\r\n\t\t\tlet res = await exerciseGroupApi.update(dataGroup)\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tsetReloadContent(true)\r\n\t\t\t}\r\n\t\t} catch (error) {}\r\n\t}\r\n\r\n\tconst handleCancel = () => {\r\n\t\tsetIsModalVisible(false)\r\n\t}\r\n\r\n\t// ====== HANDLE ADD ANSWER ======\r\n\tconst handleAddAnswer = (questionID: number) => {\r\n\t\tAnsID++\r\n\t\tdataForm.ExerciseAnswer.push({\r\n\t\t\tID: AnsID,\r\n\t\t\tAnswerContent: '',\r\n\t\t\tisTrue: false,\r\n\t\t\tEnable: true,\r\n\t\t\tisAdd: true\r\n\t\t})\r\n\r\n\t\tsetDataForm({ ...dataForm })\r\n\t}\r\n\r\n\t// ====== HANDLE ON CHANGE ======\r\n\tconst onChange_text = (e: any, AnswerID: number, QuestionID) => {\r\n\t\tlet text = e.target.value\r\n\t\tlet indexAnswer = dataForm.ExerciseAnswer.findIndex((item) => item.ID == AnswerID)\r\n\t\tdataForm.ExerciseAnswer[indexAnswer].AnswerContent = text\r\n\t\tsetDataForm({ ...dataForm })\r\n\t}\r\n\r\n\tconst deleteAnswerItem = (AnswerID: number, QuestionID) => {\r\n\t\tlet indexAnswer = dataForm.ExerciseAnswer.findIndex((item) => item.ID == AnswerID)\r\n\t\tif (dataForm.ExerciseAnswer[indexAnswer].isAdd) {\r\n\t\t\tdataForm.ExerciseAnswer.splice(indexAnswer, 1)\r\n\t\t} else {\r\n\t\t\tdataForm.ExerciseAnswer[indexAnswer].Enable = false\r\n\t\t}\r\n\r\n\t\tsetDataForm({ ...dataForm })\r\n\t}\r\n\r\n\tconst onChange_isCorrect = (e, AnswerID: number) => {\r\n\t\tlet checked = e.target.checked\r\n\t\tlet indexAnswer = dataForm.ExerciseAnswer.findIndex((item) => item.ID == AnswerID)\r\n\r\n\t\tdataForm.ExerciseAnswer[indexAnswer].isTrue = checked\r\n\r\n\t\tsetDataForm({ ...dataForm })\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (reloadContent) {\r\n\t\t\t;(async function loadData() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet res = await exerciseGroupApi.getWithID(dataGroup.ID)\r\n\r\n\t\t\t\t\tif (res.status == 200) {\r\n\t\t\t\t\t\tshowNoti('success', `Thành công`)\r\n\t\t\t\t\t\tonEdit && onEdit(res.data.data)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tres.status == 204 && showNoti('danger', 'Không thành công')\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tshowNoti('danger', error.message)\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tsetReloadContent(false)\r\n\t\t\t\t\tsetIsModalVisible(false)\r\n\t\t\t\t\tsetIsLoading(false)\r\n\t\t\t\t\tsetDataForm(null)\r\n\t\t\t\t}\r\n\t\t\t})()\r\n\t\t}\r\n\t}, [reloadContent])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isModalVisible) {\r\n\t\t\t// Make new data\r\n\t\t\tlet index = dataGroup.ExerciseList.findIndex((item) => item.ID == exerciseID)\r\n\r\n\t\t\tlet data = dataGroup.ExerciseList[index]\r\n\t\t\tsetDataForm(data)\r\n\t\t\tsetIndexExercise(index)\r\n\r\n\t\t\t// Find max id in arr\r\n\t\t\tlet newArr = []\r\n\t\t\tdata.ExerciseAnswer.forEach((item) => {\r\n\t\t\t\tnewArr.push(parseInt(item.ID))\r\n\t\t\t})\r\n\t\t\tAnsID = Math.max(...newArr)\r\n\t\t}\r\n\t}, [isModalVisible])\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Tooltip title=\"Thêm/sửa đáp án\">\r\n\t\t\t\t<button className=\"btn btn-icon edit\" onClick={showModal}>\r\n\t\t\t\t\t<Edit />\r\n\t\t\t\t</button>\r\n\t\t\t</Tooltip>\r\n\t\t\t<Modal\r\n\t\t\t\tfooter={\r\n\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t<button className=\"btn btn-light mr-2\" onClick={handleCancel}>\r\n\t\t\t\t\t\t\tHủy tác vụ\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={() => handleSubmit()}>\r\n\t\t\t\t\t\t\tLưu\r\n\t\t\t\t\t\t\t{isLoading && <Spin className=\"loading-base\" />}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttitle=\"Sửa đáp án\"\r\n\t\t\t\tvisible={isModalVisible}\r\n\t\t\t\tonCancel={handleCancel}\r\n\t\t\t>\r\n\t\t\t\t{dataForm?.ExerciseAnswer?.map(\r\n\t\t\t\t\t(itemAns, index) =>\r\n\t\t\t\t\t\titemAns.Enable && (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<div className=\"w-100 d-flex align-items-center mt-2 form-create-question\" key={index}>\r\n\t\t\t\t\t\t\t\t\t<div className=\"row-ans\">\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox checked={itemAns.isTrue} onChange={(e) => onChange_isCorrect(e, itemAns.ID)}></Checkbox>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item className=\"mb-0\" style={{ width: '80%' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={itemAns.AnswerContent}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"style-input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => onChange_text(e, itemAns.ID, dataForm.inputID)}\r\n\t\t\t\t\t\t\t\t\t\t\t></Input>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t<button className=\"delete-ans\" onClick={() => deleteAnswerItem(itemAns.ID, dataForm.inputID)}>\r\n\t\t\t\t\t\t\t\t\t\t\t<CloseOutlined />\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t)}\r\n\t\t\t\t<Tooltip title=\"Thêm đáp án\">\r\n\t\t\t\t\t<button className=\"btn-add-answer mt-2\" onClick={() => handleAddAnswer(dataForm.inputID)}>\r\n\t\t\t\t\t\t<Plus />\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nconst QuestionDrag = (props: any) => {\r\n\tconst { listQuestion, loadingQuestion, onFetchData, onRemoveData, isGroup, onEditData, listAlphabet, groupID } = props\r\n\tconst [value, setValue] = React.useState(1)\r\n\tconst [dataListQuestion, setDataListQuestion] = useState(null)\r\n\tconst { showNoti, userInformation } = useWrap()\r\n\tconst [visible, setVisible] = useState({ id: null, status: false })\r\n\tconst [confirmLoading, setConfirmLoading] = useState(false)\r\n\tconst [loadingInGroup, setLoadingInGroup] = useState(false)\r\n\tconst [dataExercise, setDataExercise] = useState([])\r\n\tconst [showContent, setShowContent] = useState(false)\r\n\r\n\tconst onChange = (e) => {\r\n\t\te.preventDefault()\r\n\t\t// setValue(e.target.value);\r\n\t}\r\n\r\n\t// ON EDIT\r\n\tconst onEdit = (dataEdit) => {\r\n\t\tonEditData(dataEdit)\r\n\t}\r\n\r\n\tconst deleteQuestionItem = (quesID) => {\r\n\t\t!visible.status\r\n\t\t\t? setVisible({\r\n\t\t\t\t\tid: quesID,\r\n\t\t\t\t\tstatus: true\r\n\t\t\t  })\r\n\t\t\t: setVisible({\r\n\t\t\t\t\tid: quesID,\r\n\t\t\t\t\tstatus: false\r\n\t\t\t  })\r\n\t}\r\n\r\n\t// Chấp nhận xóa câu hỏi\r\n\tconst handleOk = async (data) => {\r\n\t\tsetConfirmLoading(true)\r\n\r\n\t\tlet quesItem = JSON.parse(JSON.stringify(dataListQuestion))\r\n\r\n\t\tquesItem?.ExerciseList?.forEach((item) => {\r\n\t\t\titem.Enable = false\r\n\t\t})\r\n\t\tquesItem.isDeleteExercise = true\r\n\t\tquesItem.Paragraph = '<p><br></p>'\r\n\t\tquesItem.ExerciseGroupID = null\r\n\r\n\t\ttry {\r\n\t\t\tlet res = await exerciseGroupApi.update(quesItem)\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tsetVisible({\r\n\t\t\t\t\t...visible,\r\n\t\t\t\t\tstatus: false\r\n\t\t\t\t})\r\n\t\t\t\tonRemoveData(quesItem)\r\n\t\t\t\tshowNoti('success', 'Xóa thành công')\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetConfirmLoading(false)\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleCancel = (quesID) => {\r\n\t\tsetVisible({\r\n\t\t\tid: quesID,\r\n\t\t\tstatus: false\r\n\t\t})\r\n\t}\r\n\r\n\tconst getQuestionInGroup = async () => {\r\n\t\tsetLoadingInGroup(true)\r\n\r\n\t\ttry {\r\n\t\t\tlet res = await exerciseGroupApi.getWithID(isGroup.id)\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tsetDataListQuestion(res.data.data)\r\n\t\t\t\tlet filterExerciseList = res.data.data.ExerciseList.filter((item) => item.Enable !== false)\r\n\t\t\t\tsetDataExercise([...filterExerciseList])\r\n\t\t\t\tcheckShowContent(res.data.data)\r\n\t\t\t}\r\n\r\n\t\t\tres.status == 204 && setDataListQuestion([])\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetLoadingInGroup(false)\r\n\t\t}\r\n\t}\r\n\r\n\t//RETURN INDEX QUESTION - Trả về thứ tự của từng câu hỏi\r\n\tconst returnIndexQuestion = (itemQues) => {\r\n\t\tlet title = ''\r\n\t\tlet index = dataExercise.findIndex((ex) => ex.inputID == itemQues.inputID)\r\n\t\ttitle = `Câu (${index + 1})`\r\n\t\treturn title\r\n\t}\r\n\r\n\tconst checkShowContent = (data) => {\r\n\t\tlet preventLoop = false\r\n\t\tdata.ExerciseList.length == 0 && setShowContent(false)\r\n\t\tdata.ExerciseList.forEach((item, index) => {\r\n\t\t\tif (item.Enable) {\r\n\t\t\t\tif (!preventLoop) {\r\n\t\t\t\t\tsetShowContent(true)\r\n\t\t\t\t\tpreventLoop = true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tif (!preventLoop) {\r\n\t\t\tsetShowContent(false)\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (listQuestion) {\r\n\t\t\tcheckShowContent(listQuestion)\r\n\t\t\tlet filterExerciseList = listQuestion?.ExerciseList.filter((item) => item.Enable !== false)\r\n\t\t\tsetDataListQuestion(listQuestion)\r\n\t\t\tsetDataExercise([...filterExerciseList])\r\n\t\t}\r\n\t}, [listQuestion])\r\n\r\n\tuseEffect(() => {\r\n\t\tisGroup.status && setDataListQuestion([])\r\n\t\tisGroup.status && isGroup.id && isGroup.id === groupID && getQuestionInGroup()\r\n\t\tif (!isGroup) {\r\n\t\t\treturn\r\n\t\t}\r\n\t}, [isGroup])\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"detail-question-typing\">\r\n\t\t\t\t{showContent && dataListQuestion?.ExerciseList?.length > 0 && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<div className=\"paragraph mb-3\">{ReactHtmlParser(dataListQuestion?.Paragraph)}</div>\r\n\t\t\t\t\t\t<div className=\"box-action\">\r\n\t\t\t\t\t\t\t{userInformation && userInformation.RoleID !== 2 && (\r\n\t\t\t\t\t\t\t\t<Popconfirm\r\n\t\t\t\t\t\t\t\t\ttitle=\"Bạn có chắc muốn xóa?\"\r\n\t\t\t\t\t\t\t\t\tonConfirm={() => handleOk(dataListQuestion)}\r\n\t\t\t\t\t\t\t\t\tokButtonProps={{ loading: confirmLoading }}\r\n\t\t\t\t\t\t\t\t\tonCancel={() => handleCancel(dataListQuestion.ID)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Tooltip title=\"Xóa hết câu hỏi\" placement=\"rightTop\">\r\n\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-icon delete\" onClick={() => deleteQuestionItem(dataListQuestion.ID)}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Trash2 />\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\r\n\t\t\t{showContent && dataListQuestion?.ExerciseList?.length > 0 && (\r\n\t\t\t\t<table className=\"table-question mt-3\">\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Câu hỏi</th>\r\n\t\t\t\t\t\t\t<th>Đáp án đúng</th>\r\n\t\t\t\t\t\t\t<th>Đáp án gây nhiễu</th>\r\n\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{dataListQuestion?.ExerciseList?.map(\r\n\t\t\t\t\t\t\t(item, index) =>\r\n\t\t\t\t\t\t\t\titem.Enable && (\r\n\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t<td style={{ width: '20%' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t{returnIndexQuestion(item)}\r\n\t\t\t\t\t\t\t\t\t\t\t{/* {`Câu (${index + 1})`} */}\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t{item.ExerciseAnswer?.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t(ans, i) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tans.Enable &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tans.isTrue && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <span className=\"tick\">- </span> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text\">{ans.AnswerContent}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t{item.ExerciseAnswer?.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t(ans, i) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tans.Enable &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t!ans.isTrue && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <span className=\"tick\">- </span> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text\">{ans.AnswerContent}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td style={{ width: '10%' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t{<EditQuestion dataGroup={dataListQuestion} exerciseID={item.ID} onEdit={(dataEdit) => onEdit(dataEdit)} />}\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t)}\r\n\r\n\t\t\t{/* {dataListQuestion?.ExerciseList?.map((item, index) => (\r\n        <div className=\"question-item\" key={index}>\r\n          <div className=\"box-detail\">\r\n            <div className=\"box-title\">\r\n              <span className=\"title-ques\">Câu hỏi {index + 1}</span>\r\n            </div>\r\n            <div className=\"box-answer\">\r\n              <div className=\"question-single question-wrap w-100\">\r\n                {item.ExerciseAnswer?.map((ans, i) => (\r\n                  <div>\r\n                    <span className=\"tick\">- </span>\r\n                    <span className=\"text\">{ans.AnswerContent}</span>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ))} */}\r\n\r\n\t\t\t{isGroup?.status && loadingInGroup ? (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Skeleton />\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t!showContent && (\r\n\t\t\t\t\t<p style={{ color: '#dd4667' }}>\r\n\t\t\t\t\t\t<i>Nhóm này chưa có câu hỏi</i>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t)\r\n\t\t\t)}\r\n\t\t\t{loadingQuestion && (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Skeleton />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default QuestionDrag\r\n"]},"metadata":{},"sourceType":"module"}