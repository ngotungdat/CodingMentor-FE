{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Profile\\\\ProfileCustomer\\\\InfoPaymentCard\\\\InfoPaymentCard.tsx\",\n    _s = $RefreshSig$();\n\nimport { Divider } from 'antd';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nimport { billCourseApi } from '~/apiBase/course/bill-course';\nimport { useWrap } from '~/context/wrap';\nimport { numberWithCommas } from '~/utils/functions';\nimport PaymentCourseTable from './PaymentCourseTable';\nimport PaymentExamTable from './PaymentExamTable';\nimport RefundsTable from './RefundsTable';\nInfoPaymentCard.propTypes = {\n  studentID: PropTypes.number,\n  isInfo: PropTypes.any\n};\nInfoPaymentCard.defaultProps = {\n  studentID: 0,\n  isInfo: false\n};\n\nfunction InfoPaymentCard(props) {\n  _s();\n\n  var studentID = props.studentID,\n      isInfo = props.isInfo;\n\n  var _useWrap = useWrap(),\n      showNoti = _useWrap.showNoti,\n      userInformation = _useWrap.userInformation;\n\n  var _useState = useState(0),\n      totalDebt = _useState[0],\n      setTotalDebt = _useState[1];\n\n  var getCourseOfStudentPriceAll = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res, rs;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return billCourseApi.getAll({\n                pageSize: 9999,\n                pageIndex: 1,\n                StudentID: isInfo ? userInformation === null || userInformation === void 0 ? void 0 : userInformation.UserInformationID : studentID\n              });\n\n            case 3:\n              res = _context.sent;\n\n              if (res.status === 200) {\n                rs = res.data.data.reduce(function (total, course) {\n                  total += course.MoneyInDebt;\n                  return total;\n                }, 0);\n                setTotalDebt(rs);\n              }\n\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              showNoti('danger', _context.t0.message);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n\n    return function getCourseOfStudentPriceAll() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    getCourseOfStudentPriceAll();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pt-3 mb-3\",\n      children: /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: [\"H\\u1ECDc ph\\xED c\\xF2n n\\u1EE3: \", numberWithCommas(totalDebt), \" VN\\u0110\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(PaymentCourseTable, {\n      studentID: studentID\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(PaymentExamTable, {\n      studentID: studentID\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(RefundsTable, {\n      studentID: studentID\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 3\n  }, this);\n}\n\n_s(InfoPaymentCard, \"Nutw8rMOWZyktCzYWC/r8nY8CwA=\", false, function () {\n  return [useWrap];\n});\n\n_c = InfoPaymentCard;\nexport default InfoPaymentCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"InfoPaymentCard\");","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Profile/ProfileCustomer/InfoPaymentCard/InfoPaymentCard.tsx"],"names":["Divider","PropTypes","React","useEffect","useState","billCourseApi","useWrap","numberWithCommas","PaymentCourseTable","PaymentExamTable","RefundsTable","InfoPaymentCard","propTypes","studentID","number","isInfo","any","defaultProps","props","showNoti","userInformation","totalDebt","setTotalDebt","getCourseOfStudentPriceAll","getAll","pageSize","pageIndex","StudentID","UserInformationID","res","status","rs","data","reduce","total","course","MoneyInDebt","message"],"mappings":"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","sourcesContent":["import { Divider } from 'antd'\r\nimport PropTypes from 'prop-types'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { billCourseApi } from '~/apiBase/course/bill-course'\r\nimport { useWrap } from '~/context/wrap'\r\nimport { numberWithCommas } from '~/utils/functions'\r\nimport PaymentCourseTable from './PaymentCourseTable'\r\nimport PaymentExamTable from './PaymentExamTable'\r\nimport RefundsTable from './RefundsTable'\r\n\r\nInfoPaymentCard.propTypes = {\r\n\tstudentID: PropTypes.number,\r\n\tisInfo: PropTypes.any\r\n}\r\nInfoPaymentCard.defaultProps = {\r\n\tstudentID: 0,\r\n\tisInfo: false\r\n}\r\nfunction InfoPaymentCard(props) {\r\n\tconst { studentID, isInfo } = props\r\n\tconst { showNoti, userInformation } = useWrap()\r\n\tconst [totalDebt, setTotalDebt] = useState<number>(0)\r\n\r\n\tconst getCourseOfStudentPriceAll = async () => {\r\n\t\ttry {\r\n\t\t\tconst res = await billCourseApi.getAll({\r\n\t\t\t\tpageSize: 9999,\r\n\t\t\t\tpageIndex: 1,\r\n\t\t\t\tStudentID: isInfo ? userInformation?.UserInformationID : studentID\r\n\t\t\t})\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tconst rs = res.data.data.reduce((total, course) => {\r\n\t\t\t\t\ttotal += course.MoneyInDebt\r\n\t\t\t\t\treturn total\r\n\t\t\t\t}, 0)\r\n\t\t\t\tsetTotalDebt(rs)\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tgetCourseOfStudentPriceAll()\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className=\"pt-3 mb-3\">\r\n\t\t\t\t<h5>Học phí còn nợ: {numberWithCommas(totalDebt)} VNĐ</h5>\r\n\t\t\t</div>\r\n\t\t\t<PaymentCourseTable studentID={studentID} />\r\n\t\t\t<Divider />\r\n\t\t\t<PaymentExamTable studentID={studentID} />\r\n\t\t\t<Divider />\r\n\t\t\t<RefundsTable studentID={studentID} />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default InfoPaymentCard\r\n"]},"metadata":{},"sourceType":"module"}