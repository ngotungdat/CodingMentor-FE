{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Global\\\\Option\\\\StaffSalaryForm.tsx\";\nimport { Form, Input, InputNumber, Modal, Select, Spin, Tooltip } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { userInformationApi } from '~/apiBase';\nimport { useWrap } from '~/context/wrap';\n\nconst StaffSalaryForm = props => {\n  var _props$rowData, _props$rowData2;\n\n  const {\n    Option\n  } = Select;\n  const {\n    0: isModalVisible,\n    1: setIsModalVisible\n  } = useState(false);\n  const [form] = Form.useForm();\n  const {\n    0: isTeacher,\n    1: setIsTeacher\n  } = useState(false);\n  const {\n    0: roles,\n    1: setRoles\n  } = useState([]);\n  const {\n    0: dataStaff,\n    1: setDataStaff\n  } = useState([]);\n  const {\n    0: paramsDataStaff,\n    1: setParamsDataStaff\n  } = useState(null);\n  const {\n    pageSize,\n    showNoti\n  } = useWrap();\n  const {\n    0: paramsSearchStaff,\n    1: setParamsSearchStaff\n  } = useState({\n    pageIndex: 1,\n    pageSize: pageSize,\n    FullNameUnicode: ''\n  });\n  const {\n    0: isLoading,\n    1: setIsLoading\n  } = useState({\n    status: '',\n    loading: false\n  });\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    formState: {\n      isSubmitting,\n      errors,\n      isSubmitted\n    }\n  } = useForm();\n\n  const setValueStaff = (value, data) => {\n    setValue('UserInformationID', value);\n\n    if (data.role === 2) {\n      setValue('Style', 1);\n      setIsTeacher(true);\n    } else {\n      setIsTeacher(false);\n    }\n  };\n\n  const onSubmit = handleSubmit(data => {\n    if (typeof data.Salary == 'string') {\n      data.Salary = Number(data.Salary.replace(/\\$\\s?|(,*)/g, ''));\n    }\n\n    if (props.dataStaff && props.dataStaff.length > 0) {\n      let res = props._onSubmit(data);\n\n      res.then(function (rs) {\n        rs && rs.status == 200 && setIsModalVisible(false), form.resetFields(), setParamsDataStaff(null);\n      });\n    } else {\n      let res = props._onSubmitStaff(data);\n\n      res.then(function (rs) {\n        rs && rs.status == 200 && setIsModalVisible(false), form.resetFields(), setParamsDataStaff(null);\n      });\n    }\n  }); // GET DATA USERINFORMATION\n\n  const getDataStaff = () => {\n    setIsLoading({\n      status: 'GET_ALL',\n      loading: true\n    });\n\n    (async () => {\n      try {\n        let res = await userInformationApi.getAllRole(paramsDataStaff);\n        res.status == 200 && setDataStaff(res.data.data);\n\n        if (res.status == 204) {\n          setDataStaff([]);\n        }\n      } catch (error) {\n        showNoti('danger', error.message);\n      } finally {\n        setIsLoading({\n          status: 'GET_ALL',\n          loading: false\n        });\n      }\n    })();\n  };\n\n  const getSearchDataStaff = name => {\n    setIsLoading({\n      status: 'GET_ALL',\n      loading: true\n    });\n\n    (async () => {\n      try {\n        let res = await userInformationApi.getName({\n          pageIndex: 1,\n          pageSize: pageSize,\n          FullNameUnicode: name\n        });\n        res.status == 200 && setDataStaff(res.data.data);\n\n        if (res.status == 204) {\n          setDataStaff([]);\n        }\n\n        if (res.status == 204) {\n          setDataStaff([]);\n        }\n      } catch (error) {\n        showNoti('danger', error.message);\n      } finally {\n        setIsLoading({\n          status: 'GET_ALL',\n          loading: false\n        });\n      }\n    })();\n  };\n\n  const getRoles = async roleType => {\n    setIsLoading({\n      status: 'GET_ALL',\n      loading: true\n    });\n\n    try {\n      let res = await userInformationApi.getRole(roleType);\n\n      if (res.status == 200) {\n        setRoles(res.data.data);\n      }\n\n      if (res.status == 204) {\n        setRoles([]);\n      }\n    } catch (error) {} finally {\n      setIsLoading({\n        status: 'GET_ALL',\n        loading: false\n      });\n    }\n  };\n\n  useEffect(() => {\n    getDataStaff();\n  }, [paramsDataStaff]);\n  useEffect(() => {\n    if (isModalVisible) {\n      form.setFieldsValue({\n        Style: 1\n      });\n      setValue('Style', 1);\n\n      if (props.rowData) {\n        if (props.rowData.RoleID === 2) {\n          setIsTeacher(true);\n        }\n\n        Object.keys(props.rowData).forEach(function (key) {\n          setValue(key, props.rowData[key]);\n        });\n      }\n    }\n  }, [isModalVisible]);\n  useEffect(() => {\n    getRoles(1);\n  }, []); // Select search\n\n  function onSearch(val) {\n    if (val.length == 0) {\n      getDataStaff();\n    } else {\n      getSearchDataStaff(val);\n    }\n  }\n\n  useEffect(() => {\n    if (props.dataIDStaff && props.dataStaff.length === 1) {\n      form.setFieldsValue({\n        Staff: props.dataStaff[0].FullNameUnicode\n      });\n      setValue('UserInformationID', props.dataIDStaff);\n      form.setFieldsValue({\n        Style: 1\n      });\n      setValue('Style', 1);\n    }\n  }, [props.dataIDStaff]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [props.showIcon && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-icon edit\",\n      onClick: () => {\n        setIsModalVisible(true);\n        props.setUpdateSalary({\n          type: 'update',\n          SalaryID: props.rowData.SalaryID\n        });\n      },\n      children: /*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"C\\u1EADp nh\\u1EADt\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-edit\",\n          style: {\n            color: '#34c4a4',\n            fontSize: 16,\n            marginBottom: -1\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 5\n    }, this), props.showAdd && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-warning add-new\",\n      onClick: () => {\n        setIsModalVisible(true);\n        props.setUpdateSalary({\n          type: 'add',\n          SalaryID: null\n        });\n      },\n      children: \"Th\\xEAm m\\u1EDBi\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      title: /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: props.showAdd ? 'Thêm Lương Nhân Viên' : 'Cập Nhật Lương Nhân Viên'\n      }, void 0, false),\n      visible: props.isOpenModalFromOutSide ? props.isOpenModalFromOutSide : isModalVisible,\n      onCancel: () => props.openModalFromOutSide ? props.openModalFromOutSide() : setIsModalVisible(false),\n      footer: null,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid\",\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          form: form,\n          layout: \"vertical\",\n          onFinish: onSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12\",\n              children: props.showAdd || props.showInTeacherView ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [props.isOpenModalFromOutSide ? /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) : /*#__PURE__*/_jsxDEV(Form.Item, {\n                  label: \"Ch\\u1ECDn ch\\u1EE9c v\\u1EE5\",\n                  name: \"Role\" // rules={[{ required: true, message: 'Bạn không được để trống' }]}\n                  ,\n                  children: /*#__PURE__*/_jsxDEV(Select, {\n                    className: \"style-input\",\n                    placeholder: \"Ch\\u1ECDn ch\\u1EE9c v\\u1EE5\",\n                    allowClear: true,\n                    onChange: (value, role) => {\n                      setParamsDataStaff(value);\n                    },\n                    children: roles && roles.map((role, index) => /*#__PURE__*/_jsxDEV(Option, {\n                      value: role.ID,\n                      role: role.ID,\n                      children: role.name\n                    }, index, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 229,\n                      columnNumber: 16\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 219,\n                    columnNumber: 13\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n                  label: \"Nh\\xE2n vi\\xEAn\",\n                  name: \"Staff\",\n                  rules: [{\n                    required: true,\n                    message: 'Bạn không được để trống'\n                  }],\n                  initialValue: props.dataStaff && props.dataStaff.length > 0 && props.dataStaff[0].FullNameUnicode,\n                  children: /*#__PURE__*/_jsxDEV(Select, {\n                    className: \"style-input\",\n                    placeholder: \"Ch\\u1ECDn nh\\xE2n vi\\xEAn\",\n                    onChange: (value, role) => setValueStaff(value, role),\n                    onSearch: onSearch,\n                    optionFilterProp: \"children\",\n                    showSearch: true,\n                    filterOption: (input, option) => !isLoading.loading && option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0,\n                    children: props.dataStaff && props.dataStaff.length > 0 ? props.dataStaff && /*#__PURE__*/_jsxDEV(Option, {\n                      value: props.dataStaff[0].UserInformationID,\n                      children: props.dataStaff[0].FullNameUnicode\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 255,\n                      columnNumber: 15\n                    }, this) : isLoading.loading ? /*#__PURE__*/_jsxDEV(Option, {\n                      value: \"\",\n                      className: \"spin-center\",\n                      children: /*#__PURE__*/_jsxDEV(Spin, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 259,\n                        columnNumber: 15\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 258,\n                      columnNumber: 14\n                    }, this) : dataStaff && dataStaff.map(row => /*#__PURE__*/_jsxDEV(Option, {\n                      value: row.UserInformationID,\n                      role: row.RoleID,\n                      children: row.FullNameUnicode\n                    }, row.UserInformationID, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 264,\n                      columnNumber: 15\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 242,\n                    columnNumber: 12\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 11\n                }, this)]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(Form.Item, {\n                label: \"Ghi ch\\xFA\",\n                name: \"Note\",\n                children: /*#__PURE__*/_jsxDEV(Input, {\n                  placeholder: \"Note\",\n                  className: \"style-input\",\n                  allowClear: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12\",\n              children: isTeacher || props.showInTeacherView ? /*#__PURE__*/_jsxDEV(Form.Item, {\n                label: \"Lo\\u1EA1i\",\n                name: \"Style\",\n                rules: [{\n                  required: true,\n                  message: 'Bạn không được để trống'\n                }],\n                initialValue: (_props$rowData = props.rowData) === null || _props$rowData === void 0 ? void 0 : _props$rowData.StyleName,\n                children: /*#__PURE__*/_jsxDEV(Select, {\n                  className: \"style-input\",\n                  placeholder: \"Style\",\n                  allowClear: true,\n                  onChange: value => setValue('Style', value),\n                  disabled: true,\n                  children: /*#__PURE__*/_jsxDEV(Option, {\n                    value: 1,\n                    children: \"T\\xEDnh l\\u01B0\\u01A1ng theo th\\xE1ng\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 296,\n                    columnNumber: 12\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 10\n              }, this) : /*#__PURE__*/_jsxDEV(Form.Item, {\n                label: \"Lo\\u1EA1i\",\n                name: \"Style\",\n                rules: [{\n                  required: true,\n                  message: 'Bạn không được để trống'\n                }],\n                initialValue: \"T\\xEDnh l\\u01B0\\u01A1ng theo th\\xE1ng\",\n                children: /*#__PURE__*/_jsxDEV(Select, {\n                  className: \"style-input\",\n                  placeholder: \"Salary Type\",\n                  allowClear: true,\n                  disabled: true,\n                  children: /*#__PURE__*/_jsxDEV(Option, {\n                    value: 1,\n                    children: \"T\\xEDnh l\\u01B0\\u01A1ng theo th\\xE1ng\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 307,\n                    columnNumber: 12\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12\",\n              children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                label: \"M\\u1EE9c L\\u01B0\\u01A1ng\",\n                name: \"Salary Const\",\n                rules: [{\n                  required: true,\n                  message: 'Bạn không được để trống'\n                }],\n                initialValue: (_props$rowData2 = props.rowData) === null || _props$rowData2 === void 0 ? void 0 : _props$rowData2.Salary,\n                children: /*#__PURE__*/_jsxDEV(InputNumber, {\n                  className: \"ant-input style-input w-100\",\n                  formatter: value => `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ','),\n                  parser: value => value.replace(/\\$\\s?|(,*)/g, ''),\n                  onChange: value => setValue('Salary', value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row \",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn btn-primary w-100\",\n                disabled: props.isLoading.type == 'ADD_DATA' && props.isLoading.status,\n                children: [\"L\\u01B0u\", props.isLoading.type == 'ADD_DATA' && props.isLoading.status && /*#__PURE__*/_jsxDEV(Spin, {\n                  className: \"loading-base\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 75\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n};\n\nexport default StaffSalaryForm;","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Global/Option/StaffSalaryForm.tsx"],"names":["Form","Input","InputNumber","Modal","Select","Spin","Tooltip","React","useEffect","useState","useForm","userInformationApi","useWrap","StaffSalaryForm","props","Option","isModalVisible","setIsModalVisible","form","isTeacher","setIsTeacher","roles","setRoles","dataStaff","setDataStaff","paramsDataStaff","setParamsDataStaff","pageSize","showNoti","paramsSearchStaff","setParamsSearchStaff","pageIndex","FullNameUnicode","isLoading","setIsLoading","status","loading","register","handleSubmit","setValue","formState","isSubmitting","errors","isSubmitted","setValueStaff","value","data","role","onSubmit","Salary","Number","replace","length","res","_onSubmit","then","rs","resetFields","_onSubmitStaff","getDataStaff","getAllRole","error","message","getSearchDataStaff","name","getName","getRoles","roleType","getRole","setFieldsValue","Style","rowData","RoleID","Object","keys","forEach","key","onSearch","val","dataIDStaff","Staff","showIcon","setUpdateSalary","type","SalaryID","color","fontSize","marginBottom","showAdd","isOpenModalFromOutSide","openModalFromOutSide","showInTeacherView","map","index","ID","required","input","option","children","toLowerCase","indexOf","UserInformationID","row","StyleName"],"mappings":";;;AAAA,SAASA,IAAT,EAAeC,KAAf,EAAsBC,WAAtB,EAAmCC,KAAnC,EAA0CC,MAA1C,EAAkDC,IAAlD,EAAwDC,OAAxD,QAAuE,MAAvE;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,SAASC,kBAAT,QAAmC,WAAnC;AACA,SAASC,OAAT,QAAwB,gBAAxB;;AAEA,MAAMC,eAAe,GAAIC,KAAD,IAAW;AAAA;;AAClC,QAAM;AAAEC,IAAAA;AAAF,MAAaX,MAAnB;AAEA,QAAM;AAAA,OAACY,cAAD;AAAA,OAAiBC;AAAjB,MAAsCR,QAAQ,CAAC,KAAD,CAApD;AACA,QAAM,CAACS,IAAD,IAASlB,IAAI,CAACU,OAAL,EAAf;AACA,QAAM;AAAA,OAACS,SAAD;AAAA,OAAYC;AAAZ,MAA4BX,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM;AAAA,OAACY,KAAD;AAAA,OAAQC;AAAR,MAAoBb,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM;AAAA,OAACc,SAAD;AAAA,OAAYC;AAAZ,MAA4Bf,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM;AAAA,OAACgB,eAAD;AAAA,OAAkBC;AAAlB,MAAwCjB,QAAQ,CAAC,IAAD,CAAtD;AACA,QAAM;AAAEkB,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,MAAyBhB,OAAO,EAAtC;AACA,QAAM;AAAA,OAACiB,iBAAD;AAAA,OAAoBC;AAApB,MAA4CrB,QAAQ,CAAC;AAAEsB,IAAAA,SAAS,EAAE,CAAb;AAAgBJ,IAAAA,QAAQ,EAAEA,QAA1B;AAAoCK,IAAAA,eAAe,EAAE;AAArD,GAAD,CAA1D;AAEA,QAAM;AAAA,OAACC,SAAD;AAAA,OAAYC;AAAZ,MAA4BzB,QAAQ,CAAC;AAC1C0B,IAAAA,MAAM,EAAE,EADkC;AAE1CC,IAAAA,OAAO,EAAE;AAFiC,GAAD,CAA1C;AAKA,QAAM;AACLC,IAAAA,QADK;AAELC,IAAAA,YAFK;AAGLC,IAAAA,QAHK;AAILC,IAAAA,SAAS,EAAE;AAAEC,MAAAA,YAAF;AAAgBC,MAAAA,MAAhB;AAAwBC,MAAAA;AAAxB;AAJN,MAKFjC,OAAO,EALX;;AAOA,QAAMkC,aAAa,GAAG,CAACC,KAAD,EAAQC,IAAR,KAAiB;AACtCP,IAAAA,QAAQ,CAAC,mBAAD,EAAsBM,KAAtB,CAAR;;AACA,QAAIC,IAAI,CAACC,IAAL,KAAc,CAAlB,EAAqB;AACpBR,MAAAA,QAAQ,CAAC,OAAD,EAAU,CAAV,CAAR;AACAnB,MAAAA,YAAY,CAAC,IAAD,CAAZ;AACA,KAHD,MAGO;AACNA,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACA;AACD,GARD;;AAUA,QAAM4B,QAAQ,GAAGV,YAAY,CAAEQ,IAAD,IAAe;AAC5C,QAAI,OAAOA,IAAI,CAACG,MAAZ,IAAsB,QAA1B,EAAoC;AACnCH,MAAAA,IAAI,CAACG,MAAL,GAAcC,MAAM,CAACJ,IAAI,CAACG,MAAL,CAAYE,OAAZ,CAAoB,aAApB,EAAmC,EAAnC,CAAD,CAApB;AACA;;AACD,QAAIrC,KAAK,CAACS,SAAN,IAAmBT,KAAK,CAACS,SAAN,CAAgB6B,MAAhB,GAAyB,CAAhD,EAAmD;AAClD,UAAIC,GAAG,GAAGvC,KAAK,CAACwC,SAAN,CAAgBR,IAAhB,CAAV;;AACAO,MAAAA,GAAG,CAACE,IAAJ,CAAS,UAAUC,EAAV,EAAmB;AAC3BA,QAAAA,EAAE,IAAIA,EAAE,CAACrB,MAAH,IAAa,GAAnB,IAA0BlB,iBAAiB,CAAC,KAAD,CAA3C,EAAoDC,IAAI,CAACuC,WAAL,EAApD,EAAwE/B,kBAAkB,CAAC,IAAD,CAA1F;AACA,OAFD;AAGA,KALD,MAKO;AACN,UAAI2B,GAAG,GAAGvC,KAAK,CAAC4C,cAAN,CAAqBZ,IAArB,CAAV;;AACAO,MAAAA,GAAG,CAACE,IAAJ,CAAS,UAAUC,EAAV,EAAmB;AAC3BA,QAAAA,EAAE,IAAIA,EAAE,CAACrB,MAAH,IAAa,GAAnB,IAA0BlB,iBAAiB,CAAC,KAAD,CAA3C,EAAoDC,IAAI,CAACuC,WAAL,EAApD,EAAwE/B,kBAAkB,CAAC,IAAD,CAA1F;AACA,OAFD;AAGA;AACD,GAf4B,CAA7B,CAlCkC,CAmDlC;;AACA,QAAMiC,YAAY,GAAG,MAAM;AAC1BzB,IAAAA,YAAY,CAAC;AACZC,MAAAA,MAAM,EAAE,SADI;AAEZC,MAAAA,OAAO,EAAE;AAFG,KAAD,CAAZ;;AAIC,KAAC,YAAY;AACb,UAAI;AACH,YAAIiB,GAAG,GAAG,MAAM1C,kBAAkB,CAACiD,UAAnB,CAA8BnC,eAA9B,CAAhB;AACA4B,QAAAA,GAAG,CAAClB,MAAJ,IAAc,GAAd,IAAqBX,YAAY,CAAC6B,GAAG,CAACP,IAAJ,CAASA,IAAV,CAAjC;;AACA,YAAIO,GAAG,CAAClB,MAAJ,IAAc,GAAlB,EAAuB;AACtBX,UAAAA,YAAY,CAAC,EAAD,CAAZ;AACA;AACD,OAND,CAME,OAAOqC,KAAP,EAAc;AACfjC,QAAAA,QAAQ,CAAC,QAAD,EAAWiC,KAAK,CAACC,OAAjB,CAAR;AACA,OARD,SAQU;AACT5B,QAAAA,YAAY,CAAC;AACZC,UAAAA,MAAM,EAAE,SADI;AAEZC,UAAAA,OAAO,EAAE;AAFG,SAAD,CAAZ;AAIA;AACD,KAfA;AAgBD,GArBD;;AAuBA,QAAM2B,kBAAkB,GAAIC,IAAD,IAAU;AACpC9B,IAAAA,YAAY,CAAC;AACZC,MAAAA,MAAM,EAAE,SADI;AAEZC,MAAAA,OAAO,EAAE;AAFG,KAAD,CAAZ;;AAIC,KAAC,YAAY;AACb,UAAI;AACH,YAAIiB,GAAG,GAAG,MAAM1C,kBAAkB,CAACsD,OAAnB,CAA2B;AAAElC,UAAAA,SAAS,EAAE,CAAb;AAAgBJ,UAAAA,QAAQ,EAAEA,QAA1B;AAAoCK,UAAAA,eAAe,EAAEgC;AAArD,SAA3B,CAAhB;AACAX,QAAAA,GAAG,CAAClB,MAAJ,IAAc,GAAd,IAAqBX,YAAY,CAAC6B,GAAG,CAACP,IAAJ,CAASA,IAAV,CAAjC;;AACA,YAAIO,GAAG,CAAClB,MAAJ,IAAc,GAAlB,EAAuB;AACtBX,UAAAA,YAAY,CAAC,EAAD,CAAZ;AACA;;AACD,YAAI6B,GAAG,CAAClB,MAAJ,IAAc,GAAlB,EAAuB;AACtBX,UAAAA,YAAY,CAAC,EAAD,CAAZ;AACA;AACD,OATD,CASE,OAAOqC,KAAP,EAAc;AACfjC,QAAAA,QAAQ,CAAC,QAAD,EAAWiC,KAAK,CAACC,OAAjB,CAAR;AACA,OAXD,SAWU;AACT5B,QAAAA,YAAY,CAAC;AACZC,UAAAA,MAAM,EAAE,SADI;AAEZC,UAAAA,OAAO,EAAE;AAFG,SAAD,CAAZ;AAIA;AACD,KAlBA;AAmBD,GAxBD;;AA0BA,QAAM8B,QAAQ,GAAG,MAAOC,QAAP,IAAoB;AACpCjC,IAAAA,YAAY,CAAC;AACZC,MAAAA,MAAM,EAAE,SADI;AAEZC,MAAAA,OAAO,EAAE;AAFG,KAAD,CAAZ;;AAIA,QAAI;AACH,UAAIiB,GAAG,GAAG,MAAM1C,kBAAkB,CAACyD,OAAnB,CAA2BD,QAA3B,CAAhB;;AACA,UAAId,GAAG,CAAClB,MAAJ,IAAc,GAAlB,EAAuB;AACtBb,QAAAA,QAAQ,CAAC+B,GAAG,CAACP,IAAJ,CAASA,IAAV,CAAR;AACA;;AACD,UAAIO,GAAG,CAAClB,MAAJ,IAAc,GAAlB,EAAuB;AACtBb,QAAAA,QAAQ,CAAC,EAAD,CAAR;AACA;AACD,KARD,CAQE,OAAOuC,KAAP,EAAc,CACf,CATD,SASU;AACT3B,MAAAA,YAAY,CAAC;AACZC,QAAAA,MAAM,EAAE,SADI;AAEZC,QAAAA,OAAO,EAAE;AAFG,OAAD,CAAZ;AAIA;AACD,GApBD;;AAsBA5B,EAAAA,SAAS,CAAC,MAAM;AACfmD,IAAAA,YAAY;AACZ,GAFQ,EAEN,CAAClC,eAAD,CAFM,CAAT;AAIAjB,EAAAA,SAAS,CAAC,MAAM;AACf,QAAIQ,cAAJ,EAAoB;AACnBE,MAAAA,IAAI,CAACmD,cAAL,CAAoB;AAAEC,QAAAA,KAAK,EAAE;AAAT,OAApB;AACA/B,MAAAA,QAAQ,CAAC,OAAD,EAAU,CAAV,CAAR;;AACA,UAAIzB,KAAK,CAACyD,OAAV,EAAmB;AAClB,YAAIzD,KAAK,CAACyD,OAAN,CAAcC,MAAd,KAAyB,CAA7B,EAAgC;AAC/BpD,UAAAA,YAAY,CAAC,IAAD,CAAZ;AACA;;AACDqD,QAAAA,MAAM,CAACC,IAAP,CAAY5D,KAAK,CAACyD,OAAlB,EAA2BI,OAA3B,CAAmC,UAAUC,GAAV,EAAe;AACjDrC,UAAAA,QAAQ,CAACqC,GAAD,EAAM9D,KAAK,CAACyD,OAAN,CAAcK,GAAd,CAAN,CAAR;AACA,SAFD;AAGA;AACD;AACD,GAbQ,EAaN,CAAC5D,cAAD,CAbM,CAAT;AAeAR,EAAAA,SAAS,CAAC,MAAM;AACf0D,IAAAA,QAAQ,CAAC,CAAD,CAAR;AACA,GAFQ,EAEN,EAFM,CAAT,CA9IkC,CAkJlC;;AACA,WAASW,QAAT,CAAkBC,GAAlB,EAAuB;AACtB,QAAIA,GAAG,CAAC1B,MAAJ,IAAc,CAAlB,EAAqB;AACpBO,MAAAA,YAAY;AACZ,KAFD,MAEO;AACNI,MAAAA,kBAAkB,CAACe,GAAD,CAAlB;AACA;AACD;;AAEDtE,EAAAA,SAAS,CAAC,MAAM;AACf,QAAIM,KAAK,CAACiE,WAAN,IAAqBjE,KAAK,CAACS,SAAN,CAAgB6B,MAAhB,KAA2B,CAApD,EAAuD;AACtDlC,MAAAA,IAAI,CAACmD,cAAL,CAAoB;AACnBW,QAAAA,KAAK,EAAElE,KAAK,CAACS,SAAN,CAAgB,CAAhB,EAAmBS;AADP,OAApB;AAGAO,MAAAA,QAAQ,CAAC,mBAAD,EAAsBzB,KAAK,CAACiE,WAA5B,CAAR;AACA7D,MAAAA,IAAI,CAACmD,cAAL,CAAoB;AAAEC,QAAAA,KAAK,EAAE;AAAT,OAApB;AACA/B,MAAAA,QAAQ,CAAC,OAAD,EAAU,CAAV,CAAR;AACA;AACD,GATQ,EASN,CAACzB,KAAK,CAACiE,WAAP,CATM,CAAT;AAUA,sBACC;AAAA,eACEjE,KAAK,CAACmE,QAAN,iBACA;AACC,MAAA,SAAS,EAAC,mBADX;AAEC,MAAA,OAAO,EAAE,MAAM;AACdhE,QAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACAH,QAAAA,KAAK,CAACoE,eAAN,CAAsB;AAAEC,UAAAA,IAAI,EAAE,QAAR;AAAkBC,UAAAA,QAAQ,EAAEtE,KAAK,CAACyD,OAAN,CAAca;AAA1C,SAAtB;AACA,OALF;AAAA,6BAOC,QAAC,OAAD;AAAS,QAAA,KAAK,EAAC,oBAAf;AAAA,+BACC;AAAG,UAAA,SAAS,EAAC,aAAb;AAA2B,UAAA,KAAK,EAAE;AAAEC,YAAAA,KAAK,EAAE,SAAT;AAAoBC,YAAAA,QAAQ,EAAE,EAA9B;AAAkCC,YAAAA,YAAY,EAAE,CAAC;AAAjD;AAAlC;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AAPD;AAAA;AAAA;AAAA;AAAA,YAFF,EAcEzE,KAAK,CAAC0E,OAAN,iBACA;AACC,MAAA,SAAS,EAAC,yBADX;AAEC,MAAA,OAAO,EAAE,MAAM;AACdvE,QAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACAH,QAAAA,KAAK,CAACoE,eAAN,CAAsB;AAAEC,UAAAA,IAAI,EAAE,KAAR;AAAeC,UAAAA,QAAQ,EAAE;AAAzB,SAAtB;AACA,OALF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAfF,eA0BC,QAAC,KAAD;AACC,MAAA,KAAK,eAAE;AAAA,kBAAGtE,KAAK,CAAC0E,OAAN,GAAgB,sBAAhB,GAAyC;AAA5C,uBADR;AAEC,MAAA,OAAO,EAAE1E,KAAK,CAAC2E,sBAAN,GAA+B3E,KAAK,CAAC2E,sBAArC,GAA8DzE,cAFxE;AAGC,MAAA,QAAQ,EAAE,MAAOF,KAAK,CAAC4E,oBAAN,GAA6B5E,KAAK,CAAC4E,oBAAN,EAA7B,GAA4DzE,iBAAiB,CAAC,KAAD,CAH/F;AAIC,MAAA,MAAM,EAAE,IAJT;AAAA,6BAMC;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA,+BACC,QAAC,IAAD;AAAM,UAAA,IAAI,EAAEC,IAAZ;AAAkB,UAAA,MAAM,EAAC,UAAzB;AAAoC,UAAA,QAAQ,EAAE8B,QAA9C;AAAA,kCACC;AAAK,YAAA,SAAS,EAAC,KAAf;AAAA,mCACC;AAAK,cAAA,SAAS,EAAC,QAAf;AAAA,wBACElC,KAAK,CAAC0E,OAAN,IAAiB1E,KAAK,CAAC6E,iBAAvB,gBACA;AAAA,2BACE7E,KAAK,CAAC2E,sBAAN,gBACA,qCADA,gBAGA,QAAC,IAAD,CAAM,IAAN;AACC,kBAAA,KAAK,EAAC,6BADP;AAEC,kBAAA,IAAI,EAAC,MAFN,CAGC;AAHD;AAAA,yCAKC,QAAC,MAAD;AACC,oBAAA,SAAS,EAAC,aADX;AAEC,oBAAA,WAAW,EAAC,6BAFb;AAGC,oBAAA,UAAU,EAAE,IAHb;AAIC,oBAAA,QAAQ,EAAE,CAAC5C,KAAD,EAAQE,IAAR,KAAiB;AAC1BrB,sBAAAA,kBAAkB,CAACmB,KAAD,CAAlB;AACA,qBANF;AAAA,8BAQExB,KAAK,IACLA,KAAK,CAACuE,GAAN,CAAU,CAAC7C,IAAD,EAAO8C,KAAP,kBACT,QAAC,MAAD;AAAoB,sBAAA,KAAK,EAAE9C,IAAI,CAAC+C,EAAhC;AAAoC,sBAAA,IAAI,EAAE/C,IAAI,CAAC+C,EAA/C;AAAA,gCACE/C,IAAI,CAACiB;AADP,uBAAa6B,KAAb;AAAA;AAAA;AAAA;AAAA,4BADD;AATF;AAAA;AAAA;AAAA;AAAA;AALD;AAAA;AAAA;AAAA;AAAA,wBAJF,eA0BC,QAAC,IAAD,CAAM,IAAN;AACC,kBAAA,KAAK,EAAC,iBADP;AAEC,kBAAA,IAAI,EAAC,OAFN;AAGC,kBAAA,KAAK,EAAE,CAAC;AAAEE,oBAAAA,QAAQ,EAAE,IAAZ;AAAkBjC,oBAAAA,OAAO,EAAE;AAA3B,mBAAD,CAHR;AAIC,kBAAA,YAAY,EAAEhD,KAAK,CAACS,SAAN,IAAmBT,KAAK,CAACS,SAAN,CAAgB6B,MAAhB,GAAyB,CAA5C,IAAiDtC,KAAK,CAACS,SAAN,CAAgB,CAAhB,EAAmBS,eAJnF;AAAA,yCAMC,QAAC,MAAD;AACC,oBAAA,SAAS,EAAC,aADX;AAEC,oBAAA,WAAW,EAAC,2BAFb;AAGC,oBAAA,QAAQ,EAAE,CAACa,KAAD,EAAQE,IAAR,KAAiBH,aAAa,CAACC,KAAD,EAAQE,IAAR,CAHzC;AAIC,oBAAA,QAAQ,EAAE8B,QAJX;AAKC,oBAAA,gBAAgB,EAAC,UALlB;AAMC,oBAAA,UAAU,MANX;AAOC,oBAAA,YAAY,EAAE,CAACmB,KAAD,EAAaC,MAAb,KACb,CAAChE,SAAS,CAACG,OAAX,IAAsB6D,MAAM,CAACC,QAAP,CAAgBC,WAAhB,GAA8BC,OAA9B,CAAsCJ,KAAK,CAACG,WAAN,EAAtC,KAA8D,CARtF;AAAA,8BAWErF,KAAK,CAACS,SAAN,IAAmBT,KAAK,CAACS,SAAN,CAAgB6B,MAAhB,GAAyB,CAA5C,GACAtC,KAAK,CAACS,SAAN,iBACC,QAAC,MAAD;AAAQ,sBAAA,KAAK,EAAET,KAAK,CAACS,SAAN,CAAgB,CAAhB,EAAmB8E,iBAAlC;AAAA,gCAAsDvF,KAAK,CAACS,SAAN,CAAgB,CAAhB,EAAmBS;AAAzE;AAAA;AAAA;AAAA;AAAA,4BAFD,GAIGC,SAAS,CAACG,OAAV,gBACH,QAAC,MAAD;AAAQ,sBAAA,KAAK,EAAC,EAAd;AAAiB,sBAAA,SAAS,EAAC,aAA3B;AAAA,6CACC,QAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,4BADG,GAKHb,SAAS,IACTA,SAAS,CAACqE,GAAV,CAAeU,GAAD,iBACb,QAAC,MAAD;AAAoC,sBAAA,KAAK,EAAEA,GAAG,CAACD,iBAA/C;AAAkE,sBAAA,IAAI,EAAEC,GAAG,CAAC9B,MAA5E;AAAA,gCACE8B,GAAG,CAACtE;AADN,uBAAasE,GAAG,CAACD,iBAAjB;AAAA;AAAA;AAAA;AAAA,4BADD;AArBF;AAAA;AAAA;AAAA;AAAA;AAND;AAAA;AAAA;AAAA;AAAA,wBA1BD;AAAA,8BADA,gBAgEA,QAAC,IAAD,CAAM,IAAN;AAAW,gBAAA,KAAK,EAAC,YAAjB;AAA2B,gBAAA,IAAI,EAAC,MAAhC;AAAA,uCACC,QAAC,KAAD;AAAO,kBAAA,WAAW,EAAC,MAAnB;AAA0B,kBAAA,SAAS,EAAC,aAApC;AAAkD,kBAAA,UAAU,EAAE;AAA9D;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AAjEF;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,kBADD,eA0EC;AAAK,YAAA,SAAS,EAAC,KAAf;AAAA,mCACC;AAAK,cAAA,SAAS,EAAC,QAAf;AAAA,wBACElF,SAAS,IAAIL,KAAK,CAAC6E,iBAAnB,gBACA,QAAC,IAAD,CAAM,IAAN;AACC,gBAAA,KAAK,EAAC,WADP;AAEC,gBAAA,IAAI,EAAC,OAFN;AAGC,gBAAA,KAAK,EAAE,CAAC;AAAEI,kBAAAA,QAAQ,EAAE,IAAZ;AAAkBjC,kBAAAA,OAAO,EAAE;AAA3B,iBAAD,CAHR;AAIC,gBAAA,YAAY,oBAAEhD,KAAK,CAACyD,OAAR,mDAAE,eAAegC,SAJ9B;AAAA,uCAMC,QAAC,MAAD;AACC,kBAAA,SAAS,EAAC,aADX;AAEC,kBAAA,WAAW,EAAC,OAFb;AAGC,kBAAA,UAAU,EAAE,IAHb;AAIC,kBAAA,QAAQ,EAAG1D,KAAD,IAAWN,QAAQ,CAAC,OAAD,EAAUM,KAAV,CAJ9B;AAKC,kBAAA,QAAQ,MALT;AAAA,yCAOC,QAAC,MAAD;AAAQ,oBAAA,KAAK,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAPD;AAAA;AAAA;AAAA;AAAA;AAND;AAAA;AAAA;AAAA;AAAA,sBADA,gBAkBA,QAAC,IAAD,CAAM,IAAN;AACC,gBAAA,KAAK,EAAC,WADP;AAEC,gBAAA,IAAI,EAAC,OAFN;AAGC,gBAAA,KAAK,EAAE,CAAC;AAAEkD,kBAAAA,QAAQ,EAAE,IAAZ;AAAkBjC,kBAAAA,OAAO,EAAE;AAA3B,iBAAD,CAHR;AAIC,gBAAA,YAAY,EAAC,uCAJd;AAAA,uCAMC,QAAC,MAAD;AAAQ,kBAAA,SAAS,EAAC,aAAlB;AAAgC,kBAAA,WAAW,EAAC,aAA5C;AAA0D,kBAAA,UAAU,EAAE,IAAtE;AAA4E,kBAAA,QAAQ,MAApF;AAAA,yCACC,QAAC,MAAD;AAAQ,oBAAA,KAAK,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AAND;AAAA;AAAA;AAAA;AAAA;AAnBF;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,kBA1ED,eA6GC;AAAK,YAAA,SAAS,EAAC,KAAf;AAAA,mCACC;AAAK,cAAA,SAAS,EAAC,QAAf;AAAA,qCACC,QAAC,IAAD,CAAM,IAAN;AACC,gBAAA,KAAK,EAAC,0BADP;AAEC,gBAAA,IAAI,EAAC,cAFN;AAGC,gBAAA,KAAK,EAAE,CAAC;AAAEiC,kBAAAA,QAAQ,EAAE,IAAZ;AAAkBjC,kBAAAA,OAAO,EAAE;AAA3B,iBAAD,CAHR;AAIC,gBAAA,YAAY,qBAAEhD,KAAK,CAACyD,OAAR,oDAAE,gBAAetB,MAJ9B;AAAA,uCAMC,QAAC,WAAD;AACC,kBAAA,SAAS,EAAC,6BADX;AAEC,kBAAA,SAAS,EAAGJ,KAAD,IAAY,GAAEA,KAAM,EAAT,CAAWM,OAAX,CAAmB,uBAAnB,EAA4C,GAA5C,CAFvB;AAGC,kBAAA,MAAM,EAAGN,KAAD,IAAWA,KAAK,CAACM,OAAN,CAAc,aAAd,EAA6B,EAA7B,CAHpB;AAIC,kBAAA,QAAQ,EAAGN,KAAD,IAAWN,QAAQ,CAAC,QAAD,EAAWM,KAAX;AAJ9B;AAAA;AAAA;AAAA;AAAA;AAND;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,kBA7GD,eA+HC;AAAK,YAAA,SAAS,EAAC,MAAf;AAAA,mCACC;AAAK,cAAA,SAAS,EAAC,QAAf;AAAA,qCACC;AACC,gBAAA,IAAI,EAAC,QADN;AAEC,gBAAA,SAAS,EAAC,uBAFX;AAGC,gBAAA,QAAQ,EAAE/B,KAAK,CAACmB,SAAN,CAAgBkD,IAAhB,IAAwB,UAAxB,IAAsCrE,KAAK,CAACmB,SAAN,CAAgBE,MAHjE;AAAA,uCAMErB,KAAK,CAACmB,SAAN,CAAgBkD,IAAhB,IAAwB,UAAxB,IAAsCrE,KAAK,CAACmB,SAAN,CAAgBE,MAAtD,iBAAgE,QAAC,IAAD;AAAM,kBAAA,SAAS,EAAC;AAAhB;AAAA;AAAA;AAAA;AAAA,wBANlE;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,kBA/HD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AAND;AAAA;AAAA;AAAA;AAAA,YA1BD;AAAA,kBADD;AAkLA,CAvVD;;AAyVA,eAAetB,eAAf","sourcesContent":["import { Form, Input, InputNumber, Modal, Select, Spin, Tooltip } from 'antd'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useForm } from 'react-hook-form'\r\nimport { userInformationApi } from '~/apiBase'\r\nimport { useWrap } from '~/context/wrap'\r\n\r\nconst StaffSalaryForm = (props) => {\r\n\tconst { Option } = Select\r\n\r\n\tconst [isModalVisible, setIsModalVisible] = useState(false)\r\n\tconst [form] = Form.useForm()\r\n\tconst [isTeacher, setIsTeacher] = useState(false)\r\n\tconst [roles, setRoles] = useState([])\r\n\tconst [dataStaff, setDataStaff] = useState([])\r\n\tconst [paramsDataStaff, setParamsDataStaff] = useState(null)\r\n\tconst { pageSize, showNoti } = useWrap()\r\n\tconst [paramsSearchStaff, setParamsSearchStaff] = useState({ pageIndex: 1, pageSize: pageSize, FullNameUnicode: '' })\r\n\r\n\tconst [isLoading, setIsLoading] = useState({\r\n\t\tstatus: '',\r\n\t\tloading: false\r\n\t})\r\n\r\n\tconst {\r\n\t\tregister,\r\n\t\thandleSubmit,\r\n\t\tsetValue,\r\n\t\tformState: { isSubmitting, errors, isSubmitted }\r\n\t} = useForm()\r\n\r\n\tconst setValueStaff = (value, data) => {\r\n\t\tsetValue('UserInformationID', value)\r\n\t\tif (data.role === 2) {\r\n\t\t\tsetValue('Style', 1)\r\n\t\t\tsetIsTeacher(true)\r\n\t\t} else {\r\n\t\t\tsetIsTeacher(false)\r\n\t\t}\r\n\t}\r\n\r\n\tconst onSubmit = handleSubmit((data: any) => {\r\n\t\tif (typeof data.Salary == 'string') {\r\n\t\t\tdata.Salary = Number(data.Salary.replace(/\\$\\s?|(,*)/g, ''))\r\n\t\t}\r\n\t\tif (props.dataStaff && props.dataStaff.length > 0) {\r\n\t\t\tlet res = props._onSubmit(data)\r\n\t\t\tres.then(function (rs: any) {\r\n\t\t\t\trs && rs.status == 200 && setIsModalVisible(false), form.resetFields(), setParamsDataStaff(null)\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tlet res = props._onSubmitStaff(data)\r\n\t\t\tres.then(function (rs: any) {\r\n\t\t\t\trs && rs.status == 200 && setIsModalVisible(false), form.resetFields(), setParamsDataStaff(null)\r\n\t\t\t})\r\n\t\t}\r\n\t})\r\n\r\n\t// GET DATA USERINFORMATION\r\n\tconst getDataStaff = () => {\r\n\t\tsetIsLoading({\r\n\t\t\tstatus: 'GET_ALL',\r\n\t\t\tloading: true\r\n\t\t})\r\n\t\t;(async () => {\r\n\t\t\ttry {\r\n\t\t\t\tlet res = await userInformationApi.getAllRole(paramsDataStaff)\r\n\t\t\t\tres.status == 200 && setDataStaff(res.data.data)\r\n\t\t\t\tif (res.status == 204) {\r\n\t\t\t\t\tsetDataStaff([])\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tshowNoti('danger', error.message)\r\n\t\t\t} finally {\r\n\t\t\t\tsetIsLoading({\r\n\t\t\t\t\tstatus: 'GET_ALL',\r\n\t\t\t\t\tloading: false\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})()\r\n\t}\r\n\r\n\tconst getSearchDataStaff = (name) => {\r\n\t\tsetIsLoading({\r\n\t\t\tstatus: 'GET_ALL',\r\n\t\t\tloading: true\r\n\t\t})\r\n\t\t;(async () => {\r\n\t\t\ttry {\r\n\t\t\t\tlet res = await userInformationApi.getName({ pageIndex: 1, pageSize: pageSize, FullNameUnicode: name })\r\n\t\t\t\tres.status == 200 && setDataStaff(res.data.data)\r\n\t\t\t\tif (res.status == 204) {\r\n\t\t\t\t\tsetDataStaff([])\r\n\t\t\t\t}\r\n\t\t\t\tif (res.status == 204) {\r\n\t\t\t\t\tsetDataStaff([])\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tshowNoti('danger', error.message)\r\n\t\t\t} finally {\r\n\t\t\t\tsetIsLoading({\r\n\t\t\t\t\tstatus: 'GET_ALL',\r\n\t\t\t\t\tloading: false\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})()\r\n\t}\r\n\r\n\tconst getRoles = async (roleType) => {\r\n\t\tsetIsLoading({\r\n\t\t\tstatus: 'GET_ALL',\r\n\t\t\tloading: true\r\n\t\t})\r\n\t\ttry {\r\n\t\t\tlet res = await userInformationApi.getRole(roleType)\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tsetRoles(res.data.data)\r\n\t\t\t}\r\n\t\t\tif (res.status == 204) {\r\n\t\t\t\tsetRoles([])\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({\r\n\t\t\t\tstatus: 'GET_ALL',\r\n\t\t\t\tloading: false\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tgetDataStaff()\r\n\t}, [paramsDataStaff])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isModalVisible) {\r\n\t\t\tform.setFieldsValue({ Style: 1 })\r\n\t\t\tsetValue('Style', 1)\r\n\t\t\tif (props.rowData) {\r\n\t\t\t\tif (props.rowData.RoleID === 2) {\r\n\t\t\t\t\tsetIsTeacher(true)\r\n\t\t\t\t}\r\n\t\t\t\tObject.keys(props.rowData).forEach(function (key) {\r\n\t\t\t\t\tsetValue(key, props.rowData[key])\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}, [isModalVisible])\r\n\r\n\tuseEffect(() => {\r\n\t\tgetRoles(1)\r\n\t}, [])\r\n\r\n\t// Select search\r\n\tfunction onSearch(val) {\r\n\t\tif (val.length == 0) {\r\n\t\t\tgetDataStaff()\r\n\t\t} else {\r\n\t\t\tgetSearchDataStaff(val)\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (props.dataIDStaff && props.dataStaff.length === 1) {\r\n\t\t\tform.setFieldsValue({\r\n\t\t\t\tStaff: props.dataStaff[0].FullNameUnicode\r\n\t\t\t})\r\n\t\t\tsetValue('UserInformationID', props.dataIDStaff)\r\n\t\t\tform.setFieldsValue({ Style: 1 })\r\n\t\t\tsetValue('Style', 1)\r\n\t\t}\r\n\t}, [props.dataIDStaff])\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{props.showIcon && (\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName=\"btn btn-icon edit\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetIsModalVisible(true)\r\n\t\t\t\t\t\tprops.setUpdateSalary({ type: 'update', SalaryID: props.rowData.SalaryID })\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Tooltip title=\"Cập nhật\">\r\n\t\t\t\t\t\t<i className=\"fas fa-edit\" style={{ color: '#34c4a4', fontSize: 16, marginBottom: -1 }}></i>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t</button>\r\n\t\t\t)}\r\n\t\t\t{props.showAdd && (\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName=\"btn btn-warning add-new\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetIsModalVisible(true)\r\n\t\t\t\t\t\tprops.setUpdateSalary({ type: 'add', SalaryID: null })\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tThêm mới\r\n\t\t\t\t</button>\r\n\t\t\t)}\r\n\t\t\t{/*  */}\r\n\t\t\t<Modal\r\n\t\t\t\ttitle={<>{props.showAdd ? 'Thêm Lương Nhân Viên' : 'Cập Nhật Lương Nhân Viên'}</>}\r\n\t\t\t\tvisible={props.isOpenModalFromOutSide ? props.isOpenModalFromOutSide : isModalVisible}\r\n\t\t\t\tonCancel={() => (props.openModalFromOutSide ? props.openModalFromOutSide() : setIsModalVisible(false))}\r\n\t\t\t\tfooter={null}\r\n\t\t\t>\r\n\t\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t\t<Form form={form} layout=\"vertical\" onFinish={onSubmit}>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t\t\t{props.showAdd || props.showInTeacherView ? (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t{props.isOpenModalFromOutSide ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<></>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Chọn chức vụ\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"Role\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t// rules={[{ required: true, message: 'Bạn không được để trống' }]}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"style-input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Chọn chức vụ\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tallowClear={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(value, role) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetParamsDataStaff(value)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{roles &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\troles.map((role, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={index} value={role.ID} role={role.ID}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{role.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Nhân viên\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"Staff\"\r\n\t\t\t\t\t\t\t\t\t\t\trules={[{ required: true, message: 'Bạn không được để trống' }]}\r\n\t\t\t\t\t\t\t\t\t\t\tinitialValue={props.dataStaff && props.dataStaff.length > 0 && props.dataStaff[0].FullNameUnicode}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"style-input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Chọn nhân viên\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(value, role) => setValueStaff(value, role)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonSearch={onSearch}\r\n\t\t\t\t\t\t\t\t\t\t\t\toptionFilterProp=\"children\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tshowSearch\r\n\t\t\t\t\t\t\t\t\t\t\t\tfilterOption={(input: any, option: any) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t!isLoading.loading && option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{props.dataStaff && props.dataStaff.length > 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tprops.dataStaff && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option value={props.dataStaff[0].UserInformationID}>{props.dataStaff[0].FullNameUnicode}</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : isLoading.loading ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"\" className=\"spin-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Spin />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdataStaff &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdataStaff.map((row) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={row.UserInformationID} value={row.UserInformationID} role={row.RoleID}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{row.FullNameUnicode}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Form.Item label=\"Ghi chú\" name=\"Note\">\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"Note\" className=\"style-input\" allowClear={true} />\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/*  */}\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t\t\t{isTeacher || props.showInTeacherView ? (\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Loại\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"Style\"\r\n\t\t\t\t\t\t\t\t\t\trules={[{ required: true, message: 'Bạn không được để trống' }]}\r\n\t\t\t\t\t\t\t\t\t\tinitialValue={props.rowData?.StyleName}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"style-input\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Style\"\r\n\t\t\t\t\t\t\t\t\t\t\tallowClear={true}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(value) => setValue('Style', value)}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value={1}>Tính lương theo tháng</Option>\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Loại\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"Style\"\r\n\t\t\t\t\t\t\t\t\t\trules={[{ required: true, message: 'Bạn không được để trống' }]}\r\n\t\t\t\t\t\t\t\t\t\tinitialValue=\"Tính lương theo tháng\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Select className=\"style-input\" placeholder=\"Salary Type\" allowClear={true} disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value={1}>Tính lương theo tháng</Option>\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/*  */}\r\n\t\t\t\t\t\t{/*  */}\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tlabel=\"Mức Lương\"\r\n\t\t\t\t\t\t\t\t\tname=\"Salary Const\"\r\n\t\t\t\t\t\t\t\t\trules={[{ required: true, message: 'Bạn không được để trống' }]}\r\n\t\t\t\t\t\t\t\t\tinitialValue={props.rowData?.Salary}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"ant-input style-input w-100\"\r\n\t\t\t\t\t\t\t\t\t\tformatter={(value) => `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n\t\t\t\t\t\t\t\t\t\tparser={(value) => value.replace(/\\$\\s?|(,*)/g, '')}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(value) => setValue('Salary', value)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/*  */}\r\n\t\t\t\t\t\t<div className=\"row \">\r\n\t\t\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn-primary w-100\"\r\n\t\t\t\t\t\t\t\t\tdisabled={props.isLoading.type == 'ADD_DATA' && props.isLoading.status}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tLưu\r\n\t\t\t\t\t\t\t\t\t{props.isLoading.type == 'ADD_DATA' && props.isLoading.status && <Spin className=\"loading-base\" />}\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</div>\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default StaffSalaryForm\r\n"]},"metadata":{},"sourceType":"module"}