{"ast":null,"code":"import _toConsumableArray from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _defineProperty from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\pages\\\\package\\\\package-result-student\\\\index.tsx\",\n    _this = this,\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { ExclamationCircleOutlined, FormOutlined } from '@ant-design/icons';\nimport { Modal, Tooltip } from 'antd';\nimport Link from 'next/link';\nimport React, { Fragment, useEffect, useState } from 'react';\nimport { priceFixExamApi } from '~/apiBase';\nimport { packageDetailApi } from '~/apiBase/package/package-detail';\nimport { packageResultApi } from '~/apiBase/package/package-result';\nimport FilterBase from '~/components/Elements/FilterBase/FilterBase';\nimport SortBox from '~/components/Elements/SortBox';\nimport ExpandTable from '~/components/ExpandTable';\nimport PackageResultExpand from '~/components/Global/Package/PackageResult/PackageResultExpand';\nimport PayFixExamForm from '~/components/Global/Package/PayFixExam/PayFixExamForm';\nimport LayoutBase from '~/components/LayoutBase';\nimport { useWrap } from '~/context/wrap';\n\nvar RequestMaking = function RequestMaking(props) {\n  _s();\n\n  // 1 - Đã nộp bài\n  // 2 - Đang chấm bài\n  // 3 - Đã chấm bài\n  // 4 - Đang chấm bài lại\n  // 5 - Đã chấm bài lại\n  var status = props.status,\n      AmountFixOfStudent = props.AmountFixOfStudent,\n      handleBuyMarking = props.handleBuyMarking,\n      onFetchData = props.onFetchData,\n      dataRow = props.dataRow;\n\n  var _useState = useState(false),\n      isModalVisible = _useState[0],\n      setIsModalVisible = _useState[1];\n\n  var _useWrap = useWrap(),\n      showNoti = _useWrap.showNoti;\n\n  var _useState2 = useState(false),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var showModal = function showModal() {\n    setIsModalVisible(true);\n  };\n\n  var handleRequestMaking = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res, dataSubmit;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              // 1 - Đã nộp bài\n              // 2 - Đang chấm bài\n              // 3 - Đã chấm bài\n              // 4 - Đang chấm bài lại\n              // 5 - Đã chấm bài lại\n              res = null;\n              dataSubmit = {\n                ID: dataRow.ID,\n                Enable: true\n              };\n              setLoading(true);\n              _context.prev = 3;\n              _context.t0 = dataRow.StatusID;\n              _context.next = _context.t0 === 1 ? 7 : _context.t0 === 3 ? 11 : 15;\n              break;\n\n            case 7:\n              _context.next = 9;\n              return packageResultApi.update(_objectSpread(_objectSpread({}, dataSubmit), {}, {\n                isFixPaid: true\n              }));\n\n            case 9:\n              res = _context.sent;\n              return _context.abrupt(\"break\", 16);\n\n            case 11:\n              _context.next = 13;\n              return packageResultApi.update(_objectSpread(_objectSpread({}, dataSubmit), {}, {\n                isReevaluate: true\n              }));\n\n            case 13:\n              res = _context.sent;\n              return _context.abrupt(\"break\", 16);\n\n            case 15:\n              return _context.abrupt(\"break\", 16);\n\n            case 16:\n              if (res.status == 200) {\n                showNoti('success', 'Yêu cầu thành công');\n                onFetchData && onFetchData();\n                setIsModalVisible(false);\n              }\n\n              _context.next = 22;\n              break;\n\n            case 19:\n              _context.prev = 19;\n              _context.t1 = _context[\"catch\"](3);\n              showNoti('danger', _context.t1.message);\n\n            case 22:\n              _context.prev = 22;\n              setLoading(false);\n              return _context.finish(22);\n\n            case 25:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[3, 19, 22, 25]]);\n    }));\n\n    return function handleRequestMaking() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleOk = function handleOk() {\n    if (AmountFixOfStudent > 0) {\n      handleRequestMaking();\n    } else {\n      handleBuyMarking && handleBuyMarking();\n      setIsModalVisible(false);\n    }\n  };\n\n  var handleCancel = function handleCancel() {\n    setIsModalVisible(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n      title: status == 1 ? 'Yêu cầu chấm bài' : 'Yêu cầu chấm lại',\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-icon edit\",\n        onClick: showModal,\n        children: /*#__PURE__*/_jsxDEV(FormOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 6\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 4\n    }, _this), /*#__PURE__*/_jsxDEV(Modal, {\n      confirmLoading: loading,\n      title: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-icon\",\n        onClick: showModal,\n        children: /*#__PURE__*/_jsxDEV(ExclamationCircleOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 7\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 6\n      }, _this),\n      visible: isModalVisible,\n      onOk: handleOk,\n      onCancel: handleCancel,\n      okText: AmountFixOfStudent > 0 ? 'Ok' : 'Mua lượt chấm',\n      children: AmountFixOfStudent > 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontWeight: 500\n        },\n        children: status == 1 ? 'Bạn muốn yêu cầu chấm đề này?' : 'Bạn muốn yêu cầu chấm lại đề này?'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 6\n      }, _this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontWeight: 500\n        },\n        children: \"B\\u1EA1n c\\u1EA7n mua l\\u01B0\\u1EE3t ch\\u1EA5m b\\xE0i \\u0111\\u1EC3 s\\u1EED d\\u1EE5ng ch\\u1EE9c n\\u0103ng n\\xE0y!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 6\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 4\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(RequestMaking, \"SNUl+hdwaoFhTacRs/xhCA2mnO0=\", false, function () {\n  return [useWrap];\n});\n\n_c = RequestMaking;\n\nvar PackageResultStudent = function PackageResultStudent() {\n  _s2();\n\n  var _useState3 = useState([]),\n      dataTeacher = _useState3[0],\n      setDataTeacher = _useState3[1];\n\n  var _useState4 = useState([]),\n      dataStudent = _useState4[0],\n      setDataStudent = _useState4[1];\n\n  var _useState5 = useState(null),\n      userID = _useState5[0],\n      setUserID = _useState5[1];\n\n  var _useState6 = useState([]),\n      dataLevel = _useState6[0],\n      setDataLevel = _useState6[1];\n\n  var _useState7 = useState(1),\n      currentPage = _useState7[0],\n      setCurrentPage = _useState7[1];\n\n  var _useState8 = useState(),\n      itemDetail = _useState8[0],\n      setItemDetail = _useState8[1];\n\n  var _useWrap2 = useWrap(),\n      showNoti = _useWrap2.showNoti,\n      pageSize = _useWrap2.pageSize,\n      userInformation = _useWrap2.userInformation;\n\n  var listParamsDefault = {\n    pageSize: pageSize,\n    pageIndex: currentPage,\n    sort: null,\n    sortType: null,\n    fromDate: null,\n    toDate: null,\n    StudentID: null,\n    SetPackageDetailID: null,\n    isDone: null,\n    StudentName: null,\n    ExamTopicType: null\n  };\n\n  var _useState9 = useState(listParamsDefault),\n      params = _useState9[0],\n      setParams = _useState9[1];\n\n  var _useState10 = useState(null),\n      totalPage = _useState10[0],\n      setTotalPage = _useState10[1];\n\n  var _useState11 = useState([]),\n      packageSetResult = _useState11[0],\n      setPackageSetResult = _useState11[1];\n\n  var _useState12 = useState({\n    type: 'GET_ALL',\n    status: false\n  }),\n      isLoading = _useState12[0],\n      setIsLoading = _useState12[1];\n\n  var _useState13 = useState(false),\n      isOpenMarking = _useState13[0],\n      setIsOpenMarking = _useState13[1];\n\n  var onSearch = function onSearch(data) {\n    setCurrentPage(1);\n    setParams(_objectSpread(_objectSpread({}, listParamsDefault), {}, {\n      StudentName: data\n    }));\n  };\n\n  var handleReset = function handleReset() {\n    setCurrentPage(1);\n    setParams(listParamsDefault);\n  };\n\n  var returnTypeExam = function returnTypeExam(data) {\n    var text = ''; // if(data.ListeningNumber > 0 && data.SpeakingNumber > 0 && data.WritingNumber > 0 && data.ReadingNumber){\n    //     text = \"Tổng hợp\"\n    // }\n\n    if (data.ListeningNumber > 0 || data.ReadingNumber > 0) {\n      if (data.SpeakingNumber > 0 || data.WritingNumber > 0) {\n        text = 'Tổng hợp';\n      } else {\n        text = 'Trắc nghiệm';\n      }\n    } else {\n      if (data.SpeakingNumber > 0 || data.WritingNumber > 0) {\n        text = 'Tự luận';\n      }\n    }\n\n    return text;\n  };\n\n  var sortOption = [{\n    dataSort: {\n      sortType: null\n    },\n    value: 1,\n    text: 'Mới cập nhật'\n  }, {\n    dataSort: {\n      sortType: true\n    },\n    value: 2,\n    text: 'Từ dưới lên'\n  }];\n\n  var _useState14 = useState([{\n    name: 'SetPackageDetailID',\n    title: 'Bộ đề',\n    col: 'col-12',\n    type: 'select',\n    optionList: null,\n    value: null\n  }, {\n    name: 'StatusID',\n    title: 'Trạng thái',\n    col: 'col-12',\n    type: 'select',\n    optionList: [{\n      value: 1,\n      title: 'Đã nộp bài'\n    }, {\n      value: 2,\n      title: 'Đang chấm bài'\n    }, {\n      value: 3,\n      title: 'Đã chấm bài'\n    }, {\n      value: 4,\n      title: 'Đang chấm bài lại'\n    }, {\n      value: 5,\n      title: 'Đã chấm bài'\n    }],\n    value: null\n  }, {\n    name: 'date-range',\n    title: 'Ngày tạo',\n    col: 'col-12',\n    type: 'date-range',\n    value: null\n  }]),\n      dataFilter = _useState14[0],\n      setDataFilter = _useState14[1];\n\n  var _handleFilter = function handleFilter(listFilter) {\n    console.log('List Filter when submit: ', listFilter);\n    var newListFilter = {\n      pageIndex: 1,\n      fromDate: null,\n      toDate: null,\n      StudentID: null,\n      SetPackageDetailID: null,\n      isDone: null,\n      StudentName: null,\n      ExamTopicType: null,\n      StatusID: null\n    };\n    listFilter.forEach(function (item, index) {\n      var key = item.name;\n      Object.keys(newListFilter).forEach(function (keyFilter) {\n        if (keyFilter == key) {\n          newListFilter[key] = item.value;\n        }\n      });\n    });\n    setParams(_objectSpread(_objectSpread(_objectSpread({}, listParamsDefault), newListFilter), {}, {\n      pageIndex: 1\n    }));\n  };\n\n  var _handleSort = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(option) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setParams(_objectSpread(_objectSpread({}, listParamsDefault), {}, {\n                sortType: option.title.sortType\n              }));\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function handleSort(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var setDataFunc = function setDataFunc(name, data) {\n    dataFilter.every(function (item, index) {\n      if (item.name == name) {\n        item.optionList = data;\n        return false;\n      }\n\n      return true;\n    });\n    setDataFilter(_toConsumableArray(dataFilter));\n  }; // GET DATA LEVEL\n\n\n  var getDataLevel = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var res, newData;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              _context3.next = 3;\n              return priceFixExamApi.getAll({\n                pageSize: 9999,\n                pageIndex: 1\n              });\n\n            case 3:\n              res = _context3.sent;\n\n              if (res.status == 200) {\n                newData = res.data.data.map(function (item) {\n                  return {\n                    title: item.SetPackageLevel,\n                    value: item.ID,\n                    price: item.Price\n                  };\n                });\n                setDataLevel(newData);\n                setDataFunc('SetPackageLevel', newData);\n              }\n\n              _context3.next = 10;\n              break;\n\n            case 7:\n              _context3.prev = 7;\n              _context3.t0 = _context3[\"catch\"](0);\n              console.log('Error Level Package: ', _context3.t0.message);\n\n            case 10:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[0, 7]]);\n    }));\n\n    return function getDataLevel() {\n      return _ref3.apply(this, arguments);\n    };\n  }(); // const getDataStudent = async () => {\n  // \ttry {\n  // \t\tlet res = await studentApi.getAll({ pageSize: pageSize, pageIndex: 1 });\n  // \t\tif (res.status == 200) {\n  // \t\t\tconst newData = res.data.data.map((item) => ({\n  // \t\t\t\ttitle: item.FullNameUnicode,\n  // \t\t\t\tvalue: item.UserInformationID\n  // \t\t\t}));\n  // \t\t\tsetDataFunc('StudentID', newData);\n  // \t\t\tsetDataStudent(newData);\n  // \t\t}\n  // \t\tres.status == 204 && showNoti('danger', 'Không có dữ liệu học sinh này!');\n  // \t} catch (error) {\n  // \t\tshowNoti('danger', error.message);\n  // \t} finally {\n  // \t}\n  // };\n\n\n  var getDataSetPackageResult = function getDataSetPackageResult(page) {\n    setIsLoading({\n      type: 'GET_ALL',\n      status: true\n    });\n\n    _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.prev = 0;\n              _context4.next = 3;\n              return packageResultApi.getAll(_objectSpread(_objectSpread({}, params), {}, {\n                pageIndex: page\n              }));\n\n            case 3:\n              res = _context4.sent;\n              //@ts-ignore\n              res.status == 200 && setPackageSetResult(res.data.data);\n\n              if (res.status == 204) {\n                showNoti('danger', 'Không tìm thấy dữ liệu!'); // setCurrentPage(1);\n                // setParams(listParamsDefault);\n\n                setPackageSetResult([]);\n              } else setTotalPage(res.data.totalRow);\n\n              _context4.next = 11;\n              break;\n\n            case 8:\n              _context4.prev = 8;\n              _context4.t0 = _context4[\"catch\"](0);\n              showNoti('danger', _context4.t0.message);\n\n            case 11:\n              _context4.prev = 11;\n              setIsLoading({\n                type: 'GET_ALL',\n                status: false\n              });\n              return _context4.finish(11);\n\n            case 14:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[0, 8, 11, 14]]);\n    }))();\n  };\n\n  var getDataPackageDetail = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n      var res, newData;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.prev = 0;\n              _context5.next = 3;\n              return packageDetailApi.getAll({\n                pageSize: 99999,\n                pageIndex: 1\n              });\n\n            case 3:\n              res = _context5.sent;\n\n              if (res.status == 200) {\n                newData = res.data.data.map(function (item) {\n                  return {\n                    title: item.SetPackageName,\n                    value: item.ID\n                  };\n                });\n                setDataFunc('SetPackageDetailID', newData);\n              }\n\n              res.status == 204 && showNoti('danger', 'Không có dữ liệu bộ đề này!');\n              _context5.next = 11;\n              break;\n\n            case 8:\n              _context5.prev = 8;\n              _context5.t0 = _context5[\"catch\"](0);\n              showNoti('danger', _context5.t0.message);\n\n            case 11:\n              _context5.prev = 11;\n              return _context5.finish(11);\n\n            case 13:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, null, [[0, 8, 11, 13]]);\n    }));\n\n    return function getDataPackageDetail() {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  var _getPagination = function getPagination(pageNumber) {\n    setCurrentPage(pageNumber);\n    setParams(_objectSpread(_objectSpread({}, params), {}, {\n      pageIndex: currentPage\n    }));\n  };\n\n  var _onFetchData = function onFetchData() {\n    setParams(_objectSpread({}, params));\n  };\n\n  var handleRequestMaking = /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(status, id) {\n      var res, dataSubmit;\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              // 1 - Đã nộp bài\n              // 2 - Đang chấm bài\n              // 3 - Đã chấm bài\n              // 4 - Đang chấm bài lại\n              // 5 - Đã chấm bài lại\n              res = null;\n              dataSubmit = {\n                ID: id,\n                Enable: true\n              };\n              _context6.prev = 2;\n              _context6.t0 = status;\n              _context6.next = _context6.t0 === 1 ? 6 : _context6.t0 === 3 ? 10 : 14;\n              break;\n\n            case 6:\n              _context6.next = 8;\n              return packageResultApi.update(_objectSpread(_objectSpread({}, dataSubmit), {}, {\n                isFixPaid: true\n              }));\n\n            case 8:\n              res = _context6.sent;\n              return _context6.abrupt(\"break\", 15);\n\n            case 10:\n              _context6.next = 12;\n              return packageResultApi.update(_objectSpread(_objectSpread({}, dataSubmit), {}, {\n                isReevaluate: true\n              }));\n\n            case 12:\n              res = _context6.sent;\n              return _context6.abrupt(\"break\", 15);\n\n            case 14:\n              return _context6.abrupt(\"break\", 15);\n\n            case 15:\n              if (res.status == 200) {\n                setParams(_objectSpread({}, params));\n                showNoti('success', 'Yêu cầu thành công');\n              }\n\n              _context6.next = 21;\n              break;\n\n            case 18:\n              _context6.prev = 18;\n              _context6.t1 = _context6[\"catch\"](2);\n              showNoti('danger', _context6.t1.message);\n\n            case 21:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6, null, [[2, 18]]);\n    }));\n\n    return function handleRequestMaking(_x2, _x3) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n\n  var expandedRowRender = function expandedRowRender(data, index) {\n    return /*#__PURE__*/_jsxDEV(Fragment, {\n      children: /*#__PURE__*/_jsxDEV(PackageResultExpand, {\n        infoID: data.ID\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 4\n    }, _this);\n  };\n\n  var _handleBuyMarking = function handleBuyMarking() {\n    setIsOpenMarking(true);\n  };\n\n  var columns = [{\n    title: 'Đề thi',\n    dataIndex: 'ExamTopicName',\n    render: function render(text, data) {\n      return /*#__PURE__*/_jsxDEV(Link, {\n        href: {\n          pathname: '/package/package-result-student/detail/[slug]',\n          query: {\n            slug: \"\".concat(data.ID),\n            examID: data.ExamTopicID,\n            packageDetailID: data.SetPackageDetailID\n          }\n        },\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"#\",\n          className: \"font-weight-black\",\n          children: text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 6\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 5\n      }, _this);\n    }\n  }, {\n    title: 'Level',\n    dataIndex: 'SetPackageLevel',\n    render: function render(text) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-weight-black\",\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 22\n      }, _this);\n    }\n  }, // {\n  // \ttitle: 'Hình thức',\n  // \tdataIndex: 'ExamTopicTypeName',\n  // \trender: (text) => <p className=\"font-weight-black\">{text}</p>\n  // },\n  {\n    title: 'Trạng thái',\n    dataIndex: 'StatusID',\n    align: 'center',\n    render: function render(status) {\n      return /*#__PURE__*/_jsxDEV(Fragment, {\n        children: [status == 1 && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"tag gray\",\n          children: \"\\u0110\\xE3 n\\u1ED9p b\\xE0i\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 22\n        }, _this), status == 2 && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"tag yellow\",\n          children: \"\\u0110ang ch\\u1EA5m b\\xE0i\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 22\n        }, _this), status == 3 && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"tag green\",\n          children: \"\\u0110\\xE3 ch\\u1EA5m b\\xE0i\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 22\n        }, _this), status == 4 && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"tag yellow\",\n          children: \"\\u0110ang ch\\u1EA5m b\\xE0i l\\u1EA1i\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 22\n        }, _this), status == 5 && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"tag green\",\n          children: \"\\u0110\\xE3 ch\\u1EA5m b\\xE0i l\\u1EA1i\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 22\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 464,\n        columnNumber: 5\n      }, _this);\n    }\n  }, {\n    title: 'Dạng đề',\n    align: 'center',\n    render: function render(data) {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-weight-black\",\n          children: returnTypeExam(data)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 25\n        }, _this)\n      }, void 0, false);\n    }\n  }, {\n    render: function render(data) {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          href: {\n            pathname: '/package/package-result-student/detail/[slug]',\n            query: {\n              slug: \"\".concat(data.ID),\n              examID: data.ExamTopicID,\n              packageDetailID: data.SetPackageDetailID,\n              score: true\n            }\n          },\n          children: /*#__PURE__*/_jsxDEV(Tooltip, {\n            title: \"K\\u1EBFt qu\\u1EA3 b\\u1ED9 \\u0111\\u1EC1 chi ti\\u1EBFt\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-icon\",\n              children: /*#__PURE__*/_jsxDEV(ExclamationCircleOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 496,\n                columnNumber: 9\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 495,\n              columnNumber: 8\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 494,\n            columnNumber: 7\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 483,\n          columnNumber: 6\n        }, _this), (data.StatusID == 1 || data.StatusID == 3) && (data.SpeakingNumber > 0 || data.WritingNumber > 0) && /*#__PURE__*/_jsxDEV(RequestMaking, {\n          handleBuyMarking: function handleBuyMarking() {\n            return _handleBuyMarking();\n          },\n          AmountFixOfStudent: data.AmountFixOfStudent,\n          onFetchData: function onFetchData() {\n            return _onFetchData();\n          },\n          status: data.StatusID,\n          dataRow: data\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 501,\n          columnNumber: 7\n        }, _this)]\n      }, void 0, true);\n    }\n  }];\n  useEffect(function () {\n    getDataSetPackageResult(currentPage);\n  }, [params]);\n  useEffect(function () {\n    if (userInformation) {\n      setUserID(userInformation.UserInformationID);\n    }\n  }, [userInformation]);\n  useEffect(function () {\n    // getDataStudent();\n    getDataPackageDetail();\n    getDataLevel();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(ExpandTable, {\n    currentPage: currentPage,\n    loading: isLoading,\n    totalPage: totalPage && totalPage,\n    getPagination: function getPagination(pageNumber) {\n      return _getPagination(pageNumber);\n    },\n    addClass: \"basic-header\",\n    TitlePage: \"k\\u1EBFt qu\\u1EA3 thi\",\n    dataSource: packageSetResult,\n    columns: columns,\n    TitleCard: /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(PayFixExamForm, {\n        isBuy: true,\n        userID: userID,\n        dataLevel: dataLevel,\n        isOpenMarking: isOpenMarking\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 542,\n        columnNumber: 6\n      }, _this)\n    }, void 0, false),\n    Extra: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"extra-table\",\n      children: [/*#__PURE__*/_jsxDEV(FilterBase, {\n        dataFilter: dataFilter,\n        handleFilter: function handleFilter(listFilter) {\n          return _handleFilter(listFilter);\n        },\n        handleReset: handleReset\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 547,\n        columnNumber: 6\n      }, _this), /*#__PURE__*/_jsxDEV(SortBox, {\n        dataOption: sortOption,\n        handleSort: function handleSort(value) {\n          return _handleSort(value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 549,\n        columnNumber: 6\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 546,\n      columnNumber: 5\n    }, _this),\n    handleExpand: function handleExpand(data) {\n      return setItemDetail(data);\n    },\n    expandable: {\n      expandedRowRender: expandedRowRender\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 531,\n    columnNumber: 3\n  }, _this);\n};\n\n_s2(PackageResultStudent, \"pV8OrA9Gv7hUlxk8VYQHCu4Qt/k=\", false, function () {\n  return [useWrap];\n});\n\n_c2 = PackageResultStudent;\nPackageResultStudent.layout = LayoutBase;\nexport default PackageResultStudent;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"RequestMaking\");\n$RefreshReg$(_c2, \"PackageResultStudent\");","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/pages/package/package-result-student/index.tsx"],"names":["ExclamationCircleOutlined","FormOutlined","Modal","Tooltip","Link","React","Fragment","useEffect","useState","priceFixExamApi","packageDetailApi","packageResultApi","FilterBase","SortBox","ExpandTable","PackageResultExpand","PayFixExamForm","LayoutBase","useWrap","RequestMaking","props","status","AmountFixOfStudent","handleBuyMarking","onFetchData","dataRow","isModalVisible","setIsModalVisible","showNoti","loading","setLoading","showModal","handleRequestMaking","res","dataSubmit","ID","Enable","StatusID","update","isFixPaid","isReevaluate","message","handleOk","handleCancel","fontWeight","PackageResultStudent","dataTeacher","setDataTeacher","dataStudent","setDataStudent","userID","setUserID","dataLevel","setDataLevel","currentPage","setCurrentPage","itemDetail","setItemDetail","pageSize","userInformation","listParamsDefault","pageIndex","sort","sortType","fromDate","toDate","StudentID","SetPackageDetailID","isDone","StudentName","ExamTopicType","params","setParams","totalPage","setTotalPage","packageSetResult","setPackageSetResult","type","isLoading","setIsLoading","isOpenMarking","setIsOpenMarking","onSearch","data","handleReset","returnTypeExam","text","ListeningNumber","ReadingNumber","SpeakingNumber","WritingNumber","sortOption","dataSort","value","name","title","col","optionList","dataFilter","setDataFilter","handleFilter","listFilter","console","log","newListFilter","forEach","item","index","key","Object","keys","keyFilter","handleSort","option","setDataFunc","every","getDataLevel","getAll","newData","map","SetPackageLevel","price","Price","getDataSetPackageResult","page","totalRow","getDataPackageDetail","SetPackageName","getPagination","pageNumber","id","expandedRowRender","columns","dataIndex","render","pathname","query","slug","examID","ExamTopicID","packageDetailID","align","score","UserInformationID","layout"],"mappings":"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","sourcesContent":["import { ExclamationCircleOutlined, FormOutlined } from '@ant-design/icons'\r\nimport { Modal, Tooltip } from 'antd'\r\nimport Link from 'next/link'\r\nimport React, { Fragment, useEffect, useState } from 'react'\r\nimport { priceFixExamApi } from '~/apiBase'\r\nimport { packageDetailApi } from '~/apiBase/package/package-detail'\r\nimport { packageResultApi } from '~/apiBase/package/package-result'\r\nimport FilterBase from '~/components/Elements/FilterBase/FilterBase'\r\nimport SortBox from '~/components/Elements/SortBox'\r\nimport ExpandTable from '~/components/ExpandTable'\r\nimport PackageResultExpand from '~/components/Global/Package/PackageResult/PackageResultExpand'\r\nimport PayFixExamForm from '~/components/Global/Package/PayFixExam/PayFixExamForm'\r\nimport LayoutBase from '~/components/LayoutBase'\r\nimport { useWrap } from '~/context/wrap'\r\n\r\nconst RequestMaking = (props) => {\r\n\t// 1 - Đã nộp bài\r\n\t// 2 - Đang chấm bài\r\n\t// 3 - Đã chấm bài\r\n\t// 4 - Đang chấm bài lại\r\n\t// 5 - Đã chấm bài lại\r\n\tconst { status, AmountFixOfStudent, handleBuyMarking, onFetchData, dataRow } = props\r\n\tconst [isModalVisible, setIsModalVisible] = useState(false)\r\n\tconst { showNoti } = useWrap()\r\n\tconst [loading, setLoading] = useState(false)\r\n\r\n\tconst showModal = () => {\r\n\t\tsetIsModalVisible(true)\r\n\t}\r\n\r\n\tconst handleRequestMaking = async () => {\r\n\t\t// 1 - Đã nộp bài\r\n\t\t// 2 - Đang chấm bài\r\n\t\t// 3 - Đã chấm bài\r\n\t\t// 4 - Đang chấm bài lại\r\n\t\t// 5 - Đã chấm bài lại\r\n\t\tlet res = null\r\n\t\tlet dataSubmit = {\r\n\t\t\tID: dataRow.ID,\r\n\t\t\tEnable: true\r\n\t\t}\r\n\t\tsetLoading(true)\r\n\t\ttry {\r\n\t\t\tswitch (dataRow.StatusID) {\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tres = await packageResultApi.update({\r\n\t\t\t\t\t\t...dataSubmit,\r\n\t\t\t\t\t\tisFixPaid: true\r\n\t\t\t\t\t})\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\tres = await packageResultApi.update({\r\n\t\t\t\t\t\t...dataSubmit,\r\n\t\t\t\t\t\tisReevaluate: true\r\n\t\t\t\t\t})\r\n\t\t\t\t\tbreak\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tshowNoti('success', 'Yêu cầu thành công')\r\n\t\t\t\tonFetchData && onFetchData()\r\n\t\t\t\tsetIsModalVisible(false)\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetLoading(false)\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleOk = () => {\r\n\t\tif (AmountFixOfStudent > 0) {\r\n\t\t\thandleRequestMaking()\r\n\t\t} else {\r\n\t\t\thandleBuyMarking && handleBuyMarking()\r\n\t\t\tsetIsModalVisible(false)\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleCancel = () => {\r\n\t\tsetIsModalVisible(false)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Tooltip title={status == 1 ? 'Yêu cầu chấm bài' : 'Yêu cầu chấm lại'}>\r\n\t\t\t\t<button className=\"btn btn-icon edit\" onClick={showModal}>\r\n\t\t\t\t\t<FormOutlined />\r\n\t\t\t\t</button>\r\n\t\t\t</Tooltip>\r\n\t\t\t<Modal\r\n\t\t\t\tconfirmLoading={loading}\r\n\t\t\t\ttitle={\r\n\t\t\t\t\t<button className=\"btn btn-icon\" onClick={showModal}>\r\n\t\t\t\t\t\t<ExclamationCircleOutlined />\r\n\t\t\t\t\t</button>\r\n\t\t\t\t}\r\n\t\t\t\tvisible={isModalVisible}\r\n\t\t\t\tonOk={handleOk}\r\n\t\t\t\tonCancel={handleCancel}\r\n\t\t\t\tokText={AmountFixOfStudent > 0 ? 'Ok' : 'Mua lượt chấm'}\r\n\t\t\t>\r\n\t\t\t\t{AmountFixOfStudent > 0 ? (\r\n\t\t\t\t\t<p style={{ fontWeight: 500 }}>{status == 1 ? 'Bạn muốn yêu cầu chấm đề này?' : 'Bạn muốn yêu cầu chấm lại đề này?'}</p>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<p style={{ fontWeight: 500 }}>Bạn cần mua lượt chấm bài để sử dụng chức năng này!</p>\r\n\t\t\t\t)}\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nconst PackageResultStudent = () => {\r\n\tconst [dataTeacher, setDataTeacher] = useState([])\r\n\tconst [dataStudent, setDataStudent] = useState([])\r\n\tconst [userID, setUserID] = useState(null)\r\n\tconst [dataLevel, setDataLevel] = useState([])\r\n\tconst [currentPage, setCurrentPage] = useState(1)\r\n\tconst [itemDetail, setItemDetail] = useState()\r\n\tconst { showNoti, pageSize, userInformation } = useWrap()\r\n\tconst listParamsDefault = {\r\n\t\tpageSize: pageSize,\r\n\t\tpageIndex: currentPage,\r\n\t\tsort: null,\r\n\t\tsortType: null,\r\n\t\tfromDate: null,\r\n\t\ttoDate: null,\r\n\t\tStudentID: null,\r\n\t\tSetPackageDetailID: null,\r\n\t\tisDone: null,\r\n\t\tStudentName: null,\r\n\t\tExamTopicType: null\r\n\t}\r\n\tconst [params, setParams] = useState(listParamsDefault)\r\n\tconst [totalPage, setTotalPage] = useState(null)\r\n\tconst [packageSetResult, setPackageSetResult] = useState<ISetPackageResult[]>([])\r\n\tconst [isLoading, setIsLoading] = useState({\r\n\t\ttype: 'GET_ALL',\r\n\t\tstatus: false\r\n\t})\r\n\tconst [isOpenMarking, setIsOpenMarking] = useState(false)\r\n\r\n\tconst onSearch = (data) => {\r\n\t\tsetCurrentPage(1)\r\n\t\tsetParams({\r\n\t\t\t...listParamsDefault,\r\n\t\t\tStudentName: data\r\n\t\t})\r\n\t}\r\n\r\n\tconst handleReset = () => {\r\n\t\tsetCurrentPage(1)\r\n\t\tsetParams(listParamsDefault)\r\n\t}\r\n\r\n\tconst returnTypeExam = (data) => {\r\n\t\tlet text = ''\r\n\t\t// if(data.ListeningNumber > 0 && data.SpeakingNumber > 0 && data.WritingNumber > 0 && data.ReadingNumber){\r\n\t\t//     text = \"Tổng hợp\"\r\n\t\t// }\r\n\t\tif (data.ListeningNumber > 0 || data.ReadingNumber > 0) {\r\n\t\t\tif (data.SpeakingNumber > 0 || data.WritingNumber > 0) {\r\n\t\t\t\ttext = 'Tổng hợp'\r\n\t\t\t} else {\r\n\t\t\t\ttext = 'Trắc nghiệm'\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (data.SpeakingNumber > 0 || data.WritingNumber > 0) {\r\n\t\t\t\ttext = 'Tự luận'\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn text\r\n\t}\r\n\r\n\tconst sortOption = [\r\n\t\t{\r\n\t\t\tdataSort: {\r\n\t\t\t\tsortType: null\r\n\t\t\t},\r\n\t\t\tvalue: 1,\r\n\t\t\ttext: 'Mới cập nhật'\r\n\t\t},\r\n\t\t{\r\n\t\t\tdataSort: {\r\n\t\t\t\tsortType: true\r\n\t\t\t},\r\n\t\t\tvalue: 2,\r\n\t\t\ttext: 'Từ dưới lên'\r\n\t\t}\r\n\t]\r\n\r\n\tconst [dataFilter, setDataFilter] = useState([\r\n\t\t{\r\n\t\t\tname: 'SetPackageDetailID',\r\n\t\t\ttitle: 'Bộ đề',\r\n\t\t\tcol: 'col-12',\r\n\t\t\ttype: 'select',\r\n\t\t\toptionList: null,\r\n\t\t\tvalue: null\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'StatusID',\r\n\t\t\ttitle: 'Trạng thái',\r\n\t\t\tcol: 'col-12',\r\n\t\t\ttype: 'select',\r\n\t\t\toptionList: [\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 1,\r\n\t\t\t\t\ttitle: 'Đã nộp bài'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 2,\r\n\t\t\t\t\ttitle: 'Đang chấm bài'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 3,\r\n\t\t\t\t\ttitle: 'Đã chấm bài'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 4,\r\n\t\t\t\t\ttitle: 'Đang chấm bài lại'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 5,\r\n\t\t\t\t\ttitle: 'Đã chấm bài'\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tvalue: null\r\n\t\t},\r\n\r\n\t\t{\r\n\t\t\tname: 'date-range',\r\n\t\t\ttitle: 'Ngày tạo',\r\n\t\t\tcol: 'col-12',\r\n\t\t\ttype: 'date-range',\r\n\t\t\tvalue: null\r\n\t\t}\r\n\t])\r\n\r\n\tconst handleFilter = (listFilter) => {\r\n\t\tconsole.log('List Filter when submit: ', listFilter)\r\n\r\n\t\tlet newListFilter = {\r\n\t\t\tpageIndex: 1,\r\n\t\t\tfromDate: null,\r\n\t\t\ttoDate: null,\r\n\t\t\tStudentID: null,\r\n\t\t\tSetPackageDetailID: null,\r\n\t\t\tisDone: null,\r\n\t\t\tStudentName: null,\r\n\t\t\tExamTopicType: null,\r\n\t\t\tStatusID: null\r\n\t\t}\r\n\t\tlistFilter.forEach((item, index) => {\r\n\t\t\tlet key = item.name\r\n\t\t\tObject.keys(newListFilter).forEach((keyFilter) => {\r\n\t\t\t\tif (keyFilter == key) {\r\n\t\t\t\t\tnewListFilter[key] = item.value\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t})\r\n\t\tsetParams({ ...listParamsDefault, ...newListFilter, pageIndex: 1 })\r\n\t}\r\n\r\n\tconst handleSort = async (option) => {\r\n\t\tsetParams({\r\n\t\t\t...listParamsDefault,\r\n\t\t\tsortType: option.title.sortType\r\n\t\t})\r\n\t}\r\n\r\n\tconst setDataFunc = (name, data) => {\r\n\t\tdataFilter.every((item, index) => {\r\n\t\t\tif (item.name == name) {\r\n\t\t\t\titem.optionList = data\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t\treturn true\r\n\t\t})\r\n\t\tsetDataFilter([...dataFilter])\r\n\t}\r\n\t// GET DATA LEVEL\r\n\tconst getDataLevel = async () => {\r\n\t\ttry {\r\n\t\t\tlet res = await priceFixExamApi.getAll({ pageSize: 9999, pageIndex: 1 })\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tlet newData = res.data.data.map((item) => ({\r\n\t\t\t\t\ttitle: item.SetPackageLevel,\r\n\t\t\t\t\tvalue: item.ID,\r\n\t\t\t\t\tprice: item.Price\r\n\t\t\t\t}))\r\n\t\t\t\tsetDataLevel(newData)\r\n\t\t\t\tsetDataFunc('SetPackageLevel', newData)\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log('Error Level Package: ', error.message)\r\n\t\t}\r\n\t}\r\n\r\n\t// const getDataStudent = async () => {\r\n\t// \ttry {\r\n\t// \t\tlet res = await studentApi.getAll({ pageSize: pageSize, pageIndex: 1 });\r\n\t// \t\tif (res.status == 200) {\r\n\t// \t\t\tconst newData = res.data.data.map((item) => ({\r\n\t// \t\t\t\ttitle: item.FullNameUnicode,\r\n\t// \t\t\t\tvalue: item.UserInformationID\r\n\t// \t\t\t}));\r\n\t// \t\t\tsetDataFunc('StudentID', newData);\r\n\t// \t\t\tsetDataStudent(newData);\r\n\t// \t\t}\r\n\r\n\t// \t\tres.status == 204 && showNoti('danger', 'Không có dữ liệu học sinh này!');\r\n\t// \t} catch (error) {\r\n\t// \t\tshowNoti('danger', error.message);\r\n\t// \t} finally {\r\n\t// \t}\r\n\t// };\r\n\tconst getDataSetPackageResult = (page: any) => {\r\n\t\tsetIsLoading({\r\n\t\t\ttype: 'GET_ALL',\r\n\t\t\tstatus: true\r\n\t\t})\r\n\t\t;(async () => {\r\n\t\t\ttry {\r\n\t\t\t\tlet res = await packageResultApi.getAll({ ...params, pageIndex: page })\r\n\t\t\t\t//@ts-ignore\r\n\t\t\t\tres.status == 200 && setPackageSetResult(res.data.data)\r\n\t\t\t\tif (res.status == 204) {\r\n\t\t\t\t\tshowNoti('danger', 'Không tìm thấy dữ liệu!')\r\n\t\t\t\t\t// setCurrentPage(1);\r\n\t\t\t\t\t// setParams(listParamsDefault);\r\n\t\t\t\t\tsetPackageSetResult([])\r\n\t\t\t\t} else setTotalPage(res.data.totalRow)\r\n\t\t\t} catch (error) {\r\n\t\t\t\tshowNoti('danger', error.message)\r\n\t\t\t} finally {\r\n\t\t\t\tsetIsLoading({\r\n\t\t\t\t\ttype: 'GET_ALL',\r\n\t\t\t\t\tstatus: false\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})()\r\n\t}\r\n\r\n\tconst getDataPackageDetail = async () => {\r\n\t\ttry {\r\n\t\t\tlet res = await packageDetailApi.getAll({\r\n\t\t\t\tpageSize: 99999,\r\n\t\t\t\tpageIndex: 1\r\n\t\t\t})\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tconst newData = res.data.data.map((item) => ({\r\n\t\t\t\t\ttitle: item.SetPackageName,\r\n\t\t\t\t\tvalue: item.ID\r\n\t\t\t\t}))\r\n\t\t\t\tsetDataFunc('SetPackageDetailID', newData)\r\n\t\t\t}\r\n\r\n\t\t\tres.status == 204 && showNoti('danger', 'Không có dữ liệu bộ đề này!')\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t}\r\n\t}\r\n\r\n\tconst getPagination = (pageNumber: number) => {\r\n\t\tsetCurrentPage(pageNumber)\r\n\t\tsetParams({\r\n\t\t\t...params,\r\n\t\t\tpageIndex: currentPage\r\n\t\t})\r\n\t}\r\n\r\n\tconst onFetchData = () => {\r\n\t\tsetParams({\r\n\t\t\t...params\r\n\t\t})\r\n\t}\r\n\r\n\tconst handleRequestMaking = async (status, id) => {\r\n\t\t// 1 - Đã nộp bài\r\n\t\t// 2 - Đang chấm bài\r\n\t\t// 3 - Đã chấm bài\r\n\t\t// 4 - Đang chấm bài lại\r\n\t\t// 5 - Đã chấm bài lại\r\n\t\tlet res = null\r\n\t\tlet dataSubmit = {\r\n\t\t\tID: id,\r\n\t\t\tEnable: true\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tswitch (status) {\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tres = await packageResultApi.update({\r\n\t\t\t\t\t\t...dataSubmit,\r\n\t\t\t\t\t\tisFixPaid: true\r\n\t\t\t\t\t})\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\tres = await packageResultApi.update({\r\n\t\t\t\t\t\t...dataSubmit,\r\n\t\t\t\t\t\tisReevaluate: true\r\n\t\t\t\t\t})\r\n\t\t\t\t\tbreak\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tsetParams({ ...params })\r\n\t\t\t\tshowNoti('success', 'Yêu cầu thành công')\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t}\r\n\t}\r\n\r\n\tconst expandedRowRender = (data, index) => {\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<PackageResultExpand infoID={data.ID} />\r\n\t\t\t</Fragment>\r\n\t\t)\r\n\t}\r\n\r\n\tconst handleBuyMarking = () => {\r\n\t\tsetIsOpenMarking(true)\r\n\t}\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Đề thi',\r\n\t\t\tdataIndex: 'ExamTopicName',\r\n\t\t\trender: (text, data) => (\r\n\t\t\t\t<Link\r\n\t\t\t\t\thref={{\r\n\t\t\t\t\t\tpathname: '/package/package-result-student/detail/[slug]',\r\n\t\t\t\t\t\tquery: { slug: `${data.ID}`, examID: data.ExamTopicID, packageDetailID: data.SetPackageDetailID }\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<a href=\"#\" className=\"font-weight-black\">\r\n\t\t\t\t\t\t{text}\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</Link>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Level',\r\n\t\t\tdataIndex: 'SetPackageLevel',\r\n\t\t\trender: (text) => <p className=\"font-weight-black\">{text}</p>\r\n\t\t},\r\n\t\t// {\r\n\t\t// \ttitle: 'Hình thức',\r\n\t\t// \tdataIndex: 'ExamTopicTypeName',\r\n\t\t// \trender: (text) => <p className=\"font-weight-black\">{text}</p>\r\n\t\t// },\r\n\r\n\t\t{\r\n\t\t\ttitle: 'Trạng thái',\r\n\t\t\tdataIndex: 'StatusID',\r\n\t\t\talign: 'center',\r\n\t\t\trender: (status) => (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t{status == 1 && <span className=\"tag gray\">Đã nộp bài</span>}\r\n\t\t\t\t\t{status == 2 && <span className=\"tag yellow\">Đang chấm bài</span>}\r\n\t\t\t\t\t{status == 3 && <span className=\"tag green\">Đã chấm bài</span>}\r\n\t\t\t\t\t{status == 4 && <span className=\"tag yellow\">Đang chấm bài lại</span>}\r\n\t\t\t\t\t{status == 5 && <span className=\"tag green\">Đã chấm bài lại</span>}\r\n\t\t\t\t</Fragment>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Dạng đề',\r\n\t\t\talign: 'center',\r\n\t\t\trender: (data) => <>{<p className=\"font-weight-black\">{returnTypeExam(data)}</p>}</>\r\n\t\t},\r\n\r\n\t\t{\r\n\t\t\trender: (data) => (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{/* {data.isFixPaid && <PackagePickTeacher dataRow={data} dataTeacher={dataTeacher} onFetchData={onFetchData} />} */}\r\n\t\t\t\t\t<Link\r\n\t\t\t\t\t\thref={{\r\n\t\t\t\t\t\t\tpathname: '/package/package-result-student/detail/[slug]',\r\n\t\t\t\t\t\t\tquery: {\r\n\t\t\t\t\t\t\t\tslug: `${data.ID}`,\r\n\t\t\t\t\t\t\t\texamID: data.ExamTopicID,\r\n\t\t\t\t\t\t\t\tpackageDetailID: data.SetPackageDetailID,\r\n\t\t\t\t\t\t\t\tscore: true\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Tooltip title=\"Kết quả bộ đề chi tiết\">\r\n\t\t\t\t\t\t\t<button className=\"btn btn-icon\">\r\n\t\t\t\t\t\t\t\t<ExclamationCircleOutlined />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t{(data.StatusID == 1 || data.StatusID == 3) && (data.SpeakingNumber > 0 || data.WritingNumber > 0) && (\r\n\t\t\t\t\t\t<RequestMaking\r\n\t\t\t\t\t\t\thandleBuyMarking={() => handleBuyMarking()}\r\n\t\t\t\t\t\t\tAmountFixOfStudent={data.AmountFixOfStudent}\r\n\t\t\t\t\t\t\tonFetchData={() => onFetchData()}\r\n\t\t\t\t\t\t\tstatus={data.StatusID}\r\n\t\t\t\t\t\t\tdataRow={data}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</>\r\n\t\t\t)\r\n\t\t}\r\n\t]\r\n\r\n\tuseEffect(() => {\r\n\t\tgetDataSetPackageResult(currentPage)\r\n\t}, [params])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userInformation) {\r\n\t\t\tsetUserID(userInformation.UserInformationID)\r\n\t\t}\r\n\t}, [userInformation])\r\n\r\n\tuseEffect(() => {\r\n\t\t// getDataStudent();\r\n\t\tgetDataPackageDetail()\r\n\t\tgetDataLevel()\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<ExpandTable\r\n\t\t\tcurrentPage={currentPage}\r\n\t\t\tloading={isLoading}\r\n\t\t\ttotalPage={totalPage && totalPage}\r\n\t\t\tgetPagination={(pageNumber: number) => getPagination(pageNumber)}\r\n\t\t\taddClass=\"basic-header\"\r\n\t\t\tTitlePage=\"kết quả thi\"\r\n\t\t\tdataSource={packageSetResult}\r\n\t\t\tcolumns={columns}\r\n\t\t\tTitleCard={\r\n\t\t\t\t<>\r\n\t\t\t\t\t<PayFixExamForm isBuy={true} userID={userID} dataLevel={dataLevel} isOpenMarking={isOpenMarking} />\r\n\t\t\t\t</>\r\n\t\t\t}\r\n\t\t\tExtra={\r\n\t\t\t\t<div className=\"extra-table\">\r\n\t\t\t\t\t<FilterBase dataFilter={dataFilter} handleFilter={(listFilter: any) => handleFilter(listFilter)} handleReset={handleReset} />\r\n\r\n\t\t\t\t\t<SortBox dataOption={sortOption} handleSort={(value) => handleSort(value)} />\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t\thandleExpand={(data) => setItemDetail(data)}\r\n\t\t\texpandable={{ expandedRowRender }}\r\n\t\t/>\r\n\t)\r\n}\r\nPackageResultStudent.layout = LayoutBase\r\nexport default PackageResultStudent\r\n"]},"metadata":{},"sourceType":"module"}