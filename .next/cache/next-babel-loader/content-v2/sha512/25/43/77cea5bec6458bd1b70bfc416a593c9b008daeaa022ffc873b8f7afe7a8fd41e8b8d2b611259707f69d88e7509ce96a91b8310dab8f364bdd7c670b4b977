{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Dashboard\\\\StatisticalTotal.tsx\",\n    _s = $RefreshSig$();\n\nimport { Card, Skeleton, Select, DatePicker } from 'antd';\nimport moment from 'moment';\nimport React, { useEffect, useState } from 'react';\nimport { statisticalApi } from '~/apiBase/statistical/statistical-total';\nimport ChartCard from './ChartCard';\nvar StatisticalTotalDefault = {\n  Warning: 0,\n  Prewarning: 0,\n  AverageView: 0,\n  CompleteHomework: 0,\n  PrecompleteHomework: 0,\n  NotDonePaidCoursePrice: 0,\n  PrenotDonePaidCoursePrice: 0,\n  TotalVideoViews: 0,\n  PretotalVideoViews: 0,\n  VideoCourseRevenue: 0,\n  PrevideoCourseRevenue: 0,\n  ExamAppointmentResultNotDone: 0,\n  CourseExamresultNotDone: 0,\n  SetPackageResultNotDone: 0,\n  DonePaidCoursePrice: 0,\n  PredonePaidCoursePrice: 0,\n  CourseSecond3Month: 0,\n  Customer: 0,\n  PreCustomer: 0,\n  TestAppointment: 0,\n  PreTestAppointment: 0,\n  TestDone: 0,\n  PreTestDone: 0,\n  RegisterAppointment: 0,\n  PreRegisterAppointment: 0,\n  Studying: 0,\n  PreStudying: 0,\n  Reserve: 0,\n  Prereserve: 0,\n  Changecourse: 0,\n  PreChangecourse: 0,\n  Teacher: 0,\n  PreTeacher: 0,\n  Employee: 0,\n  PreEmployee: 0,\n  Submittopic: 0,\n  Marktopic: 0,\n  Remaketopic: 0,\n  Enable: true,\n  CreatedOn: '',\n  CreatedBy: '',\n  ModifiedOn: '',\n  ModifiedBy: ''\n};\nexport default function StatisticalTotal() {\n  _s();\n\n  var _this = this;\n\n  var _useState = useState(StatisticalTotalDefault),\n      statisticalTotal = _useState[0],\n      setStatisticalTotal = _useState[1];\n\n  var Option = Select.Option;\n\n  var _useState2 = useState(1),\n      mode = _useState2[0],\n      setMode = _useState2[1];\n\n  var _useState3 = useState({\n    status: '',\n    loading: false\n  }),\n      isLoading = _useState3[0],\n      setIsLoading = _useState3[1];\n\n  var _useState4 = useState({\n    branch: 0,\n    StartYear: 2017,\n    EndYear: 2022,\n    Year: new Date().getFullYear(),\n    Month: new Date().getMonth() + 1\n  }),\n      todoApi = _useState4[0],\n      setTodoApi = _useState4[1];\n\n  var listMode = [{\n    title: 'Thống kê trung tâm',\n    value: 1\n  }, {\n    title: 'Thống kê chi tiết',\n    value: 2\n  }];\n\n  var getStatisticalTotal = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setIsLoading({\n                status: 'STAT_GET_ALL',\n                loading: true\n              });\n              _context.prev = 1;\n              _context.next = 4;\n              return statisticalApi.getStatisticalTotal(todoApi);\n\n            case 4:\n              res = _context.sent;\n\n              if ((res === null || res === void 0 ? void 0 : res.status) == 200) {\n                setStatisticalTotal(res.data.data);\n              }\n\n              if ((res === null || res === void 0 ? void 0 : res.status) == 204) {\n                setStatisticalTotal(null);\n              }\n\n              _context.next = 11;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](1);\n\n            case 11:\n              _context.prev = 11;\n              setIsLoading({\n                status: 'STAT_GET_ALL',\n                loading: false\n              });\n              return _context.finish(11);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 9, 11, 14]]);\n    }));\n\n    return function getStatisticalTotal() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var now = new Date();\n\n  var getLastYear = function getLastYear() {\n    return now.getMonth() == 0 ? now.getFullYear() - 1 : now.getFullYear();\n  };\n\n  var getDateNumber = function getDateNumber(number) {\n    return number > 10 ? number : number == 0 ? '12' : '0' + number;\n  };\n\n  var handleChangeType = function handleChangeType(value) {\n    setMode(value);\n  };\n\n  useEffect(function () {\n    getStatisticalTotal();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: isLoading.status === 'STAT_GET_ALL' && isLoading.loading == true ? /*#__PURE__*/_jsxDEV(Skeleton, {\n      active: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 5\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        title: \"S\\u1EAFp x\\u1EBFp l\\u1ECBch h\\u1ECDc\",\n        extra: /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex\",\n            children: [mode === 2 && /*#__PURE__*/_jsxDEV(DatePicker, {\n              defaultValue: moment(new Date(getLastYear() + '-' + getDateNumber(now.getMonth())), 'MM/yyyy'),\n              onChange: function onChange(e, a) {},\n              picker: \"month\",\n              className: \"style-input mr-2\",\n              style: {\n                width: 150\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              style: {\n                width: 200\n              },\n              defaultValue: \"Ch\\u1ECDn lo\\u1EA1i\",\n              className: \"style-input\",\n              onChange: handleChangeType,\n              children: listMode.map(function (item, index) {\n                return /*#__PURE__*/_jsxDEV(Option, {\n                  value: item.value,\n                  children: item.title\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 12\n                }, _this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 9\n          }, this)\n        }, void 0, false),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4 col-xl-3 col-md-4 col-sm-4 col-6\",\n            children: /*#__PURE__*/_jsxDEV(ChartCard, {\n              typeChart: 3,\n              styleName: \"up\",\n              title: \"H\\u1ECDc vi\\xEAn h\\u1EB9n test\",\n              statisticalTotal: statisticalTotal\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4 col-xl-3 col-md-4 col-sm-4 col-6\",\n            children: /*#__PURE__*/_jsxDEV(ChartCard, {\n              typeChart: 1,\n              title: \"H\\u1ECDc vi\\xEAn \\u0111\\u1EBFn test\",\n              styleName: \"up\",\n              statisticalTotal: statisticalTotal\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4 col-xl-3 col-md-4 col-sm-4 col-6\",\n            children: /*#__PURE__*/_jsxDEV(ChartCard, {\n              typeChart: 3,\n              styleName: \"up\",\n              title: \"B\\xE0i t\\u1EADp \\u0111\\xE3 n\\u1ED9p\",\n              statisticalTotal: statisticalTotal\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4 col-xl-3 col-md-4 col-sm-4 col-6\",\n            children: /*#__PURE__*/_jsxDEV(ChartCard, {\n              typeChart: 1,\n              title: \"B\\xE0i \\u0111\\xE3 ch\\u1EA5m\",\n              styleName: \"down\",\n              statisticalTotal: statisticalTotal\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4 col-xl-3 col-md-4 col-sm-4 col-6\",\n            children: /*#__PURE__*/_jsxDEV(ChartCard, {\n              typeChart: 2,\n              styleName: \"up\",\n              title: \"Gi\\xE1o vi\\xEAn\",\n              statisticalTotal: statisticalTotal\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4 col-xl-3 col-md-4 col-sm-4 col-6\",\n            children: /*#__PURE__*/_jsxDEV(ChartCard, {\n              typeChart: 3,\n              styleName: \"up\",\n              title: \"Nh\\xE2n vi\\xEAn\",\n              statisticalTotal: statisticalTotal\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4 col-xl-3 col-md-4 col-sm-4 col-6\",\n            children: /*#__PURE__*/_jsxDEV(ChartCard, {\n              typeChart: 1,\n              styleName: \"up\",\n              title: \"Doanh thu kh\\xF3a h\\u1ECDc video\",\n              statisticalTotal: statisticalTotal\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4 col-xl-3 col-md-4 col-sm-4 col-6\",\n            children: /*#__PURE__*/_jsxDEV(ChartCard, {\n              typeChart: 2,\n              styleName: \"up\",\n              title: \"L\\u01B0\\u1EE3t xem kh\\xF3a h\\u1ECDc video\",\n              statisticalTotal: statisticalTotal\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 6\n      }, this)\n    }, void 0, false)\n  }, void 0, false);\n}\n\n_s(StatisticalTotal, \"sjaGlcs/9imYKS8f7B7mp/hirKQ=\");\n\n_c = StatisticalTotal;\n\nvar _c;\n\n$RefreshReg$(_c, \"StatisticalTotal\");","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Dashboard/StatisticalTotal.tsx"],"names":["Card","Skeleton","Select","DatePicker","moment","React","useEffect","useState","statisticalApi","ChartCard","StatisticalTotalDefault","Warning","Prewarning","AverageView","CompleteHomework","PrecompleteHomework","NotDonePaidCoursePrice","PrenotDonePaidCoursePrice","TotalVideoViews","PretotalVideoViews","VideoCourseRevenue","PrevideoCourseRevenue","ExamAppointmentResultNotDone","CourseExamresultNotDone","SetPackageResultNotDone","DonePaidCoursePrice","PredonePaidCoursePrice","CourseSecond3Month","Customer","PreCustomer","TestAppointment","PreTestAppointment","TestDone","PreTestDone","RegisterAppointment","PreRegisterAppointment","Studying","PreStudying","Reserve","Prereserve","Changecourse","PreChangecourse","Teacher","PreTeacher","Employee","PreEmployee","Submittopic","Marktopic","Remaketopic","Enable","CreatedOn","CreatedBy","ModifiedOn","ModifiedBy","StatisticalTotal","statisticalTotal","setStatisticalTotal","Option","mode","setMode","status","loading","isLoading","setIsLoading","branch","StartYear","EndYear","Year","Date","getFullYear","Month","getMonth","todoApi","setTodoApi","listMode","title","value","getStatisticalTotal","res","data","now","getLastYear","getDateNumber","number","handleChangeType","e","a","width","map","item","index"],"mappings":"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","sourcesContent":["import { Card, Skeleton, Select, DatePicker } from 'antd'\r\nimport moment from 'moment'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { statisticalApi } from '~/apiBase/statistical/statistical-total'\r\nimport ChartCard from './ChartCard'\r\n\r\nconst StatisticalTotalDefault = {\r\n\tWarning: 0,\r\n\tPrewarning: 0,\r\n\tAverageView: 0,\r\n\tCompleteHomework: 0,\r\n\tPrecompleteHomework: 0,\r\n\tNotDonePaidCoursePrice: 0,\r\n\tPrenotDonePaidCoursePrice: 0,\r\n\tTotalVideoViews: 0,\r\n\tPretotalVideoViews: 0,\r\n\tVideoCourseRevenue: 0,\r\n\tPrevideoCourseRevenue: 0,\r\n\tExamAppointmentResultNotDone: 0,\r\n\tCourseExamresultNotDone: 0,\r\n\tSetPackageResultNotDone: 0,\r\n\tDonePaidCoursePrice: 0,\r\n\tPredonePaidCoursePrice: 0,\r\n\tCourseSecond3Month: 0,\r\n\tCustomer: 0,\r\n\tPreCustomer: 0,\r\n\tTestAppointment: 0,\r\n\tPreTestAppointment: 0,\r\n\tTestDone: 0,\r\n\tPreTestDone: 0,\r\n\tRegisterAppointment: 0,\r\n\tPreRegisterAppointment: 0,\r\n\tStudying: 0,\r\n\tPreStudying: 0,\r\n\tReserve: 0,\r\n\tPrereserve: 0,\r\n\tChangecourse: 0,\r\n\tPreChangecourse: 0,\r\n\tTeacher: 0,\r\n\tPreTeacher: 0,\r\n\tEmployee: 0,\r\n\tPreEmployee: 0,\r\n\tSubmittopic: 0,\r\n\tMarktopic: 0,\r\n\tRemaketopic: 0,\r\n\tEnable: true,\r\n\tCreatedOn: '',\r\n\tCreatedBy: '',\r\n\tModifiedOn: '',\r\n\tModifiedBy: ''\r\n}\r\n\r\nexport default function StatisticalTotal() {\r\n\tconst [statisticalTotal, setStatisticalTotal] = useState<IStatistical>(StatisticalTotalDefault)\r\n\tconst { Option } = Select\r\n\tconst [mode, setMode] = useState(1)\r\n\tconst [isLoading, setIsLoading] = useState({ status: '', loading: false })\r\n\tconst [todoApi, setTodoApi] = useState({\r\n\t\tbranch: 0,\r\n\t\tStartYear: 2017,\r\n\t\tEndYear: 2022,\r\n\t\tYear: new Date().getFullYear(),\r\n\t\tMonth: new Date().getMonth() + 1\r\n\t})\r\n\tconst listMode = [\r\n\t\t{ title: 'Thống kê trung tâm', value: 1 },\r\n\t\t{ title: 'Thống kê chi tiết', value: 2 }\r\n\t]\r\n\r\n\tconst getStatisticalTotal = async () => {\r\n\t\tsetIsLoading({ status: 'STAT_GET_ALL', loading: true })\r\n\t\ttry {\r\n\t\t\tlet res: any = await statisticalApi.getStatisticalTotal(todoApi)\r\n\t\t\tif (res?.status == 200) {\r\n\t\t\t\tsetStatisticalTotal(res.data.data)\r\n\t\t\t}\r\n\t\t\tif (res?.status == 204) {\r\n\t\t\t\tsetStatisticalTotal(null)\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({ status: 'STAT_GET_ALL', loading: false })\r\n\t\t}\r\n\t}\r\n\r\n\tconst now = new Date()\r\n\r\n\tconst getLastYear = () => {\r\n\t\treturn now.getMonth() == 0 ? now.getFullYear() - 1 : now.getFullYear()\r\n\t}\r\n\r\n\tconst getDateNumber = (number: any) => {\r\n\t\treturn number > 10 ? number : number == 0 ? '12' : '0' + number\r\n\t}\r\n\r\n\tconst handleChangeType = (value: any) => {\r\n\t\tsetMode(value)\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tgetStatisticalTotal()\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{isLoading.status === 'STAT_GET_ALL' && isLoading.loading == true ? (\r\n\t\t\t\t<Skeleton active />\r\n\t\t\t) : (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\ttitle=\"Sắp xếp lịch học\"\r\n\t\t\t\t\t\textra={\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex\">\r\n\t\t\t\t\t\t\t\t\t{mode === 2 && (\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={moment(new Date(getLastYear() + '-' + getDateNumber(now.getMonth())), 'MM/yyyy')}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e: any, a: any) => {}}\r\n\t\t\t\t\t\t\t\t\t\t\tpicker=\"month\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"style-input mr-2\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 150 }}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t<Select style={{ width: 200 }} defaultValue=\"Chọn loại\" className=\"style-input\" onChange={handleChangeType}>\r\n\t\t\t\t\t\t\t\t\t\t{listMode.map((item, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value={item.value} key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{item.title}\r\n\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"mb-4 col-xl-3 col-md-4 col-sm-4 col-6\">\r\n\t\t\t\t\t\t\t\t<ChartCard typeChart={3} styleName=\"up\" title=\"Học viên hẹn test\" statisticalTotal={statisticalTotal} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"mb-4 col-xl-3 col-md-4 col-sm-4 col-6\">\r\n\t\t\t\t\t\t\t\t<ChartCard typeChart={1} title=\"Học viên đến test\" styleName=\"up\" statisticalTotal={statisticalTotal} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"mb-4 col-xl-3 col-md-4 col-sm-4 col-6\">\r\n\t\t\t\t\t\t\t\t<ChartCard typeChart={3} styleName=\"up\" title=\"Bài tập đã nộp\" statisticalTotal={statisticalTotal} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"mb-4 col-xl-3 col-md-4 col-sm-4 col-6\">\r\n\t\t\t\t\t\t\t\t<ChartCard typeChart={1} title=\"Bài đã chấm\" styleName=\"down\" statisticalTotal={statisticalTotal} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"mb-4 col-xl-3 col-md-4 col-sm-4 col-6\">\r\n\t\t\t\t\t\t\t\t<ChartCard typeChart={2} styleName=\"up\" title=\"Giáo viên\" statisticalTotal={statisticalTotal} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"mb-4 col-xl-3 col-md-4 col-sm-4 col-6\">\r\n\t\t\t\t\t\t\t\t<ChartCard typeChart={3} styleName=\"up\" title=\"Nhân viên\" statisticalTotal={statisticalTotal} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"mb-4 col-xl-3 col-md-4 col-sm-4 col-6\">\r\n\t\t\t\t\t\t\t\t<ChartCard typeChart={1} styleName=\"up\" title=\"Doanh thu khóa học video\" statisticalTotal={statisticalTotal} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"mb-4 col-xl-3 col-md-4 col-sm-4 col-6\">\r\n\t\t\t\t\t\t\t\t<ChartCard typeChart={2} styleName=\"up\" title=\"Lượt xem khóa học video\" statisticalTotal={statisticalTotal} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</>\r\n\t)\r\n}\r\n"]},"metadata":{},"sourceType":"module"}