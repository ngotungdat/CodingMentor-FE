{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\CodingMentor\\\\CodingMentor-FE\\\\src\\\\components\\\\Global\\\\CreateCourse\\\\Calendar\\\\CreateCourseCalendar.tsx\";\nimport { Spin } from 'antd';\nimport Modal from 'antd/lib/modal/Modal';\nimport moment from 'moment';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport { Calendar, momentLocalizer } from 'react-big-calendar';\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\nimport { useWrap } from '~/context/wrap';\nmoment.locale('vi');\nconst localizer = momentLocalizer(moment);\n\nconst CreateCourseCalendar = props => {\n  const {\n    eventList,\n    isLoaded,\n    //\n    handleSetDataModalCalendar,\n    dataModalCalendar,\n    //\n    unAvailableList\n  } = props;\n  const isSmDown = window.matchMedia('(max-width: 767px)').matches;\n  const {\n    0: isVisible,\n    1: setIsVisible\n  } = useState(false);\n  const {\n    showNoti\n  } = useWrap();\n\n  const openModal = () => setIsVisible(true);\n\n  const closeModal = () => setIsVisible(false);\n\n  const {\n    dateString,\n    limit,\n    scheduleInDay,\n    scheduleList\n  } = dataModalCalendar;\n\n  const checkHandleSetDataModalCalendar = obj => {\n    if (!handleSetDataModalCalendar) return;\n    handleSetDataModalCalendar(obj);\n  };\n\n  const styleEvent = ({\n    event\n  }) => {\n    const {\n      dateString,\n      limit,\n      scheduleList,\n      valid\n    } = event.resource;\n    const scheduleInDay = scheduleList.length;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: e => {\n          e.stopPropagation();\n          checkHandleSetDataModalCalendar({\n            dateString,\n            limit,\n            scheduleInDay,\n            scheduleList\n          });\n          openModal();\n\n          if (valid) {\n            showNoti('success', `Ngày ${moment(dateString).format('DD/MM/YYYY')}- hãy chọn ${limit - scheduleInDay} ca`);\n          }\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [\"C\\xF2n tr\\u1ED1ng: \", limit - scheduleInDay]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [\"\\u0110\\xE3 x\\u1EBFp: \", scheduleInDay]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 5\n      }, this)\n    }, void 0, false);\n  };\n\n  const customEventPropGetter = (event, start, end, isSelected) => {\n    let cls;\n\n    if (event.resource.limit !== event.resource.scheduleList.length) {\n      cls = 'create-course-event create-course-event-green';\n    }\n\n    if (event.resource.limit === event.resource.scheduleList.length) {\n      cls = 'create-course-event';\n    }\n\n    if (event.resource.scheduleList.length === 0) {\n      cls = 'create-course-event create-course-event-gray';\n    }\n\n    if (event.resource.dateString === dateString) {\n      return {\n        className: 'create-course-event create-course-event-active'\n      };\n    } else {\n      return {\n        className: cls\n      };\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wrap-calendar\",\n    children: [/*#__PURE__*/_jsxDEV(Spin, {\n      spinning: !isLoaded,\n      size: \"large\",\n      wrapperClassName: \"calendar-loading\",\n      children: /*#__PURE__*/_jsxDEV(Calendar, {\n        className: \"custom-calendar\",\n        localizer: localizer,\n        events: eventList,\n        startAccessor: \"start\",\n        endAccessor: \"end\",\n        style: {\n          minHeight: isSmDown ? 500 : 600\n        },\n        popup: true,\n        views: ['month'],\n        defaultView: \"month\",\n        showMultiDayTimes: true,\n        eventPropGetter: customEventPropGetter,\n        components: {\n          event: styleEvent\n        },\n        formats: {\n          monthHeaderFormat: date => moment(date).format('MM/YYYY'),\n          dayRangeHeaderFormat: ({\n            start,\n            end\n          }) => `${moment(start).format('DD/MM')} - ${moment(end).format('DD/MM')}`\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      style: {\n        top: window.matchMedia('(min-width: 1001px)').matches ? 122 : isSmDown ? 15 : 158\n      },\n      className: \"custom-calendar-modal create-course-modal\",\n      getContainer: isSmDown ? document.body : '.create-course-wrap-modal',\n      zIndex: isSmDown ? 903 : 900,\n      title: `Chi tiết ngày ${moment(dateString).format('DD/MM/YYYY')}`,\n      visible: isVisible,\n      okButtonProps: {\n        style: {\n          display: 'none'\n        }\n      },\n      onCancel: closeModal,\n      cancelText: \"\\u0110\\xF3ng\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tt\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              marginBottom: '5px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Th\\xF4ng tin c\\u01A1 b\\u1EA3n: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-4 col-md-4\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"T\\u1ED5ng s\\u1ED1 ca: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: limit\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 22\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-4 col-md-4\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"\\u0110\\xE3 x\\u1EBFp: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: scheduleInDay\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 18\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-4 col-md-4\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"C\\xF2n tr\\u1ED1ng: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: limit - scheduleInDay\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cnt-wrap\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"tt\",\n            style: {\n              marginBottom: '5px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Chi ti\\u1EBFt c\\xE1c ca trong ng\\xE0y: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cnt\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"wrap-card-info-course\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"info-course\",\n                children: props.children\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"unavailable-mobile\",\n          children: unAvailableList\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 3\n  }, this);\n};\n\nCreateCourseCalendar.propTypes = {\n  eventList: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    title: PropTypes.string.isRequired,\n    start: PropTypes.instanceOf(Date).isRequired,\n    end: PropTypes.instanceOf(Date).isRequired,\n    resource: PropTypes.shape({\n      dateString: PropTypes.string.isRequired,\n      valid: PropTypes.bool.isRequired,\n      limit: PropTypes.number.isRequired,\n      scheduleList: PropTypes.array\n    })\n  })).isRequired,\n  isLoaded: PropTypes.bool,\n  //\n  handleSetDataModalCalendar: PropTypes.func,\n  dataModalCalendar: PropTypes.shape({\n    dateString: PropTypes.string,\n    limit: PropTypes.number,\n    scheduleInDay: PropTypes.number,\n    scheduleList: PropTypes.array\n  }),\n  //\n  unAvailableList: PropTypes.node,\n  //\n  children: PropTypes.node\n};\nCreateCourseCalendar.defaultProps = {\n  eventList: [],\n  isLoaded: false,\n  //\n  handleSetDataModalCalendar: null,\n  dataModalCalendar: {\n    dateString: '',\n    limit: 0,\n    scheduleInDay: 0,\n    scheduleList: []\n  },\n  //\n  unAvailableList: null\n};\nexport default CreateCourseCalendar;","map":{"version":3,"sources":["D:/MonaMedia/Project/CodingMentor/CodingMentor-FE/src/components/Global/CreateCourse/Calendar/CreateCourseCalendar.tsx"],"names":["Spin","Modal","moment","PropTypes","React","useState","Calendar","momentLocalizer","useWrap","locale","localizer","CreateCourseCalendar","props","eventList","isLoaded","handleSetDataModalCalendar","dataModalCalendar","unAvailableList","isSmDown","window","matchMedia","matches","isVisible","setIsVisible","showNoti","openModal","closeModal","dateString","limit","scheduleInDay","scheduleList","checkHandleSetDataModalCalendar","obj","styleEvent","event","valid","resource","length","e","stopPropagation","format","customEventPropGetter","start","end","isSelected","cls","className","minHeight","monthHeaderFormat","date","dayRangeHeaderFormat","top","document","body","style","display","marginBottom","children","propTypes","arrayOf","shape","id","number","isRequired","title","string","instanceOf","Date","bool","array","func","node","defaultProps"],"mappings":"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","sourcesContent":["import { Spin } from 'antd';\r\nimport Modal from 'antd/lib/modal/Modal';\r\nimport moment from 'moment';\r\nimport PropTypes from 'prop-types';\r\nimport React, { useState } from 'react';\r\nimport { Calendar, momentLocalizer } from 'react-big-calendar';\r\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\r\nimport { useWrap } from '~/context/wrap';\r\nmoment.locale('vi');\r\nconst localizer = momentLocalizer(moment);\r\n\r\nconst CreateCourseCalendar = (props) => {\r\n\tconst {\r\n\t\teventList,\r\n\t\tisLoaded,\r\n\t\t//\r\n\t\thandleSetDataModalCalendar,\r\n\t\tdataModalCalendar,\r\n\t\t//\r\n\t\tunAvailableList\r\n\t} = props;\r\n\tconst isSmDown = window.matchMedia('(max-width: 767px)').matches;\r\n\tconst [isVisible, setIsVisible] = useState(false);\r\n\tconst { showNoti } = useWrap();\r\n\tconst openModal = () => setIsVisible(true);\r\n\tconst closeModal = () => setIsVisible(false);\r\n\tconst { dateString, limit, scheduleInDay, scheduleList } = dataModalCalendar;\r\n\tconst checkHandleSetDataModalCalendar = (obj) => {\r\n\t\tif (!handleSetDataModalCalendar) return;\r\n\t\thandleSetDataModalCalendar(obj);\r\n\t};\r\n\tconst styleEvent = ({ event }) => {\r\n\t\tconst { dateString, limit, scheduleList, valid } = event.resource;\r\n\t\tconst scheduleInDay = scheduleList.length;\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<div\r\n\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\tcheckHandleSetDataModalCalendar({\r\n\t\t\t\t\t\t\tdateString,\r\n\t\t\t\t\t\t\tlimit,\r\n\t\t\t\t\t\t\tscheduleInDay,\r\n\t\t\t\t\t\t\tscheduleList\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\topenModal();\r\n\t\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\t\tshowNoti('success', `Ngày ${moment(dateString).format('DD/MM/YYYY')}- hãy chọn ${limit - scheduleInDay} ca`);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<strong>Còn trống: {limit - scheduleInDay}</strong>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<strong>Đã xếp: {scheduleInDay}</strong>\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t);\r\n\t};\r\n\tconst customEventPropGetter = (event, start, end, isSelected) => {\r\n\t\tlet cls;\r\n\t\tif (event.resource.limit !== event.resource.scheduleList.length) {\r\n\t\t\tcls = 'create-course-event create-course-event-green';\r\n\t\t}\r\n\t\tif (event.resource.limit === event.resource.scheduleList.length) {\r\n\t\t\tcls = 'create-course-event';\r\n\t\t}\r\n\t\tif (event.resource.scheduleList.length === 0) {\r\n\t\t\tcls = 'create-course-event create-course-event-gray';\r\n\t\t}\r\n\t\tif (event.resource.dateString === dateString) {\r\n\t\t\treturn {\r\n\t\t\t\tclassName: 'create-course-event create-course-event-active'\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\treturn {\r\n\t\t\t\tclassName: cls\r\n\t\t\t};\r\n\t\t}\r\n\t};\r\n\treturn (\r\n\t\t<div className=\"wrap-calendar\">\r\n\t\t\t<Spin spinning={!isLoaded} size=\"large\" wrapperClassName=\"calendar-loading\">\r\n\t\t\t\t<Calendar\r\n\t\t\t\t\tclassName=\"custom-calendar\"\r\n\t\t\t\t\tlocalizer={localizer}\r\n\t\t\t\t\tevents={eventList}\r\n\t\t\t\t\tstartAccessor=\"start\"\r\n\t\t\t\t\tendAccessor=\"end\"\r\n\t\t\t\t\tstyle={{ minHeight: isSmDown ? 500 : 600 }}\r\n\t\t\t\t\tpopup={true}\r\n\t\t\t\t\tviews={['month']}\r\n\t\t\t\t\tdefaultView=\"month\"\r\n\t\t\t\t\tshowMultiDayTimes={true}\r\n\t\t\t\t\teventPropGetter={customEventPropGetter}\r\n\t\t\t\t\tcomponents={{ event: styleEvent }}\r\n\t\t\t\t\tformats={{\r\n\t\t\t\t\t\tmonthHeaderFormat: (date) => moment(date).format('MM/YYYY'),\r\n\t\t\t\t\t\tdayRangeHeaderFormat: ({ start, end }) => `${moment(start).format('DD/MM')} - ${moment(end).format('DD/MM')}`\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</Spin>\r\n\t\t\t<Modal\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\ttop: window.matchMedia('(min-width: 1001px)').matches ? 122 : isSmDown ? 15 : 158\r\n\t\t\t\t}}\r\n\t\t\t\tclassName=\"custom-calendar-modal create-course-modal\"\r\n\t\t\t\tgetContainer={isSmDown ? document.body : '.create-course-wrap-modal'}\r\n\t\t\t\tzIndex={isSmDown ? 903 : 900}\r\n\t\t\t\ttitle={`Chi tiết ngày ${moment(dateString).format('DD/MM/YYYY')}`}\r\n\t\t\t\tvisible={isVisible}\r\n\t\t\t\tokButtonProps={{ style: { display: 'none' } }}\r\n\t\t\t\tonCancel={closeModal}\r\n\t\t\t\tcancelText=\"Đóng\"\r\n\t\t\t>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"tt\">\r\n\t\t\t\t\t\t<p style={{ marginBottom: '5px' }}>\r\n\t\t\t\t\t\t\t<strong>Thông tin cơ bản: </strong>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-4 col-md-4\">\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\tTổng số ca: <strong>{limit}</strong>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-4 col-md-4\">\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\tĐã xếp: <strong>{scheduleInDay}</strong>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-4 col-md-4\">\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\tCòn trống: <strong>{limit - scheduleInDay}</strong>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"cnt-wrap\">\r\n\t\t\t\t\t\t<p className=\"tt\" style={{ marginBottom: '5px' }}>\r\n\t\t\t\t\t\t\t<strong>Chi tiết các ca trong ngày: </strong>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"cnt\">\r\n\t\t\t\t\t\t\t<div className=\"wrap-card-info-course\">\r\n\t\t\t\t\t\t\t\t<div className=\"info-course\">{props.children}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"unavailable-mobile\">{unAvailableList}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Modal>\r\n\t\t</div>\r\n\t);\r\n};\r\nCreateCourseCalendar.propTypes = {\r\n\teventList: PropTypes.arrayOf(\r\n\t\tPropTypes.shape({\r\n\t\t\tid: PropTypes.number.isRequired,\r\n\t\t\ttitle: PropTypes.string.isRequired,\r\n\t\t\tstart: PropTypes.instanceOf(Date).isRequired,\r\n\t\t\tend: PropTypes.instanceOf(Date).isRequired,\r\n\t\t\tresource: PropTypes.shape({\r\n\t\t\t\tdateString: PropTypes.string.isRequired,\r\n\t\t\t\tvalid: PropTypes.bool.isRequired,\r\n\t\t\t\tlimit: PropTypes.number.isRequired,\r\n\t\t\t\tscheduleList: PropTypes.array\r\n\t\t\t})\r\n\t\t})\r\n\t).isRequired,\r\n\tisLoaded: PropTypes.bool,\r\n\t//\r\n\thandleSetDataModalCalendar: PropTypes.func,\r\n\tdataModalCalendar: PropTypes.shape({\r\n\t\tdateString: PropTypes.string,\r\n\t\tlimit: PropTypes.number,\r\n\t\tscheduleInDay: PropTypes.number,\r\n\t\tscheduleList: PropTypes.array\r\n\t}),\r\n\t//\r\n\tunAvailableList: PropTypes.node,\r\n\t//\r\n\tchildren: PropTypes.node\r\n};\r\nCreateCourseCalendar.defaultProps = {\r\n\teventList: [],\r\n\tisLoaded: false,\r\n\t//\r\n\thandleSetDataModalCalendar: null,\r\n\tdataModalCalendar: {\r\n\t\tdateString: '',\r\n\t\tlimit: 0,\r\n\t\tscheduleInDay: 0,\r\n\t\tscheduleList: []\r\n\t},\r\n\t//\r\n\tunAvailableList: null\r\n};\r\nexport default CreateCourseCalendar;\r\n"]},"metadata":{},"sourceType":"module"}