{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\CodingMentor\\\\CodingMentor-FE\\\\src\\\\components\\\\Global\\\\Teacher\\\\TeacherProfile.tsx\";\nimport { Card, Checkbox, Spin, Table, Tooltip } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { teacherApi } from '~/apiBase';\nimport PowerTable from '~/components/PowerTable';\nimport { useWrap } from '~/context/wrap';\n\nconst TeacherProfile = props => {\n  const {\n    isLoading,\n    userID,\n    dataSubject,\n    updateTeacherForSubject,\n    onFetchData\n  } = props;\n  const {\n    0: loading,\n    1: setLoading\n  } = useState({\n    type: '',\n    status: false\n  });\n  const {\n    setValue\n  } = useForm();\n  const {\n    showNoti\n  } = useWrap();\n\n  const onAssign = async CurriculumID => {\n    setLoading({\n      type: '',\n      status: true\n    });\n\n    try {\n      const res = await teacherApi.assign({\n        CurriculumID: CurriculumID,\n        TeacherID: userID\n      });\n      (res === null || res === void 0 ? void 0 : res.status) == 200 && onFetchData(), showNoti('success', 'Thay đổi thành công!');\n    } catch (error) {\n      showNoti('danger', 'Thay đổi thất bại!');\n      console.log('error: ', error);\n    } finally {\n      setLoading({\n        type: '',\n        status: false\n      });\n    }\n  };\n\n  const columns = [{\n    title: 'Giáo trình',\n    width: 200,\n    dataIndex: 'CurriculumName',\n    render: text => /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"font-weight-primary\",\n      children: text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 30\n    }, this)\n  }, {\n    title: 'Trạng thái',\n    align: 'center',\n    dataIndex: 'Enable',\n    render: (text, data) => /*#__PURE__*/_jsxDEV(\"p\", {\n      className: data.Enable ? 'tag green' : 'tag red',\n      children: data.Enable ? 'Được phép dạy' : 'Không được phép dạy'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }, this)\n  }, {\n    title: 'Thao tác',\n    width: 100,\n    align: 'center',\n    render: (text, data) => {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: data !== null && data !== void 0 && data.Enable ? 'Không cho phép dạy' : 'Cho phép dạy',\n          children: /*#__PURE__*/_jsxDEV(Checkbox, {\n            checked: data.Enable,\n            onChange: () => onAssign(data === null || data === void 0 ? void 0 : data.CurriculumID)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 7\n        }, this)\n      }, void 0, false);\n    }\n  }];\n\n  const handleSubmitAssignment = async info => {\n    setLoading({\n      type: 'ASSIGN_TEACHER',\n      status: true\n    });\n\n    try {\n      let res = await teacherApi.updateTeacherForAllSubject({\n        teacherId: userID,\n        programId: info.key,\n        IsSelected: info.IsSelected ? false : true\n      });\n\n      if (res.status === 200) {\n        showNoti('success', 'Thay đổi thành công!');\n        onFetchData && onFetchData();\n        return true;\n      }\n\n      if (res.status === 204) {\n        showNoti('danger', 'Chưa có môn học trong chương trình này!');\n        onFetchData && onFetchData();\n        return true;\n      }\n    } catch (error) {} finally {\n      setLoading({\n        type: 'ASSIGN_TEACHER',\n        status: false\n      });\n    }\n  };\n\n  const expandedRowRender = record => {\n    const columns = [];\n    const data = [{\n      Subject: 'Subject'\n    }];\n\n    for (let i = 0; i < Object.keys(record.Subject).length; i++) {\n      columns.push({\n        key: record.Subject[i].SubjectID,\n        title: record.Subject[i].SubjectName,\n        dataIndex: 'Subject',\n        render: () => /*#__PURE__*/_jsxDEV(Checkbox, {\n          value: record.Subject[i].SubjectID,\n          checked: record.Subject[i].IsSelected ? true : false,\n          onChange: onChangeCheckBox\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 6\n        }, this)\n      });\n    }\n\n    const onChangeCheckBox = e => {\n      const data = {\n        UserInformationID: userID,\n        SubjectID: e.target.value\n      };\n      let res = updateTeacherForSubject(data);\n      res.then(function (rs) {\n        rs && rs.status == 200;\n      });\n    };\n\n    if (Object.keys(record.Subject).length) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mini-table\",\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          columns: columns,\n          dataSource: data,\n          pagination: false,\n          className: \"tb-expand\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 5\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Ch\\u01B0a c\\xF3 m\\xF4n h\\u1ECDc\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }, this);\n    }\n  };\n\n  useEffect(() => {\n    setValue('UserInformationID', userID);\n  }, []);\n\n  if (!!isLoading.status || !!loading.status) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        className: \"space-top-card text-center\",\n        children: /*#__PURE__*/_jsxDEV(Spin, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 5\n      }, this)\n    }, void 0, false);\n  } else {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        className: \"space-top-card\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"wrap-table table-expand\",\n            children: /*#__PURE__*/_jsxDEV(PowerTable, {\n              className: \"teacher-detail-table\",\n              dataSource: dataSubject,\n              columns: columns,\n              size: \"middle\",\n              scroll: {\n                x: 600\n              },\n              expandable: {\n                expandedRowRender: record => expandedRowRender(record)\n              },\n              pagination: false\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 5\n      }, this)\n    }, void 0, false);\n  }\n};\n\nexport default TeacherProfile;","map":{"version":3,"sources":["D:/MonaMedia/Project/CodingMentor/CodingMentor-FE/src/components/Global/Teacher/TeacherProfile.tsx"],"names":["Card","Checkbox","Spin","Table","Tooltip","React","useEffect","useState","useForm","teacherApi","PowerTable","useWrap","TeacherProfile","props","isLoading","userID","dataSubject","updateTeacherForSubject","onFetchData","loading","setLoading","type","status","setValue","showNoti","onAssign","CurriculumID","res","assign","TeacherID","error","console","log","columns","title","width","dataIndex","render","text","align","data","Enable","handleSubmitAssignment","info","updateTeacherForAllSubject","teacherId","programId","key","IsSelected","expandedRowRender","record","Subject","i","Object","keys","length","push","SubjectID","SubjectName","onChangeCheckBox","e","UserInformationID","target","value","then","rs","x"],"mappings":"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","sourcesContent":["import { Card, Checkbox, Popconfirm, Spin, Table, Tabs, Tooltip } from 'antd'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { CheckCircle } from 'react-feather'\r\nimport { useForm } from 'react-hook-form'\r\nimport { teacherApi } from '~/apiBase'\r\nimport PowerTable from '~/components/PowerTable'\r\nimport { useWrap } from '~/context/wrap'\r\nimport ConfirmAssignModal from './Teacher/ConfirmAssignModal'\r\n\r\nconst TeacherProfile = (props: any) => {\r\n\tconst { isLoading, userID, dataSubject, updateTeacherForSubject, onFetchData } = props\r\n\r\n\tconst [loading, setLoading] = useState({ type: '', status: false })\r\n\tconst { setValue } = useForm()\r\n\tconst { showNoti } = useWrap()\r\n\r\n\tconst onAssign = async (CurriculumID: number) => {\r\n\t\tsetLoading({ type: '', status: true })\r\n\t\ttry {\r\n\t\t\tconst res = await teacherApi.assign({ CurriculumID: CurriculumID, TeacherID: userID })\r\n\t\t\tres?.status == 200 && onFetchData(), showNoti('success', 'Thay đổi thành công!')\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', 'Thay đổi thất bại!')\r\n\t\t\tconsole.log('error: ', error)\r\n\t\t} finally {\r\n\t\t\tsetLoading({ type: '', status: false })\r\n\t\t}\r\n\t}\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Giáo trình',\r\n\t\t\twidth: 200,\r\n\t\t\tdataIndex: 'CurriculumName',\r\n\t\t\trender: (text: string) => <p className=\"font-weight-primary\">{text}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Trạng thái',\r\n\t\t\talign: 'center',\r\n\t\t\tdataIndex: 'Enable',\r\n\t\t\trender: (text: string, data: any) => (\r\n\t\t\t\t<p className={data.Enable ? 'tag green' : 'tag red'}>{data.Enable ? 'Được phép dạy' : 'Không được phép dạy'}</p>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Thao tác',\r\n\t\t\twidth: 100,\r\n\t\t\talign: 'center',\r\n\t\t\trender: (text: string, data: any) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Tooltip title={data?.Enable ? 'Không cho phép dạy' : 'Cho phép dạy'}>\r\n\t\t\t\t\t\t\t<Checkbox checked={data.Enable} onChange={() => onAssign(data?.CurriculumID)} />\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t]\r\n\r\n\tconst handleSubmitAssignment = async (info: any) => {\r\n\t\tsetLoading({ type: 'ASSIGN_TEACHER', status: true })\r\n\t\ttry {\r\n\t\t\tlet res = await teacherApi.updateTeacherForAllSubject({\r\n\t\t\t\tteacherId: userID,\r\n\t\t\t\tprogramId: info.key,\r\n\t\t\t\tIsSelected: info.IsSelected ? false : true\r\n\t\t\t})\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tshowNoti('success', 'Thay đổi thành công!')\r\n\t\t\t\tonFetchData && onFetchData()\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t\tif (res.status === 204) {\r\n\t\t\t\tshowNoti('danger', 'Chưa có môn học trong chương trình này!')\r\n\t\t\t\tonFetchData && onFetchData()\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t} finally {\r\n\t\t\tsetLoading({ type: 'ASSIGN_TEACHER', status: false })\r\n\t\t}\r\n\t}\r\n\r\n\tconst expandedRowRender = (record) => {\r\n\t\tconst columns = []\r\n\t\tconst data = [\r\n\t\t\t{\r\n\t\t\t\tSubject: 'Subject'\r\n\t\t\t}\r\n\t\t]\r\n\r\n\t\tfor (let i = 0; i < Object.keys(record.Subject).length; i++) {\r\n\t\t\tcolumns.push({\r\n\t\t\t\tkey: record.Subject[i].SubjectID,\r\n\t\t\t\ttitle: record.Subject[i].SubjectName,\r\n\t\t\t\tdataIndex: 'Subject',\r\n\t\t\t\trender: () => (\r\n\t\t\t\t\t<Checkbox value={record.Subject[i].SubjectID} checked={record.Subject[i].IsSelected ? true : false} onChange={onChangeCheckBox} />\r\n\t\t\t\t)\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tconst onChangeCheckBox = (e) => {\r\n\t\t\tconst data = { UserInformationID: userID, SubjectID: e.target.value }\r\n\t\t\tlet res = updateTeacherForSubject(data)\r\n\t\t\tres.then(function (rs: any) {\r\n\t\t\t\trs && rs.status == 200\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tif (Object.keys(record.Subject).length) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"mini-table\">\r\n\t\t\t\t\t<Table columns={columns} dataSource={data} pagination={false} className=\"tb-expand\" />\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\treturn <p>Chưa có môn học</p>\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tsetValue('UserInformationID', userID)\r\n\t}, [])\r\n\r\n\tif (!!isLoading.status || !!loading.status) {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<Card className=\"space-top-card text-center\">\r\n\t\t\t\t\t<Spin></Spin>\r\n\t\t\t\t</Card>\r\n\t\t\t</>\r\n\t\t)\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<Card className=\"space-top-card\">\r\n\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t<div className=\"wrap-table table-expand\">\r\n\t\t\t\t\t\t\t<PowerTable\r\n\t\t\t\t\t\t\t\tclassName=\"teacher-detail-table\"\r\n\t\t\t\t\t\t\t\tdataSource={dataSubject}\r\n\t\t\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\t\t\tscroll={{ x: 600 }}\r\n\t\t\t\t\t\t\t\texpandable={{\r\n\t\t\t\t\t\t\t\t\texpandedRowRender: (record: any) => expandedRowRender(record)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tpagination={false}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Card>\r\n\t\t\t</>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default TeacherProfile\r\n"]},"metadata":{},"sourceType":"module"}