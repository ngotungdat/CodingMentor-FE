{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport _toConsumableArray from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Global\\\\QuestionBank\\\\GroupWrap.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState, useRef } from 'react';\nimport { Collapse, Popover, Modal, Tooltip, Checkbox } from 'antd';\nimport ReactHtmlParser from 'react-html-parser';\nimport { MoreOutlined, DeleteOutlined, RightOutlined, DownOutlined } from '@ant-design/icons';\nimport CreateQuestionForm from './CreateQuestionForm';\nimport { exerciseGroupApi } from '~/apiBase';\nimport { useWrap } from '~/context/wrap';\nimport { useExamDetail } from '~/pages/question-bank/exam-list/exam-detail/[slug]';\nimport { CheckOutlined } from '@ant-design/icons';\n\nvar GroupWrap = function GroupWrap(props) {\n  _s();\n\n  var _useExamDetail = useExamDetail(),\n      isGetQuestion = _useExamDetail.isGetQuestion,\n      onGetListQuestionID = _useExamDetail.onGetListQuestionID,\n      listGroupID = _useExamDetail.listGroupID,\n      onRemoveQuestionAdd = _useExamDetail.onRemoveQuestionAdd,\n      listQuestionAddOutside = _useExamDetail.listQuestionAddOutside;\n\n  var children = props.children,\n      isGroup = props.isGroup,\n      listQuestion = props.listQuestion,\n      onFetchData = props.onFetchData,\n      onRemoveData = props.onRemoveData,\n      _onEditData = props.onEditData,\n      _onAddData = props.onAddData,\n      getGroupID = props.getGroupID,\n      dataExam = props.dataExam;\n  console.log('children: ', children);\n  var Panel = Collapse.Panel;\n\n  var _useWrap = useWrap(),\n      showNoti = _useWrap.showNoti;\n\n  var _useState = useState(false),\n      isCollapse = _useState[0],\n      setIsCollapse = _useState[1];\n\n  var _useState2 = useState({\n    status: false,\n    id: null\n  }),\n      visible = _useState2[0],\n      setVisible = _useState2[1];\n\n  var _useState3 = useState(null),\n      activeKey = _useState3[0],\n      setActiveKey = _useState3[1];\n\n  var _useState4 = useState({\n    status: false,\n    data: null\n  }),\n      openForm = _useState4[0],\n      setOpenForm = _useState4[1];\n\n  var _useState5 = useState(false),\n      isModalVisible = _useState5[0],\n      setIsModalVisible = _useState5[1];\n\n  var _useState6 = useState(null),\n      deleteID = _useState6[0],\n      setDeleteID = _useState6[1];\n\n  var _useState7 = useState(listQuestion),\n      linkAudio = _useState7[0],\n      setLinkAudio = _useState7[1];\n\n  var audioRef = useRef(null);\n\n  var _useState8 = useState(false),\n      loadingAudio = _useState8[0],\n      setLoadingAudio = _useState8[1];\n\n  var _useState9 = useState(null),\n      dataListQuestion = _useState9[0],\n      setDataListQuestion = _useState9[1];\n\n  var _useState10 = useState(0),\n      lengthData = _useState10[0],\n      setLengthData = _useState10[1]; // console.log(\"List question in group: \", listQuestion);\n  // console.log(\"active Key: \", activeKey);\n  // ACTION TABLE\n\n\n  var showModalConfirm = function showModalConfirm(e) {\n    e.stopPropagation();\n    setIsModalVisible(true);\n  }; // Confirm delete group\n\n\n  var handleDelete = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.stopPropagation();\n              setIsModalVisible(false);\n              onRemoveData(deleteID);\n              showNoti('success', 'Xóa thành công');\n              _context.prev = 4;\n              _context.next = 7;\n              return exerciseGroupApi.update({\n                ID: deleteID,\n                Enable: false\n              });\n\n            case 7:\n              res = _context.sent;\n              _context.next = 12;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](4);\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[4, 10]]);\n    }));\n\n    return function handleDelete(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleCancel = function handleCancel() {\n    setIsModalVisible(false);\n  }; // Open popover\n\n\n  var onChangePopover = function onChangePopover(id) {\n    !visible.status ? setVisible({\n      id: id,\n      status: true\n    }) : setVisible(_objectSpread(_objectSpread({}, visible), {}, {\n      status: false\n    }));\n  }; // Show menu in group item\n\n\n  var showMenu = function showMenu(e) {\n    e.stopPropagation();\n  }; // ACTION COLLAPSE\n\n\n  var onShowCollapse = function onShowCollapse(groupID) {\n    getGroupID && getGroupID(groupID);\n\n    if (groupID == activeKey) {\n      setActiveKey(null);\n    } else {\n      setActiveKey(groupID);\n    }\n  };\n\n  var returnNewData = function returnNewData(groupID, item) {\n    var cloneItem = JSON.parse(JSON.stringify(item));\n    delete cloneItem.ID;\n    cloneItem.Content = '';\n    cloneItem.ExerciseGroupID = item.ID;\n    cloneItem.LinkAudio = '';\n\n    switch (item.Type) {\n      // Choice\n      case 1:\n        cloneItem.ExerciseAnswer = [{\n          ID: 1,\n          AnswerContent: '',\n          isTrue: false\n        }, {\n          ID: 2,\n          AnswerContent: '',\n          isTrue: false\n        }, {\n          ID: 3,\n          AnswerContent: '',\n          isTrue: false\n        }, {\n          ID: 4,\n          AnswerContent: '',\n          isTrue: false\n        }];\n        break;\n      // Map\n\n      case 5:\n        cloneItem.ExerciseAnswer = [];\n        break;\n      // Multiple\n\n      case 4:\n        cloneItem.ExerciseAnswer = [];\n        break;\n      // Typing\n\n      case 3:\n        cloneItem.Content = item.Content;\n        cloneItem.ID = groupID;\n        cloneItem.LinkAudio = item.LinkAudio;\n        break;\n      // Drag;\n\n      case 2:\n        cloneItem.Content = item.Content;\n        cloneItem.ID = groupID;\n        cloneItem.LinkAudio = item.LinkAudio;\n        break;\n\n      default:\n        break;\n    }\n\n    return cloneItem;\n  }; // CONTENT POPOVER\n\n\n  var contentMenu = function contentMenu(groupID, item) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"function-group-item\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrap-btn\",\n        children: /*#__PURE__*/_jsxDEV(CreateQuestionForm, {\n          isGroup: isGroup,\n          questionData: item,\n          onFetchData: onFetchData,\n          handlePopover: function handlePopover() {\n            return onChangePopover(item.ID);\n          },\n          onEditData: function onEditData(data) {\n            return _onEditData(data);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 6\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 5\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrap-btn\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-icon delete\",\n          onClick: function onClick(e) {\n            return setDeleteID(item.ID), showModalConfirm(e), onChangePopover(item.ID);\n          },\n          children: [/*#__PURE__*/_jsxDEV(DeleteOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 7\n          }, _this), \"X\\xF3a nh\\xF3m\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 6\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 5\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrap-btn\",\n        children: /*#__PURE__*/_jsxDEV(CreateQuestionForm, {\n          isGroup: {\n            status: false,\n            id: groupID\n          },\n          questionData: returnNewData(groupID, item),\n          onFetchData: onFetchData,\n          handlePopover: function handlePopover() {\n            return onChangePopover(item.ID);\n          },\n          onEditData: function onEditData(data) {\n            return _onEditData(data);\n          },\n          onAddData: function onAddData(data) {\n            return _onAddData(data);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 6\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 5\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 4\n    }, _this);\n  };\n\n  useEffect(function () {\n    // Check active item when add new data\n    if ((dataListQuestion === null || dataListQuestion === void 0 ? void 0 : dataListQuestion.length) > 0) {\n      if (listQuestion.length > lengthData) {\n        setActiveKey(listQuestion[0].ID);\n        getGroupID(listQuestion[0].ID);\n      }\n    }\n\n    setLengthData(listQuestion.length); // Loading audio for change html audio (because the link not change when update state)\n\n    setLoadingAudio(true);\n    setTimeout(function () {\n      setLoadingAudio(false);\n    }, 100); // Make new data\n\n    setDataListQuestion(listQuestion);\n    setLinkAudio(listQuestion);\n  }, [listQuestion]); // On change - add question\n\n  var onChange_AddQuestion = function onChange_AddQuestion(checked, quesID) {\n    var objectQuestion = {\n      type: 2,\n      ExerciseOrExerciseGroupID: quesID\n    }; // Call function to get ID of question\n\n    if (checked) {\n      onGetListQuestionID(objectQuestion);\n    } else {\n      onRemoveQuestionAdd(objectQuestion);\n    } // Check isChecked in checkbox\n    // dataListQuestion.every((item) => {\n    //   if (item.ID == quesID) {\n    //     item.isChecked = checked;\n    //     return false;\n    //   }\n    //   return true;\n    // });\n    // setDataListQuestion([...dataListQuestion]);\n\n  };\n\n  useEffect(function () {\n    if ((dataListQuestion === null || dataListQuestion === void 0 ? void 0 : dataListQuestion.length) > 0) {\n      if ((listQuestionAddOutside === null || listQuestionAddOutside === void 0 ? void 0 : listQuestionAddOutside.length) > 0) {\n        dataListQuestion === null || dataListQuestion === void 0 ? void 0 : dataListQuestion.forEach(function (item) {\n          if (listQuestionAddOutside.some(function (object) {\n            return object['ExerciseOrExerciseGroupID'] == item.ID;\n          })) {\n            item.isChecked = true;\n          } else {\n            item.isChecked = false;\n          }\n        });\n      } else {\n        dataListQuestion === null || dataListQuestion === void 0 ? void 0 : dataListQuestion.forEach(function (item) {\n          item.isChecked = false;\n        });\n      }\n\n      setDataListQuestion(_toConsumableArray(dataListQuestion));\n    }\n  }, [listQuestionAddOutside]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Modal, {\n      title: \"Ch\\xFA \\xFD\",\n      visible: isModalVisible,\n      onOk: handleDelete,\n      onCancel: handleCancel,\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontWeight: 500,\n          color: '#292929'\n        },\n        children: \"B\\u1EA1n c\\xF3 ch\\u1EAFc mu\\u1ED1n x\\xF3a nh\\xF3m c\\xE2u h\\u1ECFi n\\xE0y?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 4\n    }, _this), isGroup.status ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"lms-collapse\",\n      children: (dataListQuestion === null || dataListQuestion === void 0 ? void 0 : dataListQuestion.length) == 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Danh s\\xE1ch c\\xF2n tr\\u1ED1ng\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 8\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 7\n      }, _this) : dataListQuestion === null || dataListQuestion === void 0 ? void 0 : dataListQuestion.map(function (item, index) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          \"data-click\": \"trigger-collapse\",\n          className: \"collapse-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"collapse-item__header\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-function\",\n              onClick: function onClick(e) {\n                return onShowCollapse(item.ID);\n              },\n              children: item.ID == activeKey ? /*#__PURE__*/_jsxDEV(DownOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 35\n              }, _this) : /*#__PURE__*/_jsxDEV(RightOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 54\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 10\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"wrap-action-right\",\n              style: {\n                right: dataExam ? '12px' : '0'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Popover, {\n                content: contentMenu(item.ID, item),\n                trigger: \"hover\",\n                visible: item.ID == visible.id && visible.status,\n                onVisibleChange: function onVisibleChange() {\n                  return onChangePopover(item.ID);\n                },\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-icon menu\",\n                  onClick: function onClick(e) {\n                    return showMenu(e);\n                  },\n                  children: /*#__PURE__*/_jsxDEV(MoreOutlined, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 292,\n                    columnNumber: 13\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 12\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 11\n              }, _this), dataExam && (listGroupID.includes(item.ID) ? /*#__PURE__*/_jsxDEV(Tooltip, {\n                title: \"\\u0110\\xE3 c\\xF3 trong \\u0111\\u1EC1 thi\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-icon edit\",\n                  children: /*#__PURE__*/_jsxDEV(CheckOutlined, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 299,\n                    columnNumber: 15\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 298,\n                  columnNumber: 14\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 13\n              }, _this) : /*#__PURE__*/_jsxDEV(Checkbox, {\n                className: \"checkbox-addquestion\",\n                checked: item.isChecked,\n                onChange: function onChange(e) {\n                  return onChange_AddQuestion(e.target.checked, item.ID);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 13\n              }, _this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 10\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"header-content\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"title\",\n                children: [\"Nh\\xF3m \", index + 1]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 11\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 10\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 9\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"collapse-item__body \".concat(activeKey == null ? 'd-none' : '', \" \").concat(item.ID == activeKey ? 'active' : 'un-active', \" \"),\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"body-content w-100 d-block\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"group-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"file-audio mb-3\",\n                  children: !loadingAudio ? linkAudio[index].LinkAudio !== '' && /*#__PURE__*/_jsxDEV(\"audio\", {\n                    controls: true,\n                    ref: audioRef,\n                    children: /*#__PURE__*/_jsxDEV(\"source\", {\n                      src: linkAudio[index].LinkAudio,\n                      type: \"audio/mpeg\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 323,\n                      columnNumber: 16\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 322,\n                    columnNumber: 15\n                  }, _this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 12\n                }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"introduce mb-1\",\n                  children: ReactHtmlParser(item.Introduce)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 330,\n                  columnNumber: 12\n                }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"content\",\n                  children: ReactHtmlParser(item.Content)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 331,\n                  columnNumber: 12\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 11\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"group-content-question mt-3\",\n                children: /*#__PURE__*/React.cloneElement(children, {\n                  groupID: item.ID\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 11\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 10\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 9\n          }, _this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 8\n        }, _this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 5\n    }, _this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: children\n    }, void 0, false)]\n  }, void 0, true);\n};\n\n_s(GroupWrap, \"F7pWHKjQYQTK2jleTCuRJKd2xvo=\", false, function () {\n  return [useExamDetail, useWrap];\n});\n\n_c = GroupWrap;\nexport default GroupWrap;\n\nvar _c;\n\n$RefreshReg$(_c, \"GroupWrap\");","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Global/QuestionBank/GroupWrap.tsx"],"names":["React","useEffect","useState","useRef","Collapse","Popover","Modal","Tooltip","Checkbox","ReactHtmlParser","MoreOutlined","DeleteOutlined","RightOutlined","DownOutlined","CreateQuestionForm","exerciseGroupApi","useWrap","useExamDetail","CheckOutlined","GroupWrap","props","isGetQuestion","onGetListQuestionID","listGroupID","onRemoveQuestionAdd","listQuestionAddOutside","children","isGroup","listQuestion","onFetchData","onRemoveData","onEditData","onAddData","getGroupID","dataExam","console","log","Panel","showNoti","isCollapse","setIsCollapse","status","id","visible","setVisible","activeKey","setActiveKey","data","openForm","setOpenForm","isModalVisible","setIsModalVisible","deleteID","setDeleteID","linkAudio","setLinkAudio","audioRef","loadingAudio","setLoadingAudio","dataListQuestion","setDataListQuestion","lengthData","setLengthData","showModalConfirm","e","stopPropagation","handleDelete","update","ID","Enable","res","handleCancel","onChangePopover","showMenu","onShowCollapse","groupID","returnNewData","item","cloneItem","JSON","parse","stringify","Content","ExerciseGroupID","LinkAudio","Type","ExerciseAnswer","AnswerContent","isTrue","contentMenu","length","setTimeout","onChange_AddQuestion","checked","quesID","objectQuestion","type","ExerciseOrExerciseGroupID","forEach","some","object","isChecked","fontWeight","color","map","index","right","includes","target","Introduce","cloneElement"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from 'react'\r\nimport { Collapse, Popover, Modal, Spin, Tooltip, Checkbox } from 'antd'\r\nimport ReactHtmlParser, { processNodes, convertNodeToElement, htmlparser2 } from 'react-html-parser'\r\nimport { group } from 'console'\r\nimport {\r\n\tMoreOutlined,\r\n\tFormOutlined,\r\n\tDeleteOutlined,\r\n\tAppstoreAddOutlined,\r\n\tPlusSquareOutlined,\r\n\tRightOutlined,\r\n\tDownOutlined\r\n} from '@ant-design/icons'\r\nimport CreateQuestionForm from './CreateQuestionForm'\r\n\r\nimport { exerciseApi, exerciseGroupApi } from '~/apiBase'\r\nimport { useWrap } from '~/context/wrap'\r\nimport { useExamDetail } from '~/pages/question-bank/exam-list/exam-detail/[slug]'\r\nimport { CheckOutlined } from '@ant-design/icons'\r\n\r\nconst GroupWrap = (props) => {\r\n\tconst { isGetQuestion, onGetListQuestionID, listGroupID, onRemoveQuestionAdd, listQuestionAddOutside } = useExamDetail()\r\n\tconst { children, isGroup, listQuestion, onFetchData, onRemoveData, onEditData, onAddData, getGroupID, dataExam } = props\r\n\r\n\tconsole.log('children: ', children)\r\n\r\n\tconst { Panel } = Collapse\r\n\tconst { showNoti } = useWrap()\r\n\tconst [isCollapse, setIsCollapse] = useState(false)\r\n\tconst [visible, setVisible] = useState({\r\n\t\tstatus: false,\r\n\t\tid: null\r\n\t})\r\n\tconst [activeKey, setActiveKey] = useState(null)\r\n\tconst [openForm, setOpenForm] = useState({\r\n\t\tstatus: false,\r\n\t\tdata: null\r\n\t})\r\n\tconst [isModalVisible, setIsModalVisible] = useState(false)\r\n\tconst [deleteID, setDeleteID] = useState(null)\r\n\tconst [linkAudio, setLinkAudio] = useState(listQuestion)\r\n\tconst audioRef = useRef(null)\r\n\tconst [loadingAudio, setLoadingAudio] = useState(false)\r\n\tconst [dataListQuestion, setDataListQuestion] = useState(null)\r\n\tconst [lengthData, setLengthData] = useState(0)\r\n\r\n\t// console.log(\"List question in group: \", listQuestion);\r\n\t// console.log(\"active Key: \", activeKey);\r\n\r\n\t// ACTION TABLE\r\n\tconst showModalConfirm = (e) => {\r\n\t\te.stopPropagation()\r\n\t\tsetIsModalVisible(true)\r\n\t}\r\n\r\n\t// Confirm delete group\r\n\tconst handleDelete = async (e) => {\r\n\t\te.stopPropagation()\r\n\t\tsetIsModalVisible(false)\r\n\t\tonRemoveData(deleteID)\r\n\t\tshowNoti('success', 'Xóa thành công')\r\n\r\n\t\ttry {\r\n\t\t\tlet res = await exerciseGroupApi.update({ ID: deleteID, Enable: false })\r\n\t\t} catch (error) {}\r\n\t}\r\n\r\n\tconst handleCancel = () => {\r\n\t\tsetIsModalVisible(false)\r\n\t}\r\n\r\n\t// Open popover\r\n\tconst onChangePopover = (id) => {\r\n\t\t!visible.status\r\n\t\t\t? setVisible({\r\n\t\t\t\t\tid: id,\r\n\t\t\t\t\tstatus: true\r\n\t\t\t  })\r\n\t\t\t: setVisible({\r\n\t\t\t\t\t...visible,\r\n\t\t\t\t\tstatus: false\r\n\t\t\t  })\r\n\t}\r\n\r\n\t// Show menu in group item\r\n\tconst showMenu = (e) => {\r\n\t\te.stopPropagation()\r\n\t}\r\n\r\n\t// ACTION COLLAPSE\r\n\tconst onShowCollapse = (groupID) => {\r\n\t\tgetGroupID && getGroupID(groupID)\r\n\t\tif (groupID == activeKey) {\r\n\t\t\tsetActiveKey(null)\r\n\t\t} else {\r\n\t\t\tsetActiveKey(groupID)\r\n\t\t}\r\n\t}\r\n\r\n\tconst returnNewData = (groupID, item) => {\r\n\t\tlet cloneItem = JSON.parse(JSON.stringify(item))\r\n\t\tdelete cloneItem.ID\r\n\t\tcloneItem.Content = ''\r\n\t\tcloneItem.ExerciseGroupID = item.ID\r\n\t\tcloneItem.LinkAudio = ''\r\n\r\n\t\tswitch (item.Type) {\r\n\t\t\t// Choice\r\n\t\t\tcase 1:\r\n\t\t\t\tcloneItem.ExerciseAnswer = [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tID: 1,\r\n\t\t\t\t\t\tAnswerContent: '',\r\n\t\t\t\t\t\tisTrue: false\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tID: 2,\r\n\t\t\t\t\t\tAnswerContent: '',\r\n\t\t\t\t\t\tisTrue: false\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tID: 3,\r\n\t\t\t\t\t\tAnswerContent: '',\r\n\t\t\t\t\t\tisTrue: false\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tID: 4,\r\n\t\t\t\t\t\tAnswerContent: '',\r\n\t\t\t\t\t\tisTrue: false\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t\tbreak\r\n\r\n\t\t\t// Map\r\n\t\t\tcase 5:\r\n\t\t\t\tcloneItem.ExerciseAnswer = []\r\n\t\t\t\tbreak\r\n\t\t\t// Multiple\r\n\t\t\tcase 4:\r\n\t\t\t\tcloneItem.ExerciseAnswer = []\r\n\t\t\t\tbreak\r\n\r\n\t\t\t// Typing\r\n\t\t\tcase 3:\r\n\t\t\t\tcloneItem.Content = item.Content\r\n\t\t\t\tcloneItem.ID = groupID\r\n\t\t\t\tcloneItem.LinkAudio = item.LinkAudio\r\n\t\t\t\tbreak\r\n\r\n\t\t\t// Drag;\r\n\t\t\tcase 2:\r\n\t\t\t\tcloneItem.Content = item.Content\r\n\t\t\t\tcloneItem.ID = groupID\r\n\t\t\t\tcloneItem.LinkAudio = item.LinkAudio\r\n\t\t\t\tbreak\r\n\t\t\tdefault:\r\n\t\t\t\tbreak\r\n\t\t}\r\n\r\n\t\treturn cloneItem\r\n\t}\r\n\r\n\t// CONTENT POPOVER\r\n\tconst contentMenu = (groupID, item) => {\r\n\t\treturn (\r\n\t\t\t<div className=\"function-group-item\">\r\n\t\t\t\t{/** Fix group */}\r\n\t\t\t\t<div className=\"wrap-btn\">\r\n\t\t\t\t\t<CreateQuestionForm\r\n\t\t\t\t\t\tisGroup={isGroup}\r\n\t\t\t\t\t\tquestionData={item}\r\n\t\t\t\t\t\tonFetchData={onFetchData}\r\n\t\t\t\t\t\thandlePopover={() => onChangePopover(item.ID)}\r\n\t\t\t\t\t\tonEditData={(data) => onEditData(data)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/** Delete group */}\r\n\t\t\t\t<div className=\"wrap-btn\">\r\n\t\t\t\t\t<button className=\"btn btn-icon delete\" onClick={(e) => (setDeleteID(item.ID), showModalConfirm(e), onChangePopover(item.ID))}>\r\n\t\t\t\t\t\t<DeleteOutlined />\r\n\t\t\t\t\t\tXóa nhóm\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/** Add more question */}\r\n\t\t\t\t<div className=\"wrap-btn\">\r\n\t\t\t\t\t<CreateQuestionForm\r\n\t\t\t\t\t\tisGroup={{ status: false, id: groupID }}\r\n\t\t\t\t\t\tquestionData={returnNewData(groupID, item)}\r\n\t\t\t\t\t\tonFetchData={onFetchData}\r\n\t\t\t\t\t\thandlePopover={() => onChangePopover(item.ID)}\r\n\t\t\t\t\t\tonEditData={(data) => onEditData(data)}\r\n\t\t\t\t\t\tonAddData={(data) => onAddData(data)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\t// Check active item when add new data\r\n\t\tif (dataListQuestion?.length > 0) {\r\n\t\t\tif (listQuestion.length > lengthData) {\r\n\t\t\t\tsetActiveKey(listQuestion[0].ID)\r\n\t\t\t\tgetGroupID(listQuestion[0].ID)\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetLengthData(listQuestion.length)\r\n\r\n\t\t// Loading audio for change html audio (because the link not change when update state)\r\n\t\tsetLoadingAudio(true)\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetLoadingAudio(false)\r\n\t\t}, 100)\r\n\r\n\t\t// Make new data\r\n\t\tsetDataListQuestion(listQuestion)\r\n\t\tsetLinkAudio(listQuestion)\r\n\t}, [listQuestion])\r\n\r\n\t// On change - add question\r\n\tconst onChange_AddQuestion = (checked, quesID) => {\r\n\t\tlet objectQuestion = {\r\n\t\t\ttype: 2,\r\n\t\t\tExerciseOrExerciseGroupID: quesID\r\n\t\t}\r\n\r\n\t\t// Call function to get ID of question\r\n\t\tif (checked) {\r\n\t\t\tonGetListQuestionID(objectQuestion)\r\n\t\t} else {\r\n\t\t\tonRemoveQuestionAdd(objectQuestion)\r\n\t\t}\r\n\r\n\t\t// Check isChecked in checkbox\r\n\t\t// dataListQuestion.every((item) => {\r\n\t\t//   if (item.ID == quesID) {\r\n\t\t//     item.isChecked = checked;\r\n\t\t//     return false;\r\n\t\t//   }\r\n\t\t//   return true;\r\n\t\t// });\r\n\r\n\t\t// setDataListQuestion([...dataListQuestion]);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (dataListQuestion?.length > 0) {\r\n\t\t\tif (listQuestionAddOutside?.length > 0) {\r\n\t\t\t\tdataListQuestion?.forEach((item) => {\r\n\t\t\t\t\tif (listQuestionAddOutside.some((object) => object['ExerciseOrExerciseGroupID'] == item.ID)) {\r\n\t\t\t\t\t\titem.isChecked = true\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\titem.isChecked = false\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tdataListQuestion?.forEach((item) => {\r\n\t\t\t\t\titem.isChecked = false\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tsetDataListQuestion([...dataListQuestion])\r\n\t\t}\r\n\t}, [listQuestionAddOutside])\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Modal title=\"Chú ý\" visible={isModalVisible} onOk={handleDelete} onCancel={handleCancel}>\r\n\t\t\t\t<p style={{ fontWeight: 500, color: '#292929' }}>Bạn có chắc muốn xóa nhóm câu hỏi này?</p>\r\n\t\t\t</Modal>\r\n\r\n\t\t\t{isGroup.status ? (\r\n\t\t\t\t<div className=\"lms-collapse\">\r\n\t\t\t\t\t{dataListQuestion?.length == 0 ? (\r\n\t\t\t\t\t\t<p className=\"text-center\">\r\n\t\t\t\t\t\t\t<b>Danh sách còn trống</b>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\tdataListQuestion?.map((item, index) => (\r\n\t\t\t\t\t\t\t<div data-click=\"trigger-collapse\" className=\"collapse-item\" key={index}>\r\n\t\t\t\t\t\t\t\t<div className=\"collapse-item__header\">\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn-function\" onClick={(e) => onShowCollapse(item.ID)}>\r\n\t\t\t\t\t\t\t\t\t\t{item.ID == activeKey ? <DownOutlined /> : <RightOutlined />}\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t<div className=\"wrap-action-right\" style={{ right: dataExam ? '12px' : '0' }}>\r\n\t\t\t\t\t\t\t\t\t\t<Popover\r\n\t\t\t\t\t\t\t\t\t\t\tcontent={contentMenu(item.ID, item)}\r\n\t\t\t\t\t\t\t\t\t\t\ttrigger=\"hover\"\r\n\t\t\t\t\t\t\t\t\t\t\tvisible={item.ID == visible.id && visible.status}\r\n\t\t\t\t\t\t\t\t\t\t\tonVisibleChange={() => onChangePopover(item.ID)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-icon menu\" onClick={(e) => showMenu(e)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MoreOutlined />\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t\t\t\t\t{dataExam &&\r\n\t\t\t\t\t\t\t\t\t\t\t(listGroupID.includes(item.ID) ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip title=\"Đã có trong đề thi\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-icon edit\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckOutlined />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"checkbox-addquestion\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={item.isChecked}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => onChange_AddQuestion(e.target.checked, item.ID)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"header-content\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"title\">Nhóm {index + 1}</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName={`collapse-item__body ${activeKey == null ? 'd-none' : ''} ${item.ID == activeKey ? 'active' : 'un-active'} `}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<div className=\"body-content w-100 d-block\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"group-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"file-audio mb-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{!loadingAudio ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlinkAudio[index].LinkAudio !== '' && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<audio controls ref={audioRef}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<source src={linkAudio[index].LinkAudio} type=\"audio/mpeg\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</audio>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<></>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"introduce mb-1\">{ReactHtmlParser(item.Introduce)}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"content\">{ReactHtmlParser(item.Content)}</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"group-content-question mt-3\">{React.cloneElement(children, { groupID: item.ID })}</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t))\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<>{children}</>\r\n\t\t\t)}\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default GroupWrap\r\n"]},"metadata":{},"sourceType":"module"}