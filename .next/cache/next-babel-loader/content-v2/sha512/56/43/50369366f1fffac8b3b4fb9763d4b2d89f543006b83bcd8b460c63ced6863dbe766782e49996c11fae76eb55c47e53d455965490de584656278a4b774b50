{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Global\\\\Option\\\\Contract\\\\Contract.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Card, Popover, Spin, Tooltip } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport { contractApi } from '~/apiBase/options/contract';\nimport EditorBase from '~/components/Elements/EditorBase';\nimport TitlePage from '~/components/TitlePage';\nimport { useWrap } from '~/context/wrap';\n\nconst Contract = () => {\n  const {\n    0: contract,\n    1: setContract\n  } = useState(null);\n  const {\n    0: contractContent,\n    1: setContractContent\n  } = useState('');\n  const {\n    0: isLoading,\n    1: setIsLoading\n  } = useState(false);\n  const {\n    showNoti\n  } = useWrap();\n  const codeEditorList = [{\n    label: '{khoahoc}',\n    desc: ' Khóa học'\n  }, {\n    label: '{chuongtrinh}',\n    desc: ' Chương trình'\n  }, {\n    label: '{batdau}',\n    desc: ' Thời gian bắt đầu'\n  }, {\n    label: '{ketthuc}',\n    desc: ' Thời gian kết thúc'\n  }, {\n    label: '{hinhthucthanhtoan}',\n    desc: 'Hình thức thanh toán'\n  }, {\n    label: '{hovaten}',\n    desc: ' Họ và tên'\n  }, {\n    label: '{sodienthoai}',\n    desc: ' Số điện thoại'\n  }, {\n    label: '{email}',\n    desc: 'Email khách hàng'\n  }, {\n    label: '{cmnd}',\n    desc: ' CMND'\n  }, {\n    label: '{ngaycap}',\n    desc: ' Ngày cấp'\n  }, {\n    label: '{noicap}',\n    desc: ' Nơi cấp'\n  }, {\n    label: '{diachi}',\n    desc: ' Địa chỉ'\n  }, {\n    label: '{lydo}',\n    desc: ' Lý do xuất phiếu'\n  }, {\n    label: '{dachi}',\n    desc: ' Số tiền chi ra'\n  }, {\n    label: '{dathu}',\n    desc: ' Số tiền thu vào'\n  }, {\n    label: '{nguoinhanphieu}',\n    desc: ' Người nhận phiếu ký tên'\n  }, {\n    label: '{nhanvienxuat}',\n    desc: ' Nhân viên xuất phiếu ký tên'\n  }, {\n    label: '{ngay}',\n    desc: ' Ngày'\n  }, {\n    label: '{thang}',\n    desc: ' Tháng'\n  }, {\n    label: '{nam}',\n    desc: ' Năm'\n  }];\n\n  const fetchContract = async () => {\n    setIsLoading(true);\n\n    try {\n      let res = await contractApi.getAll({});\n\n      if (res.status === 200) {\n        if (typeof res.data.data === 'object' && res.data.data !== null) {\n          setContract(res.data.data);\n        }\n      } else if (res.status === 204) {\n        showNoti('danger', 'Không tìm thấy');\n      }\n    } catch (error) {\n      showNoti('danger', error.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchContract();\n  }, []);\n\n  const changeContractContent = value => {\n    setContractContent(value);\n  };\n\n  const updateContract = async () => {\n    if (!contractContent) {\n      showNoti('danger', 'Bạn chưa sưa đổi');\n      return;\n    }\n\n    setIsLoading(true);\n\n    try {\n      let res = await contractApi.update(_objectSpread(_objectSpread({}, contract), {}, {\n        ContractContent: contractContent\n      }));\n\n      if (res.status === 200) {\n        showNoti('success', res.data.message);\n      }\n    } catch (error) {\n      showNoti('danger', error.message);\n    } finally {\n      setContractContent('');\n      setIsLoading(false);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row\",\n    children: [/*#__PURE__*/_jsxDEV(TitlePage, {\n      title: \"H\\u1EE3p \\u0111\\u1ED3ng\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-12\",\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        className: `${isLoading ? 'custom-loading' : ''}`,\n        style: {\n          position: 'relative'\n        },\n        extra: /*#__PURE__*/_jsxDEV(Popover, {\n          placement: \"bottomRight\",\n          content: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"invoice-editor-list\",\n            children: codeEditorList.map((c, idx) => /*#__PURE__*/_jsxDEV(Tooltip, {\n              title: \"Nh\\u1EA5n \\u0111\\u1EC3 sao ch\\xE9p\",\n              placement: \"left\",\n              className: \"invoice-editor-item\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                onClick: () => {\n                  navigator.clipboard.writeText(c.label);\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [c.label, \":\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 13\n                }, this), `${c.desc}`]\n              }, idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 12\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 11\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 9\n          }, this),\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"btn-code-editor\",\n            style: {\n              position: 'relative'\n            },\n            type: \"primary\",\n            children: \"M\\xE3 h\\u01B0\\u1EDBng d\\u1EABn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 7\n        }, this),\n        children: [/*#__PURE__*/_jsxDEV(EditorBase, {\n          content: contract === null || contract === void 0 ? void 0 : contract.ContractContent,\n          handleChangeDataEditor: changeContractContent\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pt-3 d-flex justify-content-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              paddingRight: 5\n            },\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary\",\n              disabled: isLoading,\n              onClick: updateContract,\n              children: [\"X\\xE1c nh\\u1EADn\", isLoading && /*#__PURE__*/_jsxDEV(Spin, {\n                className: \"loading-base\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Spin, {\n          className: \"custom-loading-icon\",\n          size: \"large\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 3\n  }, this);\n};\n\nexport default Contract;","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Global/Option/Contract/Contract.tsx"],"names":["Card","Popover","Spin","Tooltip","React","useEffect","useState","contractApi","EditorBase","TitlePage","useWrap","Contract","contract","setContract","contractContent","setContractContent","isLoading","setIsLoading","showNoti","codeEditorList","label","desc","fetchContract","res","getAll","status","data","error","message","changeContractContent","value","updateContract","update","ContractContent","position","map","c","idx","navigator","clipboard","writeText","paddingRight"],"mappings":"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","sourcesContent":["import { Card, Popover, Spin, Tooltip } from 'antd'\r\nimport { ifError } from 'assert'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { contractApi } from '~/apiBase/options/contract'\r\nimport EditorBase from '~/components/Elements/EditorBase'\r\nimport TitlePage from '~/components/TitlePage'\r\nimport { useWrap } from '~/context/wrap'\r\n\r\nconst Contract = () => {\r\n\tconst [contract, setContract] = useState(null)\r\n\tconst [contractContent, setContractContent] = useState('')\r\n\tconst [isLoading, setIsLoading] = useState(false)\r\n\tconst { showNoti } = useWrap()\r\n\r\n\tconst codeEditorList = [\r\n\t\t{ label: '{khoahoc}', desc: ' Khóa học' },\r\n\t\t{ label: '{chuongtrinh}', desc: ' Chương trình' },\r\n\t\t{ label: '{batdau}', desc: ' Thời gian bắt đầu' },\r\n\t\t{ label: '{ketthuc}', desc: ' Thời gian kết thúc' },\r\n\t\t{ label: '{hinhthucthanhtoan}', desc: 'Hình thức thanh toán' },\r\n\t\t{ label: '{hovaten}', desc: ' Họ và tên' },\r\n\t\t{ label: '{sodienthoai}', desc: ' Số điện thoại' },\r\n\t\t{ label: '{email}', desc: 'Email khách hàng' },\r\n\t\t{ label: '{cmnd}', desc: ' CMND' },\r\n\t\t{ label: '{ngaycap}', desc: ' Ngày cấp' },\r\n\t\t{ label: '{noicap}', desc: ' Nơi cấp' },\r\n\t\t{ label: '{diachi}', desc: ' Địa chỉ' },\r\n\t\t{ label: '{lydo}', desc: ' Lý do xuất phiếu' },\r\n\t\t{ label: '{dachi}', desc: ' Số tiền chi ra' },\r\n\t\t{ label: '{dathu}', desc: ' Số tiền thu vào' },\r\n\t\t{ label: '{nguoinhanphieu}', desc: ' Người nhận phiếu ký tên' },\r\n\t\t{ label: '{nhanvienxuat}', desc: ' Nhân viên xuất phiếu ký tên' },\r\n\t\t{ label: '{ngay}', desc: ' Ngày' },\r\n\t\t{ label: '{thang}', desc: ' Tháng' },\r\n\t\t{ label: '{nam}', desc: ' Năm' }\r\n\t]\r\n\r\n\tconst fetchContract = async () => {\r\n\t\tsetIsLoading(true)\r\n\t\ttry {\r\n\t\t\tlet res = await contractApi.getAll({})\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tif (typeof res.data.data === 'object' && res.data.data !== null) {\r\n\t\t\t\t\tsetContract(res.data.data)\r\n\t\t\t\t}\r\n\t\t\t} else if (res.status === 204) {\r\n\t\t\t\tshowNoti('danger', 'Không tìm thấy')\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading(false)\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchContract()\r\n\t}, [])\r\n\r\n\tconst changeContractContent = (value) => {\r\n\t\tsetContractContent(value)\r\n\t}\r\n\tconst updateContract = async () => {\r\n\t\tif (!contractContent) {\r\n\t\t\tshowNoti('danger', 'Bạn chưa sưa đổi')\r\n\t\t\treturn\r\n\t\t}\r\n\t\tsetIsLoading(true)\r\n\t\ttry {\r\n\t\t\tlet res = await contractApi.update({\r\n\t\t\t\t...contract,\r\n\t\t\t\tContractContent: contractContent\r\n\t\t\t})\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tshowNoti('success', res.data.message)\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetContractContent('')\r\n\t\t\tsetIsLoading(false)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"row\">\r\n\t\t\t<TitlePage title=\"Hợp đồng\" />\r\n\t\t\t<div className=\"col-12\">\r\n\t\t\t\t<Card\r\n\t\t\t\t\tclassName={`${isLoading ? 'custom-loading' : ''}`}\r\n\t\t\t\t\tstyle={{ position: 'relative' }}\r\n\t\t\t\t\textra={\r\n\t\t\t\t\t\t<Popover\r\n\t\t\t\t\t\t\tplacement=\"bottomRight\"\r\n\t\t\t\t\t\t\tcontent={\r\n\t\t\t\t\t\t\t\t<div className=\"invoice-editor-list\">\r\n\t\t\t\t\t\t\t\t\t{codeEditorList.map((c, idx) => (\r\n\t\t\t\t\t\t\t\t\t\t<Tooltip title=\"Nhấn để sao chép\" placement=\"left\" className=\"invoice-editor-item\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnavigator.clipboard.writeText(c.label)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span>{c.label}:</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{`${c.desc}`}\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<a className=\"btn-code-editor\" style={{ position: 'relative' }} type=\"primary\">\r\n\t\t\t\t\t\t\t\tMã hướng dẫn\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<EditorBase content={contract?.ContractContent} handleChangeDataEditor={changeContractContent} />\r\n\t\t\t\t\t<div className=\"pt-3 d-flex justify-content-center\">\r\n\t\t\t\t\t\t<div style={{ paddingRight: 5 }}>\r\n\t\t\t\t\t\t\t<button type=\"submit\" className=\"btn btn-primary\" disabled={isLoading} onClick={updateContract}>\r\n\t\t\t\t\t\t\t\tXác nhận\r\n\t\t\t\t\t\t\t\t{isLoading && <Spin className=\"loading-base\" />}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Spin className=\"custom-loading-icon\" size=\"large\" />\r\n\t\t\t\t</Card>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Contract\r\n"]},"metadata":{},"sourceType":"module"}