{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Global\\\\Option\\\\Faq\\\\AddQuesForm.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { Modal, Spin, Form, Input, Tooltip } from 'antd';\nimport React, { useState } from 'react';\nimport { faqApi } from '~/apiBase/options/faq';\nimport { useWrap } from '~/context/wrap';\n\nvar AddQuesForm = function AddQuesForm(props) {\n  _s();\n\n  var mode = props.mode,\n      onFetchData = props.onFetchData,\n      dataEdit = props.dataEdit;\n\n  var _useState = useState(false),\n      showModal = _useState[0],\n      setShowModal = _useState[1];\n\n  var _useState2 = useState({\n    type: '',\n    status: false\n  }),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var _Form$useForm = Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var TextArea = Input.TextArea;\n\n  var _useWrap = useWrap(),\n      showNoti = _useWrap.showNoti;\n\n  var hanleAddQuestion = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(data) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setIsLoading({\n                type: 'ADD_DATA',\n                status: true\n              });\n              _context.prev = 1;\n              _context.next = 4;\n              return faqApi.add(data);\n\n            case 4:\n              res = _context.sent;\n\n              if (res.status == 200) {\n                setIsLoading({\n                  type: 'ADD_DATA',\n                  status: false\n                });\n                showNoti('success', 'Thêm câu hỏi thành công');\n                form.resetFields();\n                setShowModal(false);\n                onFetchData && onFetchData();\n              }\n\n              _context.next = 12;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](1);\n              form.resetFields();\n              showNoti('danger', _context.t0.message);\n\n            case 12:\n              _context.prev = 12;\n              setIsLoading({\n                type: 'ADD_DATA',\n                status: false\n              });\n              return _context.finish(12);\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 8, 12, 15]]);\n    }));\n\n    return function hanleAddQuestion(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleEditQuestion = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(data) {\n      var dataUpdate, res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              dataUpdate = {\n                ID: dataEdit.ID,\n                Questions: data.Questions,\n                Answer: data.Answer,\n                Enable: true\n              };\n              setIsLoading({\n                type: 'ADD_DATA',\n                status: true\n              });\n              _context2.prev = 2;\n              _context2.next = 5;\n              return faqApi.update(dataUpdate);\n\n            case 5:\n              res = _context2.sent;\n              showNoti('success', 'Sửa câu hỏi thành công!');\n              form.resetFields();\n              setShowModal(false);\n              onFetchData && onFetchData();\n              _context2.next = 15;\n              break;\n\n            case 12:\n              _context2.prev = 12;\n              _context2.t0 = _context2[\"catch\"](2);\n              showNoti('danger', _context2.t0.message);\n\n            case 15:\n              _context2.prev = 15;\n              setIsLoading({\n                type: 'ADD_DATA',\n                status: false\n              });\n              return _context2.finish(15);\n\n            case 18:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[2, 12, 15, 18]]);\n    }));\n\n    return function handleEditQuestion(_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var _onSubmit = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(data) {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              mode === 'add-questions' ? hanleAddQuestion(data) : handleEditQuestion(data);\n\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function _onSubmit(_x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [mode === 'add-questions' ? /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-warning add-new\",\n      onClick: function onClick() {\n        setShowModal(true);\n      },\n      children: \"Th\\xEAm m\\u1EDBi\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }, _this) : /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-icon edit\",\n      onClick: function onClick() {\n        form.resetFields();\n        setShowModal(true);\n      },\n      children: /*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"C\\u1EADp nh\\u1EADt\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-edit\",\n          style: {\n            color: '#34c4a4',\n            fontSize: 16,\n            marginBottom: -1\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 7\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 6\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }, _this), /*#__PURE__*/_jsxDEV(Modal, {\n      title: \"Th\\xEAm c\\xE2u h\\u1ECFi\",\n      visible: showModal,\n      onCancel: function onCancel() {\n        form.resetFields();\n        setShowModal(false);\n      },\n      footer: false,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluit\",\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          form: form,\n          layout: \"vertical\",\n          onFinish: _onSubmit,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12\",\n              children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                label: \"Ti\\xEAu \\u0111\\u1EC1 c\\xE2u h\\u1ECFi\",\n                name: \"Questions\",\n                rules: [mode === 'edit-questions' ? {} : {\n                  required: true,\n                  message: 'Bạn không được để trống'\n                }],\n                children: /*#__PURE__*/_jsxDEV(Input, {\n                  placeholder: \"Th\\xEAm c\\xE2u h\\u1ECFi\",\n                  className: \"style-input\",\n                  defaultValue: mode === 'edit-questions' ? dataEdit.Questions : ''\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 101,\n                  columnNumber: 10\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 9\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 8\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 mb-2\",\n              children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                label: \"N\\u1ED9i dung tr\\u1EA3 l\\u1EDDi\",\n                name: \"Answer\",\n                rules: [mode === 'edit-questions' ? {} : {\n                  required: true,\n                  message: 'Bạn không được để trống'\n                }],\n                children: /*#__PURE__*/_jsxDEV(TextArea, {\n                  placeholder: \"Th\\xEAm c\\xE2u tr\\u1EA3 l\\u1EDDi\",\n                  allowClear: true,\n                  rows: 5,\n                  defaultValue: mode === 'edit-questions' ? dataEdit.Answer : ''\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 10\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 9\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 8\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 mt-5\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn btn-primary w-100\",\n                children: [\"L\\u01B0u\", isLoading.type == 'ADD_DATA' && isLoading.status && /*#__PURE__*/_jsxDEV(Spin, {\n                  className: \"loading-base\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 63\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 9\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 8\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 7\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 6\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 4\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(AddQuesForm, \"H/e+NPL91sHR+MaDf7HQvuec1RM=\", false, function () {\n  return [Form.useForm, useWrap];\n});\n\n_c = AddQuesForm;\nexport default AddQuesForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddQuesForm\");","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Global/Option/Faq/AddQuesForm.tsx"],"names":["Modal","Spin","Form","Input","Tooltip","React","useState","faqApi","useWrap","AddQuesForm","props","mode","onFetchData","dataEdit","showModal","setShowModal","type","status","isLoading","setIsLoading","useForm","form","TextArea","showNoti","hanleAddQuestion","data","add","res","resetFields","message","handleEditQuestion","dataUpdate","ID","Questions","Answer","Enable","update","_onSubmit","color","fontSize","marginBottom","required"],"mappings":";;;;;;;;;;AAAA,SAASA,KAAT,EAAgBC,IAAhB,EAAsBC,IAAtB,EAA4BC,KAA5B,EAAmCC,OAAnC,QAAkD,MAAlD;AACA,OAAOC,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,MAAT,QAAuB,uBAAvB;AACA,SAASC,OAAT,QAAwB,gBAAxB;;AAEA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAAW;AAAA;;AAAA,MACtBC,IADsB,GACUD,KADV,CACtBC,IADsB;AAAA,MAChBC,WADgB,GACUF,KADV,CAChBE,WADgB;AAAA,MACHC,QADG,GACUH,KADV,CACHG,QADG;;AAAA,kBAEIP,QAAQ,CAAC,KAAD,CAFZ;AAAA,MAEvBQ,SAFuB;AAAA,MAEZC,YAFY;;AAAA,mBAGIT,QAAQ,CAAC;AAAEU,IAAAA,IAAI,EAAE,EAAR;AAAYC,IAAAA,MAAM,EAAE;AAApB,GAAD,CAHZ;AAAA,MAGvBC,SAHuB;AAAA,MAGZC,YAHY;;AAAA,sBAIfjB,IAAI,CAACkB,OAAL,EAJe;AAAA;AAAA,MAIvBC,IAJuB;;AAAA,MAKtBC,QALsB,GAKTnB,KALS,CAKtBmB,QALsB;;AAAA,iBAMTd,OAAO,EANE;AAAA,MAMtBe,QANsB,YAMtBA,QANsB;;AAQ9B,MAAMC,gBAAgB;AAAA,wEAAG,iBAAOC,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACxBN,cAAAA,YAAY,CAAC;AAAEH,gBAAAA,IAAI,EAAE,UAAR;AAAoBC,gBAAAA,MAAM,EAAE;AAA5B,eAAD,CAAZ;AADwB;AAAA;AAAA,qBAGPV,MAAM,CAACmB,GAAP,CAAWD,IAAX,CAHO;;AAAA;AAGnBE,cAAAA,GAHmB;;AAIvB,kBAAIA,GAAG,CAACV,MAAJ,IAAc,GAAlB,EAAuB;AACtBE,gBAAAA,YAAY,CAAC;AAAEH,kBAAAA,IAAI,EAAE,UAAR;AAAoBC,kBAAAA,MAAM,EAAE;AAA5B,iBAAD,CAAZ;AACAM,gBAAAA,QAAQ,CAAC,SAAD,EAAY,yBAAZ,CAAR;AACAF,gBAAAA,IAAI,CAACO,WAAL;AACAb,gBAAAA,YAAY,CAAC,KAAD,CAAZ;AACAH,gBAAAA,WAAW,IAAIA,WAAW,EAA1B;AACA;;AAVsB;AAAA;;AAAA;AAAA;AAAA;AAYvBS,cAAAA,IAAI,CAACO,WAAL;AACAL,cAAAA,QAAQ,CAAC,QAAD,EAAW,YAAMM,OAAjB,CAAR;;AAbuB;AAAA;AAevBV,cAAAA,YAAY,CAAC;AAAEH,gBAAAA,IAAI,EAAE,UAAR;AAAoBC,gBAAAA,MAAM,EAAE;AAA5B,eAAD,CAAZ;AAfuB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAhBO,gBAAgB;AAAA;AAAA;AAAA,KAAtB;;AAmBA,MAAMM,kBAAkB;AAAA,yEAAG,kBAAOL,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACpBM,cAAAA,UADoB,GACP;AAClBC,gBAAAA,EAAE,EAAEnB,QAAQ,CAACmB,EADK;AAElBC,gBAAAA,SAAS,EAAER,IAAI,CAACQ,SAFE;AAGlBC,gBAAAA,MAAM,EAAET,IAAI,CAACS,MAHK;AAIlBC,gBAAAA,MAAM,EAAE;AAJU,eADO;AAO1BhB,cAAAA,YAAY,CAAC;AAAEH,gBAAAA,IAAI,EAAE,UAAR;AAAoBC,gBAAAA,MAAM,EAAE;AAA5B,eAAD,CAAZ;AAP0B;AAAA;AAAA,qBASTV,MAAM,CAAC6B,MAAP,CAAcL,UAAd,CATS;;AAAA;AASrBJ,cAAAA,GATqB;AAUzBJ,cAAAA,QAAQ,CAAC,SAAD,EAAY,yBAAZ,CAAR;AACAF,cAAAA,IAAI,CAACO,WAAL;AACAb,cAAAA,YAAY,CAAC,KAAD,CAAZ;AACAH,cAAAA,WAAW,IAAIA,WAAW,EAA1B;AAbyB;AAAA;;AAAA;AAAA;AAAA;AAezBW,cAAAA,QAAQ,CAAC,QAAD,EAAW,aAAMM,OAAjB,CAAR;;AAfyB;AAAA;AAiBzBV,cAAAA,YAAY,CAAC;AAAEH,gBAAAA,IAAI,EAAE,UAAR;AAAoBC,gBAAAA,MAAM,EAAE;AAA5B,eAAD,CAAZ;AAjByB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAlBa,kBAAkB;AAAA;AAAA;AAAA,KAAxB;;AAqBA,MAAMO,SAAS;AAAA,yEAAG,kBAAOZ,IAAP;AAAA;AAAA;AAAA;AAAA;AACjBd,cAAAA,IAAI,KAAK,eAAT,GAA2Ba,gBAAgB,CAACC,IAAD,CAA3C,GAAoDK,kBAAkB,CAACL,IAAD,CAAtE;;AADiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAATY,SAAS;AAAA;AAAA;AAAA,KAAf;;AAIA,sBACC;AAAA,eACE1B,IAAI,KAAK,eAAT,gBACA;AACC,MAAA,SAAS,EAAC,yBADX;AAEC,MAAA,OAAO,EAAE,mBAAM;AACdI,QAAAA,YAAY,CAAC,IAAD,CAAZ;AACA,OAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADA,gBAUA;AACC,MAAA,SAAS,EAAC,mBADX;AAEC,MAAA,OAAO,EAAE,mBAAM;AACdM,QAAAA,IAAI,CAACO,WAAL;AACAb,QAAAA,YAAY,CAAC,IAAD,CAAZ;AACA,OALF;AAAA,6BAOC,QAAC,OAAD;AAAS,QAAA,KAAK,EAAC,oBAAf;AAAA,+BACC;AAAG,UAAA,SAAS,EAAC,aAAb;AAA2B,UAAA,KAAK,EAAE;AAAEuB,YAAAA,KAAK,EAAE,SAAT;AAAoBC,YAAAA,QAAQ,EAAE,EAA9B;AAAkCC,YAAAA,YAAY,EAAE,CAAC;AAAjD;AAAlC;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AAPD;AAAA;AAAA;AAAA;AAAA,aAXF,eAwBC,QAAC,KAAD;AACC,MAAA,KAAK,EAAC,yBADP;AAEC,MAAA,OAAO,EAAE1B,SAFV;AAGC,MAAA,QAAQ,EAAE,oBAAM;AACfO,QAAAA,IAAI,CAACO,WAAL;AACAb,QAAAA,YAAY,CAAC,KAAD,CAAZ;AACA,OANF;AAOC,MAAA,MAAM,EAAE,KAPT;AAAA,6BASC;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA,+BACC,QAAC,IAAD;AAAM,UAAA,IAAI,EAAEM,IAAZ;AAAkB,UAAA,MAAM,EAAC,UAAzB;AAAoC,UAAA,QAAQ,EAAEgB,SAA9C;AAAA,iCACC;AAAK,YAAA,SAAS,EAAC,KAAf;AAAA,oCACC;AAAK,cAAA,SAAS,EAAC,QAAf;AAAA,qCACC,QAAC,IAAD,CAAM,IAAN;AACC,gBAAA,KAAK,EAAC,sCADP;AAEC,gBAAA,IAAI,EAAC,WAFN;AAGC,gBAAA,KAAK,EAAE,CAAC1B,IAAI,KAAK,gBAAT,GAA4B,EAA5B,GAAiC;AAAE8B,kBAAAA,QAAQ,EAAE,IAAZ;AAAkBZ,kBAAAA,OAAO,EAAE;AAA3B,iBAAlC,CAHR;AAAA,uCAKC,QAAC,KAAD;AACC,kBAAA,WAAW,EAAC,yBADb;AAEC,kBAAA,SAAS,EAAC,aAFX;AAGC,kBAAA,YAAY,EAAElB,IAAI,KAAK,gBAAT,GAA4BE,QAAQ,CAACoB,SAArC,GAAiD;AAHhE;AAAA;AAAA;AAAA;AAAA;AALD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,qBADD,eAeC;AAAK,cAAA,SAAS,EAAC,aAAf;AAAA,qCACC,QAAC,IAAD,CAAM,IAAN;AACC,gBAAA,KAAK,EAAC,iCADP;AAEC,gBAAA,IAAI,EAAC,QAFN;AAGC,gBAAA,KAAK,EAAE,CAACtB,IAAI,KAAK,gBAAT,GAA4B,EAA5B,GAAiC;AAAE8B,kBAAAA,QAAQ,EAAE,IAAZ;AAAkBZ,kBAAAA,OAAO,EAAE;AAA3B,iBAAlC,CAHR;AAAA,uCAKC,QAAC,QAAD;AACC,kBAAA,WAAW,EAAC,kCADb;AAEC,kBAAA,UAAU,MAFX;AAGC,kBAAA,IAAI,EAAE,CAHP;AAIC,kBAAA,YAAY,EAAElB,IAAI,KAAK,gBAAT,GAA4BE,QAAQ,CAACqB,MAArC,GAA8C;AAJ7D;AAAA;AAAA;AAAA;AAAA;AALD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,qBAfD,eA8BC;AAAK,cAAA,SAAS,EAAC,aAAf;AAAA,qCACC;AAAQ,gBAAA,IAAI,EAAC,QAAb;AAAsB,gBAAA,SAAS,EAAC,uBAAhC;AAAA,uCAEEhB,SAAS,CAACF,IAAV,IAAkB,UAAlB,IAAgCE,SAAS,CAACD,MAA1C,iBAAoD,QAAC,IAAD;AAAM,kBAAA,SAAS,EAAC;AAAhB;AAAA;AAAA;AAAA;AAAA,yBAFtD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,qBA9BD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AATD;AAAA;AAAA;AAAA;AAAA,aAxBD;AAAA,kBADD;AA8EA,CAlID;;GAAMR,W;UAIUP,IAAI,CAACkB,O,EAECZ,O;;;KANhBC,W;AAoIN,eAAeA,WAAf","sourcesContent":["import { Modal, Spin, Form, Input, Tooltip } from 'antd'\r\nimport React, { useState } from 'react'\r\nimport { faqApi } from '~/apiBase/options/faq'\r\nimport { useWrap } from '~/context/wrap'\r\n\r\nconst AddQuesForm = (props) => {\r\n\tconst { mode, onFetchData, dataEdit } = props\r\n\tconst [showModal, setShowModal] = useState(false)\r\n\tconst [isLoading, setIsLoading] = useState({ type: '', status: false })\r\n\tconst [form] = Form.useForm()\r\n\tconst { TextArea } = Input\r\n\tconst { showNoti } = useWrap()\r\n\r\n\tconst hanleAddQuestion = async (data) => {\r\n\t\tsetIsLoading({ type: 'ADD_DATA', status: true })\r\n\t\ttry {\r\n\t\t\tlet res = await faqApi.add(data)\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tsetIsLoading({ type: 'ADD_DATA', status: false })\r\n\t\t\t\tshowNoti('success', 'Thêm câu hỏi thành công')\r\n\t\t\t\tform.resetFields()\r\n\t\t\t\tsetShowModal(false)\r\n\t\t\t\tonFetchData && onFetchData()\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tform.resetFields()\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({ type: 'ADD_DATA', status: false })\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleEditQuestion = async (data) => {\r\n\t\tconst dataUpdate = {\r\n\t\t\tID: dataEdit.ID,\r\n\t\t\tQuestions: data.Questions,\r\n\t\t\tAnswer: data.Answer,\r\n\t\t\tEnable: true\r\n\t\t}\r\n\t\tsetIsLoading({ type: 'ADD_DATA', status: true })\r\n\t\ttry {\r\n\t\t\tlet res = await faqApi.update(dataUpdate)\r\n\t\t\tshowNoti('success', 'Sửa câu hỏi thành công!')\r\n\t\t\tform.resetFields()\r\n\t\t\tsetShowModal(false)\r\n\t\t\tonFetchData && onFetchData()\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({ type: 'ADD_DATA', status: false })\r\n\t\t}\r\n\t}\r\n\r\n\tconst _onSubmit = async (data) => {\r\n\t\tmode === 'add-questions' ? hanleAddQuestion(data) : handleEditQuestion(data)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{mode === 'add-questions' ? (\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName=\"btn btn-warning add-new\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetShowModal(true)\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tThêm mới\r\n\t\t\t\t</button>\r\n\t\t\t) : (\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName=\"btn btn-icon edit\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tform.resetFields()\r\n\t\t\t\t\t\tsetShowModal(true)\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Tooltip title=\"Cập nhật\">\r\n\t\t\t\t\t\t<i className=\"fas fa-edit\" style={{ color: '#34c4a4', fontSize: 16, marginBottom: -1 }}></i>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t</button>\r\n\t\t\t)}\r\n\r\n\t\t\t<Modal\r\n\t\t\t\ttitle=\"Thêm câu hỏi\"\r\n\t\t\t\tvisible={showModal}\r\n\t\t\t\tonCancel={() => {\r\n\t\t\t\t\tform.resetFields()\r\n\t\t\t\t\tsetShowModal(false)\r\n\t\t\t\t}}\r\n\t\t\t\tfooter={false}\r\n\t\t\t>\r\n\t\t\t\t<div className=\"container-fluit\">\r\n\t\t\t\t\t<Form form={form} layout=\"vertical\" onFinish={_onSubmit}>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tlabel=\"Tiêu đề câu hỏi\"\r\n\t\t\t\t\t\t\t\t\tname=\"Questions\"\r\n\t\t\t\t\t\t\t\t\trules={[mode === 'edit-questions' ? {} : { required: true, message: 'Bạn không được để trống' }]}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Thêm câu hỏi\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"style-input\"\r\n\t\t\t\t\t\t\t\t\t\tdefaultValue={mode === 'edit-questions' ? dataEdit.Questions : ''}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"col-12 mb-2\">\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tlabel=\"Nội dung trả lời\"\r\n\t\t\t\t\t\t\t\t\tname=\"Answer\"\r\n\t\t\t\t\t\t\t\t\trules={[mode === 'edit-questions' ? {} : { required: true, message: 'Bạn không được để trống' }]}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<TextArea\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Thêm câu trả lời\"\r\n\t\t\t\t\t\t\t\t\t\tallowClear\r\n\t\t\t\t\t\t\t\t\t\trows={5}\r\n\t\t\t\t\t\t\t\t\t\tdefaultValue={mode === 'edit-questions' ? dataEdit.Answer : ''}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"col-12 mt-5\">\r\n\t\t\t\t\t\t\t\t<button type=\"submit\" className=\"btn btn-primary w-100\">\r\n\t\t\t\t\t\t\t\t\tLưu\r\n\t\t\t\t\t\t\t\t\t{isLoading.type == 'ADD_DATA' && isLoading.status && <Spin className=\"loading-base\" />}\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</div>\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default AddQuesForm\r\n"]},"metadata":{},"sourceType":"module"}