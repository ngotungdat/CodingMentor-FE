{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Global\\\\ExamDetail\\\\AddQuestionAuto.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { Form, Modal, Spin } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport { Zap } from 'react-feather';\nimport { useForm } from 'react-hook-form';\nimport * as yup from 'yup';\nimport { examDetailApi } from '~/apiBase';\nimport InputTextField from '~/components/FormControl/InputTextField';\nimport SelectField from '~/components/FormControl/SelectField';\nimport { useWrap } from '~/context/wrap';\nimport { useExamDetail } from '~/pages/question-bank/exam-list/exam-detail/[slug]';\nvar returnSchema = {};\nvar schema = null;\n\nvar AddQuestionAuto = function AddQuestionAuto(props) {\n  _s();\n\n  var dataExam = props.dataExam,\n      onFetchData = props.onFetchData,\n      examTopicID = props.examTopicID;\n\n  var _useExamDetail = useExamDetail(),\n      onAddQuestion = _useExamDetail.onAddQuestion,\n      listQuestionAddOutside = _useExamDetail.listQuestionAddOutside,\n      listQuestionID = _useExamDetail.listQuestionID;\n\n  var _useState = useState(false),\n      isModalVisible = _useState[0],\n      setIsModalVisible = _useState[1];\n\n  var _useState2 = useState(false),\n      visibleConfirm = _useState2[0],\n      setVisibleConfirm = _useState2[1];\n\n  var _useState3 = useState(false),\n      isLoading = _useState3[0],\n      setIsLoading = _useState3[1];\n\n  var _useWrap = useWrap(),\n      showNoti = _useWrap.showNoti;\n\n  var _useState4 = useState(0),\n      countShowConfirm = _useState4[0],\n      setCountShowConfirm = _useState4[1];\n\n  console.log('Data Exam: ', dataExam); // console.log(\"Exam ID: \", examTopicID);\n\n  var showModalConfirm = function showModalConfirm() {\n    setVisibleConfirm(true);\n  };\n\n  var showModalCreateQuestion = function showModalCreateQuestion() {\n    setIsModalVisible(true);\n  };\n\n  var handleOk = function handleOk() {\n    setIsModalVisible(false);\n  };\n\n  var handleCancel = function handleCancel() {\n    setIsModalVisible(false);\n  }; // ON SUBMIT DATA\n\n\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(data) {\n      var res, listQuestion;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              delete data.CurriculumName;\n              data.NumberQuestions = parseInt(data.NumberQuestions);\n              data.Point = parseFloat(data.Point);\n              setIsLoading(true);\n              _context.prev = 4;\n              _context.next = 7;\n              return examDetailApi.createAuto(data);\n\n            case 7:\n              res = _context.sent;\n\n              if (res.status == 200) {\n                listQuestion = [];\n                res.data.data.forEach(function (item, index) {\n                  listQuestion.push({\n                    type: item.Type,\n                    Point: item.Point,\n                    ExerciseOrExerciseGroupID: item.ExerciseOrExerciseGroupID\n                  });\n                });\n                addQuestionToExam(listQuestion);\n              }\n\n              _context.next = 15;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](4);\n              showNoti('danger', _context.t0.message);\n              setIsLoading(false);\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[4, 11]]);\n    }));\n\n    return function onSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }(); // ADD QUESTION TO EXAM\n\n\n  var addQuestionToExam = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(listQuestion) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return examDetailApi.add({\n                ExamTopicID: examTopicID,\n                ExerciseOrExerciseGroup: listQuestion\n              });\n\n            case 3:\n              res = _context2.sent;\n\n              if (res.status == 200) {\n                showNoti('success', 'Thêm câu hỏi thành công');\n                form.reset(defaultValuesInit);\n                onFetchData && onFetchData();\n              }\n\n              _context2.next = 10;\n              break;\n\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](0);\n              showNoti('danger', _context2.t0.message);\n\n            case 10:\n              _context2.prev = 10;\n              setIsModalVisible(false);\n              setIsLoading(false);\n              return _context2.finish(10);\n\n            case 14:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 7, 10, 14]]);\n    }));\n\n    return function addQuestionToExam(_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }(); // -----  HANDLE ALL IN FORM -------------\n\n\n  var defaultValuesInit = {\n    ExamTopicID: null,\n    //Cái này chỉ để kiểm tra xem Đề này đã đc tạo hay chưa\n    CurriculumID: null,\n    //Trường hợp tạo cho đề hẹn test thì nhập Curriculum = 0\n    CurriculumName: null,\n    Level: undefined,\n    //Cấp độ muốn thêm\n    Type: undefined,\n    //Loại câu muốn thêm\n    SkillID: undefined,\n    //Kỹ năng muốn thêm\n    Point: null,\n    //Điểm số tường câu - Nếu bỏ trống mặc định là 1\n    NumberQuestions: null //Số lượng câu muốn thêm\n\n  };\n\n  (function returnSchemaFunc() {\n    returnSchema = _objectSpread({}, defaultValuesInit);\n    Object.keys(returnSchema).forEach(function (key) {\n      switch (key) {\n        case 'Level':\n          returnSchema[key] = yup.mixed().required('Bạn không được để trống');\n          break;\n\n        case 'Type':\n          returnSchema[key] = yup.mixed().required('Bạn không được để trống');\n          break;\n\n        case 'SkillID':\n          returnSchema[key] = yup.mixed().required('Bạn không được để trống');\n          break;\n\n        case 'Point':\n          returnSchema[key] = yup.mixed().required('Bạn không được để trống');\n          break;\n\n        case 'CurriculumName':\n          if ((dataExam === null || dataExam === void 0 ? void 0 : dataExam.Type) !== 1) {\n            returnSchema[key] = yup.mixed().required('Bạn không được để trống');\n          }\n\n          break;\n\n        default:\n          // if (dataExam?.Type !== 1) {\n          // \treturnSchema[key] = yup.mixed().required('Bạn không được để trống');\n          // }\n          return;\n          break;\n      }\n    });\n    schema = yup.object().shape(returnSchema);\n  })();\n\n  var form = useForm({\n    defaultValues: defaultValuesInit,\n    resolver: yupResolver(schema)\n  });\n  useEffect(function () {\n    if (dataExam) {\n      form.setValue('CurriculumID', dataExam.CurriculumID);\n      form.setValue('CurriculumName', dataExam.CurriculumName);\n      form.setValue('ExamTopicID', examTopicID);\n      form.setValue('SkillID', [1, 2, 3, 4]);\n    }\n  }, [dataExam]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-warning d-block w-100 text-center mb-2\",\n      onClick: countShowConfirm < 1 ? listQuestionID.length > 0 ? showModalConfirm : showModalCreateQuestion : showModalCreateQuestion,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex align-item-center w-100\",\n        children: [/*#__PURE__*/_jsxDEV(Zap, {\n          className: \"mr-2\",\n          style: {\n            width: '18px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 6\n        }, _this), \"T\\u1EA1o nhanh\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 4\n    }, _this), /*#__PURE__*/_jsxDEV(Modal, {\n      title: \"Ch\\xFA \\xFD!\",\n      visible: visibleConfirm,\n      onCancel: function onCancel() {\n        return setVisibleConfirm(false);\n      },\n      footer: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-light mr-2\",\n          onClick: function onClick() {\n            return setVisibleConfirm(false);\n          },\n          children: \"H\\u1EE7y\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 7\n        }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: function onClick() {\n            setVisibleConfirm(false);\n            showModalCreateQuestion();\n            setCountShowConfirm(countShowConfirm + 1);\n          },\n          children: \"\\u0110\\u1ED3ng \\xFD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 7\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 6\n      }, _this),\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontWeight: 500\n        },\n        children: [\"To\\xE0n b\\u1ED9 c\\xE2u h\\u1ECFi trong \\u0111\\u1EC1 s\\u1EBD b\\u1ECB x\\xF3a sau khi t\\u1EA1o danh s\\xE1ch m\\u1EDBi. \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 68\n        }, _this), \"B\\u1EA1n c\\xF3 mu\\u1ED1n ti\\u1EBFp t\\u1EE5c?\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 4\n    }, _this), /*#__PURE__*/_jsxDEV(Modal, {\n      width: '50%',\n      title: \"T\\u1EA1o c\\xE2u h\\u1ECFi t\\u1EF1 \\u0111\\u1ED9ng\",\n      visible: isModalVisible,\n      onOk: handleOk,\n      onCancel: handleCancel,\n      className: \"\",\n      footer: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-light mr-2\",\n          onClick: handleCancel,\n          children: \"\\u0110\\xF3ng\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 7\n        }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: form.handleSubmit(onSubmit),\n          children: [\"L\\u01B0u\", isLoading && /*#__PURE__*/_jsxDEV(Spin, {\n            className: \"loading-base\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 22\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 7\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 6\n      }, _this),\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        layout: \"vertical\",\n        onFinish: form.handleSubmit(onSubmit),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6 col-12\",\n            children: /*#__PURE__*/_jsxDEV(InputTextField, {\n              disabled: true,\n              form: form,\n              name: \"CurriculumName\",\n              label: \"Gi\\xE1o tr\\xECnh\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 8\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6 col-12\",\n            children: /*#__PURE__*/_jsxDEV(SelectField, {\n              mode: \"multiple\",\n              form: form,\n              name: \"Level\",\n              label: \"C\\u1EA5p \\u0111\\u1ED9\",\n              optionList: [{\n                title: 'Dễ',\n                value: 1\n              }, {\n                title: 'Trung bình',\n                value: 2\n              }, {\n                title: 'Khó',\n                value: 3\n              }]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 8\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6 col-12\",\n            children: /*#__PURE__*/_jsxDEV(SelectField, {\n              mode: \"multiple\",\n              form: form,\n              name: \"Type\",\n              label: \"Lo\\u1EA1i c\\xE2u mu\\u1ED1n th\\xEAm\",\n              optionList: [{\n                title: 'Chọn một',\n                value: 1\n              }, {\n                title: 'Chọn nhiều',\n                value: 4\n              }, {\n                title: 'Kéo thả',\n                value: 2\n              }, {\n                title: 'Điền từ',\n                value: 3\n              }, {\n                title: 'Ghép đáp án',\n                value: 5\n              }, {\n                title: 'Tự luận',\n                value: 6\n              }, {\n                title: 'Nói',\n                value: 7\n              }]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 8\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6 col-12\",\n            children: /*#__PURE__*/_jsxDEV(SelectField, {\n              mode: \"multiple\",\n              form: form,\n              name: \"SkillID\",\n              label: \"K\\u0129 n\\u0103ng\",\n              optionList: [{\n                title: 'Nghe',\n                value: 1\n              }, {\n                title: 'Nói',\n                value: 2\n              }, {\n                title: 'Đọc',\n                value: 3\n              }, {\n                title: 'Viết',\n                value: 4\n              }]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 8\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6 col-12\",\n            children: /*#__PURE__*/_jsxDEV(InputTextField, {\n              form: form,\n              name: \"Point\",\n              label: \"\\u0110i\\u1EC3m t\\u1EEBng c\\xE2u\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 8\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6 col-12\",\n            children: /*#__PURE__*/_jsxDEV(InputTextField, {\n              form: form,\n              name: \"NumberQuestions\",\n              label: \"S\\u1ED1 l\\u01B0\\u1EE3ng c\\xE2u\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 8\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12 d-none\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-primary\",\n                type: \"submit\",\n                children: [\"L\\u01B0u\", isLoading && /*#__PURE__*/_jsxDEV(Spin, {\n                  className: \"loading-base\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 24\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 9\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 8\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 7\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 6\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 4\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(AddQuestionAuto, \"W+nYeOkEsyrFfh7XNKWceX1TddI=\", false, function () {\n  return [useExamDetail, useWrap, useForm];\n});\n\n_c = AddQuestionAuto;\nexport default AddQuestionAuto;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddQuestionAuto\");","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Global/ExamDetail/AddQuestionAuto.tsx"],"names":["yupResolver","Form","Modal","Spin","React","useEffect","useState","Zap","useForm","yup","examDetailApi","InputTextField","SelectField","useWrap","useExamDetail","returnSchema","schema","AddQuestionAuto","props","dataExam","onFetchData","examTopicID","onAddQuestion","listQuestionAddOutside","listQuestionID","isModalVisible","setIsModalVisible","visibleConfirm","setVisibleConfirm","isLoading","setIsLoading","showNoti","countShowConfirm","setCountShowConfirm","console","log","showModalConfirm","showModalCreateQuestion","handleOk","handleCancel","onSubmit","data","CurriculumName","NumberQuestions","parseInt","Point","parseFloat","createAuto","res","status","listQuestion","forEach","item","index","push","type","Type","ExerciseOrExerciseGroupID","addQuestionToExam","message","add","ExamTopicID","ExerciseOrExerciseGroup","form","reset","defaultValuesInit","CurriculumID","Level","undefined","SkillID","returnSchemaFunc","Object","keys","key","mixed","required","object","shape","defaultValues","resolver","setValue","length","width","fontWeight","handleSubmit","title","value"],"mappings":";;;;;;;;;;;;;;AAAA,SAASA,WAAT,QAA4B,yBAA5B;AACA,SAASC,IAAT,EAAeC,KAAf,EAAsBC,IAAtB,QAAkC,MAAlC;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,GAAT,QAAoB,eAApB;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AACA,SAASC,aAAT,QAA8B,WAA9B;AACA,OAAOC,cAAP,MAA2B,yCAA3B;AACA,OAAOC,WAAP,MAAwB,sCAAxB;AACA,SAASC,OAAT,QAAwB,gBAAxB;AACA,SAASC,aAAT,QAA8B,oDAA9B;AAEA,IAAIC,YAAY,GAAG,EAAnB;AACA,IAAIC,MAAM,GAAG,IAAb;;AAEA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAW;AAAA;;AAAA,MAC1BC,QAD0B,GACaD,KADb,CAC1BC,QAD0B;AAAA,MAChBC,WADgB,GACaF,KADb,CAChBE,WADgB;AAAA,MACHC,WADG,GACaH,KADb,CACHG,WADG;;AAAA,uBAEgCP,aAAa,EAF7C;AAAA,MAE1BQ,aAF0B,kBAE1BA,aAF0B;AAAA,MAEXC,sBAFW,kBAEXA,sBAFW;AAAA,MAEaC,cAFb,kBAEaA,cAFb;;AAAA,kBAGUlB,QAAQ,CAAC,KAAD,CAHlB;AAAA,MAG3BmB,cAH2B;AAAA,MAGXC,iBAHW;;AAAA,mBAIUpB,QAAQ,CAAC,KAAD,CAJlB;AAAA,MAI3BqB,cAJ2B;AAAA,MAIXC,iBAJW;;AAAA,mBAKAtB,QAAQ,CAAC,KAAD,CALR;AAAA,MAK3BuB,SAL2B;AAAA,MAKhBC,YALgB;;AAAA,iBAMbjB,OAAO,EANM;AAAA,MAM1BkB,QAN0B,YAM1BA,QAN0B;;AAAA,mBAOczB,QAAQ,CAAC,CAAD,CAPtB;AAAA,MAO3B0B,gBAP2B;AAAA,MAOTC,mBAPS;;AASlCC,EAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BhB,QAA3B,EATkC,CAUlC;;AAEA,MAAMiB,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAC9BR,IAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACA,GAFD;;AAIA,MAAMS,uBAAuB,GAAG,SAA1BA,uBAA0B,GAAM;AACrCX,IAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACA,GAFD;;AAIA,MAAMY,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACtBZ,IAAAA,iBAAiB,CAAC,KAAD,CAAjB;AACA,GAFD;;AAIA,MAAMa,YAAY,GAAG,SAAfA,YAAe,GAAM;AAC1Bb,IAAAA,iBAAiB,CAAC,KAAD,CAAjB;AACA,GAFD,CAxBkC,CA4BlC;;;AACA,MAAMc,QAAQ;AAAA,wEAAG,iBAAOC,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAChB,qBAAOA,IAAI,CAACC,cAAZ;AACAD,cAAAA,IAAI,CAACE,eAAL,GAAuBC,QAAQ,CAACH,IAAI,CAACE,eAAN,CAA/B;AACAF,cAAAA,IAAI,CAACI,KAAL,GAAaC,UAAU,CAACL,IAAI,CAACI,KAAN,CAAvB;AAEAf,cAAAA,YAAY,CAAC,IAAD,CAAZ;AALgB;AAAA;AAAA,qBAOCpB,aAAa,CAACqC,UAAd,CAAyBN,IAAzB,CAPD;;AAAA;AAOXO,cAAAA,GAPW;;AAQf,kBAAIA,GAAG,CAACC,MAAJ,IAAc,GAAlB,EAAuB;AAClBC,gBAAAA,YADkB,GACH,EADG;AAEtBF,gBAAAA,GAAG,CAACP,IAAJ,CAASA,IAAT,CAAcU,OAAd,CAAsB,UAACC,IAAD,EAAOC,KAAP,EAAiB;AACtCH,kBAAAA,YAAY,CAACI,IAAb,CAAkB;AACjBC,oBAAAA,IAAI,EAAEH,IAAI,CAACI,IADM;AAEjBX,oBAAAA,KAAK,EAAEO,IAAI,CAACP,KAFK;AAGjBY,oBAAAA,yBAAyB,EAAEL,IAAI,CAACK;AAHf,mBAAlB;AAKA,iBAND;AAOAC,gBAAAA,iBAAiB,CAACR,YAAD,CAAjB;AACA;;AAlBc;AAAA;;AAAA;AAAA;AAAA;AAoBfnB,cAAAA,QAAQ,CAAC,QAAD,EAAW,YAAM4B,OAAjB,CAAR;AACA7B,cAAAA,YAAY,CAAC,KAAD,CAAZ;;AArBe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAARU,QAAQ;AAAA;AAAA;AAAA,KAAd,CA7BkC,CAsDlC;;;AACA,MAAMkB,iBAAiB;AAAA,yEAAG,kBAAOR,YAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAERxC,aAAa,CAACkD,GAAd,CAAkB;AACjCC,gBAAAA,WAAW,EAAExC,WADoB;AAEjCyC,gBAAAA,uBAAuB,EAAEZ;AAFQ,eAAlB,CAFQ;;AAAA;AAEpBF,cAAAA,GAFoB;;AAMxB,kBAAIA,GAAG,CAACC,MAAJ,IAAc,GAAlB,EAAuB;AACtBlB,gBAAAA,QAAQ,CAAC,SAAD,EAAY,yBAAZ,CAAR;AACAgC,gBAAAA,IAAI,CAACC,KAAL,CAAWC,iBAAX;AACA7C,gBAAAA,WAAW,IAAIA,WAAW,EAA1B;AACA;;AAVuB;AAAA;;AAAA;AAAA;AAAA;AAYxBW,cAAAA,QAAQ,CAAC,QAAD,EAAW,aAAM4B,OAAjB,CAAR;;AAZwB;AAAA;AAcxBjC,cAAAA,iBAAiB,CAAC,KAAD,CAAjB;AACAI,cAAAA,YAAY,CAAC,KAAD,CAAZ;AAfwB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAjB4B,iBAAiB;AAAA;AAAA;AAAA,KAAvB,CAvDkC,CA0ElC;;;AACA,MAAMO,iBAAiB,GAAG;AACzBJ,IAAAA,WAAW,EAAE,IADY;AACN;AACnBK,IAAAA,YAAY,EAAE,IAFW;AAEL;AACpBxB,IAAAA,cAAc,EAAE,IAHS;AAIzByB,IAAAA,KAAK,EAAEC,SAJkB;AAIP;AAClBZ,IAAAA,IAAI,EAAEY,SALmB;AAKR;AACjBC,IAAAA,OAAO,EAAED,SANgB;AAML;AACpBvB,IAAAA,KAAK,EAAE,IAPkB;AAOZ;AACbF,IAAAA,eAAe,EAAE,IARQ,CAQH;;AARG,GAA1B;;AAWC,GAAC,SAAS2B,gBAAT,GAA4B;AAC7BvD,IAAAA,YAAY,qBAAQkD,iBAAR,CAAZ;AACAM,IAAAA,MAAM,CAACC,IAAP,CAAYzD,YAAZ,EAA0BoC,OAA1B,CAAkC,UAAUsB,GAAV,EAAe;AAChD,cAAQA,GAAR;AACC,aAAK,OAAL;AACC1D,UAAAA,YAAY,CAAC0D,GAAD,CAAZ,GAAoBhE,GAAG,CAACiE,KAAJ,GAAYC,QAAZ,CAAqB,yBAArB,CAApB;AACA;;AACD,aAAK,MAAL;AACC5D,UAAAA,YAAY,CAAC0D,GAAD,CAAZ,GAAoBhE,GAAG,CAACiE,KAAJ,GAAYC,QAAZ,CAAqB,yBAArB,CAApB;AACA;;AACD,aAAK,SAAL;AACC5D,UAAAA,YAAY,CAAC0D,GAAD,CAAZ,GAAoBhE,GAAG,CAACiE,KAAJ,GAAYC,QAAZ,CAAqB,yBAArB,CAApB;AACA;;AACD,aAAK,OAAL;AACC5D,UAAAA,YAAY,CAAC0D,GAAD,CAAZ,GAAoBhE,GAAG,CAACiE,KAAJ,GAAYC,QAAZ,CAAqB,yBAArB,CAApB;AACA;;AACD,aAAK,gBAAL;AACC,cAAI,CAAAxD,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEqC,IAAV,MAAmB,CAAvB,EAA0B;AACzBzC,YAAAA,YAAY,CAAC0D,GAAD,CAAZ,GAAoBhE,GAAG,CAACiE,KAAJ,GAAYC,QAAZ,CAAqB,yBAArB,CAApB;AACA;;AACD;;AACD;AACC;AACA;AACA;AAEA;AACA;AAxBF;AA0BA,KA3BD;AA6BA3D,IAAAA,MAAM,GAAGP,GAAG,CAACmE,MAAJ,GAAaC,KAAb,CAAmB9D,YAAnB,CAAT;AACA,GAhCA;;AAkCD,MAAMgD,IAAI,GAAGvD,OAAO,CAAC;AACpBsE,IAAAA,aAAa,EAAEb,iBADK;AAEpBc,IAAAA,QAAQ,EAAE/E,WAAW,CAACgB,MAAD;AAFD,GAAD,CAApB;AAKAX,EAAAA,SAAS,CAAC,YAAM;AACf,QAAIc,QAAJ,EAAc;AACb4C,MAAAA,IAAI,CAACiB,QAAL,CAAc,cAAd,EAA8B7D,QAAQ,CAAC+C,YAAvC;AACAH,MAAAA,IAAI,CAACiB,QAAL,CAAc,gBAAd,EAAgC7D,QAAQ,CAACuB,cAAzC;AACAqB,MAAAA,IAAI,CAACiB,QAAL,CAAc,aAAd,EAA6B3D,WAA7B;AACA0C,MAAAA,IAAI,CAACiB,QAAL,CAAc,SAAd,EAAyB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAAzB;AACA;AACD,GAPQ,EAON,CAAC7D,QAAD,CAPM,CAAT;AASA,sBACC;AAAA,4BACC;AACC,MAAA,SAAS,EAAC,gDADX;AAEC,MAAA,OAAO,EAAEa,gBAAgB,GAAG,CAAnB,GAAwBR,cAAc,CAACyD,MAAf,GAAwB,CAAxB,GAA4B7C,gBAA5B,GAA+CC,uBAAvE,GAAkGA,uBAF5G;AAAA,6BAIC;AAAK,QAAA,SAAS,EAAC,gCAAf;AAAA,gCACC,QAAC,GAAD;AAAK,UAAA,SAAS,EAAC,MAAf;AAAsB,UAAA,KAAK,EAAE;AAAE6C,YAAAA,KAAK,EAAE;AAAT;AAA7B;AAAA;AAAA;AAAA;AAAA,iBADD;AAAA;AAAA;AAAA;AAAA;AAAA;AAJD;AAAA;AAAA;AAAA;AAAA,aADD,eAUC,QAAC,KAAD;AACC,MAAA,KAAK,EAAC,cADP;AAEC,MAAA,OAAO,EAAEvD,cAFV;AAGC,MAAA,QAAQ,EAAE;AAAA,eAAMC,iBAAiB,CAAC,KAAD,CAAvB;AAAA,OAHX;AAIC,MAAA,MAAM,eACL;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA,gCACC;AAAQ,UAAA,SAAS,EAAC,oBAAlB;AAAuC,UAAA,OAAO,EAAE;AAAA,mBAAMA,iBAAiB,CAAC,KAAD,CAAvB;AAAA,WAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADD,eAIC;AACC,UAAA,SAAS,EAAC,iBADX;AAEC,UAAA,OAAO,EAAE,mBAAM;AACdA,YAAAA,iBAAiB,CAAC,KAAD,CAAjB;AACAS,YAAAA,uBAAuB;AACvBJ,YAAAA,mBAAmB,CAACD,gBAAgB,GAAG,CAApB,CAAnB;AACA,WANF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAJD;AAAA;AAAA;AAAA;AAAA;AAAA,eALF;AAAA,6BAsBC;AAAG,QAAA,KAAK,EAAE;AAAEmD,UAAAA,UAAU,EAAE;AAAd,SAAV;AAAA,sJAC+D;AAAA;AAAA;AAAA;AAAA,iBAD/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAtBD;AAAA;AAAA;AAAA;AAAA,aAVD,eAqCC,QAAC,KAAD;AACC,MAAA,KAAK,EAAE,KADR;AAEC,MAAA,KAAK,EAAC,iDAFP;AAGC,MAAA,OAAO,EAAE1D,cAHV;AAIC,MAAA,IAAI,EAAEa,QAJP;AAKC,MAAA,QAAQ,EAAEC,YALX;AAMC,MAAA,SAAS,EAAC,EANX;AAOC,MAAA,MAAM,eACL;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA,gCACC;AAAQ,UAAA,SAAS,EAAC,oBAAlB;AAAuC,UAAA,OAAO,EAAEA,YAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADD,eAIC;AAAQ,UAAA,SAAS,EAAC,iBAAlB;AAAoC,UAAA,OAAO,EAAEwB,IAAI,CAACqB,YAAL,CAAkB5C,QAAlB,CAA7C;AAAA,iCAEEX,SAAS,iBAAI,QAAC,IAAD;AAAM,YAAA,SAAS,EAAC;AAAhB;AAAA;AAAA;AAAA;AAAA,mBAFf;AAAA;AAAA;AAAA;AAAA;AAAA,iBAJD;AAAA;AAAA;AAAA;AAAA;AAAA,eARF;AAAA,6BAmBC,QAAC,IAAD;AAAM,QAAA,MAAM,EAAC,UAAb;AAAwB,QAAA,QAAQ,EAAEkC,IAAI,CAACqB,YAAL,CAAkB5C,QAAlB,CAAlC;AAAA,+BACC;AAAK,UAAA,SAAS,EAAC,KAAf;AAAA,kCACC;AAAK,YAAA,SAAS,EAAC,iBAAf;AAAA,mCACC,QAAC,cAAD;AAAgB,cAAA,QAAQ,EAAE,IAA1B;AAAgC,cAAA,IAAI,EAAEuB,IAAtC;AAA4C,cAAA,IAAI,EAAC,gBAAjD;AAAkE,cAAA,KAAK,EAAC;AAAxE;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,mBADD,eAIC;AAAK,YAAA,SAAS,EAAC,iBAAf;AAAA,mCACC,QAAC,WAAD;AACC,cAAA,IAAI,EAAC,UADN;AAEC,cAAA,IAAI,EAAEA,IAFP;AAGC,cAAA,IAAI,EAAC,OAHN;AAIC,cAAA,KAAK,EAAC,uBAJP;AAKC,cAAA,UAAU,EAAE,CACX;AACCsB,gBAAAA,KAAK,EAAE,IADR;AAECC,gBAAAA,KAAK,EAAE;AAFR,eADW,EAKX;AACCD,gBAAAA,KAAK,EAAE,YADR;AAECC,gBAAAA,KAAK,EAAE;AAFR,eALW,EASX;AACCD,gBAAAA,KAAK,EAAE,KADR;AAECC,gBAAAA,KAAK,EAAE;AAFR,eATW;AALb;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,mBAJD,eA0BC;AAAK,YAAA,SAAS,EAAC,iBAAf;AAAA,mCACC,QAAC,WAAD;AACC,cAAA,IAAI,EAAC,UADN;AAEC,cAAA,IAAI,EAAEvB,IAFP;AAGC,cAAA,IAAI,EAAC,MAHN;AAIC,cAAA,KAAK,EAAC,oCAJP;AAKC,cAAA,UAAU,EAAE,CACX;AACCsB,gBAAAA,KAAK,EAAE,UADR;AAECC,gBAAAA,KAAK,EAAE;AAFR,eADW,EAKX;AACCD,gBAAAA,KAAK,EAAE,YADR;AAECC,gBAAAA,KAAK,EAAE;AAFR,eALW,EASX;AACCD,gBAAAA,KAAK,EAAE,SADR;AAECC,gBAAAA,KAAK,EAAE;AAFR,eATW,EAaX;AACCD,gBAAAA,KAAK,EAAE,SADR;AAECC,gBAAAA,KAAK,EAAE;AAFR,eAbW,EAiBX;AACCD,gBAAAA,KAAK,EAAE,aADR;AAECC,gBAAAA,KAAK,EAAE;AAFR,eAjBW,EAqBX;AACCD,gBAAAA,KAAK,EAAE,SADR;AAECC,gBAAAA,KAAK,EAAE;AAFR,eArBW,EAyBX;AACCD,gBAAAA,KAAK,EAAE,KADR;AAECC,gBAAAA,KAAK,EAAE;AAFR,eAzBW;AALb;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,mBA1BD,eAgEC;AAAK,YAAA,SAAS,EAAC,iBAAf;AAAA,mCACC,QAAC,WAAD;AACC,cAAA,IAAI,EAAC,UADN;AAEC,cAAA,IAAI,EAAEvB,IAFP;AAGC,cAAA,IAAI,EAAC,SAHN;AAIC,cAAA,KAAK,EAAC,mBAJP;AAKC,cAAA,UAAU,EAAE,CACX;AACCsB,gBAAAA,KAAK,EAAE,MADR;AAECC,gBAAAA,KAAK,EAAE;AAFR,eADW,EAKX;AACCD,gBAAAA,KAAK,EAAE,KADR;AAECC,gBAAAA,KAAK,EAAE;AAFR,eALW,EASX;AACCD,gBAAAA,KAAK,EAAE,KADR;AAECC,gBAAAA,KAAK,EAAE;AAFR,eATW,EAaX;AACCD,gBAAAA,KAAK,EAAE,MADR;AAECC,gBAAAA,KAAK,EAAE;AAFR,eAbW;AALb;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,mBAhED,eA0FC;AAAK,YAAA,SAAS,EAAC,iBAAf;AAAA,mCACC,QAAC,cAAD;AAAgB,cAAA,IAAI,EAAEvB,IAAtB;AAA4B,cAAA,IAAI,EAAC,OAAjC;AAAyC,cAAA,KAAK,EAAC;AAA/C;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,mBA1FD,eA6FC;AAAK,YAAA,SAAS,EAAC,iBAAf;AAAA,mCACC,QAAC,cAAD;AAAgB,cAAA,IAAI,EAAEA,IAAtB;AAA4B,cAAA,IAAI,EAAC,iBAAjC;AAAmD,cAAA,KAAK,EAAC;AAAzD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,mBA7FD,eAgGC;AAAK,YAAA,SAAS,EAAC,eAAf;AAAA,mCACC;AAAK,cAAA,SAAS,EAAC,aAAf;AAAA,qCACC;AAAQ,gBAAA,SAAS,EAAC,iBAAlB;AAAoC,gBAAA,IAAI,EAAC,QAAzC;AAAA,uCAEElC,SAAS,iBAAI,QAAC,IAAD;AAAM,kBAAA,SAAS,EAAC;AAAhB;AAAA;AAAA;AAAA;AAAA,yBAFf;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,mBAhGD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AAnBD;AAAA;AAAA;AAAA;AAAA,aArCD;AAAA,kBADD;AAuKA,CA7SD;;GAAMZ,e;UAE6DH,a,EAI7CD,O,EAkHRL,O;;;KAxHRS,e;AA+SN,eAAeA,eAAf","sourcesContent":["import { yupResolver } from '@hookform/resolvers/yup'\r\nimport { Form, Modal, Spin } from 'antd'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { Zap } from 'react-feather'\r\nimport { useForm } from 'react-hook-form'\r\nimport * as yup from 'yup'\r\nimport { examDetailApi } from '~/apiBase'\r\nimport InputTextField from '~/components/FormControl/InputTextField'\r\nimport SelectField from '~/components/FormControl/SelectField'\r\nimport { useWrap } from '~/context/wrap'\r\nimport { useExamDetail } from '~/pages/question-bank/exam-list/exam-detail/[slug]'\r\n\r\nlet returnSchema = {}\r\nlet schema = null\r\n\r\nconst AddQuestionAuto = (props) => {\r\n\tconst { dataExam, onFetchData, examTopicID } = props\r\n\tconst { onAddQuestion, listQuestionAddOutside, listQuestionID } = useExamDetail()\r\n\tconst [isModalVisible, setIsModalVisible] = useState(false)\r\n\tconst [visibleConfirm, setVisibleConfirm] = useState(false)\r\n\tconst [isLoading, setIsLoading] = useState(false)\r\n\tconst { showNoti } = useWrap()\r\n\tconst [countShowConfirm, setCountShowConfirm] = useState(0)\r\n\r\n\tconsole.log('Data Exam: ', dataExam)\r\n\t// console.log(\"Exam ID: \", examTopicID);\r\n\r\n\tconst showModalConfirm = () => {\r\n\t\tsetVisibleConfirm(true)\r\n\t}\r\n\r\n\tconst showModalCreateQuestion = () => {\r\n\t\tsetIsModalVisible(true)\r\n\t}\r\n\r\n\tconst handleOk = () => {\r\n\t\tsetIsModalVisible(false)\r\n\t}\r\n\r\n\tconst handleCancel = () => {\r\n\t\tsetIsModalVisible(false)\r\n\t}\r\n\r\n\t// ON SUBMIT DATA\r\n\tconst onSubmit = async (data) => {\r\n\t\tdelete data.CurriculumName\r\n\t\tdata.NumberQuestions = parseInt(data.NumberQuestions)\r\n\t\tdata.Point = parseFloat(data.Point)\r\n\r\n\t\tsetIsLoading(true)\r\n\t\ttry {\r\n\t\t\tlet res = await examDetailApi.createAuto(data)\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tlet listQuestion = []\r\n\t\t\t\tres.data.data.forEach((item, index) => {\r\n\t\t\t\t\tlistQuestion.push({\r\n\t\t\t\t\t\ttype: item.Type,\r\n\t\t\t\t\t\tPoint: item.Point,\r\n\t\t\t\t\t\tExerciseOrExerciseGroupID: item.ExerciseOrExerciseGroupID\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\taddQuestionToExam(listQuestion)\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t\tsetIsLoading(false)\r\n\t\t}\r\n\t}\r\n\r\n\t// ADD QUESTION TO EXAM\r\n\tconst addQuestionToExam = async (listQuestion) => {\r\n\t\ttry {\r\n\t\t\tlet res = await examDetailApi.add({\r\n\t\t\t\tExamTopicID: examTopicID,\r\n\t\t\t\tExerciseOrExerciseGroup: listQuestion\r\n\t\t\t})\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tshowNoti('success', 'Thêm câu hỏi thành công')\r\n\t\t\t\tform.reset(defaultValuesInit)\r\n\t\t\t\tonFetchData && onFetchData()\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetIsModalVisible(false)\r\n\t\t\tsetIsLoading(false)\r\n\t\t}\r\n\t}\r\n\r\n\t// -----  HANDLE ALL IN FORM -------------\r\n\tconst defaultValuesInit = {\r\n\t\tExamTopicID: null, //Cái này chỉ để kiểm tra xem Đề này đã đc tạo hay chưa\r\n\t\tCurriculumID: null, //Trường hợp tạo cho đề hẹn test thì nhập Curriculum = 0\r\n\t\tCurriculumName: null,\r\n\t\tLevel: undefined, //Cấp độ muốn thêm\r\n\t\tType: undefined, //Loại câu muốn thêm\r\n\t\tSkillID: undefined, //Kỹ năng muốn thêm\r\n\t\tPoint: null, //Điểm số tường câu - Nếu bỏ trống mặc định là 1\r\n\t\tNumberQuestions: null //Số lượng câu muốn thêm\r\n\t}\r\n\r\n\t;(function returnSchemaFunc() {\r\n\t\treturnSchema = { ...defaultValuesInit }\r\n\t\tObject.keys(returnSchema).forEach(function (key) {\r\n\t\t\tswitch (key) {\r\n\t\t\t\tcase 'Level':\r\n\t\t\t\t\treturnSchema[key] = yup.mixed().required('Bạn không được để trống')\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'Type':\r\n\t\t\t\t\treturnSchema[key] = yup.mixed().required('Bạn không được để trống')\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'SkillID':\r\n\t\t\t\t\treturnSchema[key] = yup.mixed().required('Bạn không được để trống')\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'Point':\r\n\t\t\t\t\treturnSchema[key] = yup.mixed().required('Bạn không được để trống')\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'CurriculumName':\r\n\t\t\t\t\tif (dataExam?.Type !== 1) {\r\n\t\t\t\t\t\treturnSchema[key] = yup.mixed().required('Bạn không được để trống')\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak\r\n\t\t\t\tdefault:\r\n\t\t\t\t\t// if (dataExam?.Type !== 1) {\r\n\t\t\t\t\t// \treturnSchema[key] = yup.mixed().required('Bạn không được để trống');\r\n\t\t\t\t\t// }\r\n\r\n\t\t\t\t\treturn\r\n\t\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tschema = yup.object().shape(returnSchema)\r\n\t})()\r\n\r\n\tconst form = useForm({\r\n\t\tdefaultValues: defaultValuesInit,\r\n\t\tresolver: yupResolver(schema)\r\n\t})\r\n\r\n\tuseEffect(() => {\r\n\t\tif (dataExam) {\r\n\t\t\tform.setValue('CurriculumID', dataExam.CurriculumID)\r\n\t\t\tform.setValue('CurriculumName', dataExam.CurriculumName)\r\n\t\t\tform.setValue('ExamTopicID', examTopicID)\r\n\t\t\tform.setValue('SkillID', [1, 2, 3, 4])\r\n\t\t}\r\n\t}, [dataExam])\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<button\r\n\t\t\t\tclassName=\"btn btn-warning d-block w-100 text-center mb-2\"\r\n\t\t\t\tonClick={countShowConfirm < 1 ? (listQuestionID.length > 0 ? showModalConfirm : showModalCreateQuestion) : showModalCreateQuestion}\r\n\t\t\t>\r\n\t\t\t\t<div className=\"d-flex align-item-center w-100\">\r\n\t\t\t\t\t<Zap className=\"mr-2\" style={{ width: '18px' }} />\r\n\t\t\t\t\tTạo nhanh\r\n\t\t\t\t</div>\r\n\t\t\t</button>\r\n\t\t\t<Modal\r\n\t\t\t\ttitle=\"Chú ý!\"\r\n\t\t\t\tvisible={visibleConfirm}\r\n\t\t\t\tonCancel={() => setVisibleConfirm(false)}\r\n\t\t\t\tfooter={\r\n\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t<button className=\"btn btn-light mr-2\" onClick={() => setVisibleConfirm(false)}>\r\n\t\t\t\t\t\t\tHủy\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName=\"btn btn-primary\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetVisibleConfirm(false)\r\n\t\t\t\t\t\t\t\tshowModalCreateQuestion()\r\n\t\t\t\t\t\t\t\tsetCountShowConfirm(countShowConfirm + 1)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tĐồng ý\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<p style={{ fontWeight: 500 }}>\r\n\t\t\t\t\tToàn bộ câu hỏi trong đề sẽ bị xóa sau khi tạo danh sách mới. <br />\r\n\t\t\t\t\tBạn có muốn tiếp tục?\r\n\t\t\t\t</p>\r\n\t\t\t</Modal>\r\n\t\t\t<Modal\r\n\t\t\t\twidth={'50%'}\r\n\t\t\t\ttitle=\"Tạo câu hỏi tự động\"\r\n\t\t\t\tvisible={isModalVisible}\r\n\t\t\t\tonOk={handleOk}\r\n\t\t\t\tonCancel={handleCancel}\r\n\t\t\t\tclassName=\"\"\r\n\t\t\t\tfooter={\r\n\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t<button className=\"btn btn-light mr-2\" onClick={handleCancel}>\r\n\t\t\t\t\t\t\tĐóng\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={form.handleSubmit(onSubmit)}>\r\n\t\t\t\t\t\t\tLưu\r\n\t\t\t\t\t\t\t{isLoading && <Spin className=\"loading-base\" />}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<Form layout=\"vertical\" onFinish={form.handleSubmit(onSubmit)}>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-md-6 col-12\">\r\n\t\t\t\t\t\t\t<InputTextField disabled={true} form={form} name=\"CurriculumName\" label=\"Giáo trình\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-md-6 col-12\">\r\n\t\t\t\t\t\t\t<SelectField\r\n\t\t\t\t\t\t\t\tmode=\"multiple\"\r\n\t\t\t\t\t\t\t\tform={form}\r\n\t\t\t\t\t\t\t\tname=\"Level\"\r\n\t\t\t\t\t\t\t\tlabel=\"Cấp độ\"\r\n\t\t\t\t\t\t\t\toptionList={[\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttitle: 'Dễ',\r\n\t\t\t\t\t\t\t\t\t\tvalue: 1\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttitle: 'Trung bình',\r\n\t\t\t\t\t\t\t\t\t\tvalue: 2\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttitle: 'Khó',\r\n\t\t\t\t\t\t\t\t\t\tvalue: 3\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-md-6 col-12\">\r\n\t\t\t\t\t\t\t<SelectField\r\n\t\t\t\t\t\t\t\tmode=\"multiple\"\r\n\t\t\t\t\t\t\t\tform={form}\r\n\t\t\t\t\t\t\t\tname=\"Type\"\r\n\t\t\t\t\t\t\t\tlabel=\"Loại câu muốn thêm\"\r\n\t\t\t\t\t\t\t\toptionList={[\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttitle: 'Chọn một',\r\n\t\t\t\t\t\t\t\t\t\tvalue: 1\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttitle: 'Chọn nhiều',\r\n\t\t\t\t\t\t\t\t\t\tvalue: 4\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttitle: 'Kéo thả',\r\n\t\t\t\t\t\t\t\t\t\tvalue: 2\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttitle: 'Điền từ',\r\n\t\t\t\t\t\t\t\t\t\tvalue: 3\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttitle: 'Ghép đáp án',\r\n\t\t\t\t\t\t\t\t\t\tvalue: 5\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttitle: 'Tự luận',\r\n\t\t\t\t\t\t\t\t\t\tvalue: 6\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttitle: 'Nói',\r\n\t\t\t\t\t\t\t\t\t\tvalue: 7\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-md-6 col-12\">\r\n\t\t\t\t\t\t\t<SelectField\r\n\t\t\t\t\t\t\t\tmode=\"multiple\"\r\n\t\t\t\t\t\t\t\tform={form}\r\n\t\t\t\t\t\t\t\tname=\"SkillID\"\r\n\t\t\t\t\t\t\t\tlabel=\"Kĩ năng\"\r\n\t\t\t\t\t\t\t\toptionList={[\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttitle: 'Nghe',\r\n\t\t\t\t\t\t\t\t\t\tvalue: 1\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttitle: 'Nói',\r\n\t\t\t\t\t\t\t\t\t\tvalue: 2\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttitle: 'Đọc',\r\n\t\t\t\t\t\t\t\t\t\tvalue: 3\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttitle: 'Viết',\r\n\t\t\t\t\t\t\t\t\t\tvalue: 4\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-md-6 col-12\">\r\n\t\t\t\t\t\t\t<InputTextField form={form} name=\"Point\" label=\"Điểm từng câu\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-md-6 col-12\">\r\n\t\t\t\t\t\t\t<InputTextField form={form} name=\"NumberQuestions\" label=\"Số lượng câu\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-12 d-none\">\r\n\t\t\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t\t\t<button className=\"btn btn-primary\" type=\"submit\">\r\n\t\t\t\t\t\t\t\t\tLưu\r\n\t\t\t\t\t\t\t\t\t{isLoading && <Spin className=\"loading-base\" />}\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form>\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default AddQuestionAuto\r\n"]},"metadata":{},"sourceType":"module"}