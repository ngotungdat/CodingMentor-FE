{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\pages\\\\package\\\\package-result-student\\\\index.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { ExclamationCircleOutlined, FormOutlined } from '@ant-design/icons';\nimport { Modal, Tooltip } from 'antd';\nimport moment from 'moment';\nimport Link from 'next/link';\nimport React, { Fragment, useEffect, useState } from 'react';\nimport { packageDetailApi } from '~/apiBase/package/package-detail';\nimport { packageResultApi } from '~/apiBase/package/package-result';\nimport FilterBase from '~/components/Elements/FilterBase/FilterBase';\nimport SortBox from '~/components/Elements/SortBox';\nimport ExpandTable from '~/components/ExpandTable';\nimport PackageResultExpand from '~/components/Global/Package/PackageResult/PackageResultExpand';\nimport LayoutBase from '~/components/LayoutBase';\nimport { useWrap } from '~/context/wrap';\n\nconst RequestMaking = props => {\n  const {\n    status,\n    AmountFixOfStudent,\n    handleBuyMarking,\n    onFetchData,\n    dataRow\n  } = props;\n  const {\n    0: isModalVisible,\n    1: setIsModalVisible\n  } = useState(false);\n  const {\n    showNoti\n  } = useWrap();\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n\n  const showModal = () => {\n    setIsModalVisible(true);\n  };\n\n  const handleRequestMaking = async () => {\n    let res = null;\n    let dataSubmit = {\n      ID: dataRow.ID,\n      Enable: true\n    };\n    setLoading(true);\n\n    try {\n      switch (dataRow.StatusID) {\n        case 1:\n          res = await packageResultApi.update(_objectSpread(_objectSpread({}, dataSubmit), {}, {\n            isFixPaid: true\n          }));\n          break;\n\n        case 3:\n          res = await packageResultApi.update(_objectSpread(_objectSpread({}, dataSubmit), {}, {\n            isReevaluate: true\n          }));\n          break;\n\n        default:\n          break;\n      }\n\n      if (res.status == 200) {\n        showNoti('success', 'Yêu cầu thành công');\n        onFetchData && onFetchData();\n        setIsModalVisible(false);\n      }\n    } catch (error) {\n      showNoti('danger', error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleOk = () => {\n    if (AmountFixOfStudent > 0) {\n      handleRequestMaking();\n    } else {\n      handleBuyMarking && handleBuyMarking();\n      setIsModalVisible(false);\n    }\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n      title: status == 1 ? 'Yêu cầu chấm bài' : 'Yêu cầu chấm lại',\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-icon edit\",\n        onClick: showModal,\n        children: /*#__PURE__*/_jsxDEV(FormOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      confirmLoading: loading,\n      title: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-icon\",\n        onClick: showModal,\n        children: /*#__PURE__*/_jsxDEV(ExclamationCircleOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 6\n      }, this),\n      visible: isModalVisible,\n      onOk: handleOk,\n      onCancel: handleCancel,\n      okText: AmountFixOfStudent > 0 ? 'Ok' : 'Mua lượt chấm',\n      children: AmountFixOfStudent > 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontWeight: 500\n        },\n        children: status == 1 ? 'Bạn muốn yêu cầu chấm đề này?' : 'Bạn muốn yêu cầu chấm lại đề này?'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 6\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontWeight: 500\n        },\n        children: \"B\\u1EA1n c\\u1EA7n mua l\\u01B0\\u1EE3t ch\\u1EA5m b\\xE0i \\u0111\\u1EC3 s\\u1EED d\\u1EE5ng ch\\u1EE9c n\\u0103ng n\\xE0y!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n};\n\nconst filterVideo = [{\n  name: 'StatusID',\n  title: 'Trạng thái',\n  col: 'col-12',\n  type: 'select',\n  optionList: [{\n    value: 1,\n    title: 'Đã nộp bài'\n  }, {\n    value: 2,\n    title: 'Đang chấm bài'\n  }, {\n    value: 3,\n    title: 'Đã chấm bài'\n  }, {\n    value: 4,\n    title: 'Đang chấm bài lại'\n  }, {\n    value: 5,\n    title: 'Đã chấm bài'\n  }],\n  value: null\n}, {\n  name: 'date-range',\n  title: 'Ngày tạo',\n  col: 'col-12',\n  type: 'date-range',\n  value: null\n}];\n\nconst PackageResultStudent = props => {\n  const {\n    showNoti,\n    pageSize\n  } = useWrap();\n  const {\n    0: currentPage,\n    1: setCurrentPage\n  } = useState(1);\n  const {\n    0: totalPage,\n    1: setTotalPage\n  } = useState(null);\n  const {\n    0: packageSetResult,\n    1: setPackageSetResult\n  } = useState([]);\n  const {\n    0: isLoading,\n    1: setIsLoading\n  } = useState({\n    type: 'GET_ALL',\n    status: false\n  });\n  const {\n    0: rr,\n    1: setRR\n  } = useState('');\n  const listParamsDefault = {\n    pageSize: pageSize,\n    pageIndex: currentPage,\n    sort: null,\n    sortType: null,\n    fromDate: null,\n    toDate: null,\n    StudentID: null,\n    SetPackageDetailID: null,\n    isDone: null,\n    StudentName: null,\n    ExamTopicType: null,\n    LessonID: !!props.lession.ID ? props.lession.ID : null\n  };\n  const {\n    0: params,\n    1: setParams\n  } = useState(listParamsDefault);\n  const sortOption = [{\n    dataSort: {\n      sortType: null\n    },\n    value: 1,\n    text: 'Mới cập nhật'\n  }, {\n    dataSort: {\n      sortType: true\n    },\n    value: 2,\n    text: 'Từ dưới lên'\n  }];\n  const {\n    0: dataFilter,\n    1: setDataFilter\n  } = useState(!!(props !== null && props !== void 0 && props.lession) ? [{\n    name: 'StatusID',\n    title: 'Trạng thái',\n    col: 'col-12',\n    type: 'select',\n    optionList: [{\n      value: 1,\n      title: 'Đã nộp bài'\n    }, {\n      value: 2,\n      title: 'Đang chấm bài'\n    }, {\n      value: 3,\n      title: 'Đã chấm bài'\n    }, {\n      value: 4,\n      title: 'Đang chấm bài lại'\n    }, {\n      value: 5,\n      title: 'Đã chấm bài'\n    }],\n    value: null\n  }, {\n    name: 'date-range',\n    title: 'Thời gian làm',\n    col: 'col-12',\n    type: 'date-range',\n    value: null\n  }] : [{\n    name: 'SetPackageDetailID',\n    title: 'Bộ đề',\n    col: 'col-12',\n    type: 'select',\n    optionList: null,\n    value: null\n  }, {\n    name: 'StatusID',\n    title: 'Trạng thái',\n    col: 'col-12',\n    type: 'select',\n    optionList: [{\n      value: 1,\n      title: 'Đã nộp bài'\n    }, {\n      value: 2,\n      title: 'Đang chấm bài'\n    }, {\n      value: 3,\n      title: 'Đã chấm bài'\n    }, {\n      value: 4,\n      title: 'Đang chấm bài lại'\n    }, {\n      value: 5,\n      title: 'Đã chấm bài'\n    }],\n    value: null\n  }, {\n    name: 'date-range',\n    title: 'Thời gian làm',\n    col: 'col-12',\n    type: 'date-range',\n    value: null\n  }]);\n\n  const handleReset = () => {\n    setCurrentPage(1);\n    setParams(listParamsDefault);\n  };\n\n  const returnTypeExam = data => {\n    let text = '';\n\n    if (data.ListeningNumber > 0 || data.ReadingNumber > 0) {\n      if (data.SpeakingNumber > 0 || data.WritingNumber > 0) {\n        text = 'Tổng hợp';\n      } else {\n        text = 'Trắc nghiệm';\n      }\n    } else {\n      if (data.SpeakingNumber > 0 || data.WritingNumber > 0) {\n        text = 'Tự luận';\n      }\n    }\n\n    return text;\n  };\n\n  const handleFilter = listFilter => {\n    let newListFilter = {\n      pageIndex: 1,\n      fromDate: null,\n      toDate: null,\n      StudentID: null,\n      SetPackageDetailID: null,\n      isDone: null,\n      StudentName: null,\n      ExamTopicType: null,\n      StatusID: null\n    };\n    listFilter.forEach((item, index) => {\n      let key = item.name;\n      Object.keys(newListFilter).forEach(keyFilter => {\n        if (keyFilter == key) {\n          newListFilter[key] = item.value;\n        }\n      });\n    });\n    setParams(_objectSpread(_objectSpread(_objectSpread({}, listParamsDefault), newListFilter), {}, {\n      pageIndex: 1\n    }));\n  };\n\n  const handleSort = async option => {\n    setParams(_objectSpread(_objectSpread({}, listParamsDefault), {}, {\n      sortType: option.title.sortType\n    }));\n  };\n\n  const getDataSetPackageResult = async page => {\n    setIsLoading({\n      type: 'GET_ALL',\n      status: true\n    });\n\n    try {\n      let res = await packageResultApi.getAll(_objectSpread(_objectSpread({}, params), {}, {\n        pageIndex: page,\n        LessonID: !!props.lession.ID ? props.lession.ID : null\n      }));\n      res.status == 200 && setPackageSetResult(res.data.data);\n\n      if (res.status == 204) {\n        setPackageSetResult([]);\n      } else {\n        setTotalPage(res.data.totalRow);\n      }\n\n      setRR(Date.now().toString());\n    } catch (error) {\n      showNoti('danger', error.message);\n    } finally {\n      setIsLoading({\n        type: 'GET_ALL',\n        status: false\n      });\n    }\n  };\n\n  const setDataFunc = (name, data) => {\n    dataFilter.every((item, index) => {\n      if (item.name == name) {\n        item.optionList = data;\n        return false;\n      }\n\n      return true;\n    });\n    setDataFilter([...dataFilter]);\n  };\n\n  const getDataPackageDetail = async () => {\n    try {\n      let res = await packageDetailApi.getAll({\n        pageSize: 99999,\n        pageIndex: 1\n      });\n\n      if (res.status == 200) {\n        const newData = res.data.data.map(item => ({\n          title: item.SetPackageName,\n          value: item.ID\n        }));\n        setDataFunc('SetPackageDetailID', newData);\n      }\n\n      res.status == 204 && showNoti('danger', 'Không có dữ liệu bộ đề này!');\n    } catch (error) {\n      showNoti('danger', error.message);\n    }\n  };\n\n  const getPagination = pageNumber => {\n    setCurrentPage(pageNumber);\n    setParams(_objectSpread(_objectSpread({}, params), {}, {\n      pageIndex: currentPage\n    }));\n  };\n\n  const expandedRowRender = (data, index) => {\n    return /*#__PURE__*/_jsxDEV(Fragment, {\n      children: /*#__PURE__*/_jsxDEV(PackageResultExpand, {\n        infoID: data.ID\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 4\n    }, this);\n  };\n\n  const columns = [{\n    title: 'Đề thi',\n    dataIndex: 'ExamTopicName',\n    render: (text, data) => /*#__PURE__*/_jsxDEV(Link, {\n      href: {\n        pathname: '/package/package-result-student/detail/[slug]',\n        query: {\n          slug: `${data.ID}`,\n          examID: data.ExamTopicID,\n          packageDetailID: data.SetPackageDetailID\n        }\n      },\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#\",\n        className: \"font-weight-black\",\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 5\n    }, this)\n  }, {\n    title: 'Trạng thái',\n    dataIndex: 'StatusID',\n    align: 'center',\n    render: status => /*#__PURE__*/_jsxDEV(Fragment, {\n      children: [status == 1 && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"tag gray\",\n        children: \"\\u0110\\xE3 n\\u1ED9p b\\xE0i\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 22\n      }, this), status == 2 && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"tag yellow\",\n        children: \"\\u0110ang ch\\u1EA5m b\\xE0i\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 22\n      }, this), status == 3 && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"tag green\",\n        children: \"\\u0110\\xE3 ch\\u1EA5m b\\xE0i\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 22\n      }, this), status == 4 && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"tag yellow\",\n        children: \"\\u0110ang ch\\u1EA5m b\\xE0i l\\u1EA1i\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 22\n      }, this), status == 5 && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"tag green\",\n        children: \"\\u0110\\xE3 ch\\u1EA5m b\\xE0i l\\u1EA1i\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 22\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 5\n    }, this)\n  }, {\n    title: 'Dạng đề',\n    align: 'center',\n    render: data => /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-weight-black\",\n        children: returnTypeExam(data)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 25\n      }, this)\n    }, void 0, false)\n  }, {\n    title: 'Thời gian làm',\n    align: 'center',\n    render: data => /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-weight-black\",\n        children: moment(data === null || data === void 0 ? void 0 : data.CreatedOn).format('DD/MM/YYYY')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 25\n      }, this)\n    }, void 0, false)\n  }, {\n    align: 'right',\n    render: data => /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        href: {\n          pathname: '/package/package-result-student/detail/[slug]',\n          query: {\n            slug: `${data.ID}`,\n            examID: data.ExamTopicID,\n            packageDetailID: data.SetPackageDetailID,\n            score: true\n          }\n        },\n        children: /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"K\\u1EBFt qu\\u1EA3 b\\u1ED9 \\u0111\\u1EC1 chi ti\\u1EBFt\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-icon\",\n            children: /*#__PURE__*/_jsxDEV(ExclamationCircleOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 6\n      }, this)\n    }, void 0, false)\n  }];\n  useEffect(() => {\n    getDataSetPackageResult(currentPage);\n  }, [params]);\n  useEffect(() => {\n    getDataPackageDetail();\n  }, []);\n  useEffect(() => {\n    if (!!(props !== null && props !== void 0 && props.lession)) {\n      getDataSetPackageResult(currentPage);\n    }\n  }, [props === null || props === void 0 ? void 0 : props.lession]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `${!!props.lession ? 'video-table' : ''}`,\n    children: /*#__PURE__*/_jsxDEV(ExpandTable, {\n      currentPage: currentPage,\n      loading: isLoading,\n      totalPage: totalPage && totalPage,\n      getPagination: pageNumber => getPagination(pageNumber),\n      addClass: \"basic-header\",\n      TitlePage: \"K\\u1EBFt qu\\u1EA3 \\u0111\\xE3 l\\xE0m b\\xE0i\",\n      dataSource: packageSetResult,\n      columns: columns,\n      Extra: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"extra-table\",\n        children: [/*#__PURE__*/_jsxDEV(FilterBase, {\n          isVideo: !!props.lession,\n          dataFilter: dataFilter,\n          handleFilter: listFilter => handleFilter(listFilter),\n          handleReset: handleReset\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(SortBox, {\n          dataOption: sortOption,\n          handleSort: value => handleSort(value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 465,\n        columnNumber: 6\n      }, this),\n      expandable: {\n        expandedRowRender\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 455,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 454,\n    columnNumber: 3\n  }, this);\n};\n\nPackageResultStudent.layout = LayoutBase;\nexport default PackageResultStudent;","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/pages/package/package-result-student/index.tsx"],"names":["ExclamationCircleOutlined","FormOutlined","Modal","Tooltip","moment","Link","React","Fragment","useEffect","useState","packageDetailApi","packageResultApi","FilterBase","SortBox","ExpandTable","PackageResultExpand","LayoutBase","useWrap","RequestMaking","props","status","AmountFixOfStudent","handleBuyMarking","onFetchData","dataRow","isModalVisible","setIsModalVisible","showNoti","loading","setLoading","showModal","handleRequestMaking","res","dataSubmit","ID","Enable","StatusID","update","isFixPaid","isReevaluate","error","message","handleOk","handleCancel","fontWeight","filterVideo","name","title","col","type","optionList","value","PackageResultStudent","pageSize","currentPage","setCurrentPage","totalPage","setTotalPage","packageSetResult","setPackageSetResult","isLoading","setIsLoading","rr","setRR","listParamsDefault","pageIndex","sort","sortType","fromDate","toDate","StudentID","SetPackageDetailID","isDone","StudentName","ExamTopicType","LessonID","lession","params","setParams","sortOption","dataSort","text","dataFilter","setDataFilter","handleReset","returnTypeExam","data","ListeningNumber","ReadingNumber","SpeakingNumber","WritingNumber","handleFilter","listFilter","newListFilter","forEach","item","index","key","Object","keys","keyFilter","handleSort","option","getDataSetPackageResult","page","getAll","totalRow","Date","now","toString","setDataFunc","every","getDataPackageDetail","newData","map","SetPackageName","getPagination","pageNumber","expandedRowRender","columns","dataIndex","render","pathname","query","slug","examID","ExamTopicID","packageDetailID","align","CreatedOn","format","score","layout"],"mappings":"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","sourcesContent":["import { ExclamationCircleOutlined, FormOutlined } from '@ant-design/icons'\r\nimport { Modal, Tooltip } from 'antd'\r\nimport moment from 'moment'\r\nimport Link from 'next/link'\r\nimport React, { Fragment, useEffect, useState } from 'react'\r\nimport { packageDetailApi } from '~/apiBase/package/package-detail'\r\nimport { packageResultApi } from '~/apiBase/package/package-result'\r\nimport FilterBase from '~/components/Elements/FilterBase/FilterBase'\r\nimport SortBox from '~/components/Elements/SortBox'\r\nimport ExpandTable from '~/components/ExpandTable'\r\nimport PackageResultExpand from '~/components/Global/Package/PackageResult/PackageResultExpand'\r\nimport LayoutBase from '~/components/LayoutBase'\r\nimport { useWrap } from '~/context/wrap'\r\n\r\nconst RequestMaking = (props) => {\r\n\tconst { status, AmountFixOfStudent, handleBuyMarking, onFetchData, dataRow } = props\r\n\tconst [isModalVisible, setIsModalVisible] = useState(false)\r\n\tconst { showNoti } = useWrap()\r\n\tconst [loading, setLoading] = useState(false)\r\n\r\n\tconst showModal = () => {\r\n\t\tsetIsModalVisible(true)\r\n\t}\r\n\r\n\tconst handleRequestMaking = async () => {\r\n\t\tlet res = null\r\n\t\tlet dataSubmit = { ID: dataRow.ID, Enable: true }\r\n\t\tsetLoading(true)\r\n\t\ttry {\r\n\t\t\tswitch (dataRow.StatusID) {\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tres = await packageResultApi.update({ ...dataSubmit, isFixPaid: true })\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\tres = await packageResultApi.update({ ...dataSubmit, isReevaluate: true })\r\n\t\t\t\t\tbreak\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tshowNoti('success', 'Yêu cầu thành công')\r\n\t\t\t\tonFetchData && onFetchData()\r\n\t\t\t\tsetIsModalVisible(false)\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetLoading(false)\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleOk = () => {\r\n\t\tif (AmountFixOfStudent > 0) {\r\n\t\t\thandleRequestMaking()\r\n\t\t} else {\r\n\t\t\thandleBuyMarking && handleBuyMarking()\r\n\t\t\tsetIsModalVisible(false)\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleCancel = () => {\r\n\t\tsetIsModalVisible(false)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Tooltip title={status == 1 ? 'Yêu cầu chấm bài' : 'Yêu cầu chấm lại'}>\r\n\t\t\t\t<button className=\"btn btn-icon edit\" onClick={showModal}>\r\n\t\t\t\t\t<FormOutlined />\r\n\t\t\t\t</button>\r\n\t\t\t</Tooltip>\r\n\t\t\t<Modal\r\n\t\t\t\tconfirmLoading={loading}\r\n\t\t\t\ttitle={\r\n\t\t\t\t\t<button className=\"btn btn-icon\" onClick={showModal}>\r\n\t\t\t\t\t\t<ExclamationCircleOutlined />\r\n\t\t\t\t\t</button>\r\n\t\t\t\t}\r\n\t\t\t\tvisible={isModalVisible}\r\n\t\t\t\tonOk={handleOk}\r\n\t\t\t\tonCancel={handleCancel}\r\n\t\t\t\tokText={AmountFixOfStudent > 0 ? 'Ok' : 'Mua lượt chấm'}\r\n\t\t\t>\r\n\t\t\t\t{AmountFixOfStudent > 0 ? (\r\n\t\t\t\t\t<p style={{ fontWeight: 500 }}>{status == 1 ? 'Bạn muốn yêu cầu chấm đề này?' : 'Bạn muốn yêu cầu chấm lại đề này?'}</p>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<p style={{ fontWeight: 500 }}>Bạn cần mua lượt chấm bài để sử dụng chức năng này!</p>\r\n\t\t\t\t)}\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\ntype IPackageResult = {\r\n\tlession: any\r\n}\r\n\r\nconst filterVideo = [\r\n\t{\r\n\t\tname: 'StatusID',\r\n\t\ttitle: 'Trạng thái',\r\n\t\tcol: 'col-12',\r\n\t\ttype: 'select',\r\n\t\toptionList: [\r\n\t\t\t{\r\n\t\t\t\tvalue: 1,\r\n\t\t\t\ttitle: 'Đã nộp bài'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tvalue: 2,\r\n\t\t\t\ttitle: 'Đang chấm bài'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tvalue: 3,\r\n\t\t\t\ttitle: 'Đã chấm bài'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tvalue: 4,\r\n\t\t\t\ttitle: 'Đang chấm bài lại'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tvalue: 5,\r\n\t\t\t\ttitle: 'Đã chấm bài'\r\n\t\t\t}\r\n\t\t],\r\n\t\tvalue: null\r\n\t},\r\n\t{\r\n\t\tname: 'date-range',\r\n\t\ttitle: 'Ngày tạo',\r\n\t\tcol: 'col-12',\r\n\t\ttype: 'date-range',\r\n\t\tvalue: null\r\n\t}\r\n]\r\n\r\nconst PackageResultStudent = (props: IPackageResult) => {\r\n\tconst { showNoti, pageSize } = useWrap()\r\n\r\n\tconst [currentPage, setCurrentPage] = useState(1)\r\n\tconst [totalPage, setTotalPage] = useState(null)\r\n\tconst [packageSetResult, setPackageSetResult] = useState<ISetPackageResult[]>([])\r\n\tconst [isLoading, setIsLoading] = useState({ type: 'GET_ALL', status: false })\r\n\tconst [rr, setRR] = useState('')\r\n\r\n\tconst listParamsDefault = {\r\n\t\tpageSize: pageSize,\r\n\t\tpageIndex: currentPage,\r\n\t\tsort: null,\r\n\t\tsortType: null,\r\n\t\tfromDate: null,\r\n\t\ttoDate: null,\r\n\t\tStudentID: null,\r\n\t\tSetPackageDetailID: null,\r\n\t\tisDone: null,\r\n\t\tStudentName: null,\r\n\t\tExamTopicType: null,\r\n\t\tLessonID: !!props.lession.ID ? props.lession.ID : null\r\n\t}\r\n\r\n\tconst [params, setParams] = useState(listParamsDefault)\r\n\r\n\tconst sortOption = [\r\n\t\t{\r\n\t\t\tdataSort: {\r\n\t\t\t\tsortType: null\r\n\t\t\t},\r\n\t\t\tvalue: 1,\r\n\t\t\ttext: 'Mới cập nhật'\r\n\t\t},\r\n\t\t{\r\n\t\t\tdataSort: {\r\n\t\t\t\tsortType: true\r\n\t\t\t},\r\n\t\t\tvalue: 2,\r\n\t\t\ttext: 'Từ dưới lên'\r\n\t\t}\r\n\t]\r\n\r\n\tconst [dataFilter, setDataFilter] = useState(\r\n\t\t!!props?.lession\r\n\t\t\t? [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: 'StatusID',\r\n\t\t\t\t\t\ttitle: 'Trạng thái',\r\n\t\t\t\t\t\tcol: 'col-12',\r\n\t\t\t\t\t\ttype: 'select',\r\n\t\t\t\t\t\toptionList: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tvalue: 1,\r\n\t\t\t\t\t\t\t\ttitle: 'Đã nộp bài'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tvalue: 2,\r\n\t\t\t\t\t\t\t\ttitle: 'Đang chấm bài'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tvalue: 3,\r\n\t\t\t\t\t\t\t\ttitle: 'Đã chấm bài'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tvalue: 4,\r\n\t\t\t\t\t\t\t\ttitle: 'Đang chấm bài lại'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tvalue: 5,\r\n\t\t\t\t\t\t\t\ttitle: 'Đã chấm bài'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\tvalue: null\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: 'date-range',\r\n\t\t\t\t\t\ttitle: 'Thời gian làm',\r\n\t\t\t\t\t\tcol: 'col-12',\r\n\t\t\t\t\t\ttype: 'date-range',\r\n\t\t\t\t\t\tvalue: null\r\n\t\t\t\t\t}\r\n\t\t\t  ]\r\n\t\t\t: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: 'SetPackageDetailID',\r\n\t\t\t\t\t\ttitle: 'Bộ đề',\r\n\t\t\t\t\t\tcol: 'col-12',\r\n\t\t\t\t\t\ttype: 'select',\r\n\t\t\t\t\t\toptionList: null,\r\n\t\t\t\t\t\tvalue: null\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: 'StatusID',\r\n\t\t\t\t\t\ttitle: 'Trạng thái',\r\n\t\t\t\t\t\tcol: 'col-12',\r\n\t\t\t\t\t\ttype: 'select',\r\n\t\t\t\t\t\toptionList: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tvalue: 1,\r\n\t\t\t\t\t\t\t\ttitle: 'Đã nộp bài'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tvalue: 2,\r\n\t\t\t\t\t\t\t\ttitle: 'Đang chấm bài'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tvalue: 3,\r\n\t\t\t\t\t\t\t\ttitle: 'Đã chấm bài'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tvalue: 4,\r\n\t\t\t\t\t\t\t\ttitle: 'Đang chấm bài lại'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tvalue: 5,\r\n\t\t\t\t\t\t\t\ttitle: 'Đã chấm bài'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\tvalue: null\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: 'date-range',\r\n\t\t\t\t\t\ttitle: 'Thời gian làm',\r\n\t\t\t\t\t\tcol: 'col-12',\r\n\t\t\t\t\t\ttype: 'date-range',\r\n\t\t\t\t\t\tvalue: null\r\n\t\t\t\t\t}\r\n\t\t\t  ]\r\n\t)\r\n\r\n\tconst handleReset = () => {\r\n\t\tsetCurrentPage(1)\r\n\t\tsetParams(listParamsDefault)\r\n\t}\r\n\r\n\tconst returnTypeExam = (data) => {\r\n\t\tlet text = ''\r\n\t\tif (data.ListeningNumber > 0 || data.ReadingNumber > 0) {\r\n\t\t\tif (data.SpeakingNumber > 0 || data.WritingNumber > 0) {\r\n\t\t\t\ttext = 'Tổng hợp'\r\n\t\t\t} else {\r\n\t\t\t\ttext = 'Trắc nghiệm'\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (data.SpeakingNumber > 0 || data.WritingNumber > 0) {\r\n\t\t\t\ttext = 'Tự luận'\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn text\r\n\t}\r\n\r\n\tconst handleFilter = (listFilter) => {\r\n\t\tlet newListFilter = {\r\n\t\t\tpageIndex: 1,\r\n\t\t\tfromDate: null,\r\n\t\t\ttoDate: null,\r\n\t\t\tStudentID: null,\r\n\t\t\tSetPackageDetailID: null,\r\n\t\t\tisDone: null,\r\n\t\t\tStudentName: null,\r\n\t\t\tExamTopicType: null,\r\n\t\t\tStatusID: null\r\n\t\t}\r\n\t\tlistFilter.forEach((item, index) => {\r\n\t\t\tlet key = item.name\r\n\t\t\tObject.keys(newListFilter).forEach((keyFilter) => {\r\n\t\t\t\tif (keyFilter == key) {\r\n\t\t\t\t\tnewListFilter[key] = item.value\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t})\r\n\t\tsetParams({ ...listParamsDefault, ...newListFilter, pageIndex: 1 })\r\n\t}\r\n\r\n\tconst handleSort = async (option) => {\r\n\t\tsetParams({ ...listParamsDefault, sortType: option.title.sortType })\r\n\t}\r\n\r\n\tconst getDataSetPackageResult = async (page: any) => {\r\n\t\tsetIsLoading({ type: 'GET_ALL', status: true })\r\n\r\n\t\ttry {\r\n\t\t\tlet res = await packageResultApi.getAll({ ...params, pageIndex: page, LessonID: !!props.lession.ID ? props.lession.ID : null })\r\n\t\t\tres.status == 200 && setPackageSetResult(res.data.data)\r\n\t\t\tif (res.status == 204) {\r\n\t\t\t\tsetPackageSetResult([])\r\n\t\t\t} else {\r\n\t\t\t\tsetTotalPage(res.data.totalRow)\r\n\t\t\t}\r\n\t\t\tsetRR(Date.now().toString())\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({ type: 'GET_ALL', status: false })\r\n\t\t}\r\n\t}\r\n\r\n\tconst setDataFunc = (name, data) => {\r\n\t\tdataFilter.every((item, index) => {\r\n\t\t\tif (item.name == name) {\r\n\t\t\t\titem.optionList = data\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t\treturn true\r\n\t\t})\r\n\t\tsetDataFilter([...dataFilter])\r\n\t}\r\n\r\n\tconst getDataPackageDetail = async () => {\r\n\t\ttry {\r\n\t\t\tlet res = await packageDetailApi.getAll({ pageSize: 99999, pageIndex: 1 })\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tconst newData = res.data.data.map((item) => ({ title: item.SetPackageName, value: item.ID }))\r\n\t\t\t\tsetDataFunc('SetPackageDetailID', newData)\r\n\t\t\t}\r\n\t\t\tres.status == 204 && showNoti('danger', 'Không có dữ liệu bộ đề này!')\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t}\r\n\t}\r\n\r\n\tconst getPagination = (pageNumber: number) => {\r\n\t\tsetCurrentPage(pageNumber)\r\n\t\tsetParams({ ...params, pageIndex: currentPage })\r\n\t}\r\n\r\n\tconst expandedRowRender = (data, index) => {\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<PackageResultExpand infoID={data.ID} />\r\n\t\t\t</Fragment>\r\n\t\t)\r\n\t}\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Đề thi',\r\n\t\t\tdataIndex: 'ExamTopicName',\r\n\t\t\trender: (text, data) => (\r\n\t\t\t\t<Link\r\n\t\t\t\t\thref={{\r\n\t\t\t\t\t\tpathname: '/package/package-result-student/detail/[slug]',\r\n\t\t\t\t\t\tquery: { slug: `${data.ID}`, examID: data.ExamTopicID, packageDetailID: data.SetPackageDetailID }\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<a href=\"#\" className=\"font-weight-black\">\r\n\t\t\t\t\t\t{text}\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</Link>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Trạng thái',\r\n\t\t\tdataIndex: 'StatusID',\r\n\t\t\talign: 'center',\r\n\t\t\trender: (status) => (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t{status == 1 && <span className=\"tag gray\">Đã nộp bài</span>}\r\n\t\t\t\t\t{status == 2 && <span className=\"tag yellow\">Đang chấm bài</span>}\r\n\t\t\t\t\t{status == 3 && <span className=\"tag green\">Đã chấm bài</span>}\r\n\t\t\t\t\t{status == 4 && <span className=\"tag yellow\">Đang chấm bài lại</span>}\r\n\t\t\t\t\t{status == 5 && <span className=\"tag green\">Đã chấm bài lại</span>}\r\n\t\t\t\t</Fragment>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Dạng đề',\r\n\t\t\talign: 'center',\r\n\t\t\trender: (data) => <>{<p className=\"font-weight-black\">{returnTypeExam(data)}</p>}</>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Thời gian làm',\r\n\t\t\talign: 'center',\r\n\t\t\trender: (data) => <>{<p className=\"font-weight-black\">{moment(data?.CreatedOn).format('DD/MM/YYYY')}</p>}</>\r\n\t\t},\r\n\t\t{\r\n\t\t\talign: 'right',\r\n\t\t\trender: (data) => (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Link\r\n\t\t\t\t\t\thref={{\r\n\t\t\t\t\t\t\tpathname: '/package/package-result-student/detail/[slug]',\r\n\t\t\t\t\t\t\tquery: {\r\n\t\t\t\t\t\t\t\tslug: `${data.ID}`,\r\n\t\t\t\t\t\t\t\texamID: data.ExamTopicID,\r\n\t\t\t\t\t\t\t\tpackageDetailID: data.SetPackageDetailID,\r\n\t\t\t\t\t\t\t\tscore: true\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Tooltip title=\"Kết quả bộ đề chi tiết\">\r\n\t\t\t\t\t\t\t<button className=\"btn btn-icon\">\r\n\t\t\t\t\t\t\t\t<ExclamationCircleOutlined />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</>\r\n\t\t\t)\r\n\t\t}\r\n\t]\r\n\r\n\tuseEffect(() => {\r\n\t\tgetDataSetPackageResult(currentPage)\r\n\t}, [params])\r\n\r\n\tuseEffect(() => {\r\n\t\tgetDataPackageDetail()\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!!props?.lession) {\r\n\t\t\tgetDataSetPackageResult(currentPage)\r\n\t\t}\r\n\t}, [props?.lession])\r\n\r\n\treturn (\r\n\t\t<div className={`${!!props.lession ? 'video-table' : ''}`}>\r\n\t\t\t<ExpandTable\r\n\t\t\t\tcurrentPage={currentPage}\r\n\t\t\t\tloading={isLoading}\r\n\t\t\t\ttotalPage={totalPage && totalPage}\r\n\t\t\t\tgetPagination={(pageNumber: number) => getPagination(pageNumber)}\r\n\t\t\t\taddClass=\"basic-header\"\r\n\t\t\t\tTitlePage=\"Kết quả đã làm bài\"\r\n\t\t\t\tdataSource={packageSetResult}\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tExtra={\r\n\t\t\t\t\t<div className=\"extra-table\">\r\n\t\t\t\t\t\t<FilterBase\r\n\t\t\t\t\t\t\tisVideo={!!props.lession}\r\n\t\t\t\t\t\t\tdataFilter={dataFilter}\r\n\t\t\t\t\t\t\thandleFilter={(listFilter: any) => handleFilter(listFilter)}\r\n\t\t\t\t\t\t\thandleReset={handleReset}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<SortBox dataOption={sortOption} handleSort={(value) => handleSort(value)} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\texpandable={{ expandedRowRender }}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nPackageResultStudent.layout = LayoutBase\r\nexport default PackageResultStudent\r\n"]},"metadata":{},"sourceType":"module"}