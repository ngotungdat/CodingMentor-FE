{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Global\\\\SalaryHistory\\\\SalaryHistory.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport { useWrap } from '~/context/wrap';\nimport NestedTable from '~/components/Elements/NestedTable';\nimport { staffSalaryApi } from '~/apiBase';\nimport { parseToMoney } from '~/utils/functions';\nimport moment from 'moment';\n\nconst SalaryHistory = props => {\n  const {\n    ID\n  } = props; // ------ BASE USESTATE TABLE -------\n\n  const {\n    0: dataSource,\n    1: setDataSource\n  } = useState([]);\n  const {\n    showNoti,\n    pageSize,\n    userInformation\n  } = useWrap();\n  const {\n    0: isLoading,\n    1: setIsLoading\n  } = useState({\n    type: '',\n    status: false\n  });\n  const {\n    0: totalPage,\n    1: setTotalPage\n  } = useState(null);\n  const {\n    0: indexRow,\n    1: setIndexRow\n  } = useState(null);\n  const {\n    0: currentPage,\n    1: setCurrentPage\n  } = useState(1);\n  const {\n    0: dataTeacher,\n    1: setDataTeacher\n  } = useState([]);\n  useEffect(() => {\n    getDataSource();\n  }, []); // GET DATA SOURCE\n\n  const getDataSource = async () => {\n    setIsLoading({\n      type: 'GET_ALL',\n      status: true\n    });\n\n    try {\n      let res = await staffSalaryApi.getHistory(ID);\n\n      if (res.status == 200) {\n        setDataSource(res.data.data);\n        setTotalPage(res.data.totalRow);\n      }\n\n      res.status == 204 && setDataSource([]);\n    } catch (error) {\n      showNoti('danger', error.message);\n    } finally {\n      setIsLoading({\n        type: 'GET_ALL',\n        status: false\n      });\n    }\n  };\n\n  const columns = [{\n    title: 'Lương cũ',\n    dataIndex: 'SalaryOld',\n    render: value => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bold disable-text\",\n      children: !!value && parseToMoney(value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 23\n    }, this)\n  }, {\n    title: 'Lương mới',\n    dataIndex: 'SalaryNew',\n    render: value => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bold primary\",\n      children: !!value && parseToMoney(value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 23\n    }, this)\n  }, {\n    title: 'Ghi chú',\n    dataIndex: 'Note'\n  }, {\n    title: 'Ngày',\n    dataIndex: 'CreatedOn',\n    render: value => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: !!value && moment(value).format('DD/MM/YYYY')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 23\n    }, this)\n  }, {\n    title: 'Sửa bởi',\n    dataIndex: 'CreatedBy'\n  }];\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(NestedTable, {\n      currentPage: currentPage,\n      totalPage: totalPage && totalPage,\n      pagination: false,\n      loading: isLoading,\n      addClass: \"basic-header\",\n      TitlePage: \"\",\n      dataSource: dataSource,\n      columns: columns\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 4\n    }, this)\n  }, void 0, false);\n};\n\nexport default SalaryHistory;","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Global/SalaryHistory/SalaryHistory.tsx"],"names":["React","useState","useEffect","useWrap","NestedTable","staffSalaryApi","parseToMoney","moment","SalaryHistory","props","ID","dataSource","setDataSource","showNoti","pageSize","userInformation","isLoading","setIsLoading","type","status","totalPage","setTotalPage","indexRow","setIndexRow","currentPage","setCurrentPage","dataTeacher","setDataTeacher","getDataSource","res","getHistory","data","totalRow","error","message","columns","title","dataIndex","render","value","format"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { courseExamApi } from '~/apiBase/package/course-exam'\r\nimport { useWrap } from '~/context/wrap'\r\nimport Link from 'next/link'\r\nimport NestedTable from '~/components/Elements/NestedTable'\r\nimport { Tooltip } from 'antd'\r\nimport { ExclamationCircleOutlined, FormOutlined } from '@ant-design/icons'\r\nimport { staffSalaryApi, teacherApi } from '~/apiBase'\r\nimport { parseToMoney } from '~/utils/functions'\r\nimport moment from 'moment'\r\n\r\nconst SalaryHistory = (props) => {\r\n\tconst { ID } = props\r\n\t// ------ BASE USESTATE TABLE -------\r\n\tconst [dataSource, setDataSource] = useState<IStaffSalaryHistory[]>([])\r\n\tconst { showNoti, pageSize, userInformation } = useWrap()\r\n\tconst [isLoading, setIsLoading] = useState({ type: '', status: false })\r\n\tconst [totalPage, setTotalPage] = useState(null)\r\n\tconst [indexRow, setIndexRow] = useState(null)\r\n\tconst [currentPage, setCurrentPage] = useState(1)\r\n\r\n\tconst [dataTeacher, setDataTeacher] = useState([])\r\n\r\n\tuseEffect(() => {\r\n\t\tgetDataSource()\r\n\t}, [])\r\n\r\n\t// GET DATA SOURCE\r\n\tconst getDataSource = async () => {\r\n\t\tsetIsLoading({ type: 'GET_ALL', status: true })\r\n\t\ttry {\r\n\t\t\tlet res = await staffSalaryApi.getHistory(ID)\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tsetDataSource(res.data.data)\r\n\t\t\t\tsetTotalPage(res.data.totalRow)\r\n\t\t\t}\r\n\t\t\tres.status == 204 && setDataSource([])\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({ type: 'GET_ALL', status: false })\r\n\t\t}\r\n\t}\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Lương cũ',\r\n\t\t\tdataIndex: 'SalaryOld',\r\n\t\t\trender: (value) => <div className=\"bold disable-text\">{!!value && parseToMoney(value)}</div>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Lương mới',\r\n\t\t\tdataIndex: 'SalaryNew',\r\n\t\t\trender: (value) => <div className=\"bold primary\">{!!value && parseToMoney(value)}</div>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Ghi chú',\r\n\t\t\tdataIndex: 'Note'\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Ngày',\r\n\t\t\tdataIndex: 'CreatedOn',\r\n\t\t\trender: (value) => <div>{!!value && moment(value).format('DD/MM/YYYY')}</div>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Sửa bởi',\r\n\t\t\tdataIndex: 'CreatedBy'\r\n\t\t}\r\n\t]\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<NestedTable\r\n\t\t\t\tcurrentPage={currentPage}\r\n\t\t\t\ttotalPage={totalPage && totalPage}\r\n\t\t\t\tpagination={false}\r\n\t\t\t\tloading={isLoading}\r\n\t\t\t\taddClass=\"basic-header\"\r\n\t\t\t\tTitlePage=\"\"\r\n\t\t\t\tdataSource={dataSource}\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t/>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default SalaryHistory\r\n"]},"metadata":{},"sourceType":"module"}