{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _toConsumableArray from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Global\\\\ManageZoom\\\\Config\\\\ConfigZoom.tsx\",\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport moment from 'moment';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { configZoomApi } from '~/apiBase';\nimport DeleteTableRow from '~/components/Elements/DeleteTableRow/DeleteTableRow';\nimport SortBox from '~/components/Elements/SortBox';\nimport ConfigZoomForm from '~/components/Global/ManageZoom/Config/ConfigZoomForm';\nimport PowerTable from '~/components/PowerTable';\nimport FilterColumn from '~/components/Tables/FilterColumn';\nimport { useWrap } from '~/context/wrap';\n\nfunction ConfigZoom() {\n  _s();\n\n  var _this = this;\n\n  var _useState = useState([]),\n      configZoomList = _useState[0],\n      setConfigZoomList = _useState[1];\n\n  var _useState2 = useState({\n    type: 'GET_ALL',\n    status: false\n  }),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var _useState3 = useState(''),\n      activeColumnSearch = _useState3[0],\n      setActiveColumnSearch = _useState3[1];\n\n  var _useState4 = useState(0),\n      totalPage = _useState4[0],\n      setTotalPage = _useState4[1];\n\n  var _useWrap = useWrap(),\n      showNoti = _useWrap.showNoti;\n\n  var sortOptionList = [{\n    dataSort: {\n      sort: 1,\n      sortType: true\n    },\n    value: 1,\n    text: 'Ngày tạo tăng dần'\n  }, {\n    dataSort: {\n      sort: 1,\n      sortType: false\n    },\n    value: 2,\n    text: 'Ngày tạo giảm dần'\n  }]; // FILTER\n\n  var listFieldInit = {\n    pageIndex: 1,\n    pageSize: 10,\n    sort: -1,\n    sortType: false,\n    fromDate: '',\n    toDate: '',\n    UserZoom: '',\n    Active: null\n  };\n  var refValue = useRef({\n    pageIndex: 1,\n    pageSize: 10,\n    sort: -1,\n    sortType: false\n  });\n\n  var _useState5 = useState(listFieldInit),\n      filters = _useState5[0],\n      setFilters = _useState5[1];\n\n  var optionActiveList = [{\n    label: 'Hoạt động',\n    title: 'Hoạt động',\n    value: true\n  }, {\n    label: 'Dừng',\n    title: 'Dừng',\n    value: false\n  }]; // PAGINATION\n\n  var getPagination = function getPagination(pageIndex, pageSize) {\n    if (!pageSize) pageSize = 10;\n    refValue.current = _objectSpread(_objectSpread({}, refValue.current), {}, {\n      pageSize: pageSize,\n      pageIndex: pageIndex\n    });\n    setFilters(_objectSpread(_objectSpread({}, filters), refValue.current));\n  }; // SORT\n\n\n  var onSort = function onSort(option) {\n    refValue.current = _objectSpread(_objectSpread({}, refValue.current), {}, {\n      sort: option.title.sort,\n      sortType: option.title.sortType\n    });\n    setFilters(_objectSpread(_objectSpread({}, listFieldInit), refValue.current));\n  }; // RESET SEARCH\n\n\n  var onResetSearch = function onResetSearch() {\n    setActiveColumnSearch('');\n    setFilters(_objectSpread(_objectSpread({}, listFieldInit), {}, {\n      pageSize: refValue.current.pageSize\n    }));\n  }; // ACTION SEARCH\n\n\n  var onSearch = function onSearch(valueSearch, dataIndex) {\n    setActiveColumnSearch(dataIndex);\n\n    if (dataIndex === 'CreatedOn') {\n      setFilters(_objectSpread(_objectSpread(_objectSpread({}, listFieldInit), refValue.current), {}, {\n        pageIndex: 1\n      }, valueSearch));\n    } else {\n      setFilters(_objectSpread(_objectSpread(_objectSpread({}, listFieldInit), refValue.current), {}, _defineProperty({\n        pageIndex: 1\n      }, dataIndex, valueSearch)));\n    }\n  };\n\n  var fetchConfigZoomList = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              setIsLoading({\n                type: 'GET_ALL',\n                status: true\n              });\n              _context.next = 4;\n              return configZoomApi.getAll(filters);\n\n            case 4:\n              res = _context.sent;\n\n              if (res.status === 200) {\n                setConfigZoomList(res.data.data);\n                setTotalPage(res.data.totalRow);\n              }\n\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](0);\n              console.log('fetchConfigZoomList', _context.t0.message);\n\n            case 11:\n              _context.prev = 11;\n              setIsLoading({\n                type: 'GET_ALL',\n                status: false\n              });\n              return _context.finish(11);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 8, 11, 14]]);\n    }));\n\n    return function fetchConfigZoomList() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    fetchConfigZoomList();\n  }, [filters]); // CREATE\n\n  var onCreateConfigZoom = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(data) {\n      var res, newConfigZoomList;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              setIsLoading({\n                type: 'ADD_DATA',\n                status: true\n              });\n              _context2.next = 4;\n              return configZoomApi.add(data);\n\n            case 4:\n              res = _context2.sent;\n\n              if (!(res.status === 200)) {\n                _context2.next = 10;\n                break;\n              }\n\n              newConfigZoomList = [res.data.data].concat(_toConsumableArray(configZoomList));\n              setConfigZoomList(newConfigZoomList);\n              showNoti('success', res.data.message);\n              return _context2.abrupt(\"return\", true);\n\n            case 10:\n              _context2.next = 16;\n              break;\n\n            case 12:\n              _context2.prev = 12;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.log('onCreateConfigZoom', _context2.t0.message);\n              showNoti('danger', _context2.t0.message);\n\n            case 16:\n              _context2.prev = 16;\n              setIsLoading({\n                type: 'ADD_DATA',\n                status: false\n              });\n              return _context2.finish(16);\n\n            case 19:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 12, 16, 19]]);\n    }));\n\n    return function onCreateConfigZoom(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }(); // UPDATE\n\n\n  var onUpdateConfigZoom = function onUpdateConfigZoom(idx) {\n    return /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(data) {\n        var res, newConfigZoomList;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                setIsLoading({\n                  type: 'ADD_DATA',\n                  status: true\n                });\n                _context3.next = 4;\n                return configZoomApi.update(data);\n\n              case 4:\n                res = _context3.sent;\n\n                if (!(res.status === 200)) {\n                  _context3.next = 10;\n                  break;\n                }\n\n                newConfigZoomList = _toConsumableArray(configZoomList);\n                newConfigZoomList.splice(idx, 1, _objectSpread(_objectSpread({}, newConfigZoomList[idx]), data));\n                setConfigZoomList(newConfigZoomList);\n                return _context3.abrupt(\"return\", true);\n\n              case 10:\n                _context3.next = 16;\n                break;\n\n              case 12:\n                _context3.prev = 12;\n                _context3.t0 = _context3[\"catch\"](0);\n                console.log('onUpdateConfigZoom', _context3.t0.message);\n                showNoti('danger', _context3.t0.message);\n\n              case 16:\n                _context3.prev = 16;\n                setIsLoading({\n                  type: 'ADD_DATA',\n                  status: false\n                });\n                return _context3.finish(16);\n\n              case 19:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, null, [[0, 12, 16, 19]]);\n      }));\n\n      return function (_x2) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n  }; // DELETE\n\n\n  var onDeleteConfigZoom = function onDeleteConfigZoom(idx) {\n    return /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      var delObj, ID, newDelObj, res;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              setIsLoading({\n                type: 'GET_ALL',\n                status: true\n              });\n              _context4.prev = 1;\n              delObj = configZoomList[idx];\n              ID = delObj.ID;\n              newDelObj = {\n                ID: ID,\n                Enable: false\n              };\n              _context4.next = 7;\n              return configZoomApi[\"delete\"](newDelObj);\n\n            case 7:\n              res = _context4.sent;\n              res.status === 200 && showNoti('success', res.data.message);\n\n              if (!(configZoomList.length === 1)) {\n                _context4.next = 12;\n                break;\n              }\n\n              filters.pageIndex === 1 ? (setFilters(_objectSpread(_objectSpread(_objectSpread({}, listFieldInit), refValue.current), {}, {\n                pageIndex: 1\n              })), setConfigZoomList([])) : setFilters(_objectSpread(_objectSpread(_objectSpread({}, filters), refValue.current), {}, {\n                pageIndex: filters.pageIndex - 1\n              }));\n              return _context4.abrupt(\"return\");\n\n            case 12:\n              fetchConfigZoomList();\n              _context4.next = 19;\n              break;\n\n            case 15:\n              _context4.prev = 15;\n              _context4.t0 = _context4[\"catch\"](1);\n              console.log('onDeleteConfigZoom', _context4.t0.message);\n              showNoti('danger', _context4.t0.message);\n\n            case 19:\n              _context4.prev = 19;\n              setIsLoading({\n                type: 'GET_ALL',\n                status: false\n              });\n              return _context4.finish(19);\n\n            case 22:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[1, 15, 19, 22]]);\n    }));\n  };\n\n  var columns = [_objectSpread(_objectSpread({\n    title: 'Tài khoản',\n    dataIndex: 'UserZoom',\n    render: function render(text) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-weight-black\",\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 22\n      }, _this);\n    }\n  }, FilterColumn('UserZoom', onSearch, onResetSearch)), {}, {\n    className: activeColumnSearch === 'UserZoom' ? 'active-column-search' : ''\n  }), {\n    title: 'API Key',\n    dataIndex: 'APIKey'\n  }, {\n    title: 'API Secret',\n    dataIndex: 'APISecret'\n  }, _objectSpread({\n    align: 'center',\n    title: 'Trạng thái',\n    dataIndex: 'Active',\n    render: function render(status) {\n      return status ? /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"tag blue\",\n        children: \"Ho\\u1EA1t \\u0111\\u1ED9ng\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 34\n      }, _this) : /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"tag gray\",\n        children: \"D\\u1EEBng\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 80\n      }, _this);\n    }\n  }, FilterColumn('Active', onSearch, onResetSearch, 'select', optionActiveList)), _objectSpread(_objectSpread({\n    title: 'Ngày tạo',\n    dataIndex: 'CreatedOn',\n    render: function render(date) {\n      return moment(date).format('DD/MM/YYYY');\n    }\n  }, FilterColumn('CreatedOn', onSearch, onResetSearch, 'date-range')), {}, {\n    className: activeColumnSearch === 'CreatedOn' ? 'active-column-search' : ''\n  }), {\n    width: 100,\n    align: 'center',\n    render: function render(item, _, idx) {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(ConfigZoomForm, {\n          isLoading: isLoading,\n          isUpdate: true,\n          updateObj: item,\n          handleSubmit: onUpdateConfigZoom(idx)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 6\n        }, _this), /*#__PURE__*/_jsxDEV(DeleteTableRow, {\n          title: \"Xo\\xE1\",\n          handleDelete: onDeleteConfigZoom(idx)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 6\n        }, _this)]\n      }, void 0, true);\n    }\n  }];\n  return /*#__PURE__*/_jsxDEV(PowerTable, {\n    loading: isLoading,\n    currentPage: filters.pageIndex,\n    totalPage: totalPage,\n    getPagination: getPagination,\n    addClass: \"basic-header\",\n    TitlePage: \"Danh s\\xE1ch c\\u1EA5u h\\xECnh\",\n    TitleCard: /*#__PURE__*/_jsxDEV(ConfigZoomForm, {\n      isLoading: isLoading,\n      handleSubmit: onCreateConfigZoom\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 15\n    }, this),\n    Extra: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"extra-table\",\n      children: /*#__PURE__*/_jsxDEV(SortBox, {\n        handleSort: onSort,\n        dataOption: sortOptionList\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 5\n    }, this),\n    dataSource: configZoomList,\n    columns: columns\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 287,\n    columnNumber: 3\n  }, this);\n}\n\n_s(ConfigZoom, \"i1iDJQSdAHTzGD4UfqiheNUGqYQ=\", false, function () {\n  return [useWrap];\n});\n\n_c = ConfigZoom;\nexport default ConfigZoom;\n\nvar _c;\n\n$RefreshReg$(_c, \"ConfigZoom\");","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Global/ManageZoom/Config/ConfigZoom.tsx"],"names":["moment","React","useEffect","useRef","useState","configZoomApi","DeleteTableRow","SortBox","ConfigZoomForm","PowerTable","FilterColumn","useWrap","ConfigZoom","configZoomList","setConfigZoomList","type","status","isLoading","setIsLoading","activeColumnSearch","setActiveColumnSearch","totalPage","setTotalPage","showNoti","sortOptionList","dataSort","sort","sortType","value","text","listFieldInit","pageIndex","pageSize","fromDate","toDate","UserZoom","Active","refValue","filters","setFilters","optionActiveList","label","title","getPagination","current","onSort","option","onResetSearch","onSearch","valueSearch","dataIndex","fetchConfigZoomList","getAll","res","data","totalRow","console","log","message","onCreateConfigZoom","add","newConfigZoomList","onUpdateConfigZoom","idx","update","splice","onDeleteConfigZoom","delObj","ID","newDelObj","Enable","length","columns","render","className","align","date","format","width","item","_"],"mappings":"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","sourcesContent":["import moment from 'moment';\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport { configZoomApi } from '~/apiBase';\r\nimport DeleteTableRow from '~/components/Elements/DeleteTableRow/DeleteTableRow';\r\nimport SortBox from '~/components/Elements/SortBox';\r\nimport ConfigZoomForm from '~/components/Global/ManageZoom/Config/ConfigZoomForm';\r\nimport PowerTable from '~/components/PowerTable';\r\nimport FilterColumn from '~/components/Tables/FilterColumn';\r\nimport { useWrap } from '~/context/wrap';\r\n\r\nfunction ConfigZoom() {\r\n\tconst [configZoomList, setConfigZoomList] = useState<IConfigZoom[]>([]);\r\n\tconst [isLoading, setIsLoading] = useState({\r\n\t\ttype: 'GET_ALL',\r\n\t\tstatus: false\r\n\t});\r\n\tconst [activeColumnSearch, setActiveColumnSearch] = useState('');\r\n\tconst [totalPage, setTotalPage] = useState(0);\r\n\tconst { showNoti } = useWrap();\r\n\tconst sortOptionList = [\r\n\t\t{\r\n\t\t\tdataSort: {\r\n\t\t\t\tsort: 1,\r\n\t\t\t\tsortType: true\r\n\t\t\t},\r\n\t\t\tvalue: 1,\r\n\t\t\ttext: 'Ngày tạo tăng dần'\r\n\t\t},\r\n\t\t{\r\n\t\t\tdataSort: {\r\n\t\t\t\tsort: 1,\r\n\t\t\t\tsortType: false\r\n\t\t\t},\r\n\t\t\tvalue: 2,\r\n\t\t\ttext: 'Ngày tạo giảm dần'\r\n\t\t}\r\n\t];\r\n\t// FILTER\r\n\tconst listFieldInit = {\r\n\t\tpageIndex: 1,\r\n\t\tpageSize: 10,\r\n\t\tsort: -1,\r\n\t\tsortType: false,\r\n\r\n\t\tfromDate: '',\r\n\t\ttoDate: '',\r\n\t\tUserZoom: '',\r\n\t\tActive: null\r\n\t};\r\n\tlet refValue = useRef({\r\n\t\tpageIndex: 1,\r\n\t\tpageSize: 10,\r\n\t\tsort: -1,\r\n\t\tsortType: false\r\n\t});\r\n\tconst [filters, setFilters] = useState(listFieldInit);\r\n\tconst optionActiveList = [\r\n\t\t{\r\n\t\t\tlabel: 'Hoạt động',\r\n\t\t\ttitle: 'Hoạt động',\r\n\t\t\tvalue: true\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: 'Dừng',\r\n\t\t\ttitle: 'Dừng',\r\n\t\t\tvalue: false\r\n\t\t}\r\n\t];\r\n\r\n\t// PAGINATION\r\n\tconst getPagination = (pageIndex: number, pageSize: number) => {\r\n\t\tif (!pageSize) pageSize = 10;\r\n\t\trefValue.current = {\r\n\t\t\t...refValue.current,\r\n\t\t\tpageSize,\r\n\t\t\tpageIndex\r\n\t\t};\r\n\t\tsetFilters({\r\n\t\t\t...filters,\r\n\t\t\t...refValue.current\r\n\t\t});\r\n\t};\r\n\t// SORT\r\n\tconst onSort = (option) => {\r\n\t\trefValue.current = {\r\n\t\t\t...refValue.current,\r\n\t\t\tsort: option.title.sort,\r\n\t\t\tsortType: option.title.sortType\r\n\t\t};\r\n\t\tsetFilters({\r\n\t\t\t...listFieldInit,\r\n\t\t\t...refValue.current\r\n\t\t});\r\n\t};\r\n\t// RESET SEARCH\r\n\tconst onResetSearch = () => {\r\n\t\tsetActiveColumnSearch('');\r\n\t\tsetFilters({\r\n\t\t\t...listFieldInit,\r\n\t\t\tpageSize: refValue.current.pageSize\r\n\t\t});\r\n\t};\r\n\t// ACTION SEARCH\r\n\tconst onSearch = (valueSearch, dataIndex) => {\r\n\t\tsetActiveColumnSearch(dataIndex);\r\n\t\tif (dataIndex === 'CreatedOn') {\r\n\t\t\tsetFilters({\r\n\t\t\t\t...listFieldInit,\r\n\t\t\t\t...refValue.current,\r\n\t\t\t\tpageIndex: 1,\r\n\t\t\t\t...valueSearch\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetFilters({\r\n\t\t\t\t...listFieldInit,\r\n\t\t\t\t...refValue.current,\r\n\t\t\t\tpageIndex: 1,\r\n\t\t\t\t[dataIndex]: valueSearch\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\tconst fetchConfigZoomList = async () => {\r\n\t\ttry {\r\n\t\t\tsetIsLoading({\r\n\t\t\t\ttype: 'GET_ALL',\r\n\t\t\t\tstatus: true\r\n\t\t\t});\r\n\t\t\tconst res = await configZoomApi.getAll(filters);\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tsetConfigZoomList(res.data.data);\r\n\t\t\t\tsetTotalPage(res.data.totalRow);\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log('fetchConfigZoomList', error.message);\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({\r\n\t\t\t\ttype: 'GET_ALL',\r\n\t\t\t\tstatus: false\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchConfigZoomList();\r\n\t}, [filters]);\r\n\r\n\t// CREATE\r\n\tconst onCreateConfigZoom = async (data: { UserZoom: string; APIKey: string; APISecret: string }) => {\r\n\t\ttry {\r\n\t\t\tsetIsLoading({\r\n\t\t\t\ttype: 'ADD_DATA',\r\n\t\t\t\tstatus: true\r\n\t\t\t});\r\n\t\t\tconst res = await configZoomApi.add(data);\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tconst newConfigZoomList = [res.data.data, ...configZoomList];\r\n\t\t\t\tsetConfigZoomList(newConfigZoomList);\r\n\t\t\t\tshowNoti('success', res.data.message);\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log('onCreateConfigZoom', error.message);\r\n\t\t\tshowNoti('danger', error.message);\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({\r\n\t\t\t\ttype: 'ADD_DATA',\r\n\t\t\t\tstatus: false\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\t// UPDATE\r\n\tconst onUpdateConfigZoom = (idx: number) => {\r\n\t\treturn async (data: { UserZoom: string; APIKey: string; APISecret: string }) => {\r\n\t\t\ttry {\r\n\t\t\t\tsetIsLoading({\r\n\t\t\t\t\ttype: 'ADD_DATA',\r\n\t\t\t\t\tstatus: true\r\n\t\t\t\t});\r\n\t\t\t\tconst res = await configZoomApi.update(data);\r\n\t\t\t\tif (res.status === 200) {\r\n\t\t\t\t\tconst newConfigZoomList = [...configZoomList];\r\n\t\t\t\t\tnewConfigZoomList.splice(idx, 1, {\r\n\t\t\t\t\t\t...newConfigZoomList[idx],\r\n\t\t\t\t\t\t...data\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetConfigZoomList(newConfigZoomList);\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log('onUpdateConfigZoom', error.message);\r\n\t\t\t\tshowNoti('danger', error.message);\r\n\t\t\t} finally {\r\n\t\t\t\tsetIsLoading({\r\n\t\t\t\t\ttype: 'ADD_DATA',\r\n\t\t\t\t\tstatus: false\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\t};\r\n\t// DELETE\r\n\tconst onDeleteConfigZoom = (idx: number) => {\r\n\t\treturn async () => {\r\n\t\t\tsetIsLoading({\r\n\t\t\t\ttype: 'GET_ALL',\r\n\t\t\t\tstatus: true\r\n\t\t\t});\r\n\t\t\ttry {\r\n\t\t\t\tconst delObj = configZoomList[idx];\r\n\t\t\t\tconst { ID } = delObj;\r\n\t\t\t\tconst newDelObj = {\r\n\t\t\t\t\tID,\r\n\t\t\t\t\tEnable: false\r\n\t\t\t\t};\r\n\t\t\t\tconst res = await configZoomApi.delete(newDelObj);\r\n\t\t\t\tres.status === 200 && showNoti('success', res.data.message);\r\n\t\t\t\tif (configZoomList.length === 1) {\r\n\t\t\t\t\tfilters.pageIndex === 1\r\n\t\t\t\t\t\t? (setFilters({\r\n\t\t\t\t\t\t\t\t...listFieldInit,\r\n\t\t\t\t\t\t\t\t...refValue.current,\r\n\t\t\t\t\t\t\t\tpageIndex: 1\r\n\t\t\t\t\t\t  }),\r\n\t\t\t\t\t\t  setConfigZoomList([]))\r\n\t\t\t\t\t\t: setFilters({\r\n\t\t\t\t\t\t\t\t...filters,\r\n\t\t\t\t\t\t\t\t...refValue.current,\r\n\t\t\t\t\t\t\t\tpageIndex: filters.pageIndex - 1\r\n\t\t\t\t\t\t  });\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tfetchConfigZoomList();\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log('onDeleteConfigZoom', error.message);\r\n\t\t\t\tshowNoti('danger', error.message);\r\n\t\t\t} finally {\r\n\t\t\t\tsetIsLoading({\r\n\t\t\t\t\ttype: 'GET_ALL',\r\n\t\t\t\t\tstatus: false\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\t};\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Tài khoản',\r\n\t\t\tdataIndex: 'UserZoom',\r\n\t\t\trender: (text) => <p className=\"font-weight-black\">{text}</p>,\r\n\t\t\t...FilterColumn('UserZoom', onSearch, onResetSearch),\r\n\t\t\tclassName: activeColumnSearch === 'UserZoom' ? 'active-column-search' : ''\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'API Key',\r\n\t\t\tdataIndex: 'APIKey'\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'API Secret',\r\n\t\t\tdataIndex: 'APISecret'\r\n\t\t},\r\n\t\t{\r\n\t\t\talign: 'center',\r\n\t\t\ttitle: 'Trạng thái',\r\n\t\t\tdataIndex: 'Active',\r\n\t\t\trender: (status) => (status ? <span className=\"tag blue\">Hoạt động</span> : <span className=\"tag gray\">Dừng</span>),\r\n\t\t\t...FilterColumn('Active', onSearch, onResetSearch, 'select', optionActiveList)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Ngày tạo',\r\n\t\t\tdataIndex: 'CreatedOn',\r\n\t\t\trender: (date) => moment(date).format('DD/MM/YYYY'),\r\n\t\t\t...FilterColumn('CreatedOn', onSearch, onResetSearch, 'date-range'),\r\n\t\t\tclassName: activeColumnSearch === 'CreatedOn' ? 'active-column-search' : ''\r\n\t\t},\r\n\t\t{\r\n\t\t\twidth: 100,\r\n\t\t\talign: 'center',\r\n\t\t\trender: (item: IConfigZoom, _, idx) => (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<ConfigZoomForm isLoading={isLoading} isUpdate={true} updateObj={item} handleSubmit={onUpdateConfigZoom(idx)} />\r\n\t\t\t\t\t<DeleteTableRow title=\"Xoá\" handleDelete={onDeleteConfigZoom(idx)} />\r\n\t\t\t\t</>\r\n\t\t\t)\r\n\t\t}\r\n\t];\r\n\r\n\treturn (\r\n\t\t<PowerTable\r\n\t\t\tloading={isLoading}\r\n\t\t\tcurrentPage={filters.pageIndex}\r\n\t\t\ttotalPage={totalPage}\r\n\t\t\tgetPagination={getPagination}\r\n\t\t\taddClass=\"basic-header\"\r\n\t\t\tTitlePage=\"Danh sách cấu hình\"\r\n\t\t\tTitleCard={<ConfigZoomForm isLoading={isLoading} handleSubmit={onCreateConfigZoom} />}\r\n\t\t\tExtra={\r\n\t\t\t\t<div className=\"extra-table\">\r\n\t\t\t\t\t<SortBox handleSort={onSort} dataOption={sortOptionList} />\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t\tdataSource={configZoomList}\r\n\t\t\tcolumns={columns}\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nexport default ConfigZoom;\r\n"]},"metadata":{},"sourceType":"module"}