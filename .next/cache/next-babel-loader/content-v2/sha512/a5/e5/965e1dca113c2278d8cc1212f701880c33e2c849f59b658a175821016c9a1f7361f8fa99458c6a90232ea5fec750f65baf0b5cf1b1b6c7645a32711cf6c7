{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"D:/MonaMedia/Project/CodingMentor/CodingMentor-FE/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/MonaMedia/Project/CodingMentor/CodingMentor-FE/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\CodingMentor\\\\CodingMentor-FE\\\\src\\\\components\\\\Header\\\\cart.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { Menu } from 'antd';\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport React, { useEffect, useState } from 'react';\nimport { ShoppingCart } from 'react-feather';\nimport { orderProductDetail } from '~/apiBase/product/order-product-detail';\nimport { shoppingCartApi } from '~/apiBase/shopping-cart/shopping-cart';\nimport { useWrap } from '~/context/wrap';\n\nvar Cart = function Cart() {\n  _s();\n\n  var router = useRouter();\n\n  var _useWrap = useWrap(),\n      reloadNotification = _useWrap.reloadNotification,\n      handleReloadNoti = _useWrap.handleReloadNoti;\n\n  var _useState = useState([]),\n      cartData = _useState[0],\n      setCartData = _useState[1];\n\n  var _useState2 = useState([]),\n      productCartData = _useState2[0],\n      setProductCartData = _useState2[1];\n\n  var _useState3 = useState(0),\n      countNoti = _useState3[0],\n      setCountNoti = _useState3[1];\n\n  var _useState4 = useState(0),\n      countNotiProduct = _useState4[0],\n      setCountNotiProduct = _useState4[1];\n\n  useEffect(function () {\n    getCartData();\n    getProductCartData();\n  }, [reloadNotification]);\n  useEffect(function () {\n    setCountNoti(cartData.length);\n    setCountNotiProduct(productCartData.length);\n  }, [cartData, productCartData]);\n\n  var getCartData = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return shoppingCartApi.getAll();\n\n            case 3:\n              response = _context.sent;\n              response.status == 200 && setCartData(response.data.data);\n              _context.next = 9;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n\n    return function getCartData() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var getProductCartData = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return orderProductDetail.getByToken();\n\n            case 3:\n              res = _context2.sent;\n              res.status === 200 && setProductCartData(res.data.data);\n              _context2.next = 9;\n              break;\n\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](0);\n\n            case 9:\n              _context2.prev = 9;\n              return _context2.finish(9);\n\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 7, 9, 11]]);\n    }));\n\n    return function getProductCartData() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var menu = /*#__PURE__*/_jsxDEV(Menu, {\n    children: [/*#__PURE__*/_jsxDEV(Menu.Item, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"shopping__cart-detail d-flex justify-content-center align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/cart/shopping-cart\",\n          style: {\n            textDecoration: 'none'\n          },\n          children: \"Gi\\u1ECF h\\xE0ng kh\\xF3a h\\u1ECDc video\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 6\n        }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: countNoti > 0 ? 'count-notification' : 'hide',\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: countNoti > 9 ? \"9+\" : countNoti\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 7\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 6\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 4\n    }, _this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"shopping__cart-detail d-flex justify-content-center align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/cart/shopping-cart-product\",\n          style: {\n            textDecoration: 'none'\n          },\n          children: \"Gi\\u1ECF h\\xE0ng v\\u0103n ph\\xF2ng ph\\u1EA9m\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 6\n        }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: countNotiProduct > 0 ? 'count-notification' : 'hide',\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: countNotiProduct > 9 ? \"9+\" : countNotiProduct\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 7\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 6\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 4\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 3\n  }, _this);\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Link, {\n      href: {\n        pathname: '/cart/shopping-cart'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"shopping__cart-detail cart-icon d-flex justify-content-center align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          style: {\n            textDecoration: 'none'\n          },\n          children: /*#__PURE__*/_jsxDEV(ShoppingCart, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 7\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 6\n        }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: countNoti > 0 ? 'count-notification' : 'hide',\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: countNoti > 9 ? \"9+\" : countNoti\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 7\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 6\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 4\n    }, _this)\n  }, void 0, false);\n};\n\n_s(Cart, \"hlOyDASDrwpwXeaF+xt0C0BE+dA=\", false, function () {\n  return [useRouter, useWrap];\n});\n\n_c = Cart;\nexport default Cart;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"sources":["D:/MonaMedia/Project/CodingMentor/CodingMentor-FE/src/components/Header/cart.tsx"],"names":["Menu","Link","useRouter","React","useEffect","useState","ShoppingCart","orderProductDetail","shoppingCartApi","useWrap","Cart","router","reloadNotification","handleReloadNoti","cartData","setCartData","productCartData","setProductCartData","countNoti","setCountNoti","countNotiProduct","setCountNotiProduct","getCartData","getProductCartData","length","getAll","response","status","data","getByToken","res","menu","textDecoration","pathname"],"mappings":"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","sourcesContent":["import { Menu, Dropdown } from 'antd'\r\nimport Link from 'next/link'\r\nimport { useRouter } from 'next/router'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { ShoppingCart } from 'react-feather'\r\nimport { orderProductDetail } from '~/apiBase/product/order-product-detail'\r\nimport { shoppingCartApi } from '~/apiBase/shopping-cart/shopping-cart'\r\nimport { useWrap } from '~/context/wrap'\r\n\r\nconst Cart = () => {\r\n\tconst router = useRouter()\r\n\tconst { reloadNotification, handleReloadNoti } = useWrap()\r\n\tconst [cartData, setCartData] = useState([])\r\n\tconst [productCartData, setProductCartData] = useState([])\r\n\tconst [countNoti, setCountNoti] = useState(0)\r\n\tconst [countNotiProduct, setCountNotiProduct] = useState(0)\r\n\r\n\tuseEffect(() => {\r\n\t\tgetCartData()\r\n\t\tgetProductCartData()\r\n\t}, [reloadNotification])\r\n\r\n\tuseEffect(() => {\r\n\t\tsetCountNoti(cartData.length)\r\n\t\tsetCountNotiProduct(productCartData.length)\r\n\t}, [cartData, productCartData])\r\n\r\n\tconst getCartData = async () => {\r\n\t\ttry {\r\n\t\t\tconst response = await shoppingCartApi.getAll()\r\n\t\t\tresponse.status == 200 && setCartData(response.data.data)\r\n\t\t} catch (error) {}\r\n\t}\r\n\r\n\tconst getProductCartData = async () => {\r\n\t\ttry {\r\n\t\t\tlet res = await orderProductDetail.getByToken()\r\n\t\t\tres.status === 200 && setProductCartData(res.data.data)\r\n\t\t} catch (error) {\r\n\t\t} finally {\r\n\t\t}\r\n\t}\r\n\r\n\tconst menu = (\r\n\t\t<Menu>\r\n\t\t\t<Menu.Item>\r\n\t\t\t\t<div className=\"shopping__cart-detail d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<a href=\"/cart/shopping-cart\" style={{ textDecoration: 'none' }}>\r\n\t\t\t\t\t\tGiỏ hàng khóa học video\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t<span className={countNoti > 0 ? 'count-notification' : 'hide'}>\r\n\t\t\t\t\t\t<span>{countNoti > 9 ? `9+` : countNoti}</span>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</Menu.Item>\r\n\r\n\t\t\t<Menu.Item>\r\n\t\t\t\t<div className=\"shopping__cart-detail d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<a href=\"/cart/shopping-cart-product\" style={{ textDecoration: 'none' }}>\r\n\t\t\t\t\t\tGiỏ hàng văn phòng phẩm\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t<span className={countNotiProduct > 0 ? 'count-notification' : 'hide'}>\r\n\t\t\t\t\t\t<span>{countNotiProduct > 9 ? `9+` : countNotiProduct}</span>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</Menu.Item>\r\n\t\t</Menu>\r\n\t)\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{/* <Dropdown overlay={menu} placement=\"bottomRight\">\r\n\t\t\t\t<button className=\"cart-icon\">\r\n\t\t\t\t\t<ShoppingCart size={18} />\r\n\t\t\t\t\t<div className={countNoti > 0 || countNotiProduct > 0 ? 'count-notification' : 'hide'}>\r\n\t\t\t\t\t\t<span>{countNoti + countNotiProduct > 9 ? `9+` : countNoti + countNotiProduct}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</button>\r\n\t\t\t</Dropdown> */}\r\n\t\t\t<Link\r\n\t\t\t\thref={{\r\n\t\t\t\t\tpathname: '/cart/shopping-cart'\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<div className=\"shopping__cart-detail cart-icon d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<a style={{ textDecoration: 'none' }}>\r\n\t\t\t\t\t\t<ShoppingCart size={18} />\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t<span className={countNoti > 0 ? 'count-notification' : 'hide'}>\r\n\t\t\t\t\t\t<span>{countNoti > 9 ? `9+` : countNoti}</span>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</Link>\r\n\t\t</>\r\n\t)\r\n}\r\nexport default Cart\r\n"]},"metadata":{},"sourceType":"module"}