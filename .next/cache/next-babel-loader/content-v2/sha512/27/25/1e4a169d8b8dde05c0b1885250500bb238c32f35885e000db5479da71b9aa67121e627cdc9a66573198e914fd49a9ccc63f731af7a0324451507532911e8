{"ast":null,"code":"import _regeneratorRuntime from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Global\\\\Teacher\\\\TeacherProfile.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { Card, Checkbox, Spin, Table } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { teacherApi } from '~/apiBase';\nimport PowerTable from '~/components/PowerTable';\nimport { useWrap } from '~/context/wrap';\nimport ConfirmAssignModal from './Teacher/ConfirmAssignModal';\n\nvar TeacherProfile = function TeacherProfile(props) {\n  _s();\n\n  var isLoading = props.isLoading,\n      userID = props.userID,\n      dataSubject = props.dataSubject,\n      updateTeacherForSubject = props.updateTeacherForSubject,\n      onFetchData = props.onFetchData;\n\n  var _useState = useState({\n    type: '',\n    status: false\n  }),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var _useForm = useForm(),\n      setValue = _useForm.setValue;\n\n  var _useWrap = useWrap(),\n      showNoti = _useWrap.showNoti;\n\n  var columns = [{\n    title: 'Tên chương trình học',\n    width: 200,\n    dataIndex: 'ProgramName',\n    render: function render(text) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-weight-primary\",\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 30\n      }, _this);\n    }\n  }, {\n    title: 'Trạng thái',\n    align: 'center',\n    dataIndex: 'IsSelected',\n    render: function render(text, data) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        className: data.IsSelected ? 'tag green' : 'tag red',\n        children: data.IsSelected ? 'Dạy tất cả' : 'Không được dạy tất cả'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 5\n      }, _this);\n    }\n  }, {\n    title: 'Thao tác',\n    width: 100,\n    align: 'center',\n    render: function render(text, data) {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(ConfirmAssignModal, {\n          data: data,\n          _onSubmit: function _onSubmit(info) {\n            return handleSubmitAssignment(info);\n          },\n          loading: loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 7\n        }, _this)\n      }, void 0, false);\n    }\n  }];\n\n  var handleSubmitAssignment = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(info) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoading({\n                type: 'ASSIGN_TEACHER',\n                status: true\n              });\n              _context.prev = 1;\n              _context.next = 4;\n              return teacherApi.updateTeacherForAllSubject({\n                teacherId: userID,\n                programId: info.key,\n                IsSelected: info.IsSelected ? false : true\n              });\n\n            case 4:\n              res = _context.sent;\n\n              if (!(res.status === 200)) {\n                _context.next = 9;\n                break;\n              }\n\n              showNoti('success', 'Thay đổi thành công!');\n              onFetchData && onFetchData();\n              return _context.abrupt(\"return\", true);\n\n            case 9:\n              if (!(res.status === 204)) {\n                _context.next = 13;\n                break;\n              }\n\n              showNoti('danger', 'Chưa có môn học trong chương trình này!');\n              onFetchData && onFetchData();\n              return _context.abrupt(\"return\", true);\n\n            case 13:\n              _context.next = 17;\n              break;\n\n            case 15:\n              _context.prev = 15;\n              _context.t0 = _context[\"catch\"](1);\n\n            case 17:\n              _context.prev = 17;\n              setLoading({\n                type: 'ASSIGN_TEACHER',\n                status: false\n              });\n              return _context.finish(17);\n\n            case 20:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 15, 17, 20]]);\n    }));\n\n    return function handleSubmitAssignment(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var _expandedRowRender = function expandedRowRender(record) {\n    var columns = [];\n    var data = [{\n      Subject: 'Subject'\n    }];\n\n    var _loop = function _loop(i) {\n      columns.push({\n        key: record.Subject[i].SubjectID,\n        title: record.Subject[i].SubjectName,\n        dataIndex: 'Subject',\n        render: function render() {\n          return /*#__PURE__*/_jsxDEV(Checkbox, {\n            value: record.Subject[i].SubjectID,\n            checked: record.Subject[i].IsSelected ? true : false,\n            onChange: onChangeCheckBox\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 6\n          }, _this);\n        }\n      });\n    };\n\n    for (var i = 0; i < Object.keys(record.Subject).length; i++) {\n      _loop(i);\n    }\n\n    var onChangeCheckBox = function onChangeCheckBox(e) {\n      var data = {\n        UserInformationID: userID,\n        SubjectID: e.target.value\n      };\n      var res = updateTeacherForSubject(data);\n      res.then(function (rs) {\n        rs && rs.status == 200;\n      });\n    };\n\n    if (Object.keys(record.Subject).length) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mini-table\",\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          columns: columns,\n          dataSource: data,\n          pagination: false,\n          className: \"tb-expand\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 6\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 5\n      }, _this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Ch\\u01B0a c\\xF3 m\\xF4n h\\u1ECDc\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }, _this);\n    }\n  };\n\n  useEffect(function () {\n    setValue('UserInformationID', userID);\n  }, []);\n\n  if (isLoading.status == true) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        className: \"space-top-card text-center\",\n        children: /*#__PURE__*/_jsxDEV(Spin, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 6\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false);\n  } else {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        className: \"space-top-card\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"wrap-table table-expand\",\n            children: /*#__PURE__*/_jsxDEV(PowerTable, {\n              className: \"teacher-detail-table\",\n              dataSource: dataSubject,\n              columns: columns,\n              size: \"middle\",\n              scroll: {\n                x: 600\n              },\n              expandable: {\n                expandedRowRender: function expandedRowRender(record) {\n                  return _expandedRowRender(record);\n                }\n              },\n              pagination: false\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 8\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 7\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 6\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false);\n  }\n};\n\n_s(TeacherProfile, \"SIJUnG6VM+/1AMXNYO0AS3+CCw0=\", false, function () {\n  return [useForm, useWrap];\n});\n\n_c = TeacherProfile;\nexport default TeacherProfile;\n\nvar _c;\n\n$RefreshReg$(_c, \"TeacherProfile\");","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Global/Teacher/TeacherProfile.tsx"],"names":["Card","Checkbox","Spin","Table","React","useEffect","useState","useForm","teacherApi","PowerTable","useWrap","ConfirmAssignModal","TeacherProfile","props","isLoading","userID","dataSubject","updateTeacherForSubject","onFetchData","type","status","loading","setLoading","setValue","showNoti","columns","title","width","dataIndex","render","text","align","data","IsSelected","info","handleSubmitAssignment","updateTeacherForAllSubject","teacherId","programId","key","res","expandedRowRender","record","Subject","i","push","SubjectID","SubjectName","onChangeCheckBox","Object","keys","length","e","UserInformationID","target","value","then","rs","x"],"mappings":"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","sourcesContent":["import { Card, Checkbox, Spin, Table, Tabs } from 'antd'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useForm } from 'react-hook-form'\r\nimport { teacherApi } from '~/apiBase'\r\nimport PowerTable from '~/components/PowerTable'\r\nimport { useWrap } from '~/context/wrap'\r\nimport ConfirmAssignModal from './Teacher/ConfirmAssignModal'\r\n\r\nconst TeacherProfile = (props: any) => {\r\n\tconst { isLoading, userID, dataSubject, updateTeacherForSubject, onFetchData } = props\r\n\r\n\tconst [loading, setLoading] = useState({ type: '', status: false })\r\n\tconst { setValue } = useForm()\r\n\tconst { showNoti } = useWrap()\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Tên chương trình học',\r\n\t\t\twidth: 200,\r\n\t\t\tdataIndex: 'ProgramName',\r\n\t\t\trender: (text: string) => <p className=\"font-weight-primary\">{text}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Trạng thái',\r\n\t\t\talign: 'center',\r\n\t\t\tdataIndex: 'IsSelected',\r\n\t\t\trender: (text: string, data: any) => (\r\n\t\t\t\t<p className={data.IsSelected ? 'tag green' : 'tag red'}>{data.IsSelected ? 'Dạy tất cả' : 'Không được dạy tất cả'}</p>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Thao tác',\r\n\t\t\twidth: 100,\r\n\t\t\talign: 'center',\r\n\t\t\trender: (text: string, data: any) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<ConfirmAssignModal data={data} _onSubmit={(info: any) => handleSubmitAssignment(info)} loading={loading} />\r\n\t\t\t\t\t</>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t]\r\n\r\n\tconst handleSubmitAssignment = async (info: any) => {\r\n\t\tsetLoading({ type: 'ASSIGN_TEACHER', status: true })\r\n\t\ttry {\r\n\t\t\tlet res = await teacherApi.updateTeacherForAllSubject({\r\n\t\t\t\tteacherId: userID,\r\n\t\t\t\tprogramId: info.key,\r\n\t\t\t\tIsSelected: info.IsSelected ? false : true\r\n\t\t\t})\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tshowNoti('success', 'Thay đổi thành công!')\r\n\t\t\t\tonFetchData && onFetchData()\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t\tif (res.status === 204) {\r\n\t\t\t\tshowNoti('danger', 'Chưa có môn học trong chương trình này!')\r\n\t\t\t\tonFetchData && onFetchData()\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t} finally {\r\n\t\t\tsetLoading({ type: 'ASSIGN_TEACHER', status: false })\r\n\t\t}\r\n\t}\r\n\r\n\tconst expandedRowRender = (record) => {\r\n\t\tconst columns = []\r\n\t\tconst data = [\r\n\t\t\t{\r\n\t\t\t\tSubject: 'Subject'\r\n\t\t\t}\r\n\t\t]\r\n\r\n\t\tfor (let i = 0; i < Object.keys(record.Subject).length; i++) {\r\n\t\t\tcolumns.push({\r\n\t\t\t\tkey: record.Subject[i].SubjectID,\r\n\t\t\t\ttitle: record.Subject[i].SubjectName,\r\n\t\t\t\tdataIndex: 'Subject',\r\n\t\t\t\trender: () => (\r\n\t\t\t\t\t<Checkbox value={record.Subject[i].SubjectID} checked={record.Subject[i].IsSelected ? true : false} onChange={onChangeCheckBox} />\r\n\t\t\t\t)\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tconst onChangeCheckBox = (e) => {\r\n\t\t\tconst data = { UserInformationID: userID, SubjectID: e.target.value }\r\n\t\t\tlet res = updateTeacherForSubject(data)\r\n\t\t\tres.then(function (rs: any) {\r\n\t\t\t\trs && rs.status == 200\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tif (Object.keys(record.Subject).length) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"mini-table\">\r\n\t\t\t\t\t<Table columns={columns} dataSource={data} pagination={false} className=\"tb-expand\" />\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\treturn <p>Chưa có môn học</p>\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tsetValue('UserInformationID', userID)\r\n\t}, [])\r\n\r\n\tif (isLoading.status == true) {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<Card className=\"space-top-card text-center\">\r\n\t\t\t\t\t<Spin></Spin>\r\n\t\t\t\t</Card>\r\n\t\t\t</>\r\n\t\t)\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<Card className=\"space-top-card\">\r\n\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t<div className=\"wrap-table table-expand\">\r\n\t\t\t\t\t\t\t<PowerTable\r\n\t\t\t\t\t\t\t\tclassName=\"teacher-detail-table\"\r\n\t\t\t\t\t\t\t\tdataSource={dataSubject}\r\n\t\t\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\t\t\tscroll={{ x: 600 }}\r\n\t\t\t\t\t\t\t\texpandable={{\r\n\t\t\t\t\t\t\t\t\texpandedRowRender: (record: any) => expandedRowRender(record)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tpagination={false}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Card>\r\n\t\t\t</>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default TeacherProfile\r\n"]},"metadata":{},"sourceType":"module"}