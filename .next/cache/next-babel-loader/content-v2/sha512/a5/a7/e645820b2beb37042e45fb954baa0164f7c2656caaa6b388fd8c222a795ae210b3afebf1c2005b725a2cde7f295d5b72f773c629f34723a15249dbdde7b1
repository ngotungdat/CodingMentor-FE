{"ast":null,"code":"import _toConsumableArray from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Global\\\\QuestionBank\\\\QuestionShow\\\\QuestionDrag.tsx\",\n    _this = this,\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from 'react';\nimport { Skeleton, Modal, Popconfirm, Tooltip, Spin, Form, Input, Checkbox } from 'antd';\nimport { Edit, Trash2 } from 'react-feather';\nimport { CloseOutlined } from '@ant-design/icons';\nimport { Plus } from 'react-feather';\nimport ReactHtmlParser from 'react-html-parser';\nimport { exerciseGroupApi } from '~/apiBase';\nimport { useWrap } from '~/context/wrap';\nimport _ from '~/appConfig';\nvar AnsID = 0;\n\nvar EditQuestion = function EditQuestion(props) {\n  _s();\n\n  var _dataForm$ExerciseAns;\n\n  var dataGroup = props.dataGroup,\n      exerciseID = props.exerciseID,\n      onEdit = props.onEdit;\n\n  var _useState = useState(false),\n      isModalVisible = _useState[0],\n      setIsModalVisible = _useState[1];\n\n  var _useState2 = useState(dataGroup),\n      dataForm = _useState2[0],\n      setDataForm = _useState2[1];\n\n  var _useState3 = useState(null),\n      indexExercise = _useState3[0],\n      setIndexExercise = _useState3[1];\n\n  var _useState4 = useState(false),\n      reloadContent = _useState4[0],\n      setReloadContent = _useState4[1];\n\n  var _useWrap = useWrap(),\n      showNoti = _useWrap.showNoti;\n\n  var _useState5 = useState(false),\n      isLoading = _useState5[0],\n      setIsLoading = _useState5[1];\n\n  var showModal = function showModal() {\n    setIsModalVisible(true);\n  };\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var newData, res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setIsLoading(true);\n              newData = JSON.parse(JSON.stringify(dataForm));\n              newData.ExerciseAnswer.forEach(function (item) {\n                if (item.isAdd) {\n                  delete item.ID;\n                }\n              });\n              dataGroup.ExerciseList[indexExercise] = newData;\n              _context.prev = 4;\n              _context.next = 7;\n              return exerciseGroupApi.update(dataGroup);\n\n            case 7:\n              res = _context.sent;\n\n              if (res.status == 200) {\n                setReloadContent(true);\n              }\n\n              _context.next = 13;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](4);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[4, 11]]);\n    }));\n\n    return function handleSubmit() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleCancel = function handleCancel() {\n    setIsModalVisible(false);\n  }; // ====== HANDLE ADD ANSWER ======\n\n\n  var handleAddAnswer = function handleAddAnswer(questionID) {\n    AnsID++;\n    dataForm.ExerciseAnswer.push({\n      ID: AnsID,\n      AnswerContent: '',\n      isTrue: false,\n      Enable: true,\n      isAdd: true\n    });\n    setDataForm(_objectSpread({}, dataForm));\n  }; // ====== HANDLE ON CHANGE ======\n\n\n  var onChange_text = function onChange_text(e, AnswerID, QuestionID) {\n    var text = e.target.value;\n    var indexAnswer = dataForm.ExerciseAnswer.findIndex(function (item) {\n      return item.ID == AnswerID;\n    });\n    dataForm.ExerciseAnswer[indexAnswer].AnswerContent = text;\n    setDataForm(_objectSpread({}, dataForm));\n  };\n\n  var deleteAnswerItem = function deleteAnswerItem(AnswerID, QuestionID) {\n    var indexAnswer = dataForm.ExerciseAnswer.findIndex(function (item) {\n      return item.ID == AnswerID;\n    });\n\n    if (dataForm.ExerciseAnswer[indexAnswer].isAdd) {\n      dataForm.ExerciseAnswer.splice(indexAnswer, 1);\n    } else {\n      dataForm.ExerciseAnswer[indexAnswer].Enable = false;\n    }\n\n    setDataForm(_objectSpread({}, dataForm));\n  };\n\n  var onChange_isCorrect = function onChange_isCorrect(e, AnswerID) {\n    var checked = e.target.checked;\n    var indexAnswer = dataForm.ExerciseAnswer.findIndex(function (item) {\n      return item.ID == AnswerID;\n    });\n    dataForm.ExerciseAnswer[indexAnswer].isTrue = checked;\n    setDataForm(_objectSpread({}, dataForm));\n  };\n\n  useEffect(function () {\n    if (reloadContent) {\n      ;\n      (function () {\n        var _loadData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n          var res;\n          return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  _context2.prev = 0;\n                  _context2.next = 3;\n                  return exerciseGroupApi.getWithID(dataGroup.ID);\n\n                case 3:\n                  res = _context2.sent;\n\n                  if (res.status == 200) {\n                    showNoti('success', \"Th\\xE0nh c\\xF4ng\");\n                    console.log('DATA DETAIL: ', res.data.data);\n                    onEdit && onEdit(res.data.data);\n                  }\n\n                  res.status == 204 && showNoti('danger', 'Không thành công');\n                  _context2.next = 11;\n                  break;\n\n                case 8:\n                  _context2.prev = 8;\n                  _context2.t0 = _context2[\"catch\"](0);\n                  showNoti('danger', _context2.t0.message);\n\n                case 11:\n                  _context2.prev = 11;\n                  setReloadContent(false);\n                  setIsModalVisible(false);\n                  setIsLoading(false);\n                  setDataForm(null);\n                  return _context2.finish(11);\n\n                case 17:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2, null, [[0, 8, 11, 17]]);\n        }));\n\n        function loadData() {\n          return _loadData.apply(this, arguments);\n        }\n\n        return loadData;\n      })()();\n    }\n  }, [reloadContent]);\n  useEffect(function () {\n    if (isModalVisible) {\n      var index = dataGroup.ExerciseList.findIndex(function (item) {\n        return item.ID == exerciseID;\n      });\n      var data = dataGroup.ExerciseList[index];\n      setDataForm(data);\n      setIndexExercise(index);\n      var newArr = [];\n      data.ExerciseAnswer.forEach(function (item) {\n        newArr.push(parseInt(item.ID));\n      });\n      AnsID = Math.max.apply(Math, newArr);\n    }\n  }, [isModalVisible]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n      title: \"Th\\xEAm/s\\u1EEDa \\u0111\\xE1p \\xE1n\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-icon edit\",\n        onClick: showModal,\n        children: /*#__PURE__*/_jsxDEV(Edit, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 6\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 4\n    }, _this), /*#__PURE__*/_jsxDEV(Modal, {\n      footer: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-light mr-2\",\n          onClick: handleCancel,\n          children: \"H\\u1EE7y t\\xE1c v\\u1EE5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 7\n        }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: function onClick() {\n            return handleSubmit();\n          },\n          children: [\"L\\u01B0u\", isLoading && /*#__PURE__*/_jsxDEV(Spin, {\n            className: \"loading-base\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 22\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 7\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 6\n      }, _this),\n      title: \"S\\u1EEDa \\u0111\\xE1p \\xE1n\",\n      visible: isModalVisible,\n      onCancel: handleCancel,\n      children: [dataForm === null || dataForm === void 0 ? void 0 : (_dataForm$ExerciseAns = dataForm.ExerciseAnswer) === null || _dataForm$ExerciseAns === void 0 ? void 0 : _dataForm$ExerciseAns.map(function (itemAns, index) {\n        return itemAns.Enable && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-100 d-flex align-items-center mt-2 form-create-question\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row-ans\",\n              children: [/*#__PURE__*/_jsxDEV(Checkbox, {\n                checked: itemAns.isTrue,\n                onChange: function onChange(e) {\n                  return onChange_isCorrect(e, itemAns.ID);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 11\n              }, _this), /*#__PURE__*/_jsxDEV(Form.Item, {\n                className: \"mb-0\",\n                style: {\n                  width: '80%'\n                },\n                children: /*#__PURE__*/_jsxDEV(Input, {\n                  value: itemAns.AnswerContent,\n                  className: \"style-input\",\n                  onChange: function onChange(e) {\n                    return onChange_text(e, itemAns.ID, dataForm.inputID);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 12\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 11\n              }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"delete-ans\",\n                onClick: function onClick() {\n                  return deleteAnswerItem(itemAns.ID, dataForm.inputID);\n                },\n                children: /*#__PURE__*/_jsxDEV(CloseOutlined, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 12\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 11\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 10\n            }, _this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 9\n          }, _this)\n        }, void 0, false);\n      }), /*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"Th\\xEAm \\u0111\\xE1p \\xE1n\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-add-answer mt-2\",\n          onClick: function onClick() {\n            return handleAddAnswer(dataForm.inputID);\n          },\n          children: /*#__PURE__*/_jsxDEV(Plus, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 7\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 6\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 5\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 4\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(EditQuestion, \"2jIDhXoE0HiyuUmA6CoIQ+2AJcY=\", false, function () {\n  return [useWrap];\n});\n\n_c = EditQuestion;\n\nvar QuestionDrag = function QuestionDrag(props) {\n  _s2();\n\n  var _dataListQuestion$Exe, _dataListQuestion$Exe2, _dataListQuestion$Exe3;\n\n  var listQuestion = props.listQuestion,\n      loadingQuestion = props.loadingQuestion,\n      onRemoveData = props.onRemoveData,\n      isGroup = props.isGroup,\n      onEditData = props.onEditData,\n      groupID = props.groupID;\n\n  var _useState6 = useState(null),\n      dataListQuestion = _useState6[0],\n      setDataListQuestion = _useState6[1];\n\n  var _useWrap2 = useWrap(),\n      showNoti = _useWrap2.showNoti;\n\n  var _useState7 = useState({\n    id: null,\n    status: false\n  }),\n      visible = _useState7[0],\n      setVisible = _useState7[1];\n\n  var _useState8 = useState(false),\n      confirmLoading = _useState8[0],\n      setConfirmLoading = _useState8[1];\n\n  var _useState9 = useState(false),\n      loadingInGroup = _useState9[0],\n      setLoadingInGroup = _useState9[1];\n\n  var _useState10 = useState([]),\n      dataExercise = _useState10[0],\n      setDataExercise = _useState10[1];\n\n  var _useState11 = useState(false),\n      showContent = _useState11[0],\n      setShowContent = _useState11[1]; // ON EDIT\n\n\n  var _onEdit = function onEdit(dataEdit) {\n    onEditData(dataEdit);\n  };\n\n  var deleteQuestionItem = function deleteQuestionItem(quesID) {\n    !visible.status ? setVisible({\n      id: quesID,\n      status: true\n    }) : setVisible({\n      id: quesID,\n      status: false\n    });\n  }; // Chấp nhận xóa câu hỏi\n\n\n  var handleOk = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(data) {\n      var _quesItem$ExerciseLis;\n\n      var quesItem, res;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              setConfirmLoading(true);\n              quesItem = JSON.parse(JSON.stringify(dataListQuestion));\n              quesItem === null || quesItem === void 0 ? void 0 : (_quesItem$ExerciseLis = quesItem.ExerciseList) === null || _quesItem$ExerciseLis === void 0 ? void 0 : _quesItem$ExerciseLis.forEach(function (item) {\n                item.Enable = false;\n              });\n              quesItem.isDeleteExercise = true;\n              quesItem.Paragraph = '<p><br></p>';\n              quesItem.ExerciseGroupID = null;\n              _context3.prev = 6;\n              _context3.next = 9;\n              return exerciseGroupApi.update(quesItem);\n\n            case 9:\n              res = _context3.sent;\n\n              if (res.status == 200) {\n                setVisible(_objectSpread(_objectSpread({}, visible), {}, {\n                  status: false\n                }));\n                onRemoveData(quesItem);\n                showNoti('success', 'Xóa thành công');\n              }\n\n              _context3.next = 16;\n              break;\n\n            case 13:\n              _context3.prev = 13;\n              _context3.t0 = _context3[\"catch\"](6);\n              showNoti('danger', _context3.t0.message);\n\n            case 16:\n              _context3.prev = 16;\n              setConfirmLoading(false);\n              return _context3.finish(16);\n\n            case 19:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[6, 13, 16, 19]]);\n    }));\n\n    return function handleOk(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleCancel = function handleCancel(quesID) {\n    setVisible({\n      id: quesID,\n      status: false\n    });\n  };\n\n  var getQuestionInGroup = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      var res, filterExerciseList;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              setLoadingInGroup(true);\n              _context4.prev = 1;\n              _context4.next = 4;\n              return exerciseGroupApi.getWithID(isGroup.id);\n\n            case 4:\n              res = _context4.sent;\n\n              if (res.status == 200) {\n                setDataListQuestion(res.data.data);\n                filterExerciseList = res.data.data.ExerciseList.filter(function (item) {\n                  return item.Enable !== false;\n                });\n                setDataExercise(_toConsumableArray(filterExerciseList));\n                checkShowContent(res.data.data);\n              }\n\n              res.status == 204 && setDataListQuestion([]);\n              _context4.next = 12;\n              break;\n\n            case 9:\n              _context4.prev = 9;\n              _context4.t0 = _context4[\"catch\"](1);\n              showNoti('danger', _context4.t0.message);\n\n            case 12:\n              _context4.prev = 12;\n              setLoadingInGroup(false);\n              return _context4.finish(12);\n\n            case 15:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[1, 9, 12, 15]]);\n    }));\n\n    return function getQuestionInGroup() {\n      return _ref3.apply(this, arguments);\n    };\n  }(); //RETURN INDEX QUESTION - Trả về thứ tự của từng câu hỏi\n\n\n  var returnIndexQuestion = function returnIndexQuestion(itemQues) {\n    var title = '';\n    var index = dataExercise.findIndex(function (ex) {\n      return ex.inputID == itemQues.inputID;\n    });\n    title = \"C\\xE2u (\".concat(index + 1, \")\");\n    return title;\n  };\n\n  var checkShowContent = function checkShowContent(data) {\n    var preventLoop = false;\n    data.ExerciseList.length == 0 && setShowContent(false);\n    data.ExerciseList.forEach(function (item, index) {\n      if (item.Enable) {\n        if (!preventLoop) {\n          setShowContent(true);\n          preventLoop = true;\n        }\n      }\n    });\n\n    if (!preventLoop) {\n      setShowContent(false);\n    }\n  };\n\n  useEffect(function () {\n    console.log('Change list question 111');\n\n    if (listQuestion) {\n      console.log('Change list question');\n      checkShowContent(listQuestion);\n      var filterExerciseList = listQuestion === null || listQuestion === void 0 ? void 0 : listQuestion.ExerciseList.filter(function (item) {\n        return item.Enable !== false;\n      });\n      setDataListQuestion(listQuestion);\n      setDataExercise(_toConsumableArray(filterExerciseList));\n    }\n  }, [listQuestion]);\n  useEffect(function () {\n    isGroup.status && setDataListQuestion([]);\n    isGroup.status && isGroup.id && isGroup.id === groupID && getQuestionInGroup();\n\n    if (!isGroup) {\n      return;\n    }\n  }, [isGroup]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"detail-question-typing\",\n      children: showContent && (dataListQuestion === null || dataListQuestion === void 0 ? void 0 : (_dataListQuestion$Exe = dataListQuestion.ExerciseList) === null || _dataListQuestion$Exe === void 0 ? void 0 : _dataListQuestion$Exe.length) > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"paragraph mb-3\",\n          children: ReactHtmlParser(dataListQuestion === null || dataListQuestion === void 0 ? void 0 : dataListQuestion.Paragraph)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 7\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"box-action\",\n          children: /*#__PURE__*/_jsxDEV(Popconfirm, {\n            title: \"B\\u1EA1n c\\xF3 ch\\u1EAFc mu\\u1ED1n x\\xF3a?\",\n            onConfirm: function onConfirm() {\n              return handleOk(dataListQuestion);\n            },\n            okButtonProps: {\n              loading: confirmLoading\n            },\n            onCancel: function onCancel() {\n              return handleCancel(dataListQuestion.ID);\n            },\n            children: /*#__PURE__*/_jsxDEV(Tooltip, {\n              title: \"X\\xF3a h\\u1EBFt c\\xE2u h\\u1ECFi\",\n              placement: \"rightTop\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-icon delete\",\n                onClick: function onClick() {\n                  return deleteQuestionItem(dataListQuestion.ID);\n                },\n                children: /*#__PURE__*/_jsxDEV(Trash2, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 11\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 10\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 9\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 8\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 7\n        }, _this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 4\n    }, _this), showContent && (dataListQuestion === null || dataListQuestion === void 0 ? void 0 : (_dataListQuestion$Exe2 = dataListQuestion.ExerciseList) === null || _dataListQuestion$Exe2 === void 0 ? void 0 : _dataListQuestion$Exe2.length) > 0 && /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table-question mt-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"C\\xE2u h\\u1ECFi\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 8\n          }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u0110\\xE1p \\xE1n \\u0111\\xFAng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 8\n          }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u0110\\xE1p \\xE1n g\\xE2y nhi\\u1EC5u\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 8\n          }, _this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 8\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 7\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 6\n      }, _this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: dataListQuestion === null || dataListQuestion === void 0 ? void 0 : (_dataListQuestion$Exe3 = dataListQuestion.ExerciseList) === null || _dataListQuestion$Exe3 === void 0 ? void 0 : _dataListQuestion$Exe3.map(function (item, index) {\n          var _item$ExerciseAnswer, _item$ExerciseAnswer2;\n\n          return item.Enable && /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                width: '20%'\n              },\n              children: returnIndexQuestion(item)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 11\n            }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: (_item$ExerciseAnswer = item.ExerciseAnswer) === null || _item$ExerciseAnswer === void 0 ? void 0 : _item$ExerciseAnswer.map(function (ans, i) {\n                return ans.Enable && ans.isTrue && /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"tick\",\n                    children: \"- \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 346,\n                    columnNumber: 16\n                  }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text\",\n                    children: ans.AnswerContent\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 347,\n                    columnNumber: 16\n                  }, _this)]\n                }, i, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 345,\n                  columnNumber: 15\n                }, _this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 11\n            }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: (_item$ExerciseAnswer2 = item.ExerciseAnswer) === null || _item$ExerciseAnswer2 === void 0 ? void 0 : _item$ExerciseAnswer2.map(function (ans, i) {\n                return ans.Enable && !ans.isTrue && /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"tick\",\n                    children: \"- \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 358,\n                    columnNumber: 16\n                  }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text\",\n                    children: ans.AnswerContent\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 359,\n                    columnNumber: 16\n                  }, _this)]\n                }, i, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 357,\n                  columnNumber: 15\n                }, _this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 11\n            }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                width: '10%'\n              },\n              children: /*#__PURE__*/_jsxDEV(EditQuestion, {\n                dataGroup: dataListQuestion,\n                exerciseID: item.ID,\n                onEdit: function onEdit(dataEdit) {\n                  return _onEdit(dataEdit);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 13\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 11\n            }, _this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 10\n          }, _this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 6\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 5\n    }, _this), isGroup !== null && isGroup !== void 0 && isGroup.status && loadingInGroup ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Skeleton, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 6\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 5\n    }, _this) : !showContent && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: _.primaryColor\n      },\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        children: \"Nh\\xF3m n\\xE0y ch\\u01B0a c\\xF3 c\\xE2u h\\u1ECFi\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 7\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 6\n    }, _this), loadingQuestion && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Skeleton, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 6\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 5\n    }, _this)]\n  }, void 0, true);\n};\n\n_s2(QuestionDrag, \"C2yZppVVZRWBEfjP0CTHRpK2hlw=\", false, function () {\n  return [useWrap];\n});\n\n_c2 = QuestionDrag;\nexport default QuestionDrag;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"EditQuestion\");\n$RefreshReg$(_c2, \"QuestionDrag\");","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Global/QuestionBank/QuestionShow/QuestionDrag.tsx"],"names":["React","useEffect","useState","Skeleton","Modal","Popconfirm","Tooltip","Spin","Form","Input","Checkbox","Edit","Trash2","CloseOutlined","Plus","ReactHtmlParser","exerciseGroupApi","useWrap","_","AnsID","EditQuestion","props","dataGroup","exerciseID","onEdit","isModalVisible","setIsModalVisible","dataForm","setDataForm","indexExercise","setIndexExercise","reloadContent","setReloadContent","showNoti","isLoading","setIsLoading","showModal","handleSubmit","newData","JSON","parse","stringify","ExerciseAnswer","forEach","item","isAdd","ID","ExerciseList","update","res","status","handleCancel","handleAddAnswer","questionID","push","AnswerContent","isTrue","Enable","onChange_text","e","AnswerID","QuestionID","text","target","value","indexAnswer","findIndex","deleteAnswerItem","splice","onChange_isCorrect","checked","getWithID","console","log","data","message","loadData","index","newArr","parseInt","Math","max","map","itemAns","width","inputID","QuestionDrag","listQuestion","loadingQuestion","onRemoveData","isGroup","onEditData","groupID","dataListQuestion","setDataListQuestion","id","visible","setVisible","confirmLoading","setConfirmLoading","loadingInGroup","setLoadingInGroup","dataExercise","setDataExercise","showContent","setShowContent","dataEdit","deleteQuestionItem","quesID","handleOk","quesItem","isDeleteExercise","Paragraph","ExerciseGroupID","getQuestionInGroup","filterExerciseList","filter","checkShowContent","returnIndexQuestion","itemQues","title","ex","preventLoop","length","loading","ans","i","color","primaryColor"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Skeleton, Modal, Popconfirm, Tooltip, Spin, Form, Input, Checkbox } from 'antd'\r\nimport { Edit, Trash2 } from 'react-feather'\r\nimport { CloseOutlined } from '@ant-design/icons'\r\nimport { Plus } from 'react-feather'\r\nimport ReactHtmlParser from 'react-html-parser'\r\nimport { exerciseGroupApi } from '~/apiBase'\r\nimport { useWrap } from '~/context/wrap'\r\nimport _ from '~/appConfig'\r\n\r\nlet AnsID = 0\r\nconst EditQuestion = (props) => {\r\n\tconst { dataGroup, exerciseID, onEdit } = props\r\n\tconst [isModalVisible, setIsModalVisible] = useState(false)\r\n\tconst [dataForm, setDataForm] = useState(dataGroup)\r\n\tconst [indexExercise, setIndexExercise] = useState(null)\r\n\tconst [reloadContent, setReloadContent] = useState(false)\r\n\tconst { showNoti } = useWrap()\r\n\tconst [isLoading, setIsLoading] = useState(false)\r\n\r\n\tconst showModal = () => {\r\n\t\tsetIsModalVisible(true)\r\n\t}\r\n\r\n\tconst handleSubmit = async () => {\r\n\t\tsetIsLoading(true)\r\n\t\tlet newData = JSON.parse(JSON.stringify(dataForm))\r\n\t\tnewData.ExerciseAnswer.forEach((item) => {\r\n\t\t\tif (item.isAdd) {\r\n\t\t\t\tdelete item.ID\r\n\t\t\t}\r\n\t\t})\r\n\t\tdataGroup.ExerciseList[indexExercise] = newData\r\n\t\ttry {\r\n\t\t\tlet res = await exerciseGroupApi.update(dataGroup)\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tsetReloadContent(true)\r\n\t\t\t}\r\n\t\t} catch (error) {}\r\n\t}\r\n\r\n\tconst handleCancel = () => {\r\n\t\tsetIsModalVisible(false)\r\n\t}\r\n\r\n\t// ====== HANDLE ADD ANSWER ======\r\n\tconst handleAddAnswer = (questionID: number) => {\r\n\t\tAnsID++\r\n\t\tdataForm.ExerciseAnswer.push({\r\n\t\t\tID: AnsID,\r\n\t\t\tAnswerContent: '',\r\n\t\t\tisTrue: false,\r\n\t\t\tEnable: true,\r\n\t\t\tisAdd: true\r\n\t\t})\r\n\t\tsetDataForm({ ...dataForm })\r\n\t}\r\n\r\n\t// ====== HANDLE ON CHANGE ======\r\n\tconst onChange_text = (e: any, AnswerID: number, QuestionID) => {\r\n\t\tlet text = e.target.value\r\n\t\tlet indexAnswer = dataForm.ExerciseAnswer.findIndex((item) => item.ID == AnswerID)\r\n\t\tdataForm.ExerciseAnswer[indexAnswer].AnswerContent = text\r\n\t\tsetDataForm({ ...dataForm })\r\n\t}\r\n\r\n\tconst deleteAnswerItem = (AnswerID: number, QuestionID) => {\r\n\t\tlet indexAnswer = dataForm.ExerciseAnswer.findIndex((item) => item.ID == AnswerID)\r\n\t\tif (dataForm.ExerciseAnswer[indexAnswer].isAdd) {\r\n\t\t\tdataForm.ExerciseAnswer.splice(indexAnswer, 1)\r\n\t\t} else {\r\n\t\t\tdataForm.ExerciseAnswer[indexAnswer].Enable = false\r\n\t\t}\r\n\t\tsetDataForm({ ...dataForm })\r\n\t}\r\n\r\n\tconst onChange_isCorrect = (e, AnswerID: number) => {\r\n\t\tlet checked = e.target.checked\r\n\t\tlet indexAnswer = dataForm.ExerciseAnswer.findIndex((item) => item.ID == AnswerID)\r\n\t\tdataForm.ExerciseAnswer[indexAnswer].isTrue = checked\r\n\t\tsetDataForm({ ...dataForm })\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (reloadContent) {\r\n\t\t\t;(async function loadData() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet res = await exerciseGroupApi.getWithID(dataGroup.ID)\r\n\t\t\t\t\tif (res.status == 200) {\r\n\t\t\t\t\t\tshowNoti('success', `Thành công`)\r\n\t\t\t\t\t\tconsole.log('DATA DETAIL: ', res.data.data)\r\n\t\t\t\t\t\tonEdit && onEdit(res.data.data)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tres.status == 204 && showNoti('danger', 'Không thành công')\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tshowNoti('danger', error.message)\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tsetReloadContent(false)\r\n\t\t\t\t\tsetIsModalVisible(false)\r\n\t\t\t\t\tsetIsLoading(false)\r\n\t\t\t\t\tsetDataForm(null)\r\n\t\t\t\t}\r\n\t\t\t})()\r\n\t\t}\r\n\t}, [reloadContent])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isModalVisible) {\r\n\t\t\tlet index = dataGroup.ExerciseList.findIndex((item) => item.ID == exerciseID)\r\n\t\t\tlet data = dataGroup.ExerciseList[index]\r\n\t\t\tsetDataForm(data)\r\n\t\t\tsetIndexExercise(index)\r\n\t\t\tlet newArr = []\r\n\t\t\tdata.ExerciseAnswer.forEach((item) => {\r\n\t\t\t\tnewArr.push(parseInt(item.ID))\r\n\t\t\t})\r\n\t\t\tAnsID = Math.max(...newArr)\r\n\t\t}\r\n\t}, [isModalVisible])\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Tooltip title=\"Thêm/sửa đáp án\">\r\n\t\t\t\t<button className=\"btn btn-icon edit\" onClick={showModal}>\r\n\t\t\t\t\t<Edit />\r\n\t\t\t\t</button>\r\n\t\t\t</Tooltip>\r\n\t\t\t<Modal\r\n\t\t\t\tfooter={\r\n\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t<button className=\"btn btn-light mr-2\" onClick={handleCancel}>\r\n\t\t\t\t\t\t\tHủy tác vụ\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={() => handleSubmit()}>\r\n\t\t\t\t\t\t\tLưu\r\n\t\t\t\t\t\t\t{isLoading && <Spin className=\"loading-base\" />}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttitle=\"Sửa đáp án\"\r\n\t\t\t\tvisible={isModalVisible}\r\n\t\t\t\tonCancel={handleCancel}\r\n\t\t\t>\r\n\t\t\t\t{dataForm?.ExerciseAnswer?.map(\r\n\t\t\t\t\t(itemAns, index) =>\r\n\t\t\t\t\t\titemAns.Enable && (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<div className=\"w-100 d-flex align-items-center mt-2 form-create-question\" key={index}>\r\n\t\t\t\t\t\t\t\t\t<div className=\"row-ans\">\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox checked={itemAns.isTrue} onChange={(e) => onChange_isCorrect(e, itemAns.ID)}></Checkbox>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item className=\"mb-0\" style={{ width: '80%' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={itemAns.AnswerContent}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"style-input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => onChange_text(e, itemAns.ID, dataForm.inputID)}\r\n\t\t\t\t\t\t\t\t\t\t\t></Input>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t<button className=\"delete-ans\" onClick={() => deleteAnswerItem(itemAns.ID, dataForm.inputID)}>\r\n\t\t\t\t\t\t\t\t\t\t\t<CloseOutlined />\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t)}\r\n\t\t\t\t<Tooltip title=\"Thêm đáp án\">\r\n\t\t\t\t\t<button className=\"btn-add-answer mt-2\" onClick={() => handleAddAnswer(dataForm.inputID)}>\r\n\t\t\t\t\t\t<Plus />\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nconst QuestionDrag = (props: any) => {\r\n\tconst { listQuestion, loadingQuestion, onRemoveData, isGroup, onEditData, groupID } = props\r\n\tconst [dataListQuestion, setDataListQuestion] = useState(null)\r\n\tconst { showNoti } = useWrap()\r\n\tconst [visible, setVisible] = useState({\r\n\t\tid: null,\r\n\t\tstatus: false\r\n\t})\r\n\tconst [confirmLoading, setConfirmLoading] = useState(false)\r\n\tconst [loadingInGroup, setLoadingInGroup] = useState(false)\r\n\tconst [dataExercise, setDataExercise] = useState([])\r\n\tconst [showContent, setShowContent] = useState(false)\r\n\r\n\t// ON EDIT\r\n\tconst onEdit = (dataEdit) => {\r\n\t\tonEditData(dataEdit)\r\n\t}\r\n\r\n\tconst deleteQuestionItem = (quesID) => {\r\n\t\t!visible.status\r\n\t\t\t? setVisible({\r\n\t\t\t\t\tid: quesID,\r\n\t\t\t\t\tstatus: true\r\n\t\t\t  })\r\n\t\t\t: setVisible({\r\n\t\t\t\t\tid: quesID,\r\n\t\t\t\t\tstatus: false\r\n\t\t\t  })\r\n\t}\r\n\r\n\t// Chấp nhận xóa câu hỏi\r\n\tconst handleOk = async (data) => {\r\n\t\tsetConfirmLoading(true)\r\n\t\tlet quesItem = JSON.parse(JSON.stringify(dataListQuestion))\r\n\t\tquesItem?.ExerciseList?.forEach((item) => {\r\n\t\t\titem.Enable = false\r\n\t\t})\r\n\t\tquesItem.isDeleteExercise = true\r\n\t\tquesItem.Paragraph = '<p><br></p>'\r\n\t\tquesItem.ExerciseGroupID = null\r\n\t\ttry {\r\n\t\t\tlet res = await exerciseGroupApi.update(quesItem)\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tsetVisible({\r\n\t\t\t\t\t...visible,\r\n\t\t\t\t\tstatus: false\r\n\t\t\t\t})\r\n\t\t\t\tonRemoveData(quesItem)\r\n\t\t\t\tshowNoti('success', 'Xóa thành công')\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetConfirmLoading(false)\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleCancel = (quesID) => {\r\n\t\tsetVisible({\r\n\t\t\tid: quesID,\r\n\t\t\tstatus: false\r\n\t\t})\r\n\t}\r\n\r\n\tconst getQuestionInGroup = async () => {\r\n\t\tsetLoadingInGroup(true)\r\n\t\ttry {\r\n\t\t\tlet res = await exerciseGroupApi.getWithID(isGroup.id)\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tsetDataListQuestion(res.data.data)\r\n\t\t\t\tlet filterExerciseList = res.data.data.ExerciseList.filter((item) => item.Enable !== false)\r\n\t\t\t\tsetDataExercise([...filterExerciseList])\r\n\t\t\t\tcheckShowContent(res.data.data)\r\n\t\t\t}\r\n\t\t\tres.status == 204 && setDataListQuestion([])\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetLoadingInGroup(false)\r\n\t\t}\r\n\t}\r\n\r\n\t//RETURN INDEX QUESTION - Trả về thứ tự của từng câu hỏi\r\n\tconst returnIndexQuestion = (itemQues) => {\r\n\t\tlet title = ''\r\n\t\tlet index = dataExercise.findIndex((ex) => ex.inputID == itemQues.inputID)\r\n\t\ttitle = `Câu (${index + 1})`\r\n\t\treturn title\r\n\t}\r\n\r\n\tconst checkShowContent = (data) => {\r\n\t\tlet preventLoop = false\r\n\t\tdata.ExerciseList.length == 0 && setShowContent(false)\r\n\t\tdata.ExerciseList.forEach((item, index) => {\r\n\t\t\tif (item.Enable) {\r\n\t\t\t\tif (!preventLoop) {\r\n\t\t\t\t\tsetShowContent(true)\r\n\t\t\t\t\tpreventLoop = true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\tif (!preventLoop) {\r\n\t\t\tsetShowContent(false)\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tconsole.log('Change list question 111')\r\n\t\tif (listQuestion) {\r\n\t\t\tconsole.log('Change list question')\r\n\t\t\tcheckShowContent(listQuestion)\r\n\t\t\tlet filterExerciseList = listQuestion?.ExerciseList.filter((item) => item.Enable !== false)\r\n\t\t\tsetDataListQuestion(listQuestion)\r\n\t\t\tsetDataExercise([...filterExerciseList])\r\n\t\t}\r\n\t}, [listQuestion])\r\n\r\n\tuseEffect(() => {\r\n\t\tisGroup.status && setDataListQuestion([])\r\n\t\tisGroup.status && isGroup.id && isGroup.id === groupID && getQuestionInGroup()\r\n\t\tif (!isGroup) {\r\n\t\t\treturn\r\n\t\t}\r\n\t}, [isGroup])\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"detail-question-typing\">\r\n\t\t\t\t{showContent && dataListQuestion?.ExerciseList?.length > 0 && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<div className=\"paragraph mb-3\">{ReactHtmlParser(dataListQuestion?.Paragraph)}</div>\r\n\t\t\t\t\t\t<div className=\"box-action\">\r\n\t\t\t\t\t\t\t<Popconfirm\r\n\t\t\t\t\t\t\t\ttitle=\"Bạn có chắc muốn xóa?\"\r\n\t\t\t\t\t\t\t\tonConfirm={() => handleOk(dataListQuestion)}\r\n\t\t\t\t\t\t\t\tokButtonProps={{ loading: confirmLoading }}\r\n\t\t\t\t\t\t\t\tonCancel={() => handleCancel(dataListQuestion.ID)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Tooltip title=\"Xóa hết câu hỏi\" placement=\"rightTop\">\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-icon delete\" onClick={() => deleteQuestionItem(dataListQuestion.ID)}>\r\n\t\t\t\t\t\t\t\t\t\t<Trash2 />\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t{showContent && dataListQuestion?.ExerciseList?.length > 0 && (\r\n\t\t\t\t<table className=\"table-question mt-3\">\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Câu hỏi</th>\r\n\t\t\t\t\t\t\t<th>Đáp án đúng</th>\r\n\t\t\t\t\t\t\t<th>Đáp án gây nhiễu</th>\r\n\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{dataListQuestion?.ExerciseList?.map(\r\n\t\t\t\t\t\t\t(item, index) =>\r\n\t\t\t\t\t\t\t\titem.Enable && (\r\n\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t<td style={{ width: '20%' }}>{returnIndexQuestion(item)}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t{item.ExerciseAnswer?.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t(ans, i) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tans.Enable &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tans.isTrue && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"tick\">- </span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text\">{ans.AnswerContent}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t{item.ExerciseAnswer?.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t(ans, i) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tans.Enable &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t!ans.isTrue && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"tick\">- </span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text\">{ans.AnswerContent}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td style={{ width: '10%' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t{<EditQuestion dataGroup={dataListQuestion} exerciseID={item.ID} onEdit={(dataEdit) => onEdit(dataEdit)} />}\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t)}\r\n\t\t\t{isGroup?.status && loadingInGroup ? (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Skeleton />\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t!showContent && (\r\n\t\t\t\t\t<p style={{ color: _.primaryColor }}>\r\n\t\t\t\t\t\t<i>Nhóm này chưa có câu hỏi</i>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t)\r\n\t\t\t)}\r\n\t\t\t{loadingQuestion && (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Skeleton />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default QuestionDrag\r\n"]},"metadata":{},"sourceType":"module"}