{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Global\\\\CourseList\\\\CourseListDetail\\\\CourseDetailCalendar\\\\Calendar.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Button, Popover, Spin } from 'antd';\nimport moment from 'moment';\nimport { useRouter } from 'next/router';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport { Calendar, momentLocalizer } from 'react-big-calendar';\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\nimport CloseZoomRoom from '~/components/Global/ManageZoom/ZoomRoom/CloseZoomRoom';\nimport ZoomRecordModal from '~/components/Global/ManageZoom/ZoomRoom/ZoomRecordModal';\nimport { useWrap } from '~/context/wrap';\nimport CourseDetailUploadFile from './CourseDetailUploadFile';\nmoment.locale('vi');\nconst localizer = momentLocalizer(moment);\nCDCalendar.propTypes = {\n  isLoading: PropTypes.shape({\n    type: PropTypes.string.isRequired,\n    status: PropTypes.bool.isRequired\n  }),\n  eventList: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    title: PropTypes.string.isRequired,\n    start: PropTypes.instanceOf(Date).isRequired,\n    end: PropTypes.instanceOf(Date).isRequired,\n    resource: PropTypes.object\n  })).isRequired,\n  isLoaded: PropTypes.bool,\n  //\n  isUploadDocument: PropTypes.bool,\n  handleUploadDocument: PropTypes.func,\n  //\n  isGetRecordList: PropTypes.bool,\n  //\n  isStudyZoom: PropTypes.bool,\n  fetchStudyZoom: PropTypes.func,\n  handleStudyZoom: PropTypes.func,\n  handleEndStudyZoom: PropTypes.func\n};\nCDCalendar.defaultProps = {\n  isLoading: {\n    type: '',\n    status: false\n  },\n  eventList: [],\n  isLoaded: false,\n  //\n  isUploadDocument: false,\n  handleUploadDocument: null,\n  //\n  isGetRecordList: false,\n  //\n  isStudyZoom: false,\n  fetchStudyZoom: null,\n  handleStudyZoom: null,\n  handleEndStudyZoom: null\n};\n\nfunction CDCalendar(props) {\n  const router = useRouter();\n  const {\n    isLoading,\n    eventList,\n    isLoaded,\n    isUploadDocument,\n    handleUploadDocument,\n    isGetRecordList,\n    isStudyZoom,\n    fetchStudyZoom,\n    handleStudyZoom,\n    handleEndStudyZoom\n  } = props;\n  console.log('eventList: ', eventList);\n  const {\n    0: courseScheduleID,\n    1: setCourseScheduleID\n  } = useState(0);\n  const {\n    0: isModalVisible,\n    1: setIsModalVisible\n  } = useState({\n    type: '',\n    status: false\n  });\n\n  const openModal = type => setIsModalVisible({\n    type,\n    status: true\n  });\n\n  const closeModal = () => setIsModalVisible({\n    type: '',\n    status: false\n  });\n\n  const {\n    userInformation\n  } = useWrap();\n\n  const middlewareOpenModal = (ID, type) => {\n    setCourseScheduleID(ID);\n    openModal(type);\n  };\n\n  const checkFetchStudyZoom = date => {\n    if (!fetchStudyZoom) return;\n    fetchStudyZoom(date);\n  };\n\n  const checkHandleStudyZoom = data => {\n    if (!handleStudyZoom) return;\n    handleStudyZoom(data);\n  };\n\n  const moveToTest = data => {\n    router.push({\n      pathname: '/exam/exam-review',\n      query: {\n        examID: data.ExamTopicID,\n        packageDetailID: data.CourseID,\n        type: 'check',\n        // Kiểm tra,\n        CurriculumDetailID: data.CurriculumsDetailID\n      }\n    });\n  };\n\n  const checkTypeButtonStudyZoom = data => {\n    const {\n      btnID,\n      btnName,\n      dataDetail\n    } = data;\n    if (!btnID) return; // HỌC VIÊN\n\n    if ((userInformation === null || userInformation === void 0 ? void 0 : userInformation.RoleID) === 3) {\n      if (btnID === 2) {\n        return /*#__PURE__*/_jsxDEV(Button, {\n          size: \"middle\",\n          className: \"mt-3 btn-success w-100\",\n          onClick: () => {\n            checkHandleStudyZoom(data);\n          },\n          children: btnName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 6\n        }, this);\n      }\n\n      if (btnID === 3) {\n        return /*#__PURE__*/_jsxDEV(Button, {\n          disabled: true,\n          size: \"middle\",\n          className: \"mt-3 btn-light w-100\",\n          children: btnName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 6\n        }, this);\n      }\n\n      if (btnID === 4) {\n        return /*#__PURE__*/_jsxDEV(Button, {\n          size: \"middle\",\n          className: \"mt-3 btn-success w-100\",\n          onClick: () => {\n            moveToTest(dataDetail);\n          },\n          children: btnName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 6\n        }, this);\n      }\n    } // GIÁO VIÊN\n\n\n    if ((userInformation === null || userInformation === void 0 ? void 0 : userInformation.RoleID) === 2 || (userInformation === null || userInformation === void 0 ? void 0 : userInformation.RoleID) === 5) {\n      if (btnID === 1) {\n        return /*#__PURE__*/_jsxDEV(Button, {\n          size: \"middle\",\n          className: \"mt-3 btn-warning w-100\",\n          onClick: () => {\n            checkHandleStudyZoom(data);\n          },\n          children: btnName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 6\n        }, this);\n      }\n\n      if (btnID === 2) {\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            size: \"middle\",\n            className: \"mt-3 btn-success w-100\",\n            onClick: () => {\n              checkHandleStudyZoom(data);\n            },\n            children: btnName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            size: \"middle\",\n            className: \"btn-primary w-100\",\n            onClick: () => {\n              if (false) {\n                const url = window.location.origin;\n                navigator.clipboard.writeText(`${url}/course/zoom-view/${data.scheduleID}`);\n              }\n            },\n            style: {\n              marginTop: 4\n            },\n            children: \"Sao ch\\xE9p link zoom\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(CloseZoomRoom, {\n            isIcon: false,\n            handleClose: () => {\n              checkHandleStudyZoom(_objectSpread(_objectSpread({}, data), {}, {\n                btnID: 3\n              }));\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true);\n      }\n\n      if (btnID === 3) {\n        return /*#__PURE__*/_jsxDEV(Button, {\n          disabled: true,\n          size: \"middle\",\n          className: \"mt-3 btn-light w-100\",\n          children: btnName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 6\n        }, this);\n      }\n    }\n  };\n\n  const getStrDate = date => {\n    const nDate = new Date(date);\n    return nDate.getDate() + '-' + (nDate.getMonth() + 1) + '-' + nDate.getFullYear();\n  };\n\n  const compare = (dateTimeA, dateTimeB) => {\n    var momentA = moment(dateTimeA, 'DD/MM/YYYY');\n    var momentB = moment(dateTimeB, 'DD/MM/YYYY');\n    if (momentA > momentB) return 1;else if (momentA < momentB) return -1;else return 0;\n  };\n\n  const styleEvent = ({\n    event\n  }) => {\n    const date = new Date();\n    let checkDate = compare(getStrDate(event.start), getStrDate(date)); // -1: qua roi, 0: hom nay, 1: chua qua\n\n    const {\n      ID,\n      CourseID,\n      CourseName,\n      RoomName,\n      BranchName,\n      TeacherName,\n      SubjectName,\n      LinkDocument,\n      //\n      StudyTimeName,\n      // ZOOM\n      ButtonID: btnID,\n      ButtonName: btnName,\n      idx,\n      IsExam,\n      CurriculumDetailID,\n      TeacherAttendanceID\n    } = event.resource;\n    const dataDetail = event.resource;\n\n    const content = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"course-dt-event-info\",\n      style: {\n        maxWidth: 300\n      },\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [CourseName && /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Kh\\xF3a h\\u1ECDc:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 8\n          }, this), \" \", CourseName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 7\n        }, this), SubjectName && /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [IsExam ? 'Kiểm tra môn:' : 'Bài học:', \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 8\n          }, this), \" \", SubjectName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 7\n        }, this), RoomName && /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Ph\\xF2ng:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 8\n          }, this), \" \", RoomName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 7\n        }, this), TeacherName && /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"GV:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 8\n          }, this), \" \", TeacherName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 7\n        }, this), BranchName && /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Trung t\\xE2m:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 8\n          }, this), \" \", BranchName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 7\n        }, this), LinkDocument && /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"T\\xE0i li\\u1EC7u: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 8\n          }, this), LinkDocument ? /*#__PURE__*/_jsxDEV(\"a\", {\n            href: LinkDocument,\n            target: \"_blank\",\n            download: true,\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              children: \"Click to download\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 10\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 9\n          }, this) : 'Trống']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 7\n        }, this), isGetRecordList && /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            size: \"middle\",\n            className: \"mt-3 btn-success w-100\",\n            onClick: () => middlewareOpenModal(parseInt(ID), 'record'),\n            children: \"B\\u1EA3n ghi bu\\u1ED5i h\\u1ECDc\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 7\n        }, this), isUploadDocument && /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            size: \"middle\",\n            className: \"mt-2 btn-warning w-100\",\n            onClick: () => middlewareOpenModal(parseInt(ID), 'document'),\n            children: \"Th\\xEAm t\\xE0i li\\u1EC7u\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 7\n        }, this), isStudyZoom && /*#__PURE__*/_jsxDEV(\"li\", {\n          children: checkTypeButtonStudyZoom({\n            idx,\n            btnID,\n            btnName,\n            scheduleID: ID,\n            dataDetail\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 4\n    }, this);\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"calendar-item\",\n      onClick: e => {\n        e.stopPropagation();\n        e.nativeEvent.stopImmediatePropagation();\n      } // 0 - ,1-Bắt đầu , 2-Vào lớp học, 3-Kết thúc\n      ,\n      style: {\n        backgroundColor: TeacherAttendanceID !== 0 ? '#80DEEA' : IsExam !== undefined && IsExam == true ? '#FF9800' : checkDate == 0 ? btnID == undefined || btnID == null || btnID == '' ? '#fac10a' : btnID == 3 ? '#bdbdbd' : '#fac10a' : checkDate == -1 ? '#bdbdbd' : '#3174ad'\n      },\n      children: /*#__PURE__*/_jsxDEV(Popover, {\n        zIndex: 999,\n        title: `Ca: ${StudyTimeName}`,\n        content: content,\n        placement: \"rightTop\",\n        trigger: window.matchMedia('(max-width: 1199px)').matches ? 'click' : 'hover',\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"course-dt-event\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"time\",\n            children: [\"Ca: \", StudyTimeName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 4\n    }, this);\n  };\n\n  const styleAgenda = ({\n    event\n  }) => {\n    const {\n      ID,\n      RoomName,\n      CourseName,\n      BranchName,\n      TeacherName,\n      SubjectName,\n      LinkDocument,\n      //\n      StudyTimeName,\n      // ZOOM\n      ButtonID: btnID,\n      ButtonName: btnName,\n      idx,\n      IsExam,\n      CurriculumsDetailID\n    } = event.resource;\n    const dataDetail = event.resource;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"course-dt-event\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"time\",\n        children: [\"Ca: \", StudyTimeName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"course-dt-event-info\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [CourseName && /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Kh\\xF3a h\\u1ECDc:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 9\n            }, this), \" \", CourseName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 8\n          }, this), SubjectName && /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [IsExam ? 'Kiểm tra môn:' : 'Môn:', \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 9\n            }, this), \" \", SubjectName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 8\n          }, this), RoomName && /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Ph\\xF2ng:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 9\n            }, this), \" \", RoomName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 8\n          }, this), TeacherName && /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"GV:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 9\n            }, this), \" \", TeacherName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 8\n          }, this), BranchName && /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Trung t\\xE2m:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 9\n            }, this), \" \", BranchName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 8\n          }, this), LinkDocument && /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"T\\xE0i li\\u1EC7u: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 419,\n              columnNumber: 9\n            }, this), LinkDocument ? /*#__PURE__*/_jsxDEV(\"a\", {\n              href: LinkDocument,\n              target: \"_blank\",\n              download: true,\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                children: \"Click to download\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 10\n            }, this) : 'Trống']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 8\n          }, this), isGetRecordList && /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              size: \"middle\",\n              className: \"mt-3 btn-success w-100\",\n              onClick: () => middlewareOpenModal(parseInt(ID), 'record'),\n              children: \"B\\u1EA3n ghi bu\\u1ED5i h\\u1ECDc\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 8\n          }, this), isUploadDocument && /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              size: \"middle\",\n              className: \"mt-2 btn-warning w-100\",\n              onClick: () => middlewareOpenModal(parseInt(ID), 'document'),\n              children: \"Th\\xEAm t\\xE0i li\\u1EC7u\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 8\n          }, this), isStudyZoom && /*#__PURE__*/_jsxDEV(\"li\", {\n            children: checkTypeButtonStudyZoom({\n              idx,\n              btnID,\n              btnName,\n              scheduleID: ID,\n              dataDetail\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 4\n    }, this);\n  };\n\n  const styleDay = ({\n    event\n  }) => {\n    const dataDetail = event.resource;\n    const {\n      ID,\n      CourseID,\n      CourseName,\n      RoomName,\n      BranchName,\n      TeacherName,\n      SubjectName,\n      LinkDocument,\n      //\n      StudyTimeName,\n      // ZOOM\n      ButtonID: btnID,\n      ButtonName: btnName,\n      idx,\n      IsExam,\n      CurriculumsDetailID\n    } = event.resource;\n\n    const content = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"course-dt-event-info\",\n      style: {\n        maxWidth: 300\n      },\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [CourseName && /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Kh\\xF3a h\\u1ECDc:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 485,\n            columnNumber: 8\n          }, this), \" \", CourseName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 7\n        }, this), SubjectName && /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [IsExam ? 'Kiểm tra môn:' : 'Môn:', \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 8\n          }, this), \" \", SubjectName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 7\n        }, this), RoomName && /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Ph\\xF2ng:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 495,\n            columnNumber: 8\n          }, this), \" \", RoomName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 494,\n          columnNumber: 7\n        }, this), TeacherName && /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"GV:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 500,\n            columnNumber: 8\n          }, this), \" \", TeacherName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 499,\n          columnNumber: 7\n        }, this), BranchName && /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Trung t\\xE2m:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 505,\n            columnNumber: 8\n          }, this), \" \", BranchName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 504,\n          columnNumber: 7\n        }, this), LinkDocument && /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"T\\xE0i li\\u1EC7u: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 510,\n            columnNumber: 8\n          }, this), LinkDocument ? /*#__PURE__*/_jsxDEV(\"a\", {\n            href: LinkDocument,\n            target: \"_blank\",\n            download: true,\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              children: \"Click to download\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 513,\n              columnNumber: 10\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 512,\n            columnNumber: 9\n          }, this) : 'Trống']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 509,\n          columnNumber: 7\n        }, this), isGetRecordList && /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            size: \"middle\",\n            className: \"mt-3 btn-success w-100\",\n            onClick: () => middlewareOpenModal(parseInt(ID), 'record'),\n            children: \"B\\u1EA3n ghi bu\\u1ED5i h\\u1ECDc\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 522,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 521,\n          columnNumber: 7\n        }, this), isUploadDocument && /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            size: \"middle\",\n            className: \"mt-2 btn-warning w-100\",\n            onClick: () => middlewareOpenModal(parseInt(ID), 'document'),\n            children: \"Th\\xEAm t\\xE0i li\\u1EC7u\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 529,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 528,\n          columnNumber: 7\n        }, this), isStudyZoom && /*#__PURE__*/_jsxDEV(\"li\", {\n          children: checkTypeButtonStudyZoom({\n            idx,\n            btnID,\n            btnName,\n            scheduleID: ID,\n            dataDetail\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 535,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 482,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 481,\n      columnNumber: 4\n    }, this);\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: e => {\n        e.stopPropagation();\n        e.nativeEvent.stopImmediatePropagation();\n      },\n      children: /*#__PURE__*/_jsxDEV(Popover, {\n        zIndex: 999,\n        title: `Ca: ${StudyTimeName}`,\n        content: content,\n        placement: \"bottomLeft\",\n        trigger: window.matchMedia('(max-width: 1199px)').matches ? 'click' : 'hover',\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"course-dt-event\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"time\",\n            children: [\"Ca: \", StudyTimeName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 563,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 562,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 555,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 549,\n      columnNumber: 4\n    }, this);\n  };\n\n  const customEventPropGetter = (event, start, end, isSelected) => {\n    if (event.resource.IsExam) {\n      return {\n        className: 'bg-warning text-dark'\n      };\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wrap-calendar\",\n    children: [/*#__PURE__*/_jsxDEV(Spin, {\n      spinning: !isLoaded,\n      size: \"large\",\n      wrapperClassName: \"calendar-loading\",\n      children: /*#__PURE__*/_jsxDEV(Calendar, {\n        className: \"custom-calendar\",\n        localizer: localizer,\n        events: eventList,\n        startAccessor: \"start\",\n        endAccessor: \"end\",\n        style: {\n          minHeight: 600\n        },\n        popup: true,\n        defaultView: \"month\",\n        showMultiDayTimes: false,\n        onRangeChange: checkFetchStudyZoom,\n        eventPropGetter: customEventPropGetter,\n        handleDragStart: () => null,\n        formats: {\n          agendaDateFormat: 'DD/MM/YYYY',\n          monthHeaderFormat: date => moment(date).format('MM/YYYY'),\n          dayHeaderFormat: date => {\n            const dayArr = ['Chủ Nhật', 'Thứ 2', 'Thứ 3', 'Thứ 4', 'Thứ 5', 'Thứ 6', 'Thứ 7'];\n            const dayOffWeek = dayArr[moment(date).day()];\n            return `${dayOffWeek} - ${moment(date).format('DD/MM')}`;\n          },\n          dayRangeHeaderFormat: ({\n            start,\n            end\n          }) => `${moment(start).format('DD/MM')} - ${moment(end).format('DD/MM')}`\n        },\n        components: {\n          event: styleEvent,\n          day: {\n            event: styleDay\n          },\n          agenda: {\n            event: styleAgenda\n          }\n        },\n        messages: {}\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 579,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 578,\n      columnNumber: 4\n    }, this), isUploadDocument && /*#__PURE__*/_jsxDEV(CourseDetailUploadFile, {\n      isLoading: isLoading,\n      isModalVisible: isModalVisible.type === 'document' && isModalVisible.status,\n      handleCloseModal: closeModal,\n      handleUploadDocument: handleUploadDocument,\n      courseScheduleID: courseScheduleID\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 613,\n      columnNumber: 5\n    }, this), isGetRecordList && /*#__PURE__*/_jsxDEV(ZoomRecordModal, {\n      scheduleID: courseScheduleID,\n      isOpenModal: isModalVisible.type === 'record' && isModalVisible.status,\n      onCloseModal: closeModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 622,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row m-0 p-0 pt-3\",\n      style: {\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: 15,\n          height: 15,\n          backgroundColor: '#3174ad',\n          marginRight: 10\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 629,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Ch\\u01B0a h\\u1ECDc\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 630,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: 15,\n          height: 15,\n          backgroundColor: '#fac10a',\n          marginRight: 10,\n          marginLeft: 10\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 631,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Bu\\u1ED5i h\\u1ECDc trong ng\\xE0y\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 632,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: 15,\n          height: 15,\n          backgroundColor: '#FF9800',\n          marginRight: 10,\n          marginLeft: 10\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 633,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Ki\\u1EC3m tra\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 634,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: 15,\n          height: 15,\n          backgroundColor: '#bdbdbd',\n          marginRight: 10,\n          marginLeft: 10\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 635,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Ch\\u01B0a \\u0111i\\u1EC3m danh\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 636,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: 15,\n          height: 15,\n          backgroundColor: '#80DEEA',\n          marginRight: 10,\n          marginLeft: 10\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 637,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"\\u0110\\xE3 \\u0111i\\u1EC3m danh\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 638,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 628,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 577,\n    columnNumber: 3\n  }, this);\n}\n\nexport default CDCalendar;","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Global/CourseList/CourseListDetail/CourseDetailCalendar/Calendar.tsx"],"names":["Button","Popover","Spin","moment","useRouter","PropTypes","React","useState","Calendar","momentLocalizer","CloseZoomRoom","ZoomRecordModal","useWrap","CourseDetailUploadFile","locale","localizer","CDCalendar","propTypes","isLoading","shape","type","string","isRequired","status","bool","eventList","arrayOf","id","number","title","start","instanceOf","Date","end","resource","object","isLoaded","isUploadDocument","handleUploadDocument","func","isGetRecordList","isStudyZoom","fetchStudyZoom","handleStudyZoom","handleEndStudyZoom","defaultProps","props","router","console","log","courseScheduleID","setCourseScheduleID","isModalVisible","setIsModalVisible","openModal","closeModal","userInformation","middlewareOpenModal","ID","checkFetchStudyZoom","date","checkHandleStudyZoom","data","moveToTest","push","pathname","query","examID","ExamTopicID","packageDetailID","CourseID","CurriculumDetailID","CurriculumsDetailID","checkTypeButtonStudyZoom","btnID","btnName","dataDetail","RoleID","url","window","location","origin","navigator","clipboard","writeText","scheduleID","marginTop","getStrDate","nDate","getDate","getMonth","getFullYear","compare","dateTimeA","dateTimeB","momentA","momentB","styleEvent","event","checkDate","CourseName","RoomName","BranchName","TeacherName","SubjectName","LinkDocument","StudyTimeName","ButtonID","ButtonName","idx","IsExam","TeacherAttendanceID","content","maxWidth","parseInt","e","stopPropagation","nativeEvent","stopImmediatePropagation","backgroundColor","undefined","matchMedia","matches","styleAgenda","styleDay","customEventPropGetter","isSelected","className","minHeight","agendaDateFormat","monthHeaderFormat","format","dayHeaderFormat","dayArr","dayOffWeek","day","dayRangeHeaderFormat","agenda","alignItems","width","height","marginRight","marginLeft"],"mappings":"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","sourcesContent":["import { Button, Popover, Spin } from 'antd'\r\nimport moment from 'moment'\r\nimport { useRouter } from 'next/router'\r\nimport PropTypes from 'prop-types'\r\nimport React, { useState } from 'react'\r\nimport { Calendar, momentLocalizer } from 'react-big-calendar'\r\nimport 'react-big-calendar/lib/css/react-big-calendar.css'\r\nimport CloseZoomRoom from '~/components/Global/ManageZoom/ZoomRoom/CloseZoomRoom'\r\nimport ZoomRecordModal from '~/components/Global/ManageZoom/ZoomRoom/ZoomRecordModal'\r\nimport { useWrap } from '~/context/wrap'\r\nimport CourseDetailUploadFile from './CourseDetailUploadFile'\r\nimport _ from '~/appConfig'\r\nmoment.locale('vi')\r\nconst localizer = momentLocalizer(moment)\r\n\r\nCDCalendar.propTypes = {\r\n\tisLoading: PropTypes.shape({\r\n\t\ttype: PropTypes.string.isRequired,\r\n\t\tstatus: PropTypes.bool.isRequired\r\n\t}),\r\n\teventList: PropTypes.arrayOf(\r\n\t\tPropTypes.shape({\r\n\t\t\tid: PropTypes.number.isRequired,\r\n\t\t\ttitle: PropTypes.string.isRequired,\r\n\t\t\tstart: PropTypes.instanceOf(Date).isRequired,\r\n\t\t\tend: PropTypes.instanceOf(Date).isRequired,\r\n\t\t\tresource: PropTypes.object\r\n\t\t})\r\n\t).isRequired,\r\n\tisLoaded: PropTypes.bool,\r\n\t//\r\n\tisUploadDocument: PropTypes.bool,\r\n\thandleUploadDocument: PropTypes.func,\r\n\t//\r\n\tisGetRecordList: PropTypes.bool,\r\n\t//\r\n\tisStudyZoom: PropTypes.bool,\r\n\tfetchStudyZoom: PropTypes.func,\r\n\thandleStudyZoom: PropTypes.func,\r\n\thandleEndStudyZoom: PropTypes.func\r\n}\r\n\r\nCDCalendar.defaultProps = {\r\n\tisLoading: { type: '', status: false },\r\n\teventList: [],\r\n\tisLoaded: false,\r\n\t//\r\n\tisUploadDocument: false,\r\n\thandleUploadDocument: null,\r\n\t//\r\n\tisGetRecordList: false,\r\n\t//\r\n\tisStudyZoom: false,\r\n\tfetchStudyZoom: null,\r\n\thandleStudyZoom: null,\r\n\thandleEndStudyZoom: null\r\n}\r\n\r\nfunction CDCalendar(props) {\r\n\tconst router = useRouter()\r\n\tconst {\r\n\t\tisLoading,\r\n\t\teventList,\r\n\t\tisLoaded,\r\n\t\tisUploadDocument,\r\n\t\thandleUploadDocument,\r\n\t\tisGetRecordList,\r\n\t\tisStudyZoom,\r\n\t\tfetchStudyZoom,\r\n\t\thandleStudyZoom,\r\n\t\thandleEndStudyZoom\r\n\t} = props\r\n\r\n\tconsole.log('eventList: ', eventList)\r\n\r\n\tconst [courseScheduleID, setCourseScheduleID] = useState(0)\r\n\tconst [isModalVisible, setIsModalVisible] = useState<{\r\n\t\ttype: 'record' | 'document' | ''\r\n\t\tstatus: boolean\r\n\t}>({\r\n\t\ttype: '',\r\n\t\tstatus: false\r\n\t})\r\n\tconst openModal = (type: 'record' | 'document') =>\r\n\t\tsetIsModalVisible({\r\n\t\t\ttype,\r\n\t\t\tstatus: true\r\n\t\t})\r\n\tconst closeModal = () =>\r\n\t\tsetIsModalVisible({\r\n\t\t\ttype: '',\r\n\t\t\tstatus: false\r\n\t\t})\r\n\tconst { userInformation } = useWrap()\r\n\r\n\tconst middlewareOpenModal = (ID: number, type: 'record' | 'document') => {\r\n\t\tsetCourseScheduleID(ID)\r\n\t\topenModal(type)\r\n\t}\r\n\r\n\tconst checkFetchStudyZoom = (date) => {\r\n\t\tif (!fetchStudyZoom) return\r\n\t\tfetchStudyZoom(date)\r\n\t}\r\n\r\n\tconst checkHandleStudyZoom = (data: { idx: number; btnID: number; btnName: string; scheduleID: number }) => {\r\n\t\tif (!handleStudyZoom) return\r\n\t\thandleStudyZoom(data)\r\n\t}\r\n\r\n\tconst moveToTest = (data) => {\r\n\t\trouter.push({\r\n\t\t\tpathname: '/exam/exam-review',\r\n\t\t\tquery: {\r\n\t\t\t\texamID: data.ExamTopicID,\r\n\t\t\t\tpackageDetailID: data.CourseID,\r\n\t\t\t\ttype: 'check', // Kiểm tra,\r\n\t\t\t\tCurriculumDetailID: data.CurriculumsDetailID\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tconst checkTypeButtonStudyZoom = (data: { idx: number; btnID: number; btnName: string; scheduleID: number; dataDetail: any }) => {\r\n\t\tconst { btnID, btnName, dataDetail } = data\r\n\t\tif (!btnID) return\r\n\t\t// HỌC VIÊN\r\n\t\tif (userInformation?.RoleID === 3) {\r\n\t\t\tif (btnID === 2) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\tclassName=\"mt-3 btn-success w-100\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tcheckHandleStudyZoom(data)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{btnName}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\tif (btnID === 3) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Button disabled size=\"middle\" className=\"mt-3 btn-light w-100\">\r\n\t\t\t\t\t\t{btnName}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\tif (btnID === 4) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\tclassName=\"mt-3 btn-success w-100\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tmoveToTest(dataDetail)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{btnName}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\t// GIÁO VIÊN\r\n\t\tif (userInformation?.RoleID === 2 || userInformation?.RoleID === 5) {\r\n\t\t\tif (btnID === 1) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\tclassName=\"mt-3 btn-warning w-100\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tcheckHandleStudyZoom(data)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{btnName}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\tif (btnID === 2) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\t\tclassName=\"mt-3 btn-success w-100\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tcheckHandleStudyZoom(data)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{btnName}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\t\tclassName=\"btn-primary w-100\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tif (typeof window !== 'undefined') {\r\n\t\t\t\t\t\t\t\t\tconst url = window.location.origin\r\n\t\t\t\t\t\t\t\t\tnavigator.clipboard.writeText(`${url}/course/zoom-view/${data.scheduleID}`)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tstyle={{ marginTop: 4 }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tSao chép link zoom\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<CloseZoomRoom\r\n\t\t\t\t\t\t\tisIcon={false}\r\n\t\t\t\t\t\t\thandleClose={() => {\r\n\t\t\t\t\t\t\t\tcheckHandleStudyZoom({ ...data, btnID: 3 })\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\tif (btnID === 3) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Button disabled size=\"middle\" className=\"mt-3 btn-light w-100\">\r\n\t\t\t\t\t\t{btnName}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tconst getStrDate = (date) => {\r\n\t\tconst nDate = new Date(date)\r\n\t\treturn nDate.getDate() + '-' + (nDate.getMonth() + 1) + '-' + nDate.getFullYear()\r\n\t}\r\n\r\n\tconst compare = (dateTimeA, dateTimeB) => {\r\n\t\tvar momentA = moment(dateTimeA, 'DD/MM/YYYY')\r\n\t\tvar momentB = moment(dateTimeB, 'DD/MM/YYYY')\r\n\t\tif (momentA > momentB) return 1\r\n\t\telse if (momentA < momentB) return -1\r\n\t\telse return 0\r\n\t}\r\n\r\n\tconst styleEvent = ({ event }) => {\r\n\t\tconst date = new Date()\r\n\t\tlet checkDate = compare(getStrDate(event.start), getStrDate(date)) // -1: qua roi, 0: hom nay, 1: chua qua\r\n\r\n\t\tconst {\r\n\t\t\tID,\r\n\t\t\tCourseID,\r\n\t\t\tCourseName,\r\n\t\t\tRoomName,\r\n\t\t\tBranchName,\r\n\t\t\tTeacherName,\r\n\t\t\tSubjectName,\r\n\t\t\tLinkDocument,\r\n\t\t\t//\r\n\t\t\tStudyTimeName,\r\n\t\t\t// ZOOM\r\n\t\t\tButtonID: btnID,\r\n\t\t\tButtonName: btnName,\r\n\t\t\tidx,\r\n\t\t\tIsExam,\r\n\t\t\tCurriculumDetailID,\r\n\t\t\tTeacherAttendanceID\r\n\t\t} = event.resource\r\n\r\n\t\tconst dataDetail = event.resource\r\n\t\tconst content = (\r\n\t\t\t<div className=\"course-dt-event-info\" style={{ maxWidth: 300 }}>\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t{CourseName && (\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<span>Khóa học:</span> {CourseName}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{SubjectName && (\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<span>{IsExam ? 'Kiểm tra môn:' : 'Bài học:'} </span> {SubjectName}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{RoomName && (\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<span>Phòng:</span> {RoomName}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{TeacherName && (\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<span>GV:</span> {TeacherName}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{BranchName && (\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<span>Trung tâm:</span> {BranchName}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{LinkDocument && (\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<span>Tài liệu: </span>\r\n\t\t\t\t\t\t\t{LinkDocument ? (\r\n\t\t\t\t\t\t\t\t<a href={LinkDocument} target=\"_blank\" download>\r\n\t\t\t\t\t\t\t\t\t<i>Click to download</i>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t'Trống'\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{isGetRecordList && (\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Button size=\"middle\" className=\"mt-3 btn-success w-100\" onClick={() => middlewareOpenModal(parseInt(ID), 'record')}>\r\n\t\t\t\t\t\t\t\tBản ghi buổi học\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{isUploadDocument && (\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Button size=\"middle\" className=\"mt-2 btn-warning w-100\" onClick={() => middlewareOpenModal(parseInt(ID), 'document')}>\r\n\t\t\t\t\t\t\t\tThêm tài liệu\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{isStudyZoom && (\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t{checkTypeButtonStudyZoom({\r\n\t\t\t\t\t\t\t\tidx,\r\n\t\t\t\t\t\t\t\tbtnID,\r\n\t\t\t\t\t\t\t\tbtnName,\r\n\t\t\t\t\t\t\t\tscheduleID: ID,\r\n\t\t\t\t\t\t\t\tdataDetail\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t)\r\n\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tclassName=\"calendar-item\"\r\n\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\te.stopPropagation()\r\n\t\t\t\t\te.nativeEvent.stopImmediatePropagation()\r\n\t\t\t\t}}\r\n\t\t\t\t// 0 - ,1-Bắt đầu , 2-Vào lớp học, 3-Kết thúc\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tbackgroundColor:\r\n\t\t\t\t\t\tTeacherAttendanceID !== 0\r\n\t\t\t\t\t\t\t? '#80DEEA'\r\n\t\t\t\t\t\t\t: IsExam !== undefined && IsExam == true\r\n\t\t\t\t\t\t\t? '#FF9800'\r\n\t\t\t\t\t\t\t: checkDate == 0\r\n\t\t\t\t\t\t\t? btnID == undefined || btnID == null || btnID == ''\r\n\t\t\t\t\t\t\t\t? '#fac10a'\r\n\t\t\t\t\t\t\t\t: btnID == 3\r\n\t\t\t\t\t\t\t\t? '#bdbdbd'\r\n\t\t\t\t\t\t\t\t: '#fac10a'\r\n\t\t\t\t\t\t\t: checkDate == -1\r\n\t\t\t\t\t\t\t? '#bdbdbd'\r\n\t\t\t\t\t\t\t: '#3174ad'\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Popover\r\n\t\t\t\t\tzIndex={999}\r\n\t\t\t\t\ttitle={`Ca: ${StudyTimeName}`}\r\n\t\t\t\t\tcontent={content}\r\n\t\t\t\t\tplacement=\"rightTop\"\r\n\t\t\t\t\ttrigger={window.matchMedia('(max-width: 1199px)').matches ? 'click' : 'hover'}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className=\"course-dt-event\">\r\n\t\t\t\t\t\t<div className=\"time\">Ca: {StudyTimeName}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Popover>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\tconst styleAgenda = ({ event }) => {\r\n\t\tconst {\r\n\t\t\tID,\r\n\t\t\tRoomName,\r\n\t\t\tCourseName,\r\n\t\t\tBranchName,\r\n\t\t\tTeacherName,\r\n\t\t\tSubjectName,\r\n\t\t\tLinkDocument,\r\n\t\t\t//\r\n\t\t\tStudyTimeName,\r\n\t\t\t// ZOOM\r\n\t\t\tButtonID: btnID,\r\n\t\t\tButtonName: btnName,\r\n\t\t\tidx,\r\n\t\t\tIsExam,\r\n\t\t\tCurriculumsDetailID\r\n\t\t} = event.resource\r\n\r\n\t\tconst dataDetail = event.resource\r\n\t\treturn (\r\n\t\t\t<div className=\"course-dt-event\">\r\n\t\t\t\t<div className=\"time\">Ca: {StudyTimeName}</div>\r\n\t\t\t\t<div className=\"course-dt-event-info\">\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t{CourseName && (\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<span>Khóa học:</span> {CourseName}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{SubjectName && (\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<span>{IsExam ? 'Kiểm tra môn:' : 'Môn:'} </span> {SubjectName}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{RoomName && (\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<span>Phòng:</span> {RoomName}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{TeacherName && (\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<span>GV:</span> {TeacherName}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{BranchName && (\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<span>Trung tâm:</span> {BranchName}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{LinkDocument && (\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<span>Tài liệu: </span>\r\n\t\t\t\t\t\t\t\t{LinkDocument ? (\r\n\t\t\t\t\t\t\t\t\t<a href={LinkDocument} target=\"_blank\" download>\r\n\t\t\t\t\t\t\t\t\t\t<i>Click to download</i>\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t'Trống'\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{isGetRecordList && (\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<Button size=\"middle\" className=\"mt-3 btn-success w-100\" onClick={() => middlewareOpenModal(parseInt(ID), 'record')}>\r\n\t\t\t\t\t\t\t\t\tBản ghi buổi học\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{isUploadDocument && (\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<Button size=\"middle\" className=\"mt-2 btn-warning w-100\" onClick={() => middlewareOpenModal(parseInt(ID), 'document')}>\r\n\t\t\t\t\t\t\t\t\tThêm tài liệu\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{isStudyZoom && (\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t{checkTypeButtonStudyZoom({\r\n\t\t\t\t\t\t\t\t\tidx,\r\n\t\t\t\t\t\t\t\t\tbtnID,\r\n\t\t\t\t\t\t\t\t\tbtnName,\r\n\t\t\t\t\t\t\t\t\tscheduleID: ID,\r\n\t\t\t\t\t\t\t\t\tdataDetail\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\tconst styleDay = ({ event }) => {\r\n\t\tconst dataDetail = event.resource\r\n\r\n\t\tconst {\r\n\t\t\tID,\r\n\t\t\tCourseID,\r\n\t\t\tCourseName,\r\n\t\t\tRoomName,\r\n\t\t\tBranchName,\r\n\t\t\tTeacherName,\r\n\t\t\tSubjectName,\r\n\t\t\tLinkDocument,\r\n\t\t\t//\r\n\t\t\tStudyTimeName,\r\n\t\t\t// ZOOM\r\n\t\t\tButtonID: btnID,\r\n\t\t\tButtonName: btnName,\r\n\t\t\tidx,\r\n\t\t\tIsExam,\r\n\t\t\tCurriculumsDetailID\r\n\t\t} = event.resource\r\n\t\tconst content = (\r\n\t\t\t<div className=\"course-dt-event-info\" style={{ maxWidth: 300 }}>\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t{CourseName && (\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<span>Khóa học:</span> {CourseName}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{SubjectName && (\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<span>{IsExam ? 'Kiểm tra môn:' : 'Môn:'} </span> {SubjectName}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{RoomName && (\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<span>Phòng:</span> {RoomName}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{TeacherName && (\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<span>GV:</span> {TeacherName}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{BranchName && (\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<span>Trung tâm:</span> {BranchName}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{LinkDocument && (\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<span>Tài liệu: </span>\r\n\t\t\t\t\t\t\t{LinkDocument ? (\r\n\t\t\t\t\t\t\t\t<a href={LinkDocument} target=\"_blank\" download>\r\n\t\t\t\t\t\t\t\t\t<i>Click to download</i>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t'Trống'\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{isGetRecordList && (\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Button size=\"middle\" className=\"mt-3 btn-success w-100\" onClick={() => middlewareOpenModal(parseInt(ID), 'record')}>\r\n\t\t\t\t\t\t\t\tBản ghi buổi học\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{isUploadDocument && (\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Button size=\"middle\" className=\"mt-2 btn-warning w-100\" onClick={() => middlewareOpenModal(parseInt(ID), 'document')}>\r\n\t\t\t\t\t\t\t\tThêm tài liệu\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{isStudyZoom && (\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t{checkTypeButtonStudyZoom({\r\n\t\t\t\t\t\t\t\tidx,\r\n\t\t\t\t\t\t\t\tbtnID,\r\n\t\t\t\t\t\t\t\tbtnName,\r\n\t\t\t\t\t\t\t\tscheduleID: ID,\r\n\t\t\t\t\t\t\t\tdataDetail\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t)\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\te.stopPropagation()\r\n\t\t\t\t\te.nativeEvent.stopImmediatePropagation()\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Popover\r\n\t\t\t\t\tzIndex={999}\r\n\t\t\t\t\ttitle={`Ca: ${StudyTimeName}`}\r\n\t\t\t\t\tcontent={content}\r\n\t\t\t\t\tplacement=\"bottomLeft\"\r\n\t\t\t\t\ttrigger={window.matchMedia('(max-width: 1199px)').matches ? 'click' : 'hover'}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className=\"course-dt-event\">\r\n\t\t\t\t\t\t<div className=\"time\">Ca: {StudyTimeName}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Popover>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\tconst customEventPropGetter = (event, start, end, isSelected) => {\r\n\t\tif (event.resource.IsExam) {\r\n\t\t\treturn {\r\n\t\t\t\tclassName: 'bg-warning text-dark'\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn (\r\n\t\t<div className=\"wrap-calendar\">\r\n\t\t\t<Spin spinning={!isLoaded} size=\"large\" wrapperClassName=\"calendar-loading\">\r\n\t\t\t\t<Calendar\r\n\t\t\t\t\tclassName=\"custom-calendar\"\r\n\t\t\t\t\tlocalizer={localizer}\r\n\t\t\t\t\tevents={eventList}\r\n\t\t\t\t\tstartAccessor=\"start\"\r\n\t\t\t\t\tendAccessor=\"end\"\r\n\t\t\t\t\tstyle={{ minHeight: 600 }}\r\n\t\t\t\t\tpopup\r\n\t\t\t\t\tdefaultView=\"month\"\r\n\t\t\t\t\tshowMultiDayTimes={false}\r\n\t\t\t\t\tonRangeChange={checkFetchStudyZoom}\r\n\t\t\t\t\teventPropGetter={customEventPropGetter}\r\n\t\t\t\t\thandleDragStart={() => null}\r\n\t\t\t\t\tformats={{\r\n\t\t\t\t\t\tagendaDateFormat: 'DD/MM/YYYY',\r\n\t\t\t\t\t\tmonthHeaderFormat: (date) => moment(date).format('MM/YYYY'),\r\n\t\t\t\t\t\tdayHeaderFormat: (date) => {\r\n\t\t\t\t\t\t\tconst dayArr = ['Chủ Nhật', 'Thứ 2', 'Thứ 3', 'Thứ 4', 'Thứ 5', 'Thứ 6', 'Thứ 7']\r\n\t\t\t\t\t\t\tconst dayOffWeek = dayArr[moment(date).day()]\r\n\t\t\t\t\t\t\treturn `${dayOffWeek} - ${moment(date).format('DD/MM')}`\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdayRangeHeaderFormat: ({ start, end }) => `${moment(start).format('DD/MM')} - ${moment(end).format('DD/MM')}`\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tcomponents={{\r\n\t\t\t\t\t\tevent: styleEvent,\r\n\t\t\t\t\t\tday: {\r\n\t\t\t\t\t\t\tevent: styleDay\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tagenda: { event: styleAgenda }\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tmessages={{}}\r\n\t\t\t\t/>\r\n\t\t\t</Spin>\r\n\t\t\t{isUploadDocument && (\r\n\t\t\t\t<CourseDetailUploadFile\r\n\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\tisModalVisible={isModalVisible.type === 'document' && isModalVisible.status}\r\n\t\t\t\t\thandleCloseModal={closeModal}\r\n\t\t\t\t\thandleUploadDocument={handleUploadDocument}\r\n\t\t\t\t\tcourseScheduleID={courseScheduleID}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t{isGetRecordList && (\r\n\t\t\t\t<ZoomRecordModal\r\n\t\t\t\t\tscheduleID={courseScheduleID}\r\n\t\t\t\t\tisOpenModal={isModalVisible.type === 'record' && isModalVisible.status}\r\n\t\t\t\t\tonCloseModal={closeModal}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t<div className=\"row m-0 p-0 pt-3\" style={{ alignItems: 'center' }}>\r\n\t\t\t\t<div style={{ width: 15, height: 15, backgroundColor: '#3174ad', marginRight: 10 }} />\r\n\t\t\t\t<div>Chưa học</div>\r\n\t\t\t\t<div style={{ width: 15, height: 15, backgroundColor: '#fac10a', marginRight: 10, marginLeft: 10 }} />\r\n\t\t\t\t<div>Buổi học trong ngày</div>\r\n\t\t\t\t<div style={{ width: 15, height: 15, backgroundColor: '#FF9800', marginRight: 10, marginLeft: 10 }} />\r\n\t\t\t\t<div>Kiểm tra</div>\r\n\t\t\t\t<div style={{ width: 15, height: 15, backgroundColor: '#bdbdbd', marginRight: 10, marginLeft: 10 }} />\r\n\t\t\t\t<div>Chưa điểm danh</div>\r\n\t\t\t\t<div style={{ width: 15, height: 15, backgroundColor: '#80DEEA', marginRight: 10, marginLeft: 10 }} />\r\n\t\t\t\t<div>Đã điểm danh</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default CDCalendar\r\n"]},"metadata":{},"sourceType":"module"}