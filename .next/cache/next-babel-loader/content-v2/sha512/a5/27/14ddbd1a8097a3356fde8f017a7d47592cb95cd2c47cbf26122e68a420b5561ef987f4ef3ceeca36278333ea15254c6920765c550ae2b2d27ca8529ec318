{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Elements\\\\AudioRecord\\\\AudioRecord.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport AudioReactRecorder, { RecordState } from 'audio-react-recorder';\nimport { exerciseGroupApi } from '~/apiBase/';\nimport { useWrap } from '~/context/wrap';\nimport { Mic, Pause, Play, Square } from 'react-feather';\nimport { Spin, Tooltip } from 'antd';\n\nvar AudioRecord = function AudioRecord(props) {\n  _s();\n\n  var getLinkRecord = props.getLinkRecord,\n      linkRecord = props.linkRecord;\n\n  var _useState = useState(null),\n      state = _useState[0],\n      setState = _useState[1];\n\n  var _useWrap = useWrap(),\n      showNoti = _useWrap.showNoti;\n\n  var _useState2 = useState(null),\n      linkAudio = _useState2[0],\n      setLinkAudio = _useState2[1];\n\n  var _useState3 = useState(false),\n      loadingUpload = _useState3[0],\n      setLoadingUpload = _useState3[1];\n\n  var _useState4 = useState(false),\n      isRecord = _useState4[0],\n      setIsRecord = _useState4[1];\n\n  var _useState5 = useState(false),\n      isPause = _useState5[0],\n      setIsPause = _useState5[1];\n\n  var start = function start() {\n    try {\n      setState(RecordState.START);\n      setIsRecord(true);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  var pause = function pause() {\n    setState(RecordState.PAUSE);\n    setIsPause(!isPause);\n    isPause && start();\n  };\n\n  var stop = function stop() {\n    setState(RecordState.STOP);\n  };\n\n  function blobToFile(theBlob, fileName) {\n    theBlob.lastModifiedDate = new Date();\n    theBlob.name = fileName;\n    return new File([theBlob], fileName, {\n      lastModified: new Date().getTime(),\n      type: theBlob.type\n    });\n  }\n\n  var onStop = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(audioData) {\n      var file, res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              file = blobToFile(audioData.blob, 'record-audio.mp3');\n              setLoadingUpload(true);\n              setIsRecord(false);\n              setIsPause(false);\n              console.log('==========');\n              console.log('audioData: ', audioData);\n              console.log(file);\n              _context.prev = 7;\n              _context.next = 10;\n              return exerciseGroupApi.UploadAudio(file);\n\n            case 10:\n              res = _context.sent;\n\n              if (res.status == 200) {\n                setLinkAudio(res.data.data);\n                getLinkRecord(res.data.data);\n                showNoti('success', 'Ghi âm thành công');\n              }\n\n              _context.next = 17;\n              break;\n\n            case 14:\n              _context.prev = 14;\n              _context.t0 = _context[\"catch\"](7);\n              showNoti('danger', _context.t0.message);\n\n            case 17:\n              _context.prev = 17;\n              setLoadingUpload(false);\n              return _context.finish(17);\n\n            case 20:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[7, 14, 17, 20]]);\n    }));\n\n    return function onStop(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    setLinkAudio(linkRecord);\n  }, [linkRecord]);\n  useEffect(function () {\n    Promise.resolve(navigator.mediaDevices.getUserMedia({\n      audio: true\n    }));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wrap-audio-record mt-2\",\n    children: [/*#__PURE__*/_jsxDEV(AudioReactRecorder, {\n      state: state,\n      onStop: onStop,\n      canvasHeight: 30,\n      canvasWidth: 300\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 4\n    }, _this), loadingUpload ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex align-items-center mt-2 mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(Spin, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 6\n      }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          marginLeft: '5px',\n          fontStyle: 'italic',\n          fontSize: '13px'\n        },\n        children: \"Loading audio...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 6\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }, _this) : linkAudio && /*#__PURE__*/_jsxDEV(\"audio\", {\n      controls: true,\n      children: /*#__PURE__*/_jsxDEV(\"source\", {\n        src: linkAudio,\n        type: \"audio/mpeg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 7\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 6\n    }, _this), !isRecord && /*#__PURE__*/_jsxDEV(Tooltip, {\n      title: \"B\\u1EAFt \\u0111\\u1EA7u ghi \\xE2m\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-record start\",\n        onClick: start,\n        children: /*#__PURE__*/_jsxDEV(Mic, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 7\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 6\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 5\n    }, _this), isRecord && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"T\\u1EA1m d\\u1EEBng\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-record pause mr-2\",\n          onClick: pause,\n          children: !isPause ? /*#__PURE__*/_jsxDEV(Pause, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 20\n          }, _this) : /*#__PURE__*/_jsxDEV(Play, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 32\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 7\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 6\n      }, _this), /*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"L\\u01B0u l\\u1EA1i\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-record save\",\n          onClick: stop,\n          children: /*#__PURE__*/_jsxDEV(Square, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 8\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 7\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 6\n      }, _this)]\n    }, void 0, true), isPause && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-block mt-2\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-italic\",\n        style: {\n          fontWeight: 500,\n          opacity: 0.7\n        },\n        children: \"L\\u01B0u \\xFD: Hi\\u1EC7n b\\u1EA1n \\u0111ang t\\u1EA1m d\\u1EEBng. B\\u1EA5m v\\xE0o n\\xFAt l\\u01B0u b\\xEAn tr\\xEAn \\u0111\\u1EC3 l\\u01B0u l\\u1EA1i \\u0111o\\u1EA1n ghi \\xE2m.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 6\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 5\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 3\n  }, _this);\n};\n\n_s(AudioRecord, \"2G2ZgwYMsbQyuCjsYHpxoYGId2I=\", false, function () {\n  return [useWrap];\n});\n\n_c = AudioRecord;\nexport default AudioRecord;\n\nvar _c;\n\n$RefreshReg$(_c, \"AudioRecord\");","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Elements/AudioRecord/AudioRecord.tsx"],"names":["React","useEffect","useState","AudioReactRecorder","RecordState","exerciseGroupApi","useWrap","Mic","Pause","Play","Square","Spin","Tooltip","AudioRecord","props","getLinkRecord","linkRecord","state","setState","showNoti","linkAudio","setLinkAudio","loadingUpload","setLoadingUpload","isRecord","setIsRecord","isPause","setIsPause","start","START","error","console","log","pause","PAUSE","stop","STOP","blobToFile","theBlob","fileName","lastModifiedDate","Date","name","File","lastModified","getTime","type","onStop","audioData","file","blob","UploadAudio","res","status","data","message","Promise","resolve","navigator","mediaDevices","getUserMedia","audio","marginLeft","fontStyle","fontSize","fontWeight","opacity"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport AudioReactRecorder, { RecordState } from 'audio-react-recorder'\r\nimport { exerciseGroupApi } from '~/apiBase/'\r\nimport { useWrap } from '~/context/wrap'\r\nimport { Mic, Pause, Play, Square } from 'react-feather'\r\nimport { Spin, Tooltip } from 'antd'\r\n\r\nconst AudioRecord = (props) => {\r\n\tconst { getLinkRecord, linkRecord } = props\r\n\tconst [state, setState] = useState(null)\r\n\tconst { showNoti } = useWrap()\r\n\tconst [linkAudio, setLinkAudio] = useState(null)\r\n\tconst [loadingUpload, setLoadingUpload] = useState(false)\r\n\tconst [isRecord, setIsRecord] = useState(false)\r\n\tconst [isPause, setIsPause] = useState(false)\r\n\r\n\tconst start = () => {\r\n\t\ttry {\r\n\t\t\tsetState(RecordState.START)\r\n\t\t\tsetIsRecord(true)\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error)\r\n\t\t}\r\n\t}\r\n\r\n\tconst pause = () => {\r\n\t\tsetState(RecordState.PAUSE)\r\n\t\tsetIsPause(!isPause)\r\n\t\tisPause && start()\r\n\t}\r\n\r\n\tconst stop = () => {\r\n\t\tsetState(RecordState.STOP)\r\n\t}\r\n\r\n\tfunction blobToFile(theBlob, fileName) {\r\n\t\ttheBlob.lastModifiedDate = new Date()\r\n\t\ttheBlob.name = fileName\r\n\t\treturn new File([theBlob], fileName, {\r\n\t\t\tlastModified: new Date().getTime(),\r\n\t\t\ttype: theBlob.type\r\n\t\t})\r\n\t}\r\n\r\n\tconst onStop = async (audioData) => {\r\n\t\tlet file = blobToFile(audioData.blob, 'record-audio.mp3')\r\n\t\tsetLoadingUpload(true)\r\n\t\tsetIsRecord(false)\r\n\t\tsetIsPause(false)\r\n\r\n\t\tconsole.log('==========')\r\n\t\tconsole.log('audioData: ', audioData)\r\n\r\n\t\tconsole.log(file)\r\n\r\n\t\ttry {\r\n\t\t\tlet res = await exerciseGroupApi.UploadAudio(file)\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tsetLinkAudio(res.data.data)\r\n\t\t\t\tgetLinkRecord(res.data.data)\r\n\t\t\t\tshowNoti('success', 'Ghi âm thành công')\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetLoadingUpload(false)\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tsetLinkAudio(linkRecord)\r\n\t}, [linkRecord])\r\n\r\n\tuseEffect(() => {\r\n\t\tPromise.resolve(navigator.mediaDevices.getUserMedia({ audio: true }))\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<div className=\"wrap-audio-record mt-2\">\r\n\t\t\t<AudioReactRecorder state={state} onStop={onStop} canvasHeight={30} canvasWidth={300} />\r\n\r\n\t\t\t{loadingUpload ? (\r\n\t\t\t\t<div className=\"d-flex align-items-center mt-2 mb-2\">\r\n\t\t\t\t\t<Spin />\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tmarginLeft: '5px',\r\n\t\t\t\t\t\t\tfontStyle: 'italic',\r\n\t\t\t\t\t\t\tfontSize: '13px'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tLoading audio...\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\tlinkAudio && (\r\n\t\t\t\t\t<audio controls>\r\n\t\t\t\t\t\t<source src={linkAudio} type=\"audio/mpeg\" />\r\n\t\t\t\t\t</audio>\r\n\t\t\t\t)\r\n\t\t\t)}\r\n\r\n\t\t\t{!isRecord && (\r\n\t\t\t\t<Tooltip title=\"Bắt đầu ghi âm\">\r\n\t\t\t\t\t<button className=\"btn-record start\" onClick={start}>\r\n\t\t\t\t\t\t<Mic />\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t)}\r\n\r\n\t\t\t{isRecord && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Tooltip title=\"Tạm dừng\">\r\n\t\t\t\t\t\t<button className=\"btn-record pause mr-2\" onClick={pause}>\r\n\t\t\t\t\t\t\t{!isPause ? <Pause /> : <Play />}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t<Tooltip title=\"Lưu lại\">\r\n\t\t\t\t\t\t<button className=\"btn-record save\" onClick={stop}>\r\n\t\t\t\t\t\t\t<Square />\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\r\n\t\t\t{isPause && (\r\n\t\t\t\t<div className=\"d-block mt-2\">\r\n\t\t\t\t\t<p className=\"font-italic\" style={{ fontWeight: 500, opacity: 0.7 }}>\r\n\t\t\t\t\t\tLưu ý: Hiện bạn đang tạm dừng. Bấm vào nút lưu bên trên để lưu lại đoạn ghi âm.\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default AudioRecord\r\n"]},"metadata":{},"sourceType":"module"}