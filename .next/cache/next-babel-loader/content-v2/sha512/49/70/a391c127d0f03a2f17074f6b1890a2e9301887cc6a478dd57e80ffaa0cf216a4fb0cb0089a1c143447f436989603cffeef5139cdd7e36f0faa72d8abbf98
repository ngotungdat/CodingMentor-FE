{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"D:/MonaMedia/Project/CodingMentor/CodingMentor-FE/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"D:/MonaMedia/Project/CodingMentor/CodingMentor-FE/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _regeneratorRuntime from \"D:/MonaMedia/Project/CodingMentor/CodingMentor-FE/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _toConsumableArray from \"D:/MonaMedia/Project/CodingMentor/CodingMentor-FE/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _asyncToGenerator from \"D:/MonaMedia/Project/CodingMentor/CodingMentor-FE/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\CodingMentor\\\\CodingMentor-FE\\\\src\\\\components\\\\Global\\\\NewsFeed\\\\NewsFeed.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { Empty, Skeleton } from 'antd';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Waypoint } from 'react-waypoint';\nimport { backgroundNewsFeedApi, courseApi, groupNewsFeedApi, newsFeedApi, newsFeedCommentApi, newsFeedCommentReplyApi, newsFeedLikeApi, userBranchApi, userGroupNewsFeedApi, userInformationApi } from '~/apiBase';\nimport CreateNewsFeed from '~/components/Global/NewsFeed/CreateNewsFeed';\nimport ListNewsFeed from '~/components/Global/NewsFeed/ListNewsFeed';\nimport AddUserForm from '~/components/Global/NewsFeed/NewsFeedGroupComponents/AddUserForm';\nimport BannerGroup from '~/components/Global/NewsFeed/NewsFeedGroupComponents/BannerGroup';\nimport DeleteGroup from '~/components/Global/NewsFeed/NewsFeedGroupComponents/DeleteGroup';\nimport GroupForm from '~/components/Global/NewsFeed/NewsFeedGroupComponents/GroupForm';\nimport RemoveUser from '~/components/Global/NewsFeed/NewsFeedGroupComponents/RemoveUser';\nimport DeleteNewsFeed from '~/components/Global/NewsFeed/NewsFeedItemComponents/DeleteNewsFeed';\nimport NewsFeedItem from '~/components/Global/NewsFeed/NewsFeedItemComponents/NewsFeedItem';\nimport SideBarNewsFeed from '~/components/Global/NewsFeed/SideBarNewsFeed';\nimport { useDebounce } from '~/context/useDebounce';\nimport { useWrap } from '~/context/wrap';\nimport { Roles } from '~/lib/roles/listRoles';\nimport { fmSelectArr } from '~/utils/functions';\nimport { useRouter } from 'next/router';\nimport TitlePage from '~/components/TitlePage';\nvar initialNewsFeedList = [];\nvar initialPageIndex = 1;\n\nvar NewsFeed = function NewsFeed() {\n  _s();\n\n  var _useWrap = useWrap(),\n      showNoti = _useWrap.showNoti,\n      userInformation = _useWrap.userInformation;\n\n  var _useState = useState({\n    type: '',\n    status: false\n  }),\n      isLoading = _useState[0],\n      setIsLoading = _useState[1];\n\n  var _useState2 = useState([]),\n      newsFeedList = _useState2[0],\n      setNewsFeedList = _useState2[1];\n\n  var _useState3 = useState(1),\n      totalNewsFeed = _useState3[0],\n      setTotalNewsFeed = _useState3[1];\n\n  var _useState4 = useState(false),\n      emptyNewsFeed = _useState4[0],\n      setEmptyNewsFeed = _useState4[1];\n\n  var _useState5 = useState([]),\n      idListUserLiked = _useState5[0],\n      setIDListUserLiked = _useState5[1];\n\n  var _useState6 = useState(true),\n      hasNextPage = _useState6[0],\n      setHasNextPage = _useState6[1];\n\n  var _useState7 = useState(1),\n      pageIndex = _useState7[0],\n      setPageIndex = _useState7[1];\n\n  var router = useRouter(); // STONE DATA TO FILTER NEWS FEED\n\n  var _useState8 = useState({\n    name: null,\n    idTeam: null,\n    idGroup: router.query.idGroup ? Number(router.query.idGroup) : null\n  }),\n      filtersData = _useState8[0],\n      setFiltersData = _useState8[1]; // OPTION LIST FOR CREATE NEWS FEED\n\n\n  var _useState9 = useState({\n    teamOptionList: [],\n    groupOptionList: []\n  }),\n      optionList = _useState9[0],\n      setOptionList = _useState9[1];\n\n  var _useState10 = useState([]),\n      backgroundList = _useState10[0],\n      setBackgroundList = _useState10[1]; // GROUP\n\n\n  var _useState11 = useState({\n    info: null,\n    userList: []\n  }),\n      infoGroup = _useState11[0],\n      setInfoGroup = _useState11[1];\n\n  var _useState12 = useState([]),\n      courseList = _useState12[0],\n      setCourseList = _useState12[1];\n\n  var _useState13 = useState([]),\n      userOptionList = _useState13[0],\n      setUserOptionList = _useState13[1];\n\n  var roleOptionList = Roles.filter(function (r) {\n    return r.id !== 1 && r.id !== 5;\n  }).map(function (r) {\n    return {\n      title: r.RoleName,\n      value: r.id\n    };\n  });\n  var roleMemberOptionList = [{\n    label: 'Thành viên',\n    value: 2\n  }, {\n    label: 'Quản trị viên',\n    value: 1\n  }]; // CHECK AUTHENTICATE\n  // 1: ADMIN - 5: MANAGER\n\n  var checkAuthorization = function checkAuthorization(newsFeedAuthor) {\n    if (!userInformation) return 'Ignore';\n    var role = userInformation['RoleID'];\n    var uid = userInformation.UserInformationID;\n\n    if (role === 1 || role === 2 || role === 5 || +newsFeedAuthor === +uid) {\n      return 'Accept';\n    }\n\n    return 'Ignore';\n  }; // RESET DATA BACK TO INIT\n\n\n  var reset = function reset() {\n    setNewsFeedList(initialNewsFeedList);\n    setPageIndex(initialPageIndex);\n  }; // --------------FETCH--------------\n\n\n  var fetchNewsFeedList = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setIsLoading({\n                type: 'GET_LIST',\n                status: true\n              });\n              _context.prev = 1;\n              _context.next = 4;\n              return newsFeedApi.getAll({\n                pageIndex: pageIndex,\n                pageSize: 5,\n                GroupNewsFeedID: filtersData.idGroup,\n                BranchID: filtersData.idTeam,\n                FullNameUnicode: filtersData.name\n              });\n\n            case 4:\n              res = _context.sent;\n\n              if (res.status === 204) {\n                setEmptyNewsFeed(true);\n                setHasNextPage(false);\n                setTotalNewsFeed(0);\n              }\n\n              if (res.status === 200) {\n                setNewsFeedList([].concat(_toConsumableArray(newsFeedList), _toConsumableArray(res.data.data)));\n                setEmptyNewsFeed(false);\n                setTotalNewsFeed(res.data.totalRow);\n\n                if (res.data.data.length < 5) {\n                  setHasNextPage(false);\n                }\n              }\n\n              _context.next = 12;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](1);\n              console.log('fetchNewsFeedList', _context.t0.message);\n\n            case 12:\n              _context.prev = 12;\n              setIsLoading({\n                type: 'GET_LIST',\n                status: false\n              });\n              return _context.finish(12);\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 9, 12, 15]]);\n    }));\n\n    return function fetchNewsFeedList() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    pageIndex === 1 && fetchNewsFeedList();\n  }, [pageIndex, filtersData]);\n\n  var fetchOptionList = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var _yield$Promise$all, _yield$Promise$all2, team, group, teamOptionList, groupOptionList;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return Promise.all([userBranchApi.getAll({\n                getbytokenID: true\n              }), groupNewsFeedApi.getAll({\n                selectAll: true\n              })]);\n\n            case 3:\n              _yield$Promise$all = _context2.sent;\n              _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 2);\n              team = _yield$Promise$all2[0];\n              group = _yield$Promise$all2[1];\n\n              if (team.status === 200) {\n                teamOptionList = fmSelectArr(team.data.data, 'BranchName', 'BranchID');\n                setOptionList(function (prevState) {\n                  return _objectSpread(_objectSpread({}, prevState), {}, {\n                    teamOptionList: teamOptionList\n                  });\n                });\n              } else {\n                setOptionList(function (prevState) {\n                  return _objectSpread(_objectSpread({}, prevState), {}, {\n                    teamOptionList: []\n                  });\n                });\n              }\n\n              if (group.status === 200) {\n                groupOptionList = fmSelectArr(group.data.data, 'Name', 'ID');\n                setOptionList(function (prevState) {\n                  return _objectSpread(_objectSpread({}, prevState), {}, {\n                    groupOptionList: groupOptionList\n                  });\n                });\n              } else {\n                setOptionList(function (prevState) {\n                  return _objectSpread(_objectSpread({}, prevState), {}, {\n                    groupOptionList: []\n                  });\n                });\n              }\n\n              _context2.next = 14;\n              break;\n\n            case 11:\n              _context2.prev = 11;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.log('fetchOptionList', _context2.t0.message);\n\n            case 14:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 11]]);\n    }));\n\n    return function fetchOptionList() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    fetchOptionList();\n  }, []);\n\n  var fetchCourseList = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var res, fmCourseList;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n\n              if (!(checkAuthorization() === 'Ignore')) {\n                _context3.next = 3;\n                break;\n              }\n\n              return _context3.abrupt(\"return\");\n\n            case 3:\n              _context3.next = 5;\n              return courseApi.getAll({\n                selectAll: true\n              });\n\n            case 5:\n              res = _context3.sent;\n\n              if (res.status === 200) {\n                fmCourseList = res.data.data.map(function (c) {\n                  return {\n                    title: \"\".concat(c.DonePercent, \"% - \").concat(c.CourseName),\n                    value: c.ID\n                  };\n                });\n                setCourseList(fmCourseList);\n              }\n\n              _context3.next = 12;\n              break;\n\n            case 9:\n              _context3.prev = 9;\n              _context3.t0 = _context3[\"catch\"](0);\n              console.log('fetchCourseList', _context3.t0.message);\n\n            case 12:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[0, 9]]);\n    }));\n\n    return function fetchCourseList() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    fetchCourseList();\n  }, [userInformation]);\n\n  var checkFileType = function checkFileType(file) {\n    var type = file.type,\n        name = file.name;\n\n    if (type.includes('image')) {\n      return {\n        name: name,\n        type: type,\n        Type: 2\n      };\n    }\n\n    if (type.includes('audio')) {\n      return {\n        name: name,\n        type: type,\n        Type: 3\n      };\n    }\n\n    if (type.includes('video')) {\n      return {\n        name: name,\n        type: type,\n        Type: 4\n      };\n    }\n\n    return {\n      name: name,\n      Type: 0\n    };\n  };\n\n  var onUploadFile = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(fileList) {\n      var nextPost, resArr, rs;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.prev = 0;\n              nextPost = 0;\n              _context4.next = 4;\n              return Promise.all(fileList.reduce(function (newArr, file, idx) {\n                if (file.originFileObj) {\n                  newArr.push(newsFeedApi.uploadFile(file.originFileObj));\n                } else {\n                  nextPost = idx + 1;\n                  newArr;\n                }\n\n                return newArr;\n              }, []));\n\n            case 4:\n              resArr = _context4.sent;\n              rs = resArr.map(function (r) {\n                return _objectSpread({\n                  uid: r.data.data,\n                  url: r.data.data\n                }, checkFileType(fileList[nextPost]));\n              });\n              return _context4.abrupt(\"return\", rs);\n\n            case 9:\n              _context4.prev = 9;\n              _context4.t0 = _context4[\"catch\"](0);\n              console.log('onUploadFile', _context4.t0);\n\n            case 12:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[0, 9]]);\n    }));\n\n    return function onUploadFile(_x) {\n      return _ref4.apply(this, arguments);\n    };\n  }(); // CREATE\n\n\n  var onCreateNewsFeed = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(data) {\n      var TypeFile, NewsFeedFile, newData, res, newNewsFeedList;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              setIsLoading({\n                type: 'ADD_DATA',\n                status: true\n              });\n              _context5.prev = 1;\n              TypeFile = data.TypeFile, NewsFeedFile = data.NewsFeedFile;\n              newData = TypeFile && NewsFeedFile !== null && NewsFeedFile !== void 0 && NewsFeedFile.length ? _objectSpread(_objectSpread({}, data), {}, {\n                NewsFeedFile: data.NewsFeedFile.map(function (f) {\n                  return {\n                    Type: f.Type,\n                    NameFile: f.url,\n                    UID: f.uid\n                  };\n                })\n              }) : data;\n              _context5.next = 6;\n              return newsFeedApi.add(newData);\n\n            case 6:\n              res = _context5.sent;\n\n              if (res.status === 200) {\n                newNewsFeedList = [res.data.data].concat(_toConsumableArray(newsFeedList));\n                setNewsFeedList(newNewsFeedList);\n                setTotalNewsFeed(newNewsFeedList.length);\n                showNoti('success', res.data.message);\n              }\n\n              return _context5.abrupt(\"return\", res);\n\n            case 11:\n              _context5.prev = 11;\n              _context5.t0 = _context5[\"catch\"](1);\n              console.log('onCreateNewsFeed', _context5.t0.message);\n              showNoti('danger', _context5.t0.message);\n\n            case 15:\n              _context5.prev = 15;\n              setIsLoading({\n                type: 'ADD_DATA',\n                status: false\n              });\n              return _context5.finish(15);\n\n            case 18:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, null, [[1, 11, 15, 18]]);\n    }));\n\n    return function onCreateNewsFeed(_x2) {\n      return _ref5.apply(this, arguments);\n    };\n  }(); // EDIT\n\n\n  var onEditNewsFeed = function onEditNewsFeed(idx) {\n    return /*#__PURE__*/function () {\n      var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(data) {\n        var TypeFile, NewsFeedFile, oldNewsFeedFileList, newFileUploadList, newData, res, newNewsFeedList;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                setIsLoading({\n                  type: 'ADD_DATA',\n                  status: true\n                });\n                _context6.prev = 1;\n                TypeFile = data.TypeFile, NewsFeedFile = data.NewsFeedFile;\n                oldNewsFeedFileList = newsFeedList[idx].NewsFeedFile;\n                newFileUploadList = null;\n\n                if (TypeFile === 2) {\n                  newFileUploadList = [].concat(_toConsumableArray(oldNewsFeedFileList || []), _toConsumableArray(NewsFeedFile || [])).reduce(function (arr, f) {\n                    if (arr.some(function (newFile) {\n                      return newFile.ID && newFile.ID === f.ID;\n                    })) {\n                      return arr;\n                    }\n\n                    if (NewsFeedFile.some(function (fileForm) {\n                      return fileForm.ID && fileForm.ID === f.ID;\n                    })) {\n                      arr.push(f);\n                    } else if (!f.hasOwnProperty('ID')) {\n                      arr.push(_objectSpread(_objectSpread({}, f), {}, {\n                        Type: f.Type,\n                        NameFile: f.url,\n                        UID: f.uid\n                      }));\n                    } else {\n                      arr.push(_objectSpread(_objectSpread({}, f), {}, {\n                        Enable: false\n                      }));\n                    }\n\n                    return arr;\n                  }, []);\n                }\n\n                if (TypeFile === 1 && NewsFeedFile !== null && NewsFeedFile !== void 0 && NewsFeedFile.length) {\n                  newFileUploadList = NewsFeedFile;\n                }\n\n                newData = newFileUploadList ? _objectSpread(_objectSpread({}, data), {}, {\n                  NewsFeedFile: newFileUploadList\n                }) : data;\n                _context6.next = 10;\n                return newsFeedApi.update(newData);\n\n              case 10:\n                res = _context6.sent;\n\n                if (res.status === 200) {\n                  newNewsFeedList = _toConsumableArray(newsFeedList);\n                  newNewsFeedList.splice(idx, 1, res.data.data);\n                  setNewsFeedList(newNewsFeedList);\n                  showNoti('success', res.data.message);\n                }\n\n                return _context6.abrupt(\"return\", res);\n\n              case 15:\n                _context6.prev = 15;\n                _context6.t0 = _context6[\"catch\"](1);\n                console.log('onEditNewsFeed', _context6.t0.message);\n\n              case 18:\n                _context6.prev = 18;\n                setIsLoading({\n                  type: 'ADD_DATA',\n                  status: false\n                });\n                return _context6.finish(18);\n\n              case 21:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, null, [[1, 15, 18, 21]]);\n      }));\n\n      return function (_x3) {\n        return _ref6.apply(this, arguments);\n      };\n    }();\n  }; // DELETE\n\n\n  var onDelete = function onDelete(idx) {\n    return /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7() {\n      var newNewsFeedList, delObj, newDelObj, res;\n      return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              setIsLoading({\n                type: 'GET_ALL',\n                status: true\n              });\n              _context7.prev = 1;\n              newNewsFeedList = _toConsumableArray(newsFeedList);\n              delObj = newNewsFeedList[idx];\n              newDelObj = {\n                ID: delObj.ID,\n                Enable: false\n              };\n              _context7.next = 7;\n              return newsFeedApi[\"delete\"](newDelObj);\n\n            case 7:\n              res = _context7.sent;\n\n              if ((res === null || res === void 0 ? void 0 : res.status) === 200) {\n                newNewsFeedList.splice(idx, 1);\n                setNewsFeedList(newNewsFeedList);\n                setTotalNewsFeed(newNewsFeedList.length);\n                showNoti('success', res.data.message);\n              }\n\n              _context7.next = 14;\n              break;\n\n            case 11:\n              _context7.prev = 11;\n              _context7.t0 = _context7[\"catch\"](1);\n              console.log('onDelete', _context7.t0.message);\n\n            case 14:\n              _context7.prev = 14;\n              setIsLoading({\n                type: 'GET_ALL',\n                status: false\n              });\n              return _context7.finish(14);\n\n            case 17:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7, null, [[1, 11, 14, 17]]);\n    }));\n  };\n\n  var fetchBackgroundNewsFeed = /*#__PURE__*/function () {\n    var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              _context8.prev = 0;\n              _context8.next = 3;\n              return backgroundNewsFeedApi.getAll();\n\n            case 3:\n              res = _context8.sent;\n              res.status === 200 && setBackgroundList(res.data.data);\n              _context8.next = 10;\n              break;\n\n            case 7:\n              _context8.prev = 7;\n              _context8.t0 = _context8[\"catch\"](0);\n              console.log('fetchBackgroundNewsFeed', _context8.t0.message);\n\n            case 10:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee8, null, [[0, 7]]);\n    }));\n\n    return function fetchBackgroundNewsFeed() {\n      return _ref8.apply(this, arguments);\n    };\n  }(); // --------------BACK TO HOME PAGE--------------\n\n\n  var onBackToHomePage = useDebounce(function () {\n    setFiltersData({\n      name: null,\n      idTeam: null,\n      idGroup: null\n    });\n    reset();\n  }, 200, []); // --------------FILTER--------------\n\n  var loadMore = function loadMore() {\n    setPageIndex(pageIndex + 1);\n    pageIndex > 1 && fetchNewsFeedList();\n  };\n\n  var onFilters = function onFilters(field, value) {\n    if (filtersData[field] === value) {\n      onBackToHomePage();\n      return;\n    }\n\n    var newFilters = {\n      name: null,\n      idTeam: null,\n      idGroup: null\n    };\n    newFilters[field] = value;\n    setFiltersData(newFilters);\n    reset();\n  };\n\n  useEffect(function () {\n    for (var key in filtersData) {\n      !!filtersData[key] && setHasNextPage(true);\n    }\n  }, [filtersData]); // --------------LIKE--------------\n\n  var fetchNewsFeedUserLiked = /*#__PURE__*/function () {\n    var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9() {\n      var res, getNewsFeedIDList;\n      return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n        while (1) {\n          switch (_context9.prev = _context9.next) {\n            case 0:\n              _context9.prev = 0;\n\n              if (userInformation) {\n                _context9.next = 3;\n                break;\n              }\n\n              return _context9.abrupt(\"return\");\n\n            case 3:\n              _context9.next = 5;\n              return newsFeedLikeApi.getAll({\n                selectAll: true,\n                UserInformationID: userInformation.UserInformationID\n              });\n\n            case 5:\n              res = _context9.sent;\n\n              if (res.status === 200) {\n                getNewsFeedIDList = res.data.data.map(function (n) {\n                  return n.NewsFeedID;\n                });\n                setIDListUserLiked(getNewsFeedIDList);\n              }\n\n              (res === null || res === void 0 ? void 0 : res.status) === 204 && setIDListUserLiked([]);\n              _context9.next = 13;\n              break;\n\n            case 10:\n              _context9.prev = 10;\n              _context9.t0 = _context9[\"catch\"](0);\n              console.log('fetchNewsFeedUserLiked', _context9.t0.message);\n\n            case 13:\n            case \"end\":\n              return _context9.stop();\n          }\n        }\n      }, _callee9, null, [[0, 10]]);\n    }));\n\n    return function fetchNewsFeedUserLiked() {\n      return _ref9.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    fetchNewsFeedUserLiked();\n  }, [userInformation]);\n  var stoLike = useRef(null);\n  var DELAY = 500;\n\n  var onUserLikeNewsFeed = function onUserLikeNewsFeed(idx) {\n    clearTimeout(stoLike.current);\n    return function (NewsFeedID) {\n      try {\n        stoLike.current = setTimeout( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10() {\n          var data, res, newNewsFeedList, newNewsFeed, newIDListUserLiked;\n          return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n            while (1) {\n              switch (_context10.prev = _context10.next) {\n                case 0:\n                  data = {\n                    NewsFeedID: NewsFeedID\n                  };\n                  _context10.next = 3;\n                  return newsFeedLikeApi.add(data);\n\n                case 3:\n                  res = _context10.sent;\n\n                  if ((res === null || res === void 0 ? void 0 : res.status) === 200) {\n                    newNewsFeedList = _toConsumableArray(newsFeedList);\n                    newNewsFeed = _objectSpread({}, newNewsFeedList[idx]);\n\n                    if (res.data.data.Enable) {\n                      newNewsFeedList.splice(idx, 1, _objectSpread(_objectSpread({}, newNewsFeed), {}, {\n                        LikeCount: ++newNewsFeedList[idx].LikeCount\n                      }));\n                      setIDListUserLiked([].concat(_toConsumableArray(idListUserLiked), [res.data.data.NewsFeedID]));\n                      setNewsFeedList(newNewsFeedList);\n                    } else {\n                      newNewsFeedList.splice(idx, 1, _objectSpread(_objectSpread({}, newNewsFeed), {}, {\n                        LikeCount: --newNewsFeedList[idx].LikeCount\n                      }));\n                      newIDListUserLiked = idListUserLiked.filter(function (id) {\n                        return id !== res.data.data.NewsFeedID;\n                      });\n                      setIDListUserLiked(newIDListUserLiked);\n                      setNewsFeedList(newNewsFeedList);\n                    }\n                  }\n\n                case 5:\n                case \"end\":\n                  return _context10.stop();\n              }\n            }\n          }, _callee10);\n        })), DELAY);\n      } catch (error) {\n        console.log('onUserLikeNewsFeed', error.message);\n      }\n    };\n  }; // --------------COMMENT--------------\n\n\n  var onComment = /*#__PURE__*/function () {\n    var _ref11 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee11(data) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n        while (1) {\n          switch (_context11.prev = _context11.next) {\n            case 0:\n              setIsLoading({\n                type: 'ADD_COMMENT',\n                status: true\n              });\n              _context11.prev = 1;\n              _context11.next = 4;\n              return newsFeedCommentApi.add(data);\n\n            case 4:\n              res = _context11.sent;\n              return _context11.abrupt(\"return\", res);\n\n            case 8:\n              _context11.prev = 8;\n              _context11.t0 = _context11[\"catch\"](1);\n              console.log('onComment', _context11.t0.message);\n\n            case 11:\n              _context11.prev = 11;\n              setIsLoading({\n                type: 'ADD_COMMENT',\n                status: false\n              });\n              return _context11.finish(11);\n\n            case 14:\n            case \"end\":\n              return _context11.stop();\n          }\n        }\n      }, _callee11, null, [[1, 8, 11, 14]]);\n    }));\n\n    return function onComment(_x4) {\n      return _ref11.apply(this, arguments);\n    };\n  }();\n\n  var fetchComment = /*#__PURE__*/function () {\n    var _ref12 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee12(NewsFeedID) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee12$(_context12) {\n        while (1) {\n          switch (_context12.prev = _context12.next) {\n            case 0:\n              setIsLoading({\n                type: \"FETCH_COMMENT_\".concat(NewsFeedID),\n                status: true\n              });\n              _context12.prev = 1;\n              _context12.next = 4;\n              return newsFeedCommentApi.getAll({\n                selectAll: true,\n                NewsFeedID: NewsFeedID\n              });\n\n            case 4:\n              res = _context12.sent;\n              return _context12.abrupt(\"return\", res);\n\n            case 8:\n              _context12.prev = 8;\n              _context12.t0 = _context12[\"catch\"](1);\n              console.log('fetchComment', _context12.t0.message);\n\n            case 11:\n              _context12.prev = 11;\n              setIsLoading({\n                type: \"FETCH_COMMENT_\".concat(NewsFeedID),\n                status: false\n              });\n              return _context12.finish(11);\n\n            case 14:\n            case \"end\":\n              return _context12.stop();\n          }\n        }\n      }, _callee12, null, [[1, 8, 11, 14]]);\n    }));\n\n    return function fetchComment(_x5) {\n      return _ref12.apply(this, arguments);\n    };\n  }(); // --------------REPLY--------------\n\n\n  var onReplyComment = /*#__PURE__*/function () {\n    var _ref13 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee13(data) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee13$(_context13) {\n        while (1) {\n          switch (_context13.prev = _context13.next) {\n            case 0:\n              setIsLoading({\n                type: 'ADD_COMMENT',\n                status: true\n              });\n              _context13.prev = 1;\n              _context13.next = 4;\n              return newsFeedCommentReplyApi.add(data);\n\n            case 4:\n              res = _context13.sent;\n              return _context13.abrupt(\"return\", res);\n\n            case 8:\n              _context13.prev = 8;\n              _context13.t0 = _context13[\"catch\"](1);\n              console.log('onReplyComment', _context13.t0.message);\n\n            case 11:\n              _context13.prev = 11;\n              setIsLoading({\n                type: 'ADD_COMMENT',\n                status: false\n              });\n              return _context13.finish(11);\n\n            case 14:\n            case \"end\":\n              return _context13.stop();\n          }\n        }\n      }, _callee13, null, [[1, 8, 11, 14]]);\n    }));\n\n    return function onReplyComment(_x6) {\n      return _ref13.apply(this, arguments);\n    };\n  }();\n\n  var fetchReplyComment = /*#__PURE__*/function () {\n    var _ref14 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee14(NewsFeedCommentID) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee14$(_context14) {\n        while (1) {\n          switch (_context14.prev = _context14.next) {\n            case 0:\n              setIsLoading({\n                type: \"FETCH_REPLY_COMMENT_\".concat(NewsFeedCommentID),\n                status: true\n              });\n              _context14.prev = 1;\n              _context14.next = 4;\n              return newsFeedCommentReplyApi.getAll({\n                selectAll: true,\n                NewsFeedCommentID: NewsFeedCommentID\n              });\n\n            case 4:\n              res = _context14.sent;\n              return _context14.abrupt(\"return\", res);\n\n            case 8:\n              _context14.prev = 8;\n              _context14.t0 = _context14[\"catch\"](1);\n              console.log('fetchReplyComment', _context14.t0.message);\n\n            case 11:\n              _context14.prev = 11;\n              setIsLoading({\n                type: \"FETCH_REPLY_COMMENT_\".concat(NewsFeedCommentID),\n                status: false\n              });\n              return _context14.finish(11);\n\n            case 14:\n            case \"end\":\n              return _context14.stop();\n          }\n        }\n      }, _callee14, null, [[1, 8, 11, 14]]);\n    }));\n\n    return function fetchReplyComment(_x7) {\n      return _ref14.apply(this, arguments);\n    };\n  }(); // GROUP\n\n\n  var fetchInfoGroup = /*#__PURE__*/function () {\n    var _ref15 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee15(idGroup) {\n      var _yield$Promise$all3, _yield$Promise$all4, info, userList;\n\n      return _regeneratorRuntime.wrap(function _callee15$(_context15) {\n        while (1) {\n          switch (_context15.prev = _context15.next) {\n            case 0:\n              setIsLoading({\n                type: 'FETCH_INFO_GROUP',\n                status: true\n              });\n              _context15.prev = 1;\n              _context15.next = 4;\n              return Promise.all([groupNewsFeedApi.getByID(idGroup), userGroupNewsFeedApi.getAll({\n                selectAll: true,\n                GroupNewsFeedID: idGroup\n              })]);\n\n            case 4:\n              _yield$Promise$all3 = _context15.sent;\n              _yield$Promise$all4 = _slicedToArray(_yield$Promise$all3, 2);\n              info = _yield$Promise$all4[0];\n              userList = _yield$Promise$all4[1];\n              (info === null || info === void 0 ? void 0 : info.status) === 200 && setInfoGroup(function (prevState) {\n                return _objectSpread(_objectSpread({}, prevState), {}, {\n                  info: info.data.data\n                });\n              });\n              (userList === null || userList === void 0 ? void 0 : userList.status) === 200 && setInfoGroup(function (prevState) {\n                return _objectSpread(_objectSpread({}, prevState), {}, {\n                  userList: userList.data.data\n                });\n              });\n              _context15.next = 15;\n              break;\n\n            case 12:\n              _context15.prev = 12;\n              _context15.t0 = _context15[\"catch\"](1);\n              console.log('fetchInfoGroup', _context15.t0.message);\n\n            case 15:\n              _context15.prev = 15;\n              setIsLoading({\n                type: 'FETCH_INFO_GROUP',\n                status: false\n              });\n              return _context15.finish(15);\n\n            case 18:\n            case \"end\":\n              return _context15.stop();\n          }\n        }\n      }, _callee15, null, [[1, 12, 15, 18]]);\n    }));\n\n    return function fetchInfoGroup(_x8) {\n      return _ref15.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    filtersData.idGroup && fetchInfoGroup(filtersData.idGroup);\n  }, [filtersData.idGroup]);\n\n  var onUpdateGroup = /*#__PURE__*/function () {\n    var _ref16 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee16(data) {\n      var res, newGroupOptionList;\n      return _regeneratorRuntime.wrap(function _callee16$(_context16) {\n        while (1) {\n          switch (_context16.prev = _context16.next) {\n            case 0:\n              setIsLoading({\n                type: 'ADD_DATA',\n                status: true\n              });\n              _context16.prev = 1;\n              _context16.next = 4;\n              return groupNewsFeedApi.update(data);\n\n            case 4:\n              res = _context16.sent;\n\n              if (!((res === null || res === void 0 ? void 0 : res.status) === 200)) {\n                _context16.next = 11;\n                break;\n              }\n\n              newGroupOptionList = _toConsumableArray(optionList.groupOptionList).map(function (t) {\n                if (t.value === data.ID) {\n                  return _objectSpread(_objectSpread({}, t), {}, {\n                    title: data.Name\n                  });\n                }\n\n                return t;\n              });\n              setOptionList(_objectSpread(_objectSpread({}, optionList), {}, {\n                groupOptionList: newGroupOptionList\n              }));\n              setInfoGroup(_objectSpread(_objectSpread({}, infoGroup), {}, {\n                info: data\n              }));\n              showNoti('success', res.data.message);\n              return _context16.abrupt(\"return\", res);\n\n            case 11:\n              _context16.next = 16;\n              break;\n\n            case 13:\n              _context16.prev = 13;\n              _context16.t0 = _context16[\"catch\"](1);\n              showNoti('danger', _context16.t0.message);\n\n            case 16:\n              _context16.prev = 16;\n              setIsLoading({\n                type: 'ADD_DATA',\n                status: false\n              });\n              return _context16.finish(16);\n\n            case 19:\n            case \"end\":\n              return _context16.stop();\n          }\n        }\n      }, _callee16, null, [[1, 13, 16, 19]]);\n    }));\n\n    return function onUpdateGroup(_x9) {\n      return _ref16.apply(this, arguments);\n    };\n  }();\n\n  var onDeleteGroup = /*#__PURE__*/function () {\n    var _ref17 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee17() {\n      var res, newGroupOptionList;\n      return _regeneratorRuntime.wrap(function _callee17$(_context17) {\n        while (1) {\n          switch (_context17.prev = _context17.next) {\n            case 0:\n              _context17.prev = 0;\n              _context17.next = 3;\n              return groupNewsFeedApi.update({\n                ID: filtersData.idGroup,\n                Enable: false\n              });\n\n            case 3:\n              res = _context17.sent;\n\n              if ((res === null || res === void 0 ? void 0 : res.status) === 200) {\n                newGroupOptionList = _toConsumableArray(optionList.groupOptionList).filter(function (g) {\n                  return g.value !== filtersData.idGroup;\n                });\n                reset();\n                setOptionList(_objectSpread(_objectSpread({}, optionList), {}, {\n                  groupOptionList: newGroupOptionList\n                }));\n                setFiltersData({\n                  name: null,\n                  idTeam: null,\n                  idGroup: null\n                });\n              }\n\n              _context17.next = 10;\n              break;\n\n            case 7:\n              _context17.prev = 7;\n              _context17.t0 = _context17[\"catch\"](0);\n              console.log('onDeleteGroup', _context17.t0.message);\n\n            case 10:\n            case \"end\":\n              return _context17.stop();\n          }\n        }\n      }, _callee17, null, [[0, 7]]);\n    }));\n\n    return function onDeleteGroup() {\n      return _ref17.apply(this, arguments);\n    };\n  }(); // ADD USER TO GROUP\n\n\n  var fetchUserByRole = /*#__PURE__*/function () {\n    var _ref18 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee18(roleID) {\n      var res, fmOptionList;\n      return _regeneratorRuntime.wrap(function _callee18$(_context18) {\n        while (1) {\n          switch (_context18.prev = _context18.next) {\n            case 0:\n              setIsLoading({\n                type: 'FETCH_USER_IN_GROUP',\n                status: true\n              });\n              _context18.prev = 1;\n              _context18.next = 4;\n              return userInformationApi.getAllParams({\n                RoleID: roleID,\n                pageSize: 9999\n              });\n\n            case 4:\n              res = _context18.sent;\n\n              if (res.status === 200) {\n                fmOptionList = fmSelectArr(res.data.data, 'FullNameUnicode', 'UserInformationID');\n                setUserOptionList(fmOptionList);\n              }\n\n              (res === null || res === void 0 ? void 0 : res.status) === 20 && setUserOptionList([]);\n              _context18.next = 12;\n              break;\n\n            case 9:\n              _context18.prev = 9;\n              _context18.t0 = _context18[\"catch\"](1);\n              console.log('fetchUserByRole', _context18.t0.message);\n\n            case 12:\n              _context18.prev = 12;\n              setIsLoading({\n                type: 'FETCH_USER_IN_GROUP',\n                status: false\n              });\n              return _context18.finish(12);\n\n            case 15:\n            case \"end\":\n              return _context18.stop();\n          }\n        }\n      }, _callee18, null, [[1, 9, 12, 15]]);\n    }));\n\n    return function fetchUserByRole(_x10) {\n      return _ref18.apply(this, arguments);\n    };\n  }();\n\n  var addUserToGroup = /*#__PURE__*/function () {\n    var _ref19 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee19(data) {\n      var UserInformationID, RoleID, newData, res, newUserList;\n      return _regeneratorRuntime.wrap(function _callee19$(_context19) {\n        while (1) {\n          switch (_context19.prev = _context19.next) {\n            case 0:\n              setIsLoading({\n                type: 'ADD_DATA',\n                status: true\n              });\n              _context19.prev = 1;\n              UserInformationID = data.UserInformationID, RoleID = data.RoleID;\n              newData = {\n                GroupNewsFeedID: filtersData.idGroup,\n                UserInformationID: UserInformationID,\n                RoleID: RoleID\n              };\n              _context19.next = 6;\n              return userGroupNewsFeedApi.add(newData);\n\n            case 6:\n              res = _context19.sent;\n\n              if (!((res === null || res === void 0 ? void 0 : res.status) === 200)) {\n                _context19.next = 12;\n                break;\n              }\n\n              newUserList = [].concat(_toConsumableArray(infoGroup.userList), [res.data.data]);\n              setInfoGroup(_objectSpread(_objectSpread({}, infoGroup), {}, {\n                userList: newUserList\n              }));\n              showNoti('success', 'Thêm thành công');\n              return _context19.abrupt(\"return\", res);\n\n            case 12:\n              _context19.next = 17;\n              break;\n\n            case 14:\n              _context19.prev = 14;\n              _context19.t0 = _context19[\"catch\"](1);\n              showNoti('danger', _context19.t0 === null || _context19.t0 === void 0 ? void 0 : _context19.t0.message);\n\n            case 17:\n              _context19.prev = 17;\n              setIsLoading({\n                type: 'ADD_DATA',\n                status: false\n              });\n              return _context19.finish(17);\n\n            case 20:\n            case \"end\":\n              return _context19.stop();\n          }\n        }\n      }, _callee19, null, [[1, 14, 17, 20]]);\n    }));\n\n    return function addUserToGroup(_x11) {\n      return _ref19.apply(this, arguments);\n    };\n  }();\n\n  var removeUser = /*#__PURE__*/function () {\n    var _ref20 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee20(idUser) {\n      var res, _res$data, newUserList;\n\n      return _regeneratorRuntime.wrap(function _callee20$(_context20) {\n        while (1) {\n          switch (_context20.prev = _context20.next) {\n            case 0:\n              _context20.prev = 0;\n              _context20.next = 3;\n              return userGroupNewsFeedApi.update({\n                ID: idUser,\n                Enable: false\n              });\n\n            case 3:\n              res = _context20.sent;\n\n              if ((res === null || res === void 0 ? void 0 : res.status) === 200) {\n                newUserList = _toConsumableArray(infoGroup.userList).filter(function (u) {\n                  return u.ID !== idUser;\n                });\n                setInfoGroup(_objectSpread(_objectSpread({}, infoGroup), {}, {\n                  userList: newUserList\n                }));\n                showNoti('success', res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.message);\n              }\n\n              _context20.next = 10;\n              break;\n\n            case 7:\n              _context20.prev = 7;\n              _context20.t0 = _context20[\"catch\"](0);\n              console.log('onDeleteGroup', _context20.t0 === null || _context20.t0 === void 0 ? void 0 : _context20.t0.message);\n\n            case 10:\n            case \"end\":\n              return _context20.stop();\n          }\n        }\n      }, _callee20, null, [[0, 7]]);\n    }));\n\n    return function removeUser(_x12) {\n      return _ref20.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(TitlePage, {\n      title: \"Tin t\\u1EE9c\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 645,\n      columnNumber: 4\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row wrap-newsfeed\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-8 col-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"list-newsfeed\",\n          children: [filtersData.idGroup && /*#__PURE__*/_jsxDEV(BannerGroup, {\n            infoGroup: infoGroup,\n            totalNewsFeed: totalNewsFeed,\n            bannerGroupActionListComponent: checkAuthorization() === 'Accept' ? /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"more-list\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: /*#__PURE__*/_jsxDEV(GroupForm, {\n                  isLoading: isLoading,\n                  isUpdate: true,\n                  dataUpdate: infoGroup.info,\n                  courseList: courseList,\n                  handleSubmit: onUpdateGroup\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 657,\n                  columnNumber: 13\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 656,\n                columnNumber: 12\n              }, _this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: /*#__PURE__*/_jsxDEV(AddUserForm, {\n                  isLoading: isLoading,\n                  roleOptionList: roleOptionList,\n                  userOptionList: userOptionList,\n                  roleMemberOptionList: roleMemberOptionList,\n                  fetchUserByRole: fetchUserByRole,\n                  handleSubmit: addUserToGroup\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 666,\n                  columnNumber: 13\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 665,\n                columnNumber: 12\n              }, _this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: /*#__PURE__*/_jsxDEV(RemoveUser, {\n                  userList: infoGroup.userList,\n                  handleDelete: removeUser\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 676,\n                  columnNumber: 13\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 675,\n                columnNumber: 12\n              }, _this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: /*#__PURE__*/_jsxDEV(DeleteGroup, {\n                  handleDelete: onDeleteGroup\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 679,\n                  columnNumber: 13\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 678,\n                columnNumber: 12\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 655,\n              columnNumber: 11\n            }, _this) : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 650,\n            columnNumber: 8\n          }, _this), !userInformation || userInformation['RoleID'] === 3 || userInformation['RoleID'] === 4 ? null : /*#__PURE__*/_jsxDEV(CreateNewsFeed, {\n            isLoading: isLoading,\n            dataUser: userInformation,\n            handleUploadFile: onUploadFile,\n            handleSubmit: onCreateNewsFeed,\n            fetchBackgroundNewsFeed: fetchBackgroundNewsFeed,\n            backgroundList: backgroundList,\n            filtersData: filtersData,\n            optionList: optionList\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 688,\n            columnNumber: 8\n          }, _this), /*#__PURE__*/_jsxDEV(ListNewsFeed, {\n            children: newsFeedList.map(function (item, idx) {\n              var isUserLiked = idListUserLiked.includes(item.ID);\n              return /*#__PURE__*/_jsxDEV(NewsFeedItem, {\n                handleFilters: onFilters,\n                isUserLiked: isUserLiked,\n                handleUserLikeNewsFeed: onUserLikeNewsFeed(idx),\n                handleComment: onComment,\n                fetchComment: fetchComment,\n                handleReplyComment: onReplyComment,\n                fetchReplyComment: fetchReplyComment,\n                item: item,\n                isLoading: isLoading,\n                userComment: userInformation,\n                moreActionComponent: checkAuthorization(item.UserInformationID) === 'Accept' ? /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"more-list\",\n                  children: [item.UserInformationID === (userInformation === null || userInformation === void 0 ? void 0 : userInformation.UserInformationID) && /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: /*#__PURE__*/_jsxDEV(CreateNewsFeed, {\n                      isLoading: isLoading,\n                      isUpdate: true,\n                      itemUpdate: item,\n                      dataUser: userInformation,\n                      handleUploadFile: onUploadFile,\n                      handleSubmit: onEditNewsFeed(idx),\n                      fetchBackgroundNewsFeed: fetchBackgroundNewsFeed,\n                      backgroundList: backgroundList,\n                      optionList: optionList\n                    }, item.ID, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 721,\n                      columnNumber: 16\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 720,\n                    columnNumber: 15\n                  }, _this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: /*#__PURE__*/_jsxDEV(DeleteNewsFeed, {\n                      text: \"b\\u1EA3ng tin n\\xE0y\",\n                      handleDelete: onDelete(idx)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 736,\n                      columnNumber: 15\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 735,\n                    columnNumber: 14\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 718,\n                  columnNumber: 13\n                }, _this) : null\n              }, item.ID, false, {\n                fileName: _jsxFileName,\n                lineNumber: 704,\n                columnNumber: 10\n              }, _this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 700,\n            columnNumber: 7\n          }, _this), hasNextPage && /*#__PURE__*/_jsxDEV(Waypoint, {\n            onEnter: loadMore,\n            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"list-nf skeleton\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"item-nf\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"newsfeed\",\n                  children: [/*#__PURE__*/_jsxDEV(Skeleton, {\n                    avatar: true,\n                    paragraph: {\n                      rows: 0\n                    },\n                    active: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 751,\n                    columnNumber: 12\n                  }, _this), /*#__PURE__*/_jsxDEV(Skeleton, {\n                    active: true,\n                    paragraph: {\n                      rows: 2\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 752,\n                    columnNumber: 12\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 750,\n                  columnNumber: 11\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 749,\n                columnNumber: 10\n              }, _this), /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"item-nf\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"newsfeed\",\n                  children: [/*#__PURE__*/_jsxDEV(Skeleton, {\n                    avatar: true,\n                    paragraph: {\n                      rows: 0\n                    },\n                    active: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 757,\n                    columnNumber: 12\n                  }, _this), /*#__PURE__*/_jsxDEV(Skeleton, {\n                    active: true,\n                    paragraph: {\n                      rows: 2\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 758,\n                    columnNumber: 12\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 756,\n                  columnNumber: 11\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 755,\n                columnNumber: 10\n              }, _this), /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"item-nf\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"newsfeed\",\n                  children: [/*#__PURE__*/_jsxDEV(Skeleton, {\n                    avatar: true,\n                    paragraph: {\n                      rows: 0\n                    },\n                    active: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 763,\n                    columnNumber: 12\n                  }, _this), /*#__PURE__*/_jsxDEV(Skeleton, {\n                    active: true,\n                    paragraph: {\n                      rows: 2\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 764,\n                    columnNumber: 12\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 762,\n                  columnNumber: 11\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 761,\n                columnNumber: 10\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 748,\n              columnNumber: 9\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 747,\n            columnNumber: 8\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 648,\n          columnNumber: 6\n        }, _this), emptyNewsFeed && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4\",\n          children: /*#__PURE__*/_jsxDEV(Empty, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 773,\n            columnNumber: 8\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 772,\n          columnNumber: 7\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 647,\n        columnNumber: 5\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-4 col-12\",\n        children: /*#__PURE__*/_jsxDEV(SideBarNewsFeed, {\n          optionList: optionList,\n          filtersData: filtersData,\n          handleBack: onBackToHomePage,\n          handleFilters: onFilters,\n          groupFormComponent: /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 779,\n          columnNumber: 6\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 778,\n        columnNumber: 5\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 646,\n      columnNumber: 4\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(NewsFeed, \"jHukomgtKlmP5SDIOpyaETIJPdQ=\", false, function () {\n  return [useWrap, useRouter, useDebounce];\n});\n\n_c = NewsFeed;\nexport default NewsFeed;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewsFeed\");","map":{"version":3,"sources":["D:/MonaMedia/Project/CodingMentor/CodingMentor-FE/src/components/Global/NewsFeed/NewsFeed.tsx"],"names":["Empty","Skeleton","React","useEffect","useRef","useState","Waypoint","backgroundNewsFeedApi","courseApi","groupNewsFeedApi","newsFeedApi","newsFeedCommentApi","newsFeedCommentReplyApi","newsFeedLikeApi","userBranchApi","userGroupNewsFeedApi","userInformationApi","CreateNewsFeed","ListNewsFeed","AddUserForm","BannerGroup","DeleteGroup","GroupForm","RemoveUser","DeleteNewsFeed","NewsFeedItem","SideBarNewsFeed","useDebounce","useWrap","Roles","fmSelectArr","useRouter","TitlePage","initialNewsFeedList","initialPageIndex","NewsFeed","showNoti","userInformation","type","status","isLoading","setIsLoading","newsFeedList","setNewsFeedList","totalNewsFeed","setTotalNewsFeed","emptyNewsFeed","setEmptyNewsFeed","idListUserLiked","setIDListUserLiked","hasNextPage","setHasNextPage","pageIndex","setPageIndex","router","name","idTeam","idGroup","query","Number","filtersData","setFiltersData","teamOptionList","groupOptionList","optionList","setOptionList","backgroundList","setBackgroundList","info","userList","infoGroup","setInfoGroup","courseList","setCourseList","userOptionList","setUserOptionList","roleOptionList","filter","r","id","map","title","RoleName","value","roleMemberOptionList","label","checkAuthorization","newsFeedAuthor","role","uid","UserInformationID","reset","fetchNewsFeedList","getAll","pageSize","GroupNewsFeedID","BranchID","FullNameUnicode","res","data","totalRow","length","console","log","message","fetchOptionList","Promise","all","getbytokenID","selectAll","team","group","prevState","fetchCourseList","fmCourseList","c","DonePercent","CourseName","ID","checkFileType","file","includes","Type","onUploadFile","fileList","nextPost","reduce","newArr","idx","originFileObj","push","uploadFile","resArr","rs","url","onCreateNewsFeed","TypeFile","NewsFeedFile","newData","f","NameFile","UID","add","newNewsFeedList","onEditNewsFeed","oldNewsFeedFileList","newFileUploadList","arr","some","newFile","fileForm","hasOwnProperty","Enable","update","splice","onDelete","delObj","newDelObj","fetchBackgroundNewsFeed","onBackToHomePage","loadMore","onFilters","field","newFilters","key","fetchNewsFeedUserLiked","getNewsFeedIDList","n","NewsFeedID","stoLike","DELAY","onUserLikeNewsFeed","clearTimeout","current","setTimeout","newNewsFeed","LikeCount","newIDListUserLiked","error","onComment","fetchComment","onReplyComment","fetchReplyComment","NewsFeedCommentID","fetchInfoGroup","getByID","onUpdateGroup","newGroupOptionList","t","Name","onDeleteGroup","g","fetchUserByRole","roleID","getAllParams","RoleID","fmOptionList","addUserToGroup","newUserList","removeUser","idUser","u","item","isUserLiked","rows"],"mappings":"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","sourcesContent":["import { Empty, Skeleton } from 'antd'\r\nimport React, { useEffect, useRef, useState } from 'react'\r\nimport { Waypoint } from 'react-waypoint'\r\nimport {\r\n\tbackgroundNewsFeedApi,\r\n\tcourseApi,\r\n\tgroupNewsFeedApi,\r\n\tnewsFeedApi,\r\n\tnewsFeedCommentApi,\r\n\tnewsFeedCommentReplyApi,\r\n\tnewsFeedLikeApi,\r\n\tuserBranchApi,\r\n\tuserGroupNewsFeedApi,\r\n\tuserInformationApi\r\n} from '~/apiBase'\r\nimport CreateNewsFeed from '~/components/Global/NewsFeed/CreateNewsFeed'\r\nimport ListNewsFeed from '~/components/Global/NewsFeed/ListNewsFeed'\r\nimport AddUserForm from '~/components/Global/NewsFeed/NewsFeedGroupComponents/AddUserForm'\r\nimport BannerGroup from '~/components/Global/NewsFeed/NewsFeedGroupComponents/BannerGroup'\r\nimport DeleteGroup from '~/components/Global/NewsFeed/NewsFeedGroupComponents/DeleteGroup'\r\nimport GroupForm from '~/components/Global/NewsFeed/NewsFeedGroupComponents/GroupForm'\r\nimport RemoveUser from '~/components/Global/NewsFeed/NewsFeedGroupComponents/RemoveUser'\r\nimport DeleteNewsFeed from '~/components/Global/NewsFeed/NewsFeedItemComponents/DeleteNewsFeed'\r\nimport NewsFeedItem from '~/components/Global/NewsFeed/NewsFeedItemComponents/NewsFeedItem'\r\nimport SideBarNewsFeed from '~/components/Global/NewsFeed/SideBarNewsFeed'\r\nimport { useDebounce } from '~/context/useDebounce'\r\nimport { useWrap } from '~/context/wrap'\r\nimport { Roles } from '~/lib/roles/listRoles'\r\nimport { fmSelectArr } from '~/utils/functions'\r\nimport { useRouter } from 'next/router'\r\nimport TitlePage from '~/components/TitlePage'\r\n\r\nconst initialNewsFeedList = []\r\nconst initialPageIndex = 1\r\n\r\ntype FiltersData = {\r\n\tname: string\r\n\tidTeam: number\r\n\tidGroup: number\r\n}\r\n\r\ntype OptionList = {\r\n\tteamOptionList: IOptionCommon[]\r\n\tgroupOptionList: IOptionCommon[]\r\n}\r\n\r\ntype InfoGroup = {\r\n\tinfo: IGroupNewsFeed\r\n\tuserList: IUserGroupNewsFeed[]\r\n}\r\n\r\nconst NewsFeed = () => {\r\n\tconst { showNoti, userInformation } = useWrap()\r\n\tconst [isLoading, setIsLoading] = useState({ type: '', status: false })\r\n\tconst [newsFeedList, setNewsFeedList] = useState<INewsFeed[]>([])\r\n\tconst [totalNewsFeed, setTotalNewsFeed] = useState(1)\r\n\tconst [emptyNewsFeed, setEmptyNewsFeed] = useState(false)\r\n\tconst [idListUserLiked, setIDListUserLiked] = useState<number[]>([])\r\n\tconst [hasNextPage, setHasNextPage] = useState(true)\r\n\tconst [pageIndex, setPageIndex] = useState(1)\r\n\tconst router = useRouter()\r\n\t// STONE DATA TO FILTER NEWS FEED\r\n\tconst [filtersData, setFiltersData] = useState<FiltersData>({\r\n\t\tname: null,\r\n\t\tidTeam: null,\r\n\t\tidGroup: router.query.idGroup ? Number(router.query.idGroup) : null\r\n\t})\r\n\t// OPTION LIST FOR CREATE NEWS FEED\r\n\tconst [optionList, setOptionList] = useState<OptionList>({\r\n\t\tteamOptionList: [],\r\n\t\tgroupOptionList: []\r\n\t})\r\n\tconst [backgroundList, setBackgroundList] = useState<IBackgroundNewsFeed[]>([])\r\n\t// GROUP\r\n\tconst [infoGroup, setInfoGroup] = useState<InfoGroup>({ info: null, userList: [] })\r\n\tconst [courseList, setCourseList] = useState<IOptionCommon[]>([])\r\n\tconst [userOptionList, setUserOptionList] = useState<IOptionCommon[]>([])\r\n\tconst roleOptionList = Roles.filter((r) => r.id !== 1 && r.id !== 5).map((r) => ({ title: r.RoleName, value: r.id }))\r\n\tconst roleMemberOptionList = [\r\n\t\t{ label: 'Thành viên', value: 2 },\r\n\t\t{ label: 'Quản trị viên', value: 1 }\r\n\t]\r\n\r\n\t// CHECK AUTHENTICATE\r\n\t// 1: ADMIN - 5: MANAGER\r\n\tconst checkAuthorization = (newsFeedAuthor?: number) => {\r\n\t\tif (!userInformation) return 'Ignore'\r\n\t\tconst role = userInformation['RoleID']\r\n\t\tconst uid = userInformation.UserInformationID\r\n\t\tif (role === 1 || role === 2 || role === 5 || +newsFeedAuthor === +uid) {\r\n\t\t\treturn 'Accept'\r\n\t\t}\r\n\t\treturn 'Ignore'\r\n\t}\r\n\r\n\t// RESET DATA BACK TO INIT\r\n\tconst reset = () => {\r\n\t\tsetNewsFeedList(initialNewsFeedList)\r\n\t\tsetPageIndex(initialPageIndex)\r\n\t}\r\n\r\n\t// --------------FETCH--------------\r\n\tconst fetchNewsFeedList = async () => {\r\n\t\tsetIsLoading({ type: 'GET_LIST', status: true })\r\n\t\ttry {\r\n\t\t\tconst res = await newsFeedApi.getAll({\r\n\t\t\t\tpageIndex: pageIndex,\r\n\t\t\t\tpageSize: 5,\r\n\t\t\t\tGroupNewsFeedID: filtersData.idGroup,\r\n\t\t\t\tBranchID: filtersData.idTeam,\r\n\t\t\t\tFullNameUnicode: filtersData.name\r\n\t\t\t})\r\n\t\t\tif (res.status === 204) {\r\n\t\t\t\tsetEmptyNewsFeed(true)\r\n\t\t\t\tsetHasNextPage(false)\r\n\t\t\t\tsetTotalNewsFeed(0)\r\n\t\t\t}\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tsetNewsFeedList([...newsFeedList, ...res.data.data])\r\n\t\t\t\tsetEmptyNewsFeed(false)\r\n\t\t\t\tsetTotalNewsFeed(res.data.totalRow)\r\n\t\t\t\tif (res.data.data.length < 5) {\r\n\t\t\t\t\tsetHasNextPage(false)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log('fetchNewsFeedList', error.message)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({ type: 'GET_LIST', status: false })\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tpageIndex === 1 && fetchNewsFeedList()\r\n\t}, [pageIndex, filtersData])\r\n\r\n\tconst fetchOptionList = async () => {\r\n\t\ttry {\r\n\t\t\tlet [team, group] = await Promise.all([userBranchApi.getAll({ getbytokenID: true }), groupNewsFeedApi.getAll({ selectAll: true })])\r\n\t\t\tif (team.status === 200) {\r\n\t\t\t\tconst teamOptionList = fmSelectArr(team.data.data, 'BranchName', 'BranchID')\r\n\t\t\t\tsetOptionList((prevState) => ({ ...prevState, teamOptionList }))\r\n\t\t\t} else {\r\n\t\t\t\tsetOptionList((prevState) => ({ ...prevState, teamOptionList: [] }))\r\n\t\t\t}\r\n\t\t\tif (group.status === 200) {\r\n\t\t\t\tconst groupOptionList = fmSelectArr(group.data.data, 'Name', 'ID')\r\n\t\t\t\tsetOptionList((prevState) => ({ ...prevState, groupOptionList }))\r\n\t\t\t} else {\r\n\t\t\t\tsetOptionList((prevState) => ({ ...prevState, groupOptionList: [] }))\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log('fetchOptionList', error.message)\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchOptionList()\r\n\t}, [])\r\n\r\n\tconst fetchCourseList = async () => {\r\n\t\ttry {\r\n\t\t\tif (checkAuthorization() === 'Ignore') return\r\n\t\t\tconst res: any = await courseApi.getAll({ selectAll: true })\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tconst fmCourseList = res.data.data.map((c: any) => ({ title: `${c.DonePercent}% - ${c.CourseName}`, value: c.ID }))\r\n\t\t\t\tsetCourseList(fmCourseList)\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log('fetchCourseList', error.message)\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchCourseList()\r\n\t}, [userInformation])\r\n\r\n\tconst checkFileType = (file: File) => {\r\n\t\tconst { type, name } = file\r\n\t\tif (type.includes('image')) {\r\n\t\t\treturn {\r\n\t\t\t\tname,\r\n\t\t\t\ttype,\r\n\t\t\t\tType: 2\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (type.includes('audio')) {\r\n\t\t\treturn {\r\n\t\t\t\tname,\r\n\t\t\t\ttype,\r\n\t\t\t\tType: 3\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (type.includes('video')) {\r\n\t\t\treturn {\r\n\t\t\t\tname,\r\n\t\t\t\ttype,\r\n\t\t\t\tType: 4\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn {\r\n\t\t\tname,\r\n\t\t\tType: 0\r\n\t\t}\r\n\t}\r\n\r\n\tconst onUploadFile = async (fileList: any) => {\r\n\t\ttry {\r\n\t\t\tlet nextPost = 0\r\n\t\t\tconst resArr: any = await Promise.all(\r\n\t\t\t\tfileList.reduce((newArr: any, file: any, idx: any) => {\r\n\t\t\t\t\tif (file.originFileObj) {\r\n\t\t\t\t\t\tnewArr.push(newsFeedApi.uploadFile(file.originFileObj))\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnextPost = idx + 1\r\n\t\t\t\t\t\tnewArr\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn newArr\r\n\t\t\t\t}, [])\r\n\t\t\t)\r\n\t\t\tconst rs = resArr.map((r: any) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tuid: r.data.data,\r\n\t\t\t\t\turl: r.data.data,\r\n\t\t\t\t\t...checkFileType(fileList[nextPost])\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\treturn rs\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log('onUploadFile', error)\r\n\t\t}\r\n\t}\r\n\r\n\t// CREATE\r\n\tconst onCreateNewsFeed = async (data: {\r\n\t\tContent: string\r\n\t\tTypeFile: number\r\n\t\tNewsFeedFile: {\r\n\t\t\tname: string\r\n\t\t\ttype: string\r\n\t\t\tType?: number\r\n\t\t\tpreview: string\r\n\t\t\tuid: string\r\n\t\t\turl: string\r\n\t\t}[]\r\n\t\tBranchList: number[] //TEAM\r\n\t\tGroupNewsFeedID: number //GROUP\r\n\t}) => {\r\n\t\tsetIsLoading({ type: 'ADD_DATA', status: true })\r\n\t\ttry {\r\n\t\t\tconst { TypeFile, NewsFeedFile } = data\r\n\t\t\tconst newData =\r\n\t\t\t\tTypeFile && NewsFeedFile?.length\r\n\t\t\t\t\t? {\r\n\t\t\t\t\t\t\t...data,\r\n\t\t\t\t\t\t\tNewsFeedFile: data.NewsFeedFile.map((f) => ({\r\n\t\t\t\t\t\t\t\tType: f.Type,\r\n\t\t\t\t\t\t\t\tNameFile: f.url,\r\n\t\t\t\t\t\t\t\tUID: f.uid\r\n\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t: data\r\n\t\t\tconst res: any = await newsFeedApi.add(newData)\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tconst newNewsFeedList = [res.data.data, ...newsFeedList]\r\n\t\t\t\tsetNewsFeedList(newNewsFeedList)\r\n\t\t\t\tsetTotalNewsFeed(newNewsFeedList.length)\r\n\t\t\t\tshowNoti('success', res.data.message)\r\n\t\t\t}\r\n\t\t\treturn res\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log('onCreateNewsFeed', error.message)\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({ type: 'ADD_DATA', status: false })\r\n\t\t}\r\n\t}\r\n\r\n\t// EDIT\r\n\tconst onEditNewsFeed = (idx: number) => {\r\n\t\treturn async (data: {\r\n\t\t\tContent: string\r\n\t\t\tColor: string\r\n\t\t\tTypeFile: number\r\n\t\t\tNewsFeedFile: {\r\n\t\t\t\tID?: number\r\n\t\t\t\tname: string\r\n\t\t\t\ttype: string\r\n\t\t\t\tType?: number\r\n\t\t\t\tpreview?: string\r\n\t\t\t\tuid: string\r\n\t\t\t\turl: string\r\n\t\t\t\tEnable?: boolean\r\n\t\t\t}[]\r\n\t\t\tBranchList: number[]\r\n\t\t\tGroupNewsFeedID: number\r\n\t\t}) => {\r\n\t\t\tsetIsLoading({ type: 'ADD_DATA', status: true })\r\n\t\t\ttry {\r\n\t\t\t\tconst { TypeFile, NewsFeedFile } = data\r\n\t\t\t\tconst { NewsFeedFile: oldNewsFeedFileList } = newsFeedList[idx]\r\n\t\t\t\tlet newFileUploadList = null\r\n\t\t\t\tif (TypeFile === 2) {\r\n\t\t\t\t\tnewFileUploadList = [...(oldNewsFeedFileList || []), ...(NewsFeedFile || [])].reduce((arr: any, f: any) => {\r\n\t\t\t\t\t\tif (arr.some((newFile: any) => newFile.ID && newFile.ID === f.ID)) {\r\n\t\t\t\t\t\t\treturn arr\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (NewsFeedFile.some((fileForm: any) => fileForm.ID && fileForm.ID === f.ID)) {\r\n\t\t\t\t\t\t\tarr.push(f)\r\n\t\t\t\t\t\t} else if (!f.hasOwnProperty('ID')) {\r\n\t\t\t\t\t\t\tarr.push({ ...f, Type: f.Type, NameFile: f.url, UID: f.uid })\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tarr.push({ ...f, Enable: false })\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn arr\r\n\t\t\t\t\t}, [])\r\n\t\t\t\t}\r\n\t\t\t\tif (TypeFile === 1 && NewsFeedFile?.length) {\r\n\t\t\t\t\tnewFileUploadList = NewsFeedFile\r\n\t\t\t\t}\r\n\t\t\t\tconst newData = newFileUploadList\r\n\t\t\t\t\t? {\r\n\t\t\t\t\t\t\t...data,\r\n\t\t\t\t\t\t\tNewsFeedFile: newFileUploadList\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t: data\r\n\t\t\t\tconst res: any = await newsFeedApi.update(newData)\r\n\t\t\t\tif (res.status === 200) {\r\n\t\t\t\t\tconst newNewsFeedList: any = [...newsFeedList]\r\n\t\t\t\t\tnewNewsFeedList.splice(idx, 1, res.data.data)\r\n\t\t\t\t\tsetNewsFeedList(newNewsFeedList)\r\n\t\t\t\t\tshowNoti('success', res.data.message)\r\n\t\t\t\t}\r\n\t\t\t\treturn res\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log('onEditNewsFeed', error.message)\r\n\t\t\t} finally {\r\n\t\t\t\tsetIsLoading({ type: 'ADD_DATA', status: false })\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// DELETE\r\n\tconst onDelete = (idx: number) => {\r\n\t\treturn async () => {\r\n\t\t\tsetIsLoading({ type: 'GET_ALL', status: true })\r\n\t\t\ttry {\r\n\t\t\t\tconst newNewsFeedList: any = [...newsFeedList]\r\n\t\t\t\tconst delObj: any = newNewsFeedList[idx]\r\n\t\t\t\tconst newDelObj: any = { ID: delObj.ID, Enable: false }\r\n\t\t\t\tconst res: any = await newsFeedApi.delete(newDelObj)\r\n\t\t\t\tif (res?.status === 200) {\r\n\t\t\t\t\tnewNewsFeedList.splice(idx, 1)\r\n\t\t\t\t\tsetNewsFeedList(newNewsFeedList)\r\n\t\t\t\t\tsetTotalNewsFeed(newNewsFeedList.length)\r\n\t\t\t\t\tshowNoti('success', res.data.message)\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log('onDelete', error.message)\r\n\t\t\t} finally {\r\n\t\t\t\tsetIsLoading({ type: 'GET_ALL', status: false })\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tconst fetchBackgroundNewsFeed = async () => {\r\n\t\ttry {\r\n\t\t\tconst res: any = await backgroundNewsFeedApi.getAll()\r\n\t\t\tres.status === 200 && setBackgroundList(res.data.data)\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log('fetchBackgroundNewsFeed', error.message)\r\n\t\t}\r\n\t}\r\n\r\n\t// --------------BACK TO HOME PAGE--------------\r\n\tconst onBackToHomePage = useDebounce(\r\n\t\t() => {\r\n\t\t\tsetFiltersData({\r\n\t\t\t\tname: null,\r\n\t\t\t\tidTeam: null,\r\n\t\t\t\tidGroup: null\r\n\t\t\t})\r\n\t\t\treset()\r\n\t\t},\r\n\t\t200,\r\n\t\t[]\r\n\t)\r\n\r\n\t// --------------FILTER--------------\r\n\tconst loadMore = () => {\r\n\t\tsetPageIndex(pageIndex + 1)\r\n\t\tpageIndex > 1 && fetchNewsFeedList()\r\n\t}\r\n\r\n\tconst onFilters = (field: string, value: string | number) => {\r\n\t\tif (filtersData[field] === value) {\r\n\t\t\tonBackToHomePage()\r\n\t\t\treturn\r\n\t\t}\r\n\t\tconst newFilters: FiltersData = {\r\n\t\t\tname: null,\r\n\t\t\tidTeam: null,\r\n\t\t\tidGroup: null\r\n\t\t}\r\n\t\tnewFilters[field] = value\r\n\t\tsetFiltersData(newFilters)\r\n\t\treset()\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tfor (const key in filtersData) {\r\n\t\t\t!!filtersData[key] && setHasNextPage(true)\r\n\t\t}\r\n\t}, [filtersData])\r\n\r\n\t// --------------LIKE--------------\r\n\tconst fetchNewsFeedUserLiked = async () => {\r\n\t\ttry {\r\n\t\t\tif (!userInformation) return\r\n\t\t\tlet res = await newsFeedLikeApi.getAll({ selectAll: true, UserInformationID: userInformation.UserInformationID })\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tconst getNewsFeedIDList = res.data.data.map((n) => n.NewsFeedID)\r\n\t\t\t\tsetIDListUserLiked(getNewsFeedIDList)\r\n\t\t\t}\r\n\t\t\tres?.status === 204 && setIDListUserLiked([])\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log('fetchNewsFeedUserLiked', error.message)\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchNewsFeedUserLiked()\r\n\t}, [userInformation])\r\n\r\n\tconst stoLike = useRef(null)\r\n\tconst DELAY = 500\r\n\r\n\tconst onUserLikeNewsFeed = (idx: number) => {\r\n\t\tclearTimeout(stoLike.current)\r\n\t\treturn (NewsFeedID: number) => {\r\n\t\t\ttry {\r\n\t\t\t\tstoLike.current = setTimeout(async () => {\r\n\t\t\t\t\tconst data = { NewsFeedID }\r\n\t\t\t\t\tlet res: any = await newsFeedLikeApi.add(data)\r\n\t\t\t\t\tif (res?.status === 200) {\r\n\t\t\t\t\t\tconst newNewsFeedList = [...newsFeedList]\r\n\t\t\t\t\t\tconst newNewsFeed: INewsFeed = {\r\n\t\t\t\t\t\t\t...newNewsFeedList[idx]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (res.data.data.Enable) {\r\n\t\t\t\t\t\t\tnewNewsFeedList.splice(idx, 1, {\r\n\t\t\t\t\t\t\t\t...newNewsFeed,\r\n\t\t\t\t\t\t\t\tLikeCount: ++newNewsFeedList[idx].LikeCount\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tsetIDListUserLiked([...idListUserLiked, res.data.data.NewsFeedID])\r\n\t\t\t\t\t\t\tsetNewsFeedList(newNewsFeedList)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnewNewsFeedList.splice(idx, 1, {\r\n\t\t\t\t\t\t\t\t...newNewsFeed,\r\n\t\t\t\t\t\t\t\tLikeCount: --newNewsFeedList[idx].LikeCount\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tconst newIDListUserLiked = idListUserLiked.filter((id) => id !== res.data.data.NewsFeedID)\r\n\t\t\t\t\t\t\tsetIDListUserLiked(newIDListUserLiked)\r\n\t\t\t\t\t\t\tsetNewsFeedList(newNewsFeedList)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}, DELAY)\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log('onUserLikeNewsFeed', error.message)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// --------------COMMENT--------------\r\n\tconst onComment = async (data: { CommentContent: string; NewsFeedID: number }) => {\r\n\t\tsetIsLoading({ type: 'ADD_COMMENT', status: true })\r\n\t\ttry {\r\n\t\t\tconst res = await newsFeedCommentApi.add(data)\r\n\t\t\treturn res\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log('onComment', error.message)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({ type: 'ADD_COMMENT', status: false })\r\n\t\t}\r\n\t}\r\n\r\n\tconst fetchComment = async (NewsFeedID: number) => {\r\n\t\tsetIsLoading({ type: `FETCH_COMMENT_${NewsFeedID}`, status: true })\r\n\t\ttry {\r\n\t\t\tconst res: any = await newsFeedCommentApi.getAll({ selectAll: true, NewsFeedID })\r\n\t\t\treturn res\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log('fetchComment', error.message)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({ type: `FETCH_COMMENT_${NewsFeedID}`, status: false })\r\n\t\t}\r\n\t}\r\n\r\n\t// --------------REPLY--------------\r\n\tconst onReplyComment = async (data) => {\r\n\t\tsetIsLoading({ type: 'ADD_COMMENT', status: true })\r\n\t\ttry {\r\n\t\t\tconst res: any = await newsFeedCommentReplyApi.add(data)\r\n\t\t\treturn res\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log('onReplyComment', error.message)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({ type: 'ADD_COMMENT', status: false })\r\n\t\t}\r\n\t}\r\n\r\n\tconst fetchReplyComment = async (NewsFeedCommentID: number) => {\r\n\t\tsetIsLoading({ type: `FETCH_REPLY_COMMENT_${NewsFeedCommentID}`, status: true })\r\n\t\ttry {\r\n\t\t\tconst res: any = await newsFeedCommentReplyApi.getAll({ selectAll: true, NewsFeedCommentID })\r\n\t\t\treturn res\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log('fetchReplyComment', error.message)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({ type: `FETCH_REPLY_COMMENT_${NewsFeedCommentID}`, status: false })\r\n\t\t}\r\n\t}\r\n\r\n\t// GROUP\r\n\tconst fetchInfoGroup = async (idGroup: number) => {\r\n\t\tsetIsLoading({ type: 'FETCH_INFO_GROUP', status: true })\r\n\t\ttry {\r\n\t\t\tlet [info, userList] = await Promise.all([\r\n\t\t\t\tgroupNewsFeedApi.getByID(idGroup),\r\n\t\t\t\tuserGroupNewsFeedApi.getAll({ selectAll: true, GroupNewsFeedID: idGroup })\r\n\t\t\t])\r\n\t\t\tinfo?.status === 200 && setInfoGroup((prevState: any) => ({ ...prevState, info: info.data.data }))\r\n\t\t\tuserList?.status === 200 && setInfoGroup((prevState) => ({ ...prevState, userList: userList.data.data }))\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log('fetchInfoGroup', error.message)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({ type: 'FETCH_INFO_GROUP', status: false })\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tfiltersData.idGroup && fetchInfoGroup(filtersData.idGroup)\r\n\t}, [filtersData.idGroup])\r\n\r\n\tconst onUpdateGroup = async (data: IGroupNewsFeed) => {\r\n\t\tsetIsLoading({ type: 'ADD_DATA', status: true })\r\n\t\ttry {\r\n\t\t\tconst res: any = await groupNewsFeedApi.update(data)\r\n\t\t\tif (res?.status === 200) {\r\n\t\t\t\tconst newGroupOptionList = [...optionList.groupOptionList].map((t) => {\r\n\t\t\t\t\tif (t.value === data.ID) {\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t...t,\r\n\t\t\t\t\t\t\ttitle: data.Name\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn t\r\n\t\t\t\t})\r\n\t\t\t\tsetOptionList({ ...optionList, groupOptionList: newGroupOptionList })\r\n\t\t\t\tsetInfoGroup({ ...infoGroup, info: data })\r\n\t\t\t\tshowNoti('success', res.data.message)\r\n\t\t\t\treturn res\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({ type: 'ADD_DATA', status: false })\r\n\t\t}\r\n\t}\r\n\r\n\tconst onDeleteGroup = async () => {\r\n\t\ttry {\r\n\t\t\tconst res: any = await groupNewsFeedApi.update({ ID: filtersData.idGroup, Enable: false })\r\n\t\t\tif (res?.status === 200) {\r\n\t\t\t\tconst newGroupOptionList = [...optionList.groupOptionList].filter((g: any) => g.value !== filtersData.idGroup)\r\n\t\t\t\treset()\r\n\t\t\t\tsetOptionList({\r\n\t\t\t\t\t...optionList,\r\n\t\t\t\t\tgroupOptionList: newGroupOptionList\r\n\t\t\t\t})\r\n\t\t\t\tsetFiltersData({ name: null, idTeam: null, idGroup: null })\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log('onDeleteGroup', error.message)\r\n\t\t}\r\n\t}\r\n\r\n\t// ADD USER TO GROUP\r\n\tconst fetchUserByRole = async (roleID: number) => {\r\n\t\tsetIsLoading({ type: 'FETCH_USER_IN_GROUP', status: true })\r\n\t\ttry {\r\n\t\t\tconst res = await userInformationApi.getAllParams({ RoleID: roleID, pageSize: 9999 })\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tconst fmOptionList = fmSelectArr(res.data.data, 'FullNameUnicode', 'UserInformationID')\r\n\t\t\t\tsetUserOptionList(fmOptionList)\r\n\t\t\t}\r\n\t\t\tres?.status === 20 && setUserOptionList([])\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log('fetchUserByRole', error.message)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({ type: 'FETCH_USER_IN_GROUP', status: false })\r\n\t\t}\r\n\t}\r\n\r\n\tconst addUserToGroup = async (data: any) => {\r\n\t\tsetIsLoading({ type: 'ADD_DATA', status: true })\r\n\t\ttry {\r\n\t\t\tconst { UserInformationID, RoleID } = data\r\n\t\t\tconst newData = { GroupNewsFeedID: filtersData.idGroup, UserInformationID, RoleID }\r\n\t\t\tconst res: any = await userGroupNewsFeedApi.add(newData)\r\n\t\t\tif (res?.status === 200) {\r\n\t\t\t\tconst newUserList = [...infoGroup.userList, res.data.data]\r\n\t\t\t\tsetInfoGroup({\r\n\t\t\t\t\t...infoGroup,\r\n\t\t\t\t\tuserList: newUserList\r\n\t\t\t\t})\r\n\t\t\t\tshowNoti('success', 'Thêm thành công')\r\n\t\t\t\treturn res\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error?.message)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({ type: 'ADD_DATA', status: false })\r\n\t\t}\r\n\t}\r\n\r\n\tconst removeUser = async (idUser: number) => {\r\n\t\ttry {\r\n\t\t\tconst res: any = await userGroupNewsFeedApi.update({ ID: idUser, Enable: false })\r\n\t\t\tif (res?.status === 200) {\r\n\t\t\t\tconst newUserList = [...infoGroup.userList].filter((u: any) => u.ID !== idUser)\r\n\t\t\t\tsetInfoGroup({\r\n\t\t\t\t\t...infoGroup,\r\n\t\t\t\t\tuserList: newUserList\r\n\t\t\t\t})\r\n\t\t\t\tshowNoti('success', res?.data?.message)\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log('onDeleteGroup', error?.message)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<TitlePage title=\"Tin tức\" />\r\n\t\t\t<div className=\"row wrap-newsfeed\">\r\n\t\t\t\t<div className=\"col-md-8 col-12\">\r\n\t\t\t\t\t<div className=\"list-newsfeed\">\r\n\t\t\t\t\t\t{filtersData.idGroup && (\r\n\t\t\t\t\t\t\t<BannerGroup\r\n\t\t\t\t\t\t\t\tinfoGroup={infoGroup}\r\n\t\t\t\t\t\t\t\ttotalNewsFeed={totalNewsFeed}\r\n\t\t\t\t\t\t\t\tbannerGroupActionListComponent={\r\n\t\t\t\t\t\t\t\t\tcheckAuthorization() === 'Accept' ? (\r\n\t\t\t\t\t\t\t\t\t\t<ul className=\"more-list\">\r\n\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<GroupForm\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tisUpdate={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdataUpdate={infoGroup.info}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcourseList={courseList}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleSubmit={onUpdateGroup}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<AddUserForm\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\troleOptionList={roleOptionList}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tuserOptionList={userOptionList}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\troleMemberOptionList={roleMemberOptionList}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfetchUserByRole={fetchUserByRole}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleSubmit={addUserToGroup}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<RemoveUser userList={infoGroup.userList} handleDelete={removeUser} />\r\n\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<DeleteGroup handleDelete={onDeleteGroup} />\r\n\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{!userInformation || userInformation['RoleID'] === 3 || userInformation['RoleID'] === 4 ? null : (\r\n\t\t\t\t\t\t\t<CreateNewsFeed\r\n\t\t\t\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\t\t\t\tdataUser={userInformation}\r\n\t\t\t\t\t\t\t\thandleUploadFile={onUploadFile}\r\n\t\t\t\t\t\t\t\thandleSubmit={onCreateNewsFeed}\r\n\t\t\t\t\t\t\t\tfetchBackgroundNewsFeed={fetchBackgroundNewsFeed}\r\n\t\t\t\t\t\t\t\tbackgroundList={backgroundList}\r\n\t\t\t\t\t\t\t\tfiltersData={filtersData}\r\n\t\t\t\t\t\t\t\toptionList={optionList}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t<ListNewsFeed>\r\n\t\t\t\t\t\t\t{newsFeedList.map((item: INewsFeed, idx) => {\r\n\t\t\t\t\t\t\t\tconst isUserLiked = idListUserLiked.includes(item.ID)\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<NewsFeedItem\r\n\t\t\t\t\t\t\t\t\t\tkey={item.ID}\r\n\t\t\t\t\t\t\t\t\t\thandleFilters={onFilters}\r\n\t\t\t\t\t\t\t\t\t\tisUserLiked={isUserLiked}\r\n\t\t\t\t\t\t\t\t\t\thandleUserLikeNewsFeed={onUserLikeNewsFeed(idx)}\r\n\t\t\t\t\t\t\t\t\t\thandleComment={onComment}\r\n\t\t\t\t\t\t\t\t\t\tfetchComment={fetchComment}\r\n\t\t\t\t\t\t\t\t\t\thandleReplyComment={onReplyComment}\r\n\t\t\t\t\t\t\t\t\t\tfetchReplyComment={fetchReplyComment}\r\n\t\t\t\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\t\t\t\t\t\tuserComment={userInformation}\r\n\t\t\t\t\t\t\t\t\t\tmoreActionComponent={\r\n\t\t\t\t\t\t\t\t\t\t\tcheckAuthorization(item.UserInformationID) === 'Accept' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ul className=\"more-list\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.UserInformationID === userInformation?.UserInformationID && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CreateNewsFeed\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={item.ID}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisUpdate={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titemUpdate={item}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataUser={userInformation}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleUploadFile={onUploadFile}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleSubmit={onEditNewsFeed(idx)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfetchBackgroundNewsFeed={fetchBackgroundNewsFeed}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundList={backgroundList}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toptionList={optionList}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteNewsFeed text=\"bảng tin này\" handleDelete={onDelete(idx)} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</ListNewsFeed>\r\n\r\n\t\t\t\t\t\t{hasNextPage && (\r\n\t\t\t\t\t\t\t<Waypoint onEnter={loadMore}>\r\n\t\t\t\t\t\t\t\t<ul className=\"list-nf skeleton\">\r\n\t\t\t\t\t\t\t\t\t<li className=\"item-nf\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"newsfeed\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Skeleton avatar paragraph={{ rows: 0 }} active />\r\n\t\t\t\t\t\t\t\t\t\t\t<Skeleton active paragraph={{ rows: 2 }} />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t<li className=\"item-nf\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"newsfeed\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Skeleton avatar paragraph={{ rows: 0 }} active />\r\n\t\t\t\t\t\t\t\t\t\t\t<Skeleton active paragraph={{ rows: 2 }} />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t<li className=\"item-nf\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"newsfeed\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Skeleton avatar paragraph={{ rows: 0 }} active />\r\n\t\t\t\t\t\t\t\t\t\t\t<Skeleton active paragraph={{ rows: 2 }} />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t</Waypoint>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{emptyNewsFeed && (\r\n\t\t\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t\t\t<Empty />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"col-md-4 col-12\">\r\n\t\t\t\t\t<SideBarNewsFeed\r\n\t\t\t\t\t\toptionList={optionList}\r\n\t\t\t\t\t\tfiltersData={filtersData}\r\n\t\t\t\t\t\thandleBack={onBackToHomePage}\r\n\t\t\t\t\t\thandleFilters={onFilters}\r\n\t\t\t\t\t\tgroupFormComponent={<></>}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default NewsFeed\r\n"]},"metadata":{},"sourceType":"module"}