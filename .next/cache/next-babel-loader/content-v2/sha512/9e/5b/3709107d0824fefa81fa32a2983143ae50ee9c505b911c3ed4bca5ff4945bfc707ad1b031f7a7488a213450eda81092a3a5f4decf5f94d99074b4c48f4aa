{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\pages\\\\option\\\\term-of-service\\\\index.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useEffect, useState } from 'react';\nimport { Card, Button, Spin } from 'antd';\nimport EditorBase from '~/components/Elements/EditorBase';\nimport TitlePage from '~/components/TitlePage';\nimport LayoutBase from '~/components/LayoutBase';\nimport { rulesApi } from '~/apiBase';\nimport { useWrap } from '~/context/wrap';\n\nconst TermOfService = () => {\n  const {\n    0: data,\n    1: setData\n  } = useState(null);\n  const {\n    0: dataContent,\n    1: setDataContent\n  } = useState('');\n  const {\n    0: isLoading,\n    1: setIsLoading\n  } = useState(false);\n  const {\n    showNoti\n  } = useWrap();\n\n  const fetchContract = async () => {\n    try {\n      let res = await rulesApi.getAll({});\n\n      if (res.status === 200) {\n        if (typeof res.data.data === 'object') {\n          setData(res.data.data);\n        }\n      } else if (res.status === 204) {\n        showNoti('danger', 'Không tìm thấy');\n      }\n    } catch (error) {\n      showNoti('danger', error.message);\n    }\n  };\n\n  const changeContractContent = value => {\n    setDataContent(value);\n  };\n\n  const updateData = async () => {\n    if (!dataContent) {\n      showNoti('danger', 'Bạn chưa sửa đổi');\n      return;\n    }\n\n    setIsLoading(true);\n\n    try {\n      let res = await rulesApi.update(_objectSpread(_objectSpread({}, data), {}, {\n        RulesContent: dataContent\n      }));\n      showNoti('success', res.data.message);\n    } catch (error) {\n      showNoti('danger', error.message);\n    } finally {\n      setDataContent('');\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchContract();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-12\",\n      children: [/*#__PURE__*/_jsxDEV(TitlePage, {\n        title: \"\\u0110i\\u1EC1u kho\\u1EA3n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(EditorBase, {\n          handleChangeDataEditor: changeContractContent,\n          content: data === null || data === void 0 ? void 0 : data.RulesContent\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row pt-3\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12 d-flex justify-content-center\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                paddingRight: 5\n              },\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                type: \"primary\",\n                size: \"large\",\n                onClick: updateData,\n                children: [\"X\\xE1c nh\\u1EADn\", isLoading && /*#__PURE__*/_jsxDEV(Spin, {\n                  className: \"loading-base\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 69,\n                  columnNumber: 24\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 3\n  }, this);\n};\n\nTermOfService.layout = LayoutBase;\nexport default TermOfService;","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/pages/option/term-of-service/index.tsx"],"names":["React","useEffect","useState","Card","Button","Spin","EditorBase","TitlePage","LayoutBase","rulesApi","useWrap","TermOfService","data","setData","dataContent","setDataContent","isLoading","setIsLoading","showNoti","fetchContract","res","getAll","status","error","message","changeContractContent","value","updateData","update","RulesContent","paddingRight","layout"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect, useState } from 'react';\r\nimport { Card, Button, Spin } from 'antd';\r\nimport EditorBase from '~/components/Elements/EditorBase';\r\nimport TitlePage from '~/components/TitlePage';\r\nimport LayoutBase from '~/components/LayoutBase';\r\n\r\nimport { rulesApi } from '~/apiBase';\r\nimport { useWrap } from '~/context/wrap';\r\n\r\nconst TermOfService = () => {\r\n\tconst [data, setData] = useState(null);\r\n\tconst [dataContent, setDataContent] = useState('');\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\tconst { showNoti } = useWrap();\r\n\r\n\tconst fetchContract = async () => {\r\n\t\ttry {\r\n\t\t\tlet res = await rulesApi.getAll({});\r\n\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tif (typeof res.data.data === 'object') {\r\n\t\t\t\t\tsetData(res.data.data);\r\n\t\t\t\t}\r\n\t\t\t} else if (res.status === 204) {\r\n\t\t\t\tshowNoti('danger', 'Không tìm thấy');\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message);\r\n\t\t}\r\n\t};\r\n\tconst changeContractContent = (value) => {\r\n\t\tsetDataContent(value);\r\n\t};\r\n\tconst updateData = async () => {\r\n\t\tif (!dataContent) {\r\n\t\t\tshowNoti('danger', 'Bạn chưa sửa đổi');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsetIsLoading(true);\r\n\t\ttry {\r\n\t\t\tlet res = await rulesApi.update({\r\n\t\t\t\t...data,\r\n\t\t\t\tRulesContent: dataContent\r\n\t\t\t});\r\n\t\t\tshowNoti('success', res.data.message);\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message);\r\n\t\t} finally {\r\n\t\t\tsetDataContent('');\r\n\t\t\tsetIsLoading(false);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchContract();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"row\">\r\n\t\t\t<div className=\"col-12\">\r\n\t\t\t\t<TitlePage title=\"Điều khoản\" />\r\n\t\t\t\t<Card>\r\n\t\t\t\t\t<EditorBase handleChangeDataEditor={changeContractContent} content={data?.RulesContent} />\r\n\t\t\t\t\t<div className=\"row pt-3\">\r\n\t\t\t\t\t\t<div className=\"col-12 d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t<div style={{ paddingRight: 5 }}>\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" size=\"large\" onClick={updateData}>\r\n\t\t\t\t\t\t\t\t\tXác nhận\r\n\t\t\t\t\t\t\t\t\t{isLoading && <Spin className=\"loading-base\" />}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Card>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\nTermOfService.layout = LayoutBase;\r\nexport default TermOfService;\r\n"]},"metadata":{},"sourceType":"module"}