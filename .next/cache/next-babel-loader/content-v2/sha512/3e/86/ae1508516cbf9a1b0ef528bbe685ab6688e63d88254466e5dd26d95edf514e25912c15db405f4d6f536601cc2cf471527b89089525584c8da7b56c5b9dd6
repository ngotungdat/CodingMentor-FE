{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Global\\\\QuestionBank\\\\QuestionCreate.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { DownloadOutlined, EllipsisOutlined } from '@ant-design/icons';\nimport { Card, Dropdown, Select, Spin, Switch, Tooltip } from 'antd';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Bookmark } from 'react-feather';\nimport { curriculumApi, exerciseApi, exerciseGroupApi, programApi } from '~/apiBase';\nimport TitlePage from '~/components/Elements/TitlePage';\nimport CreateQuestionForm from '~/components/Global/QuestionBank/CreateQuestionForm';\nimport GroupWrap from '~/components/Global/QuestionBank/GroupWrap';\nimport QuestionDrag from '~/components/Global/QuestionBank/QuestionShow/QuestionDrag';\nimport QuestionMap from '~/components/Global/QuestionBank/QuestionShow/QuestionMap';\nimport QuestionMultiple from '~/components/Global/QuestionBank/QuestionShow/QuestionMultiple';\nimport QuestionSingle from '~/components/Global/QuestionBank/QuestionShow/QuestionSingle';\nimport QuestionTyping from '~/components/Global/QuestionBank/QuestionShow/QuestionTyping';\nimport QuestionWritting from '~/components/Global/QuestionBank/QuestionShow/QuestionWritting';\nimport LayoutBase from '~/components/LayoutBase';\nimport { useWrap } from '~/context/wrap';\nimport { dataTypeGroup, dataTypeSingle } from '~/lib/question-bank/dataBoxType';\nimport { questionObj } from '~/lib/TypeData';\nimport ImportExcel from './Elements/ImportExcel';\nimport QuestionSpeaking from './QuestionShow/QuestionSpeaking';\nconst {\n  Option,\n  OptGroup\n} = Select;\nlet isOpenTypeQuestion = false;\nconst listTodoApi = {\n  pageSize: 10,\n  pageIndex: 1,\n  CurriculumID: null,\n  Type: null,\n  Level: null,\n  SkillID: null,\n  ExerciseGroupID: null,\n  ExamTopicType: null\n};\nconst listAlphabet = ['A', 'B', 'C', 'D', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V'];\n\nconst QuestionCreate = props => {\n  const {\n    dataExam,\n    isOpenModal\n  } = props;\n  const {\n    showNoti,\n    userInformation\n  } = useWrap();\n  const {\n    0: isLoading,\n    1: setIsLoading\n  } = useState(false);\n  const {\n    0: dataProgram,\n    1: setDataProgram\n  } = useState(null);\n  const {\n    0: dataCurriculum,\n    1: setDataCurriculum\n  } = useState(null);\n  const {\n    0: loadingSelect,\n    1: setLoadingSelect\n  } = useState(false);\n  const {\n    0: questionData,\n    1: setQuestionData\n  } = useState(questionObj);\n  const {\n    0: dropDownVisible,\n    1: setDropDownVisible\n  } = useState(false);\n  const {\n    0: showListQuestion,\n    1: setShowListQuestion\n  } = useState(false);\n  const {\n    0: showTypeQuetion,\n    1: setShowTypeQuestion\n  } = useState({\n    type: null,\n    status: false\n  });\n  const {\n    0: todoApi,\n    1: setTodoApi\n  } = useState(listTodoApi);\n  const {\n    0: dataSource,\n    1: setDataSource\n  } = useState([]);\n  const boxEl = useRef(null);\n  const {\n    0: totalPageIndex,\n    1: setTotalPageIndex\n  } = useState(0);\n  const {\n    0: loadingQuestion,\n    1: setLoadingQuestion\n  } = useState(false);\n  const {\n    0: isGroup,\n    1: setIsGroup\n  } = useState({\n    id: null,\n    status: null\n  });\n  const {\n    0: valueCurriculum,\n    1: setValueCurriculum\n  } = useState(null);\n  const {\n    0: valueProgram,\n    1: setValueProgram\n  } = useState(null);\n  const {\n    0: valueType,\n    1: setValueType\n  } = useState(null);\n  const {\n    0: valueLevel,\n    1: setValueLevel\n  } = useState(null);\n  const {\n    0: valueSkill,\n    1: setValueSkill\n  } = useState(null);\n  const {\n    0: dataGroup,\n    1: setDataGroup\n  } = useState([]);\n  const {\n    0: dataExercise,\n    1: setDataExercise\n  } = useState();\n  const {\n    0: isTest,\n    1: setIsTest\n  } = useState(false);\n  const {\n    0: loadingProgram,\n    1: setLoadingProgram\n  } = useState(false); // Phân loại dạng câu hỏi để trả ra danh sách\n\n  const returnQuestionType = () => {\n    switch (todoApi.Type) {\n      /** Quesion Single */\n      case 1:\n        return /*#__PURE__*/_jsxDEV(GroupWrap, {\n          dataExam: dataExam,\n          isGroup: isGroup,\n          listQuestion: dataGroup,\n          onFetchData: onFetchData,\n          onRemoveData: dataRemove => onRemoveData(dataRemove),\n          getGroupID: groupID => setIsGroup(_objectSpread(_objectSpread({}, isGroup), {}, {\n            id: groupID\n          })),\n          onEditData: data => onEditData(data),\n          onAddData: data => onAddData(data),\n          children: /*#__PURE__*/_jsxDEV(QuestionSingle, {\n            dataExam: dataExam,\n            listAlphabet: listAlphabet,\n            isGroup: isGroup,\n            loadingQuestion: loadingQuestion,\n            listQuestion: dataSource,\n            onFetchData: onFetchData,\n            onEditData: data => onEditData(data),\n            onRemoveData: dataRemove => onRemoveData(dataRemove)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 6\n        }, this);\n        break;\n\n      /** Quesion Drag */\n\n      case 2:\n        return /*#__PURE__*/_jsxDEV(GroupWrap, {\n          dataExam: dataExam,\n          isGroup: isGroup,\n          listQuestion: dataGroup,\n          onFetchData: onFetchData,\n          onRemoveData: dataRemove => onRemoveData(dataRemove),\n          getGroupID: groupID => setIsGroup(_objectSpread(_objectSpread({}, isGroup), {}, {\n            id: groupID\n          })),\n          onEditData: data => onEditData(data),\n          onAddData: data => onAddData(data),\n          children: /*#__PURE__*/_jsxDEV(QuestionDrag, {\n            listAlphabet: listAlphabet,\n            isGroup: isGroup,\n            loadingQuestion: loadingQuestion,\n            listQuestion: dataExercise,\n            onFetchData: onFetchData,\n            onEditData: data => onEditData(data),\n            onRemoveData: dataRemove => onRemoveData(dataRemove)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 6\n        }, this);\n        break;\n\n      /** Quesion Typing */\n\n      case 3:\n        return /*#__PURE__*/_jsxDEV(GroupWrap, {\n          dataExam: dataExam,\n          isGroup: isGroup,\n          listQuestion: dataGroup,\n          onFetchData: onFetchData,\n          onRemoveData: dataRemove => onRemoveData(dataRemove),\n          getGroupID: groupID => setIsGroup(_objectSpread(_objectSpread({}, isGroup), {}, {\n            id: groupID\n          })),\n          onEditData: data => onEditData(data),\n          onAddData: data => onAddData(data),\n          children: /*#__PURE__*/_jsxDEV(QuestionTyping, {\n            listAlphabet: listAlphabet,\n            isGroup: isGroup,\n            loadingQuestion: loadingQuestion,\n            listQuestion: dataExercise,\n            onFetchData: onFetchData,\n            onEditData: data => onEditData(data),\n            onRemoveData: dataRemove => onRemoveData(dataRemove)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 6\n        }, this);\n        break;\n\n      /** Quesion Multiple */\n\n      case 4:\n        return /*#__PURE__*/_jsxDEV(GroupWrap, {\n          dataExam: dataExam,\n          isGroup: isGroup,\n          listQuestion: dataGroup,\n          onFetchData: onFetchData,\n          onRemoveData: dataRemove => onRemoveData(dataRemove),\n          getGroupID: groupID => setIsGroup(_objectSpread(_objectSpread({}, isGroup), {}, {\n            id: groupID\n          })),\n          onEditData: data => onEditData(data),\n          onAddData: data => onAddData(data),\n          children: /*#__PURE__*/_jsxDEV(QuestionMultiple, {\n            dataExam: dataExam,\n            listAlphabet: listAlphabet,\n            isGroup: isGroup,\n            loadingQuestion: loadingQuestion,\n            listQuestion: dataSource,\n            onFetchData: onFetchData,\n            onEditData: data => onEditData(data),\n            onRemoveData: dataRemove => onRemoveData(dataRemove)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 6\n        }, this);\n        break;\n\n      /** Quesion Map */\n\n      case 5:\n        return /*#__PURE__*/_jsxDEV(GroupWrap, {\n          dataExam: dataExam,\n          isGroup: isGroup,\n          listQuestion: dataGroup,\n          onFetchData: onFetchData,\n          onRemoveData: dataRemove => onRemoveData(dataRemove),\n          getGroupID: groupID => setIsGroup(_objectSpread(_objectSpread({}, isGroup), {}, {\n            id: groupID\n          })),\n          onEditData: data => onEditData(data),\n          onAddData: data => onAddData(data),\n          children: /*#__PURE__*/_jsxDEV(QuestionMap, {\n            listAlphabet: listAlphabet,\n            isGroup: isGroup,\n            loadingQuestion: loadingQuestion,\n            listQuestion: dataSource,\n            onFetchData: onFetchData,\n            onEditData: data => onEditData(data),\n            onRemoveData: dataRemove => onRemoveData(dataRemove)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 6\n        }, this);\n        break;\n\n      /** Quesion Writting */\n\n      case 6:\n        return /*#__PURE__*/_jsxDEV(QuestionWritting, {\n          dataExam: dataExam,\n          listAlphabet: listAlphabet,\n          isGroup: isGroup,\n          loadingQuestion: loadingQuestion,\n          listQuestion: dataSource,\n          onFetchData: onFetchData,\n          onEditData: data => onEditData(data),\n          onRemoveData: dataRemove => onRemoveData(dataRemove)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 6\n        }, this);\n        break;\n\n      /** Quesion Speaking */\n\n      case 7:\n        return /*#__PURE__*/_jsxDEV(QuestionSpeaking, {\n          dataExam: dataExam,\n          listAlphabet: listAlphabet,\n          isGroup: isGroup,\n          loadingQuestion: loadingQuestion,\n          listQuestion: dataSource,\n          onFetchData: onFetchData,\n          onEditData: data => onEditData(data),\n          onRemoveData: dataRemove => onRemoveData(dataRemove)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 6\n        }, this);\n        break;\n\n      default:\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Danh s\\xE1ch c\\xF2n tr\\u1ED1ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 6\n        }, this);\n        break;\n    }\n  }; // GET DATA SOURCE - DATA EXERCISE\n\n\n  const getDataSource = async () => {\n    let res = null;\n\n    try {\n      if (!isGroup.status) {\n        res = await exerciseApi.getAll(_objectSpread(_objectSpread({}, todoApi), {}, {\n          ExerciseGroupID: 0\n        }));\n      } else {\n        res = await exerciseGroupApi.getAll(todoApi);\n      }\n\n      if (res.status == 200) {\n        // Xét coi này câu hỏi nhóm hay đơn\n        if (!isGroup.status) {\n          let cloneData = [...dataSource];\n          res.data.data.forEach((item, index) => {\n            cloneData.push(item);\n          });\n          setDataSource([...cloneData]);\n        } else {\n          let cloneData = [...dataGroup];\n          res.data.data.forEach((item, index) => {\n            cloneData.push(item);\n          });\n          setDataGroup([...cloneData]);\n        } // todoApi.pageIndex == 1 && showNoti(\"success\", \"Thành công\");\n        // !showListQuestion && setShowListQuestion(true);\n        // Caculator pageindex\n\n\n        let totalPage = Math.ceil(res.data.totalRow / 10);\n        setTotalPageIndex(totalPage);\n      }\n\n      if (res.status == 204) {\n        // showNoti(\"danger\", \"Không có dữ liệu\");\n        if (!isGroup.status) {\n          if (todoApi.Type == 3) {\n            setShowListQuestion(false);\n          }\n        } else {\n          setShowListQuestion(true);\n        }\n      }\n    } catch (error) {\n      showNoti('danger', error.message);\n    } finally {\n      setIsLoading(false);\n      loadingQuestion && setLoadingQuestion(false);\n    }\n  }; // GET DATA PROGRAM\n\n\n  const getDataProgram = async () => {\n    setLoadingProgram(true);\n\n    try {\n      let res = await programApi.getAll({\n        pageIndex: 1,\n        pageSize: 999999\n      });\n      res.status == 200 && setDataProgram(res.data.data);\n      res.status == 204 && showNoti('danger', 'Chương trình không có dữ liệu');\n    } catch (error) {\n      showNoti('danger', error.message);\n    } finally {\n      setLoadingProgram(false);\n    }\n  }; // GET DATA Curriculum\n\n\n  const getDataCurriculum = async id => {\n    setLoadingSelect(true);\n\n    try {\n      let res = await curriculumApi.getAll({\n        pageIndex: 1,\n        pageSize: 999999,\n        ProgramID: id\n      });\n      res.status == 200 && setDataCurriculum(res.data.data);\n      res.status == 204 && showNoti('danger', 'Giáo trình không có dữ liệu');\n    } catch (error) {\n      showNoti('danger', error.message);\n    } finally {\n      setLoadingSelect(false);\n    }\n  }; // CHỌN DẠNG CÂU HỎI (CHOICE, MULTIPLE,...)\n\n\n  const changeBoxType = (e, Type, TypeName) => {\n    console.log('Chạy vô box type');\n    e === null || e === void 0 ? void 0 : e.preventDefault();\n    questionData.Type = Type;\n    questionData.TypeName = TypeName; // Kiểm dạng câu hỏi gì để thay đổi list answer\n\n    switch (Type) {\n      case 4:\n        questionData.ExerciseAnswer = []; // setQuestionData({ ...questionData });\n\n        break;\n\n      case 1:\n        questionData.ExerciseAnswer = questionObj.ExerciseAnswer;\n        break;\n      // case 3:\n      //   questionData.ExerciseList = [];\n\n      default:\n        break;\n    } // Add value vào data chung\n\n\n    setQuestionData(_objectSpread({}, questionData)); // Active\n\n    setShowTypeQuestion(_objectSpread(_objectSpread({}, showTypeQuetion), {}, {\n      type: Type\n    })); // Show danh sách câu hỏi bên cạnh\n\n    setIsLoading(true);\n    !showListQuestion && setShowListQuestion(true);\n    setDataSource([]);\n    setDataGroup([]);\n    setTodoApi(_objectSpread(_objectSpread({}, todoApi), {}, {\n      Type: Type,\n      CurriculumID: questionData.CurriculumID,\n      Level: questionData.Level,\n      SkillID: questionData.SkillID,\n      pageIndex: 1\n    }));\n  }; // PICK IS TEST\n\n\n  const pickIsTest = checked => {\n    if (!dataExam) {\n      setIsTest(checked);\n\n      if (checked) {\n        setQuestionData(_objectSpread(_objectSpread({}, questionData), {}, {\n          CurriculumID: 0\n        }));\n        setValueProgram(null);\n        setValueCurriculum(null);\n\n        if (showListQuestion) {\n          setIsLoading(true);\n          setTodoApi(_objectSpread(_objectSpread({}, todoApi), {}, {\n            pageIndex: 1,\n            CurriculumID: 0\n          }));\n          setDataSource([]);\n          setDataGroup([]);\n        }\n      } else {\n        setShowListQuestion(false);\n        setShowTypeQuestion({\n          status: false,\n          type: null\n        });\n      }\n    }\n  }; // HANDLE CHANGE SELECT - THAO TÁC VỚI CÁC SELECT\n\n\n  const handleChange_select = (selectName, option) => {\n    setDataSource([]);\n    setDataGroup([]);\n\n    switch (selectName) {\n      // -- Chọn chương trình\n      case 'program':\n        getDataCurriculum(option.value);\n        setDataCurriculum(null);\n        setValueCurriculum(null);\n        showListQuestion && (setIsLoading(true), setTodoApi(_objectSpread(_objectSpread({}, todoApi), {}, {\n          pageIndex: 1,\n          CurriculumID: null\n        })));\n        setShowTypeQuestion({\n          type: null,\n          status: false\n        });\n        setShowListQuestion(false);\n        setValueProgram(option.value);\n        break;\n      // -- Chọn loại câu hỏi đơn hay nhóm\n\n      case 'type-question-group':\n        // questionData.ExerciseGroupID = option.value;\n        isOpenTypeQuestion = true;\n\n        if (option.value == 0) {\n          setIsGroup({\n            id: null,\n            status: false\n          });\n        } else {\n          setIsGroup(_objectSpread(_objectSpread({}, isGroup), {}, {\n            status: true\n          }));\n        }\n\n        if (questionData.Type == 2 || questionData.Type == 3 || questionData.Type == 5) {\n          setShowListQuestion(false);\n          setShowTypeQuestion(_objectSpread(_objectSpread({}, showTypeQuetion), {}, {\n            type: null\n          }));\n        } else {\n          showListQuestion && (setIsLoading(true), setTodoApi(_objectSpread(_objectSpread({}, todoApi), {}, {\n            pageIndex: 1\n          })));\n        }\n\n        setValueType(option.value);\n        break;\n      // -- Chọn môn học\n\n      case 'curriculum':\n        questionData.CurriculumID = option.value;\n        questionData.CurriculumName = option.children;\n        showListQuestion && (setIsLoading(true), setTodoApi(_objectSpread(_objectSpread({}, todoApi), {}, {\n          CurriculumID: option.value,\n          pageIndex: 1\n        })));\n        setValueCurriculum(option.value);\n        break;\n      // -- Chọn level (Dễ, trung bình, khó)\n\n      case 'level':\n        questionData.Level = option.value;\n        questionData.LevelName = option.children;\n        showListQuestion && (setIsLoading(true), setTodoApi(_objectSpread(_objectSpread({}, todoApi), {}, {\n          Level: option.value\n        })));\n        setValueLevel(option.value);\n        break;\n      // -- Chọn kĩ năng\n\n      case 'skill':\n        questionData.SkillID = option.value; // Xét trường hợp kĩ năng \"Nói\" hoặc \"Viết\"\n\n        if (option.value == 2 || option.value == 4) {\n          questionData.Type = 0;\n          setShowListQuestion(false); // Nếu loại \"Nói\" hoặc \"Viết\" thì mặc định không phải câu hỏi nhóm\n\n          setIsGroup({\n            id: null,\n            status: false\n          });\n          setValueType(0);\n        } else {\n          !valueType && setValueType(0);\n\n          if (valueSkill == 1 || valueSkill == 3) {\n            setIsLoading(true);\n            setTodoApi(_objectSpread(_objectSpread({}, todoApi), {}, {\n              SkillID: option.value\n            }));\n          } else {\n            setShowListQuestion(false);\n            setShowTypeQuestion(_objectSpread(_objectSpread({}, showTypeQuetion), {}, {\n              type: null\n            }));\n          }\n        }\n\n        setValueSkill(option.value);\n        isOpenTypeQuestion = true;\n\n      default:\n        break;\n    }\n\n    setQuestionData(_objectSpread({}, questionData)); // kiểm tra mới vào đã chọn đầy đủ 4 trường hay chưa rồi mới show danh sách dạng câu hỏi\n\n    if (!showTypeQuetion.status) {\n      if (questionData.ExerciseGroupID !== null && questionData.SkillID !== null && questionData.Level !== null && isOpenTypeQuestion == true) {\n        if (isTest) {\n          setShowTypeQuestion(_objectSpread(_objectSpread({}, showTypeQuetion), {}, {\n            status: true\n          }));\n        } else {\n          if (questionData.CurriculumID !== null && questionData.CurriculumID !== 0) {\n            setShowTypeQuestion(_objectSpread(_objectSpread({}, showTypeQuetion), {}, {\n              status: true\n            }));\n          }\n        }\n      }\n    }\n  }; // ON ADD NEW DATA\n\n\n  const addDataGroup = dataAdd => {\n    dataGroup.splice(0, 0, dataAdd);\n    setDataGroup([...dataGroup]);\n  };\n\n  const addDataSingle = dataAdd => {\n    dataSource.splice(0, 0, dataAdd);\n    setDataSource([...dataSource]);\n  };\n\n  const onAddData = dataAdd => {\n    if (!isGroup.status) {\n      addDataSingle(dataAdd);\n    } else {\n      if (dataAdd.ExerciseGroupID) {\n        addDataSingle(dataAdd);\n      } else {\n        addDataGroup(dataAdd);\n      }\n    }\n\n    questionData.Content = '';\n    setQuestionData(_objectSpread({}, questionData));\n  };\n\n  const editDataGroup = dataEdit => {\n    let index = dataGroup.findIndex(item => item.ID == dataEdit.ID);\n    dataGroup.splice(index, 1, dataEdit); // let exerciseList = [...dataEdit.ExerciseList];\n\n    setDataExercise(dataEdit);\n    setDataGroup([...dataGroup]);\n  };\n\n  const editDataSingle = dataEdit => {\n    if (dataEdit.Type == 4) {\n      let newAnswerList = dataEdit.ExerciseAnswer.filter(item => item.Enable !== false);\n      dataEdit.ExerciseAnswer = newAnswerList;\n    }\n\n    let index = dataSource.findIndex(item => item.ID == dataEdit.ID);\n    dataSource.splice(index, 1, dataEdit);\n    setDataSource([...dataSource]);\n  };\n\n  const onEditData = dataEdit => {\n    if (!isGroup.status) {\n      // Nếu là dạng câu hỏi nhiều đáp án thì phải xóa nó đi\n      editDataSingle(dataEdit);\n    } else {\n      if (dataEdit.ExerciseGroupID) {\n        editDataSingle(dataEdit);\n      } else {\n        editDataGroup(dataEdit);\n      }\n    }\n\n    questionData.Content = '';\n    setQuestionData(_objectSpread({}, questionData));\n  }; // ON REMOVE DATA\n\n\n  const removeDataSingle = dataRemove => {\n    let quesIndex = dataSource.findIndex(item => item.ID == dataRemove.ID);\n    dataSource.splice(quesIndex, 1);\n    setDataSource([...dataSource]);\n  };\n\n  const removeDataGroup = dataRemove => {\n    if (dataRemove.isDeleteExercise) {\n      setDataExercise(dataRemove);\n    } else {\n      let quesIndex = dataGroup.findIndex(item => item.ID == dataRemove);\n      dataGroup.splice(quesIndex, 1);\n      setDataGroup([...dataGroup]);\n    }\n  };\n\n  const onRemoveData = dataRemove => {\n    if (!isGroup.status) {\n      removeDataSingle(dataRemove);\n    } else {\n      if (dataRemove.ExerciseGroupID) {\n        removeDataSingle(dataRemove);\n      } else {\n        removeDataGroup(dataRemove);\n      }\n    }\n  }; // ON FETCH DATA\n\n\n  const onFetchData = () => {\n    scrollToTop(), setIsLoading(true), setDataSource([]), setDataGroup([]);\n    setTodoApi(_objectSpread(_objectSpread({}, todoApi), {}, {\n      pageIndex: 1,\n      pageSize: 10\n    }));\n  }; // SCROLL TO TOP\n\n\n  const scrollToTop = () => {\n    !!boxEl.current && boxEl.current.scrollTo(0, 0);\n  }; // ON SCROLL\n\n\n  const onScroll = () => {\n    console.log('Chạy vào on scroll');\n    const scrollHeight = boxEl.current.scrollHeight;\n    const offsetHeight = boxEl.current.offsetHeight;\n    const scrollTop = boxEl.current.scrollTop;\n\n    if (scrollTop > scrollHeight - offsetHeight - 40) {\n      if (todoApi.pageIndex < totalPageIndex) {\n        setLoadingQuestion(true);\n\n        if (scrollTop > 0 && loadingQuestion == false) {\n          setTodoApi(_objectSpread(_objectSpread({}, todoApi), {}, {\n            pageIndex: todoApi.pageIndex + 1\n          }));\n        }\n      }\n    }\n  };\n\n  useEffect(() => {\n    getDataProgram(); // Lấy data chương trình\n  }, []);\n  useEffect(() => {\n    if (todoApi.Type && todoApi.Type !== 0) {\n      getDataSource();\n    }\n\n    questionData.Content = '';\n\n    switch (questionData.Type) {\n      case 4:\n        questionData.ExerciseAnswer = [];\n        break;\n\n      default:\n        break;\n    }\n\n    setQuestionData(_objectSpread({}, questionData));\n  }, [todoApi]);\n  useEffect(() => {\n    console.log('chạy dô');\n\n    if (dataExam) {\n      if (dataExam.Type == 1) {\n        setIsTest(true);\n        questionData.CurriculumID = 0;\n      } else {\n        setValueProgram(dataExam.ProgramID);\n        getDataCurriculum(dataExam.ProgramID);\n        setValueCurriculum(dataExam.CurriculumID);\n        questionData.CurriculumID = dataExam.CurriculumID;\n      }\n\n      questionData.Level = 1;\n      questionData.SkillID = 3;\n      setQuestionData(_objectSpread({}, questionData));\n      setValueSkill(3);\n      setValueLevel(1);\n      setValueType(0);\n      changeBoxType(null, 1, 'Lựa chọn một');\n      isOpenTypeQuestion = true;\n    } else {// setValueProgram(31);\n      // getDataCurriculum(31);\n      // setValueCurriculum(23);\n      // questionData.CurriculumID = 23;\n      // questionData.Level = 1;\n      // questionData.SkillID = 3;\n      // setQuestionData({ ...questionData });\n      // setValueSkill(3);\n      // setValueLevel(1);\n      // setValueType(0);\n      // changeBoxType(null, 1, 'Lựa chọn một');\n      // isOpenTypeQuestion = true;\n    }\n\n    setShowTypeQuestion({\n      type: 1,\n      status: true\n    });\n  }, [dataExam]);\n  useEffect(() => {\n    if (!isOpenModal) {\n      setDataSource([]);\n    }\n  }, [isOpenModal]);\n\n  const menuDropdown = () => {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"menu__dropdown d-inline-block d-xl-none\",\n        style: {\n          width: 170\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4 w-100\",\n          children: /*#__PURE__*/_jsxDEV(Tooltip, {\n            title: \"T\\u1EA3i file excel m\\u1EABu\",\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"btn btn-light mr-2 btn-have-icon\",\n              href: \"http://api.echinese.vn/Upload/DocumentLessonDetail/403210f3-6dee-44a6-83b4-5f5162af9439.xlsx\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"d-flex align-items-center text-center\",\n                children: [/*#__PURE__*/_jsxDEV(DownloadOutlined, {\n                  className: \"mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 761,\n                  columnNumber: 10\n                }, this), \"File m\\u1EABu\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 760,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 756,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 755,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 754,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: /*#__PURE__*/_jsxDEV(ImportExcel, {\n            onFetchData: onFetchData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 768,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 767,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: /*#__PURE__*/_jsxDEV(CreateQuestionForm, {\n            questionData: questionData,\n            onFetchData: onFetchData,\n            isGroup: isGroup,\n            onAddData: data => onAddData(data)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 771,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 770,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 751,\n        columnNumber: 5\n      }, this)\n    }, void 0, false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"question-create\",\n    children: [/*#__PURE__*/_jsxDEV(TitlePage, {\n      title: \"T\\u1EA1o c\\xE2u h\\u1ECFi\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 785,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-12\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 787,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 786,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-xl-8 col-12\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"card-detail-question\",\n          title: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"title-question-bank\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"title-big\",\n              children: [/*#__PURE__*/_jsxDEV(Bookmark, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 796,\n                columnNumber: 10\n              }, this), \" \", !isGroup.status ? 'Danh sách câu hỏi' : 'Danh sách nhóm câu hỏi']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 795,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                paddingLeft: '30px',\n                fontSize: '13px',\n                marginBottom: '0',\n                fontWeight: 500,\n                color: '#777777'\n              },\n              children: showTypeQuetion.type && questionData.TypeName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 798,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 794,\n            columnNumber: 8\n          }, this),\n          extra: (userInformation === null || userInformation === void 0 ? void 0 : userInformation.RoleID) !== 2 && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-none d-lg-flex justify-content-between\",\n              style: {\n                width: 410\n              },\n              children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n                title: \"T\\u1EA3i file excel m\\u1EABu\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  className: \"btn btn-light mr-1 btn-have-icon\",\n                  href: \"http://api.echinese.vn/Upload/DocumentLessonDetail/403210f3-6dee-44a6-83b4-5f5162af9439.xlsx\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"d-flex align-items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(DownloadOutlined, {\n                      className: \"mr-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 821,\n                      columnNumber: 14\n                    }, this), \"File m\\u1EABu\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 820,\n                    columnNumber: 13\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 816,\n                  columnNumber: 12\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 815,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(ImportExcel, {\n                className: \"mr-1\",\n                onFetchData: onFetchData\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 826,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(CreateQuestionForm, {\n                onError: s => {\n                  console.log('onError', s);\n                },\n                className: \"ml-1\",\n                questionData: questionData,\n                onFetchData: onFetchData,\n                isGroup: isGroup,\n                onAddData: data => onAddData(data)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 827,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 814,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-lg-none\",\n              children: /*#__PURE__*/_jsxDEV(Dropdown, {\n                overlay: menuDropdown,\n                trigger: ['click'],\n                visible: dropDownVisible,\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  className: \"ant-dropdown-link\",\n                  onClick: e => {\n                    e.preventDefault();\n                    setDropDownVisible(!dropDownVisible);\n                  },\n                  children: /*#__PURE__*/_jsxDEV(EllipsisOutlined, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 847,\n                    columnNumber: 13\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 840,\n                  columnNumber: 12\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 839,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 838,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true),\n          children: !showListQuestion ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-weight-primary text-center\",\n              children: dataExam ? 'Vui lòng chọn dạng câu hỏi' : 'Vui lòng chọn giáo trình và dạng câu hỏi'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 857,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"img-load\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"/images/study-min.jpg\",\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 861,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 860,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true) : isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center p-2\",\n            children: /*#__PURE__*/_jsxDEV(Spin, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 866,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 865,\n            columnNumber: 8\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `question-list active`,\n            ref: boxEl,\n            onScroll: onScroll,\n            children: returnQuestionType()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 869,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 791,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 790,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-xl-4 col-12\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"card-box-type\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `row ${showTypeQuetion ? 'mb-2' : ''}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 mb-4\",\n              children: /*#__PURE__*/_jsxDEV(Switch, {\n                className: \"pick-test\",\n                checkedChildren: \"\\u0110\\u1EC1 h\\u1EB9n test\",\n                unCheckedChildren: \"\\u0110\\u1EC1 h\\u1EB9n test\",\n                checked: isTest,\n                onChange: pickIsTest\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 882,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 881,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-6 col-12 \",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-select\",\n                children: /*#__PURE__*/_jsxDEV(Tooltip, {\n                  title: \"Ch\\u01B0\\u01A1ng tr\\xECnh\",\n                  placement: \"topLeft\",\n                  children: /*#__PURE__*/_jsxDEV(Select, {\n                    loading: loadingProgram,\n                    disabled: isTest ? true : dataExam ? true : false,\n                    placeholder: \"Ch\\u1ECDn ch\\u01B0\\u01A1ng tr\\xECnh\",\n                    className: \"style-input\",\n                    value: valueProgram,\n                    style: {\n                      width: '100%'\n                    },\n                    onChange: (value, option) => handleChange_select('program', option),\n                    children: dataProgram === null || dataProgram === void 0 ? void 0 : dataProgram.map((item, index) => /*#__PURE__*/_jsxDEV(Option, {\n                      value: item.ID,\n                      children: item.ProgramName\n                    }, index, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 904,\n                      columnNumber: 13\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 894,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 893,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 892,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 891,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-6 col-12 \",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-select\",\n                children: /*#__PURE__*/_jsxDEV(Tooltip, {\n                  title: \"Gi\\xE1o tr\\xECnh\",\n                  placement: \"topLeft\",\n                  children: /*#__PURE__*/_jsxDEV(Select, {\n                    disabled: isTest ? true : dataExam ? true : false,\n                    loading: loadingSelect,\n                    className: \"style-input\",\n                    placeholder: \"Ch\\u1ECDn gi\\xE1o tr\\xECnh\",\n                    value: valueCurriculum,\n                    style: {\n                      width: '100%'\n                    },\n                    onChange: (value, option) => handleChange_select('curriculum', option),\n                    children: dataCurriculum === null || dataCurriculum === void 0 ? void 0 : dataCurriculum.map((item, index) => /*#__PURE__*/_jsxDEV(Option, {\n                      value: item.ID,\n                      children: item.CurriculumName\n                    }, index, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 926,\n                      columnNumber: 13\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 916,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 915,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 914,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 913,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-6 col-12 mt-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-select\",\n                children: /*#__PURE__*/_jsxDEV(Tooltip, {\n                  title: \"K\\u0129 n\\u0103ng\",\n                  placement: \"topLeft\",\n                  children: /*#__PURE__*/_jsxDEV(Select, {\n                    value: valueSkill,\n                    className: \"style-input\",\n                    placeholder: \"Ch\\u1ECDn k\\u0129 n\\u0103ng\",\n                    style: {\n                      width: '100%'\n                    },\n                    onChange: (value, option) => handleChange_select('skill', option),\n                    children: [/*#__PURE__*/_jsxDEV(Option, {\n                      value: 1,\n                      children: \"Nghe \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 946,\n                      columnNumber: 12\n                    }, this), /*#__PURE__*/_jsxDEV(Option, {\n                      value: 2,\n                      children: \"N\\xF3i\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 947,\n                      columnNumber: 12\n                    }, this), /*#__PURE__*/_jsxDEV(Option, {\n                      value: 3,\n                      children: \"\\u0110\\u1ECDc\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 948,\n                      columnNumber: 12\n                    }, this), /*#__PURE__*/_jsxDEV(Option, {\n                      value: 4,\n                      children: \"Vi\\u1EBFt\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 949,\n                      columnNumber: 12\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 939,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 938,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 937,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 936,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-6 col-12 mt-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-select\",\n                children: /*#__PURE__*/_jsxDEV(Tooltip, {\n                  title: \"M\\u1EE9c \\u0111\\u1ED9\",\n                  placement: \"topLeft\",\n                  children: /*#__PURE__*/_jsxDEV(Select, {\n                    value: valueLevel,\n                    className: \"style-input\" // defaultValue=\"Chọn mức độ\"\n                    ,\n                    placeholder: \"Ch\\u1ECDn m\\u1EE9c \\u0111\\u1ED9\",\n                    style: {\n                      width: '100%'\n                    },\n                    onChange: (value, option) => handleChange_select('level', option),\n                    children: [/*#__PURE__*/_jsxDEV(Option, {\n                      value: 1,\n                      children: \"D\\u1EC5\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 967,\n                      columnNumber: 12\n                    }, this), /*#__PURE__*/_jsxDEV(Option, {\n                      value: 2,\n                      children: \"Trung b\\xECnh\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 968,\n                      columnNumber: 12\n                    }, this), /*#__PURE__*/_jsxDEV(Option, {\n                      value: 3,\n                      children: \"Kh\\xF3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 969,\n                      columnNumber: 12\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 959,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 958,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 957,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 956,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-12 col-12 mt-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-select\",\n                children: /*#__PURE__*/_jsxDEV(Tooltip, {\n                  title: \" Lo\\u1EA1i c\\xE2u h\\u1ECFi\",\n                  placement: \"topLeft\",\n                  children: /*#__PURE__*/_jsxDEV(Select, {\n                    value: valueType,\n                    className: \"style-input\",\n                    placeholder: \"Ch\\u1ECDn lo\\u1EA1i c\\xE2u h\\u1ECFi\",\n                    style: {\n                      width: '100%'\n                    },\n                    onChange: (value, option) => handleChange_select('type-question-group', option),\n                    children: [/*#__PURE__*/_jsxDEV(Option, {\n                      value: 0,\n                      children: \"C\\xE2u h\\u1ECFi \\u0111\\u01A1n\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 986,\n                      columnNumber: 12\n                    }, this), /*#__PURE__*/_jsxDEV(Option, {\n                      value: 1,\n                      children: \"C\\xE2u h\\u1ECFi nh\\xF3m\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 987,\n                      columnNumber: 12\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 979,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 978,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 977,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 976,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 879,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `wrap-type-question w-100 ${showTypeQuetion.status ? 'active' : 'nun-active'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-12\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    fontWeight: 500\n                  },\n                  children: \"Ch\\u1ECDn d\\u1EA1ng c\\xE2u h\\u1ECFi d\\u01B0\\u1EDBi \\u0111\\xE2y\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 996,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 995,\n                columnNumber: 9\n              }, this), isGroup.status ? dataTypeGroup === null || dataTypeGroup === void 0 ? void 0 : dataTypeGroup.map((item, index) => item.Skill.includes(valueSkill) && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-12\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"box-type-question\",\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: \"#\",\n                    onClick: e => changeBoxType(e, item.Type, item.TypeName),\n                    className: item.Type === showTypeQuetion.type ? 'active' : '',\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"type-img\",\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: item.Images,\n                        alt: \"\",\n                        className: \"img-inner\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1010,\n                        columnNumber: 18\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1009,\n                      columnNumber: 17\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"type-detail\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"p text\",\n                        children: item.TypeName\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1014,\n                        columnNumber: 18\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1012,\n                      columnNumber: 17\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1004,\n                    columnNumber: 16\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1003,\n                  columnNumber: 15\n                }, this)\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1002,\n                columnNumber: 14\n              }, this)) : dataTypeSingle === null || dataTypeSingle === void 0 ? void 0 : dataTypeSingle.map((item, index) => item.Skill.includes(valueSkill) && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-12\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"box-type-question\",\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: \"#\",\n                    onClick: e => changeBoxType(e, item.Type, item.TypeName),\n                    className: item.Type === showTypeQuetion.type ? 'active' : '',\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"type-img\",\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: item.Images,\n                        alt: \"\",\n                        className: \"img-inner\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1032,\n                        columnNumber: 18\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1031,\n                      columnNumber: 17\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"type-detail\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"p text\",\n                        children: item.TypeName\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1036,\n                        columnNumber: 18\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1034,\n                      columnNumber: 17\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1026,\n                    columnNumber: 16\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1025,\n                  columnNumber: 15\n                }, this)\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1024,\n                columnNumber: 14\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 994,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 993,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 878,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 877,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 789,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 784,\n    columnNumber: 3\n  }, this);\n};\n\nQuestionCreate.layout = LayoutBase;\nexport default QuestionCreate;","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Global/QuestionBank/QuestionCreate.tsx"],"names":["DownloadOutlined","EllipsisOutlined","Card","Dropdown","Select","Spin","Switch","Tooltip","React","useEffect","useRef","useState","Bookmark","curriculumApi","exerciseApi","exerciseGroupApi","programApi","TitlePage","CreateQuestionForm","GroupWrap","QuestionDrag","QuestionMap","QuestionMultiple","QuestionSingle","QuestionTyping","QuestionWritting","LayoutBase","useWrap","dataTypeGroup","dataTypeSingle","questionObj","ImportExcel","QuestionSpeaking","Option","OptGroup","isOpenTypeQuestion","listTodoApi","pageSize","pageIndex","CurriculumID","Type","Level","SkillID","ExerciseGroupID","ExamTopicType","listAlphabet","QuestionCreate","props","dataExam","isOpenModal","showNoti","userInformation","isLoading","setIsLoading","dataProgram","setDataProgram","dataCurriculum","setDataCurriculum","loadingSelect","setLoadingSelect","questionData","setQuestionData","dropDownVisible","setDropDownVisible","showListQuestion","setShowListQuestion","showTypeQuetion","setShowTypeQuestion","type","status","todoApi","setTodoApi","dataSource","setDataSource","boxEl","totalPageIndex","setTotalPageIndex","loadingQuestion","setLoadingQuestion","isGroup","setIsGroup","id","valueCurriculum","setValueCurriculum","valueProgram","setValueProgram","valueType","setValueType","valueLevel","setValueLevel","valueSkill","setValueSkill","dataGroup","setDataGroup","dataExercise","setDataExercise","isTest","setIsTest","loadingProgram","setLoadingProgram","returnQuestionType","onFetchData","dataRemove","onRemoveData","groupID","data","onEditData","onAddData","getDataSource","res","getAll","cloneData","forEach","item","index","push","totalPage","Math","ceil","totalRow","error","message","getDataProgram","getDataCurriculum","ProgramID","changeBoxType","e","TypeName","console","log","preventDefault","ExerciseAnswer","pickIsTest","checked","handleChange_select","selectName","option","value","CurriculumName","children","LevelName","addDataGroup","dataAdd","splice","addDataSingle","Content","editDataGroup","dataEdit","findIndex","ID","editDataSingle","newAnswerList","filter","Enable","removeDataSingle","quesIndex","removeDataGroup","isDeleteExercise","scrollToTop","current","scrollTo","onScroll","scrollHeight","offsetHeight","scrollTop","menuDropdown","width","paddingLeft","fontSize","marginBottom","fontWeight","color","RoleID","s","map","ProgramName","Skill","includes","Images","layout"],"mappings":"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","sourcesContent":["import { DownloadOutlined, EllipsisOutlined } from '@ant-design/icons'\r\nimport { Card, Dropdown, Select, Spin, Switch, Tooltip } from 'antd'\r\nimport React, { useEffect, useRef, useState } from 'react'\r\nimport { Bookmark } from 'react-feather'\r\nimport { curriculumApi, exerciseApi, exerciseGroupApi, programApi } from '~/apiBase'\r\nimport TitlePage from '~/components/Elements/TitlePage'\r\nimport CreateQuestionForm from '~/components/Global/QuestionBank/CreateQuestionForm'\r\nimport GroupWrap from '~/components/Global/QuestionBank/GroupWrap'\r\nimport QuestionDrag from '~/components/Global/QuestionBank/QuestionShow/QuestionDrag'\r\nimport QuestionMap from '~/components/Global/QuestionBank/QuestionShow/QuestionMap'\r\nimport QuestionMultiple from '~/components/Global/QuestionBank/QuestionShow/QuestionMultiple'\r\nimport QuestionSingle from '~/components/Global/QuestionBank/QuestionShow/QuestionSingle'\r\nimport QuestionTyping from '~/components/Global/QuestionBank/QuestionShow/QuestionTyping'\r\nimport QuestionWritting from '~/components/Global/QuestionBank/QuestionShow/QuestionWritting'\r\nimport LayoutBase from '~/components/LayoutBase'\r\nimport { useWrap } from '~/context/wrap'\r\nimport { dataTypeGroup, dataTypeSingle } from '~/lib/question-bank/dataBoxType'\r\nimport { questionObj } from '~/lib/TypeData'\r\nimport ImportExcel from './Elements/ImportExcel'\r\nimport QuestionSpeaking from './QuestionShow/QuestionSpeaking'\r\n\r\nconst { Option, OptGroup } = Select\r\nlet isOpenTypeQuestion = false\r\nconst listTodoApi = {\r\n\tpageSize: 10,\r\n\tpageIndex: 1,\r\n\tCurriculumID: null,\r\n\tType: null,\r\n\tLevel: null,\r\n\tSkillID: null,\r\n\tExerciseGroupID: null,\r\n\tExamTopicType: null\r\n}\r\n\r\nconst listAlphabet = ['A', 'B', 'C', 'D', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V']\r\n\r\nconst QuestionCreate = (props) => {\r\n\tconst { dataExam, isOpenModal } = props\r\n\tconst { showNoti, userInformation } = useWrap()\r\n\tconst [isLoading, setIsLoading] = useState(false)\r\n\tconst [dataProgram, setDataProgram] = useState<IProgram[]>(null)\r\n\tconst [dataCurriculum, setDataCurriculum] = useState<ICurriculum[]>(null)\r\n\tconst [loadingSelect, setLoadingSelect] = useState(false)\r\n\tconst [questionData, setQuestionData] = useState(questionObj)\r\n\tconst [dropDownVisible, setDropDownVisible] = useState(false)\r\n\tconst [showListQuestion, setShowListQuestion] = useState(false)\r\n\tconst [showTypeQuetion, setShowTypeQuestion] = useState({\r\n\t\ttype: null,\r\n\t\tstatus: false\r\n\t})\r\n\tconst [todoApi, setTodoApi] = useState(listTodoApi)\r\n\tconst [dataSource, setDataSource] = useState([])\r\n\tconst boxEl = useRef(null)\r\n\tconst [totalPageIndex, setTotalPageIndex] = useState(0)\r\n\tconst [loadingQuestion, setLoadingQuestion] = useState(false)\r\n\tconst [isGroup, setIsGroup] = useState({\r\n\t\tid: null,\r\n\t\tstatus: null\r\n\t})\r\n\tconst [valueCurriculum, setValueCurriculum] = useState(null)\r\n\tconst [valueProgram, setValueProgram] = useState(null)\r\n\tconst [valueType, setValueType] = useState(null)\r\n\tconst [valueLevel, setValueLevel] = useState(null)\r\n\tconst [valueSkill, setValueSkill] = useState(null)\r\n\tconst [dataGroup, setDataGroup] = useState([])\r\n\tconst [dataExercise, setDataExercise] = useState()\r\n\tconst [isTest, setIsTest] = useState(false)\r\n\tconst [loadingProgram, setLoadingProgram] = useState(false)\r\n\r\n\t// Phân loại dạng câu hỏi để trả ra danh sách\r\n\tconst returnQuestionType = () => {\r\n\t\tswitch (todoApi.Type) {\r\n\t\t\t/** Quesion Single */\r\n\t\t\tcase 1:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<GroupWrap\r\n\t\t\t\t\t\tdataExam={dataExam}\r\n\t\t\t\t\t\tisGroup={isGroup}\r\n\t\t\t\t\t\tlistQuestion={dataGroup}\r\n\t\t\t\t\t\tonFetchData={onFetchData}\r\n\t\t\t\t\t\tonRemoveData={(dataRemove) => onRemoveData(dataRemove)}\r\n\t\t\t\t\t\tgetGroupID={(groupID) => setIsGroup({ ...isGroup, id: groupID })}\r\n\t\t\t\t\t\tonEditData={(data) => onEditData(data)}\r\n\t\t\t\t\t\tonAddData={(data) => onAddData(data)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<QuestionSingle\r\n\t\t\t\t\t\t\tdataExam={dataExam}\r\n\t\t\t\t\t\t\tlistAlphabet={listAlphabet}\r\n\t\t\t\t\t\t\tisGroup={isGroup}\r\n\t\t\t\t\t\t\tloadingQuestion={loadingQuestion}\r\n\t\t\t\t\t\t\tlistQuestion={dataSource}\r\n\t\t\t\t\t\t\tonFetchData={onFetchData}\r\n\t\t\t\t\t\t\tonEditData={(data) => onEditData(data)}\r\n\t\t\t\t\t\t\tonRemoveData={(dataRemove) => onRemoveData(dataRemove)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</GroupWrap>\r\n\t\t\t\t)\r\n\r\n\t\t\t\tbreak\r\n\t\t\t/** Quesion Drag */\r\n\t\t\tcase 2:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<GroupWrap\r\n\t\t\t\t\t\tdataExam={dataExam}\r\n\t\t\t\t\t\tisGroup={isGroup}\r\n\t\t\t\t\t\tlistQuestion={dataGroup}\r\n\t\t\t\t\t\tonFetchData={onFetchData}\r\n\t\t\t\t\t\tonRemoveData={(dataRemove) => onRemoveData(dataRemove)}\r\n\t\t\t\t\t\tgetGroupID={(groupID) => setIsGroup({ ...isGroup, id: groupID })}\r\n\t\t\t\t\t\tonEditData={(data) => onEditData(data)}\r\n\t\t\t\t\t\tonAddData={(data) => onAddData(data)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<QuestionDrag\r\n\t\t\t\t\t\t\tlistAlphabet={listAlphabet}\r\n\t\t\t\t\t\t\tisGroup={isGroup}\r\n\t\t\t\t\t\t\tloadingQuestion={loadingQuestion}\r\n\t\t\t\t\t\t\tlistQuestion={dataExercise}\r\n\t\t\t\t\t\t\tonFetchData={onFetchData}\r\n\t\t\t\t\t\t\tonEditData={(data) => onEditData(data)}\r\n\t\t\t\t\t\t\tonRemoveData={(dataRemove) => onRemoveData(dataRemove)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</GroupWrap>\r\n\t\t\t\t)\r\n\t\t\t\tbreak\r\n\t\t\t/** Quesion Typing */\r\n\t\t\tcase 3:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<GroupWrap\r\n\t\t\t\t\t\tdataExam={dataExam}\r\n\t\t\t\t\t\tisGroup={isGroup}\r\n\t\t\t\t\t\tlistQuestion={dataGroup}\r\n\t\t\t\t\t\tonFetchData={onFetchData}\r\n\t\t\t\t\t\tonRemoveData={(dataRemove) => onRemoveData(dataRemove)}\r\n\t\t\t\t\t\tgetGroupID={(groupID) => setIsGroup({ ...isGroup, id: groupID })}\r\n\t\t\t\t\t\tonEditData={(data) => onEditData(data)}\r\n\t\t\t\t\t\tonAddData={(data) => onAddData(data)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<QuestionTyping\r\n\t\t\t\t\t\t\tlistAlphabet={listAlphabet}\r\n\t\t\t\t\t\t\tisGroup={isGroup}\r\n\t\t\t\t\t\t\tloadingQuestion={loadingQuestion}\r\n\t\t\t\t\t\t\tlistQuestion={dataExercise}\r\n\t\t\t\t\t\t\tonFetchData={onFetchData}\r\n\t\t\t\t\t\t\tonEditData={(data) => onEditData(data)}\r\n\t\t\t\t\t\t\tonRemoveData={(dataRemove) => onRemoveData(dataRemove)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</GroupWrap>\r\n\t\t\t\t)\r\n\t\t\t\tbreak\r\n\t\t\t/** Quesion Multiple */\r\n\t\t\tcase 4:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<GroupWrap\r\n\t\t\t\t\t\tdataExam={dataExam}\r\n\t\t\t\t\t\tisGroup={isGroup}\r\n\t\t\t\t\t\tlistQuestion={dataGroup}\r\n\t\t\t\t\t\tonFetchData={onFetchData}\r\n\t\t\t\t\t\tonRemoveData={(dataRemove) => onRemoveData(dataRemove)}\r\n\t\t\t\t\t\tgetGroupID={(groupID) => setIsGroup({ ...isGroup, id: groupID })}\r\n\t\t\t\t\t\tonEditData={(data) => onEditData(data)}\r\n\t\t\t\t\t\tonAddData={(data) => onAddData(data)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<QuestionMultiple\r\n\t\t\t\t\t\t\tdataExam={dataExam}\r\n\t\t\t\t\t\t\tlistAlphabet={listAlphabet}\r\n\t\t\t\t\t\t\tisGroup={isGroup}\r\n\t\t\t\t\t\t\tloadingQuestion={loadingQuestion}\r\n\t\t\t\t\t\t\tlistQuestion={dataSource}\r\n\t\t\t\t\t\t\tonFetchData={onFetchData}\r\n\t\t\t\t\t\t\tonEditData={(data) => onEditData(data)}\r\n\t\t\t\t\t\t\tonRemoveData={(dataRemove) => onRemoveData(dataRemove)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</GroupWrap>\r\n\t\t\t\t)\r\n\r\n\t\t\t\tbreak\r\n\t\t\t/** Quesion Map */\r\n\t\t\tcase 5:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<GroupWrap\r\n\t\t\t\t\t\tdataExam={dataExam}\r\n\t\t\t\t\t\tisGroup={isGroup}\r\n\t\t\t\t\t\tlistQuestion={dataGroup}\r\n\t\t\t\t\t\tonFetchData={onFetchData}\r\n\t\t\t\t\t\tonRemoveData={(dataRemove) => onRemoveData(dataRemove)}\r\n\t\t\t\t\t\tgetGroupID={(groupID) => setIsGroup({ ...isGroup, id: groupID })}\r\n\t\t\t\t\t\tonEditData={(data) => onEditData(data)}\r\n\t\t\t\t\t\tonAddData={(data) => onAddData(data)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<QuestionMap\r\n\t\t\t\t\t\t\tlistAlphabet={listAlphabet}\r\n\t\t\t\t\t\t\tisGroup={isGroup}\r\n\t\t\t\t\t\t\tloadingQuestion={loadingQuestion}\r\n\t\t\t\t\t\t\tlistQuestion={dataSource}\r\n\t\t\t\t\t\t\tonFetchData={onFetchData}\r\n\t\t\t\t\t\t\tonEditData={(data) => onEditData(data)}\r\n\t\t\t\t\t\t\tonRemoveData={(dataRemove) => onRemoveData(dataRemove)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</GroupWrap>\r\n\t\t\t\t)\r\n\t\t\t\tbreak\r\n\t\t\t/** Quesion Writting */\r\n\t\t\tcase 6:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<QuestionWritting\r\n\t\t\t\t\t\tdataExam={dataExam}\r\n\t\t\t\t\t\tlistAlphabet={listAlphabet}\r\n\t\t\t\t\t\tisGroup={isGroup}\r\n\t\t\t\t\t\tloadingQuestion={loadingQuestion}\r\n\t\t\t\t\t\tlistQuestion={dataSource}\r\n\t\t\t\t\t\tonFetchData={onFetchData}\r\n\t\t\t\t\t\tonEditData={(data) => onEditData(data)}\r\n\t\t\t\t\t\tonRemoveData={(dataRemove) => onRemoveData(dataRemove)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t\tbreak\r\n\t\t\t/** Quesion Speaking */\r\n\t\t\tcase 7:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<QuestionSpeaking\r\n\t\t\t\t\t\tdataExam={dataExam}\r\n\t\t\t\t\t\tlistAlphabet={listAlphabet}\r\n\t\t\t\t\t\tisGroup={isGroup}\r\n\t\t\t\t\t\tloadingQuestion={loadingQuestion}\r\n\t\t\t\t\t\tlistQuestion={dataSource}\r\n\t\t\t\t\t\tonFetchData={onFetchData}\r\n\t\t\t\t\t\tonEditData={(data) => onEditData(data)}\r\n\t\t\t\t\t\tonRemoveData={(dataRemove) => onRemoveData(dataRemove)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t\tbreak\r\n\t\t\tdefault:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<p className=\"text-center\">\r\n\t\t\t\t\t\t<b>Danh sách còn trống</b>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t)\r\n\t\t\t\tbreak\r\n\t\t}\r\n\t}\r\n\r\n\t// GET DATA SOURCE - DATA EXERCISE\r\n\tconst getDataSource = async () => {\r\n\t\tlet res = null\r\n\t\ttry {\r\n\t\t\tif (!isGroup.status) {\r\n\t\t\t\tres = await exerciseApi.getAll({ ...todoApi, ExerciseGroupID: 0 })\r\n\t\t\t} else {\r\n\t\t\t\tres = await exerciseGroupApi.getAll(todoApi)\r\n\t\t\t}\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\t// Xét coi này câu hỏi nhóm hay đơn\r\n\t\t\t\tif (!isGroup.status) {\r\n\t\t\t\t\tlet cloneData = [...dataSource]\r\n\t\t\t\t\tres.data.data.forEach((item, index) => {\r\n\t\t\t\t\t\tcloneData.push(item)\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\tsetDataSource([...cloneData])\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet cloneData = [...dataGroup]\r\n\t\t\t\t\tres.data.data.forEach((item, index) => {\r\n\t\t\t\t\t\tcloneData.push(item)\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\tsetDataGroup([...cloneData])\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// todoApi.pageIndex == 1 && showNoti(\"success\", \"Thành công\");\r\n\t\t\t\t// !showListQuestion && setShowListQuestion(true);\r\n\r\n\t\t\t\t// Caculator pageindex\r\n\t\t\t\tlet totalPage = Math.ceil(res.data.totalRow / 10)\r\n\t\t\t\tsetTotalPageIndex(totalPage)\r\n\t\t\t}\r\n\r\n\t\t\tif (res.status == 204) {\r\n\t\t\t\t// showNoti(\"danger\", \"Không có dữ liệu\");\r\n\t\t\t\tif (!isGroup.status) {\r\n\t\t\t\t\tif (todoApi.Type == 3) {\r\n\t\t\t\t\t\tsetShowListQuestion(false)\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetShowListQuestion(true)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading(false)\r\n\t\t\tloadingQuestion && setLoadingQuestion(false)\r\n\t\t}\r\n\t}\r\n\r\n\t// GET DATA PROGRAM\r\n\tconst getDataProgram = async () => {\r\n\t\tsetLoadingProgram(true)\r\n\t\ttry {\r\n\t\t\tlet res = await programApi.getAll({ pageIndex: 1, pageSize: 999999 })\r\n\t\t\tres.status == 200 && setDataProgram(res.data.data)\r\n\t\t\tres.status == 204 && showNoti('danger', 'Chương trình không có dữ liệu')\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetLoadingProgram(false)\r\n\t\t}\r\n\t}\r\n\r\n\t// GET DATA Curriculum\r\n\tconst getDataCurriculum = async (id) => {\r\n\t\tsetLoadingSelect(true)\r\n\t\ttry {\r\n\t\t\tlet res = await curriculumApi.getAll({\r\n\t\t\t\tpageIndex: 1,\r\n\t\t\t\tpageSize: 999999,\r\n\t\t\t\tProgramID: id\r\n\t\t\t})\r\n\t\t\tres.status == 200 && setDataCurriculum(res.data.data)\r\n\t\t\tres.status == 204 && showNoti('danger', 'Giáo trình không có dữ liệu')\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetLoadingSelect(false)\r\n\t\t}\r\n\t}\r\n\r\n\t// CHỌN DẠNG CÂU HỎI (CHOICE, MULTIPLE,...)\r\n\tconst changeBoxType = (e: any, Type: number, TypeName: string) => {\r\n\t\tconsole.log('Chạy vô box type')\r\n\r\n\t\te?.preventDefault()\r\n\r\n\t\tquestionData.Type = Type\r\n\t\tquestionData.TypeName = TypeName\r\n\r\n\t\t// Kiểm dạng câu hỏi gì để thay đổi list answer\r\n\t\tswitch (Type) {\r\n\t\t\tcase 4:\r\n\t\t\t\tquestionData.ExerciseAnswer = []\r\n\t\t\t\t// setQuestionData({ ...questionData });\r\n\t\t\t\tbreak\r\n\t\t\tcase 1:\r\n\t\t\t\tquestionData.ExerciseAnswer = questionObj.ExerciseAnswer\r\n\t\t\t\tbreak\r\n\t\t\t// case 3:\r\n\t\t\t//   questionData.ExerciseList = [];\r\n\t\t\tdefault:\r\n\t\t\t\tbreak\r\n\t\t}\r\n\r\n\t\t// Add value vào data chung\r\n\t\tsetQuestionData({ ...questionData })\r\n\r\n\t\t// Active\r\n\t\tsetShowTypeQuestion({\r\n\t\t\t...showTypeQuetion,\r\n\t\t\ttype: Type\r\n\t\t})\r\n\r\n\t\t// Show danh sách câu hỏi bên cạnh\r\n\t\tsetIsLoading(true)\r\n\t\t!showListQuestion && setShowListQuestion(true)\r\n\t\tsetDataSource([])\r\n\t\tsetDataGroup([])\r\n\t\tsetTodoApi({\r\n\t\t\t...todoApi,\r\n\t\t\tType: Type,\r\n\t\t\tCurriculumID: questionData.CurriculumID,\r\n\t\t\tLevel: questionData.Level,\r\n\t\t\tSkillID: questionData.SkillID,\r\n\t\t\tpageIndex: 1\r\n\t\t})\r\n\t}\r\n\r\n\t// PICK IS TEST\r\n\tconst pickIsTest = (checked) => {\r\n\t\tif (!dataExam) {\r\n\t\t\tsetIsTest(checked)\r\n\t\t\tif (checked) {\r\n\t\t\t\tsetQuestionData({\r\n\t\t\t\t\t...questionData,\r\n\t\t\t\t\tCurriculumID: 0\r\n\t\t\t\t})\r\n\t\t\t\tsetValueProgram(null)\r\n\t\t\t\tsetValueCurriculum(null)\r\n\t\t\t\tif (showListQuestion) {\r\n\t\t\t\t\tsetIsLoading(true)\r\n\t\t\t\t\tsetTodoApi({\r\n\t\t\t\t\t\t...todoApi,\r\n\t\t\t\t\t\tpageIndex: 1,\r\n\t\t\t\t\t\tCurriculumID: 0\r\n\t\t\t\t\t})\r\n\t\t\t\t\tsetDataSource([])\r\n\t\t\t\t\tsetDataGroup([])\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tsetShowListQuestion(false)\r\n\t\t\t\tsetShowTypeQuestion({\r\n\t\t\t\t\tstatus: false,\r\n\t\t\t\t\ttype: null\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// HANDLE CHANGE SELECT - THAO TÁC VỚI CÁC SELECT\r\n\tconst handleChange_select = (selectName, option) => {\r\n\t\tsetDataSource([])\r\n\t\tsetDataGroup([])\r\n\r\n\t\tswitch (selectName) {\r\n\t\t\t// -- Chọn chương trình\r\n\t\t\tcase 'program':\r\n\t\t\t\tgetDataCurriculum(option.value)\r\n\t\t\t\tsetDataCurriculum(null)\r\n\t\t\t\tsetValueCurriculum(null)\r\n\t\t\t\tshowListQuestion &&\r\n\t\t\t\t\t(setIsLoading(true),\r\n\t\t\t\t\tsetTodoApi({\r\n\t\t\t\t\t\t...todoApi,\r\n\t\t\t\t\t\tpageIndex: 1,\r\n\t\t\t\t\t\tCurriculumID: null\r\n\t\t\t\t\t}))\r\n\t\t\t\tsetShowTypeQuestion({\r\n\t\t\t\t\ttype: null,\r\n\t\t\t\t\tstatus: false\r\n\t\t\t\t})\r\n\t\t\t\tsetShowListQuestion(false)\r\n\t\t\t\tsetValueProgram(option.value)\r\n\t\t\t\tbreak\r\n\r\n\t\t\t// -- Chọn loại câu hỏi đơn hay nhóm\r\n\t\t\tcase 'type-question-group':\r\n\t\t\t\t// questionData.ExerciseGroupID = option.value;\r\n\t\t\t\tisOpenTypeQuestion = true\r\n\t\t\t\tif (option.value == 0) {\r\n\t\t\t\t\tsetIsGroup({\r\n\t\t\t\t\t\tid: null,\r\n\t\t\t\t\t\tstatus: false\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetIsGroup({\r\n\t\t\t\t\t\t...isGroup,\r\n\t\t\t\t\t\tstatus: true\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (questionData.Type == 2 || questionData.Type == 3 || questionData.Type == 5) {\r\n\t\t\t\t\tsetShowListQuestion(false)\r\n\t\t\t\t\tsetShowTypeQuestion({\r\n\t\t\t\t\t\t...showTypeQuetion,\r\n\t\t\t\t\t\ttype: null\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tshowListQuestion &&\r\n\t\t\t\t\t\t(setIsLoading(true),\r\n\t\t\t\t\t\tsetTodoApi({\r\n\t\t\t\t\t\t\t...todoApi,\r\n\t\t\t\t\t\t\tpageIndex: 1\r\n\t\t\t\t\t\t}))\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsetValueType(option.value)\r\n\t\t\t\tbreak\r\n\r\n\t\t\t// -- Chọn môn học\r\n\t\t\tcase 'curriculum':\r\n\t\t\t\tquestionData.CurriculumID = option.value\r\n\t\t\t\tquestionData.CurriculumName = option.children\r\n\r\n\t\t\t\tshowListQuestion &&\r\n\t\t\t\t\t(setIsLoading(true),\r\n\t\t\t\t\tsetTodoApi({\r\n\t\t\t\t\t\t...todoApi,\r\n\t\t\t\t\t\tCurriculumID: option.value,\r\n\t\t\t\t\t\tpageIndex: 1\r\n\t\t\t\t\t}))\r\n\t\t\t\tsetValueCurriculum(option.value)\r\n\t\t\t\tbreak\r\n\r\n\t\t\t// -- Chọn level (Dễ, trung bình, khó)\r\n\t\t\tcase 'level':\r\n\t\t\t\tquestionData.Level = option.value\r\n\t\t\t\tquestionData.LevelName = option.children\r\n\t\t\t\tshowListQuestion &&\r\n\t\t\t\t\t(setIsLoading(true),\r\n\t\t\t\t\tsetTodoApi({\r\n\t\t\t\t\t\t...todoApi,\r\n\t\t\t\t\t\tLevel: option.value\r\n\t\t\t\t\t}))\r\n\t\t\t\tsetValueLevel(option.value)\r\n\t\t\t\tbreak\r\n\r\n\t\t\t// -- Chọn kĩ năng\r\n\t\t\tcase 'skill':\r\n\t\t\t\tquestionData.SkillID = option.value\r\n\r\n\t\t\t\t// Xét trường hợp kĩ năng \"Nói\" hoặc \"Viết\"\r\n\t\t\t\tif (option.value == 2 || option.value == 4) {\r\n\t\t\t\t\tquestionData.Type = 0\r\n\t\t\t\t\tsetShowListQuestion(false)\r\n\t\t\t\t\t// Nếu loại \"Nói\" hoặc \"Viết\" thì mặc định không phải câu hỏi nhóm\r\n\t\t\t\t\tsetIsGroup({\r\n\t\t\t\t\t\tid: null,\r\n\t\t\t\t\t\tstatus: false\r\n\t\t\t\t\t})\r\n\t\t\t\t\tsetValueType(0)\r\n\t\t\t\t} else {\r\n\t\t\t\t\t!valueType && setValueType(0)\r\n\r\n\t\t\t\t\tif (valueSkill == 1 || valueSkill == 3) {\r\n\t\t\t\t\t\tsetIsLoading(true)\r\n\t\t\t\t\t\tsetTodoApi({\r\n\t\t\t\t\t\t\t...todoApi,\r\n\t\t\t\t\t\t\tSkillID: option.value\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetShowListQuestion(false)\r\n\t\t\t\t\t\tsetShowTypeQuestion({\r\n\t\t\t\t\t\t\t...showTypeQuetion,\r\n\t\t\t\t\t\t\ttype: null\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tsetValueSkill(option.value)\r\n\t\t\t\tisOpenTypeQuestion = true\r\n\t\t\tdefault:\r\n\t\t\t\tbreak\r\n\t\t}\r\n\t\tsetQuestionData({ ...questionData })\r\n\r\n\t\t// kiểm tra mới vào đã chọn đầy đủ 4 trường hay chưa rồi mới show danh sách dạng câu hỏi\r\n\t\tif (!showTypeQuetion.status) {\r\n\t\t\tif (\r\n\t\t\t\tquestionData.ExerciseGroupID !== null &&\r\n\t\t\t\tquestionData.SkillID !== null &&\r\n\t\t\t\tquestionData.Level !== null &&\r\n\t\t\t\tisOpenTypeQuestion == true\r\n\t\t\t) {\r\n\t\t\t\tif (isTest) {\r\n\t\t\t\t\tsetShowTypeQuestion({\r\n\t\t\t\t\t\t...showTypeQuetion,\r\n\t\t\t\t\t\tstatus: true\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (questionData.CurriculumID !== null && questionData.CurriculumID !== 0) {\r\n\t\t\t\t\t\tsetShowTypeQuestion({\r\n\t\t\t\t\t\t\t...showTypeQuetion,\r\n\t\t\t\t\t\t\tstatus: true\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// ON ADD NEW DATA\r\n\tconst addDataGroup = (dataAdd) => {\r\n\t\tdataGroup.splice(0, 0, dataAdd)\r\n\t\tsetDataGroup([...dataGroup])\r\n\t}\r\n\r\n\tconst addDataSingle = (dataAdd) => {\r\n\t\tdataSource.splice(0, 0, dataAdd)\r\n\t\tsetDataSource([...dataSource])\r\n\t}\r\n\r\n\tconst onAddData = (dataAdd) => {\r\n\t\tif (!isGroup.status) {\r\n\t\t\taddDataSingle(dataAdd)\r\n\t\t} else {\r\n\t\t\tif (dataAdd.ExerciseGroupID) {\r\n\t\t\t\taddDataSingle(dataAdd)\r\n\t\t\t} else {\r\n\t\t\t\taddDataGroup(dataAdd)\r\n\t\t\t}\r\n\t\t}\r\n\t\tquestionData.Content = ''\r\n\t\tsetQuestionData({ ...questionData })\r\n\t}\r\n\r\n\tconst editDataGroup = (dataEdit) => {\r\n\t\tlet index = dataGroup.findIndex((item) => item.ID == dataEdit.ID)\r\n\t\tdataGroup.splice(index, 1, dataEdit)\r\n\r\n\t\t// let exerciseList = [...dataEdit.ExerciseList];\r\n\r\n\t\tsetDataExercise(dataEdit)\r\n\t\tsetDataGroup([...dataGroup])\r\n\t}\r\n\r\n\tconst editDataSingle = (dataEdit) => {\r\n\t\tif (dataEdit.Type == 4) {\r\n\t\t\tlet newAnswerList = dataEdit.ExerciseAnswer.filter((item) => item.Enable !== false)\r\n\t\t\tdataEdit.ExerciseAnswer = newAnswerList\r\n\t\t}\r\n\r\n\t\tlet index = dataSource.findIndex((item) => item.ID == dataEdit.ID)\r\n\t\tdataSource.splice(index, 1, dataEdit)\r\n\r\n\t\tsetDataSource([...dataSource])\r\n\t}\r\n\r\n\tconst onEditData = (dataEdit) => {\r\n\t\tif (!isGroup.status) {\r\n\t\t\t// Nếu là dạng câu hỏi nhiều đáp án thì phải xóa nó đi\r\n\t\t\teditDataSingle(dataEdit)\r\n\t\t} else {\r\n\t\t\tif (dataEdit.ExerciseGroupID) {\r\n\t\t\t\teditDataSingle(dataEdit)\r\n\t\t\t} else {\r\n\t\t\t\teditDataGroup(dataEdit)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tquestionData.Content = ''\r\n\t\tsetQuestionData({ ...questionData })\r\n\t}\r\n\r\n\t// ON REMOVE DATA\r\n\tconst removeDataSingle = (dataRemove) => {\r\n\t\tlet quesIndex = dataSource.findIndex((item) => item.ID == dataRemove.ID)\r\n\t\tdataSource.splice(quesIndex, 1)\r\n\t\tsetDataSource([...dataSource])\r\n\t}\r\n\r\n\tconst removeDataGroup = (dataRemove) => {\r\n\t\tif (dataRemove.isDeleteExercise) {\r\n\t\t\tsetDataExercise(dataRemove)\r\n\t\t} else {\r\n\t\t\tlet quesIndex = dataGroup.findIndex((item) => item.ID == dataRemove)\r\n\t\t\tdataGroup.splice(quesIndex, 1)\r\n\t\t\tsetDataGroup([...dataGroup])\r\n\t\t}\r\n\t}\r\n\r\n\tconst onRemoveData = (dataRemove) => {\r\n\t\tif (!isGroup.status) {\r\n\t\t\tremoveDataSingle(dataRemove)\r\n\t\t} else {\r\n\t\t\tif (dataRemove.ExerciseGroupID) {\r\n\t\t\t\tremoveDataSingle(dataRemove)\r\n\t\t\t} else {\r\n\t\t\t\tremoveDataGroup(dataRemove)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// ON FETCH DATA\r\n\tconst onFetchData = () => {\r\n\t\tscrollToTop(), setIsLoading(true), setDataSource([]), setDataGroup([])\r\n\t\tsetTodoApi({ ...todoApi, pageIndex: 1, pageSize: 10 })\r\n\t}\r\n\r\n\t// SCROLL TO TOP\r\n\tconst scrollToTop = () => {\r\n\t\t!!boxEl.current && boxEl.current.scrollTo(0, 0)\r\n\t}\r\n\r\n\t// ON SCROLL\r\n\tconst onScroll = () => {\r\n\t\tconsole.log('Chạy vào on scroll')\r\n\t\tconst scrollHeight = boxEl.current.scrollHeight\r\n\t\tconst offsetHeight = boxEl.current.offsetHeight\r\n\t\tconst scrollTop = boxEl.current.scrollTop\r\n\r\n\t\tif (scrollTop > scrollHeight - offsetHeight - 40) {\r\n\t\t\tif (todoApi.pageIndex < totalPageIndex) {\r\n\t\t\t\tsetLoadingQuestion(true)\r\n\r\n\t\t\t\tif (scrollTop > 0 && loadingQuestion == false) {\r\n\t\t\t\t\tsetTodoApi({\r\n\t\t\t\t\t\t...todoApi,\r\n\t\t\t\t\t\tpageIndex: todoApi.pageIndex + 1\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tgetDataProgram() // Lấy data chương trình\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (todoApi.Type && todoApi.Type !== 0) {\r\n\t\t\tgetDataSource()\r\n\t\t}\r\n\t\tquestionData.Content = ''\r\n\t\tswitch (questionData.Type) {\r\n\t\t\tcase 4:\r\n\t\t\t\tquestionData.ExerciseAnswer = []\r\n\t\t\t\tbreak\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tbreak\r\n\t\t}\r\n\t\tsetQuestionData({ ...questionData })\r\n\t}, [todoApi])\r\n\r\n\tuseEffect(() => {\r\n\t\tconsole.log('chạy dô')\r\n\t\tif (dataExam) {\r\n\t\t\tif (dataExam.Type == 1) {\r\n\t\t\t\tsetIsTest(true)\r\n\t\t\t\tquestionData.CurriculumID = 0\r\n\t\t\t} else {\r\n\t\t\t\tsetValueProgram(dataExam.ProgramID)\r\n\t\t\t\tgetDataCurriculum(dataExam.ProgramID)\r\n\t\t\t\tsetValueCurriculum(dataExam.CurriculumID)\r\n\t\t\t\tquestionData.CurriculumID = dataExam.CurriculumID\r\n\t\t\t}\r\n\r\n\t\t\tquestionData.Level = 1\r\n\t\t\tquestionData.SkillID = 3\r\n\t\t\tsetQuestionData({ ...questionData })\r\n\t\t\tsetValueSkill(3)\r\n\t\t\tsetValueLevel(1)\r\n\t\t\tsetValueType(0)\r\n\t\t\tchangeBoxType(null, 1, 'Lựa chọn một')\r\n\t\t\tisOpenTypeQuestion = true\r\n\t\t} else {\r\n\t\t\t// setValueProgram(31);\r\n\t\t\t// getDataCurriculum(31);\r\n\t\t\t// setValueCurriculum(23);\r\n\t\t\t// questionData.CurriculumID = 23;\r\n\t\t\t// questionData.Level = 1;\r\n\t\t\t// questionData.SkillID = 3;\r\n\t\t\t// setQuestionData({ ...questionData });\r\n\t\t\t// setValueSkill(3);\r\n\t\t\t// setValueLevel(1);\r\n\t\t\t// setValueType(0);\r\n\t\t\t// changeBoxType(null, 1, 'Lựa chọn một');\r\n\t\t\t// isOpenTypeQuestion = true;\r\n\t\t}\r\n\t\tsetShowTypeQuestion({\r\n\t\t\ttype: 1,\r\n\t\t\tstatus: true\r\n\t\t})\r\n\t}, [dataExam])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!isOpenModal) {\r\n\t\t\tsetDataSource([])\r\n\t\t}\r\n\t}, [isOpenModal])\r\n\r\n\tconst menuDropdown = () => {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<div className=\"menu__dropdown d-inline-block d-xl-none\" style={{ width: 170 }}>\r\n\t\t\t\t\t{/* <div className=\"d-inline-block d-lg-none \">\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div> */}\r\n\t\t\t\t\t<div className=\"mb-4 w-100\">\r\n\t\t\t\t\t\t<Tooltip title=\"Tải file excel mẫu\">\r\n\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\tclassName=\"btn btn-light mr-2 btn-have-icon\"\r\n\t\t\t\t\t\t\t\thref=\"http://api.echinese.vn/Upload/DocumentLessonDetail/403210f3-6dee-44a6-83b4-5f5162af9439.xlsx\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<span className=\"d-flex align-items-center text-center\">\r\n\t\t\t\t\t\t\t\t\t<DownloadOutlined className=\"mr-2\" />\r\n\t\t\t\t\t\t\t\t\tFile mẫu\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"mb-4\">\r\n\t\t\t\t\t\t<ImportExcel onFetchData={onFetchData} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"mb-4\">\r\n\t\t\t\t\t\t<CreateQuestionForm\r\n\t\t\t\t\t\t\tquestionData={questionData}\r\n\t\t\t\t\t\t\tonFetchData={onFetchData}\r\n\t\t\t\t\t\t\tisGroup={isGroup}\r\n\t\t\t\t\t\t\tonAddData={(data) => onAddData(data)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"question-create\">\r\n\t\t\t<TitlePage title=\"Tạo câu hỏi\" />\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"col-md-12\"></div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"col-xl-8 col-12\">\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\tclassName=\"card-detail-question\"\r\n\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t<div className=\"title-question-bank\">\r\n\t\t\t\t\t\t\t\t<h3 className=\"title-big\">\r\n\t\t\t\t\t\t\t\t\t<Bookmark /> {!isGroup.status ? 'Danh sách câu hỏi' : 'Danh sách nhóm câu hỏi'}\r\n\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tpaddingLeft: '30px',\r\n\t\t\t\t\t\t\t\t\t\tfontSize: '13px',\r\n\t\t\t\t\t\t\t\t\t\tmarginBottom: '0',\r\n\t\t\t\t\t\t\t\t\t\tfontWeight: 500,\r\n\t\t\t\t\t\t\t\t\t\tcolor: '#777777'\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{showTypeQuetion.type && questionData.TypeName}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\textra={\r\n\t\t\t\t\t\t\tuserInformation?.RoleID !== 2 && (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<div className=\"d-none d-lg-flex justify-content-between\" style={{ width: 410 }}>\r\n\t\t\t\t\t\t\t\t\t\t<Tooltip title=\"Tải file excel mẫu\">\r\n\t\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-light mr-1 btn-have-icon\"\r\n\t\t\t\t\t\t\t\t\t\t\t\thref=\"http://api.echinese.vn/Upload/DocumentLessonDetail/403210f3-6dee-44a6-83b4-5f5162af9439.xlsx\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DownloadOutlined className=\"mr-2\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tFile mẫu\r\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t<ImportExcel className=\"mr-1\" onFetchData={onFetchData} />\r\n\t\t\t\t\t\t\t\t\t\t<CreateQuestionForm\r\n\t\t\t\t\t\t\t\t\t\t\tonError={(s) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('onError', s)\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"ml-1\"\r\n\t\t\t\t\t\t\t\t\t\t\tquestionData={questionData}\r\n\t\t\t\t\t\t\t\t\t\t\tonFetchData={onFetchData}\r\n\t\t\t\t\t\t\t\t\t\t\tisGroup={isGroup}\r\n\t\t\t\t\t\t\t\t\t\t\tonAddData={(data) => onAddData(data)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"d-lg-none\">\r\n\t\t\t\t\t\t\t\t\t\t<Dropdown overlay={menuDropdown} trigger={['click']} visible={dropDownVisible}>\r\n\t\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"ant-dropdown-link\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetDropDownVisible(!dropDownVisible)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<EllipsisOutlined />\r\n\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t</Dropdown>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{!showListQuestion ? (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<p className=\"font-weight-primary text-center\">\r\n\t\t\t\t\t\t\t\t\t{dataExam ? 'Vui lòng chọn dạng câu hỏi' : 'Vui lòng chọn giáo trình và dạng câu hỏi'}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<div className=\"img-load\">\r\n\t\t\t\t\t\t\t\t\t<img src=\"/images/study-min.jpg\" alt=\"\" />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t) : isLoading ? (\r\n\t\t\t\t\t\t\t<div className=\"text-center p-2\">\r\n\t\t\t\t\t\t\t\t<Spin />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className={`question-list active`} ref={boxEl} onScroll={onScroll}>\r\n\t\t\t\t\t\t\t\t{returnQuestionType()}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/** Menu Question */}\r\n\t\t\t\t<div className=\"col-xl-4 col-12\">\r\n\t\t\t\t\t<Card className=\"card-box-type\">\r\n\t\t\t\t\t\t<div className={`row ${showTypeQuetion ? 'mb-2' : ''}`}>\r\n\t\t\t\t\t\t\t{/** CHỌN LOẠI ĐỀ */}\r\n\t\t\t\t\t\t\t<div className=\"col-12 mb-4\">\r\n\t\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\t\tclassName=\"pick-test\"\r\n\t\t\t\t\t\t\t\t\tcheckedChildren=\"Đề hẹn test\"\r\n\t\t\t\t\t\t\t\t\tunCheckedChildren=\"Đề hẹn test\"\r\n\t\t\t\t\t\t\t\t\tchecked={isTest}\r\n\t\t\t\t\t\t\t\t\tonChange={pickIsTest}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{/** CHỌN CHƯƠNG TRÌNH */}\r\n\t\t\t\t\t\t\t<div className=\"col-md-6 col-12 \">\r\n\t\t\t\t\t\t\t\t<div className=\"item-select\">\r\n\t\t\t\t\t\t\t\t\t<Tooltip title=\"Chương trình\" placement=\"topLeft\">\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tloading={loadingProgram}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={isTest ? true : dataExam ? true : false}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Chọn chương trình\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"style-input\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={valueProgram}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: '100%' }}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(value, option) => handleChange_select('program', option)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{dataProgram?.map((item, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option key={index} value={item.ID}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.ProgramName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{/** CHỌN MÔN HỌC */}\r\n\t\t\t\t\t\t\t<div className=\"col-md-6 col-12 \">\r\n\t\t\t\t\t\t\t\t<div className=\"item-select\">\r\n\t\t\t\t\t\t\t\t\t<Tooltip title=\"Giáo trình\" placement=\"topLeft\">\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={isTest ? true : dataExam ? true : false}\r\n\t\t\t\t\t\t\t\t\t\t\tloading={loadingSelect}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"style-input\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Chọn giáo trình\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={valueCurriculum}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: '100%' }}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(value, option) => handleChange_select('curriculum', option)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{dataCurriculum?.map((item, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option key={index} value={item.ID}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.CurriculumName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t{/** KĨ NĂNG  */}\r\n\t\t\t\t\t\t\t<div className=\"col-md-6 col-12 mt-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"item-select\">\r\n\t\t\t\t\t\t\t\t\t<Tooltip title=\"Kĩ năng\" placement=\"topLeft\">\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={valueSkill}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"style-input\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Chọn kĩ năng\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: '100%' }}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(value, option) => handleChange_select('skill', option)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value={1}>Nghe </Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value={2}>Nói</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value={3}>Đọc</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value={4}>Viết</Option>\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t{/** MỨC ĐỘ  */}\r\n\t\t\t\t\t\t\t<div className=\"col-md-6 col-12 mt-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"item-select\">\r\n\t\t\t\t\t\t\t\t\t<Tooltip title=\"Mức độ\" placement=\"topLeft\">\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={valueLevel}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"style-input\"\r\n\t\t\t\t\t\t\t\t\t\t\t// defaultValue=\"Chọn mức độ\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Chọn mức độ\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: '100%' }}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(value, option) => handleChange_select('level', option)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value={1}>Dễ</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value={2}>Trung bình</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value={3}>Khó</Option>\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t{/** LOẠI CÂU HỎI (SINGLE HOẶC GROUP)  */}\r\n\t\t\t\t\t\t\t<div className=\"col-md-12 col-12 mt-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"item-select\">\r\n\t\t\t\t\t\t\t\t\t<Tooltip title=\" Loại câu hỏi\" placement=\"topLeft\">\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={valueType}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"style-input\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Chọn loại câu hỏi\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: '100%' }}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(value, option) => handleChange_select('type-question-group', option)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value={0}>Câu hỏi đơn</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value={1}>Câu hỏi nhóm</Option>\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className={`wrap-type-question w-100 ${showTypeQuetion.status ? 'active' : 'nun-active'}`}>\r\n\t\t\t\t\t\t\t\t<div className=\"col-md-12\">\r\n\t\t\t\t\t\t\t\t\t<p style={{ fontWeight: 500 }}>Chọn dạng câu hỏi dưới đây</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{isGroup.status\r\n\t\t\t\t\t\t\t\t\t? dataTypeGroup?.map(\r\n\t\t\t\t\t\t\t\t\t\t\t(item, index) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\titem.Skill.includes(valueSkill) && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-12\" key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"box-type-question\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref=\"#\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => changeBoxType(e, item.Type, item.TypeName)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={item.Type === showTypeQuetion.type ? 'active' : ''}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"type-img\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img src={item.Images} alt=\"\" className=\"img-inner\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"type-detail\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <h5 className=\"number\">{item.Number}</h5> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"p text\">{item.TypeName}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t\t\t\t: dataTypeSingle?.map(\r\n\t\t\t\t\t\t\t\t\t\t\t(item, index) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\titem.Skill.includes(valueSkill) && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-12\" key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"box-type-question\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref=\"#\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => changeBoxType(e, item.Type, item.TypeName)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={item.Type === showTypeQuetion.type ? 'active' : ''}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"type-img\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img src={item.Images} alt=\"\" className=\"img-inner\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"type-detail\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <h5 className=\"number\">{item.Number}</h5> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"p text\">{item.TypeName}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t  )}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nQuestionCreate.layout = LayoutBase\r\nexport default QuestionCreate\r\n"]},"metadata":{},"sourceType":"module"}