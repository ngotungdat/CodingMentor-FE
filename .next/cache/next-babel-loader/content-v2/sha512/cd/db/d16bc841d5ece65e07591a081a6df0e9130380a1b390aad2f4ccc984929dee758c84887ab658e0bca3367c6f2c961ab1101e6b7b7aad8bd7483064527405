{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\CodingMentor\\\\CodingMentor-FE\\\\src\\\\components\\\\Global\\\\CourseList\\\\CourseListDetail\\\\Document\\\\DocumentCourse.tsx\";\nimport { Card, Menu, Spin } from 'antd';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nimport { Folder } from 'react-feather';\nimport { documentApi } from '~/apiBase/course-detail/document';\nimport { documentCategoryApi } from '~/apiBase/course-detail/document-category';\nimport FileExtension from '~/components/Global/CourseList/CourseListDetail/Document/FileExtension';\nimport { useWrap } from '~/context/wrap'; // import  FileExtension  from '~/components/Global/document-list/FileExtension';\n\nDocumentCourse.propTypes = {\n  courseID: PropTypes.number,\n  courseDetail: PropTypes.object\n};\nDocumentCourse.defaultProps = {\n  courseID: 0\n};\n\nfunction DocumentCourse(props) {\n  const {\n    courseID,\n    courseDetail\n  } = props;\n  console.log('courseDetail', courseDetail);\n  const {\n    0: isLoading,\n    1: setIsLoading\n  } = useState({\n    type: '',\n    status: false\n  });\n  const {\n    0: categoryDoc,\n    1: setCategoryDoc\n  } = useState([]);\n  const {\n    showNoti,\n    pageSize\n  } = useWrap();\n  const {\n    0: documentList,\n    1: setDocumentList\n  } = useState([]);\n\n  const getDataCategoryDoc = async () => {\n    try {\n      setIsLoading({\n        type: 'FETCH_CATEGORY',\n        status: true\n      });\n      const res = await documentCategoryApi.getAll({\n        CurriculumnID: courseDetail.CurriculumID,\n        pageIndex: 1,\n        pageSize: pageSize\n      });\n\n      if (res.status === 200) {\n        setCategoryDoc(res.data.data);\n      }\n\n      if (res.status === 204) {\n        showNoti('danger', 'Không tìm thấy dữ liệu!');\n      }\n    } catch (error) {\n      showNoti('danger', error.message);\n    } finally {\n      setIsLoading({\n        type: 'FETCH_CATEGORY',\n        status: false\n      });\n    }\n  };\n\n  useEffect(() => {\n    getDataCategoryDoc();\n  }, []);\n\n  const getDataDocByCategoryID = async id => {\n    try {\n      setIsLoading({\n        type: 'FETCH_DOCUMENT',\n        status: true\n      });\n      const res = await documentApi.getAll({\n        CategoryID: id\n      });\n\n      if (res.status === 200) {\n        setDocumentList(res.data.data);\n      }\n\n      if (res.status === 204) {\n        setDocumentList(null);\n      }\n    } catch (error) {\n      showNoti('danger', error.message);\n    } finally {\n      setIsLoading({\n        type: 'FETCH_DOCUMENT',\n        status: false\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      title: \"T\\xE0i li\\u1EC7u\",\n      children: /*#__PURE__*/_jsxDEV(Spin, {\n        spinning: isLoading.type === 'FETCH_CATEGORY' && isLoading.status,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pb-3 font-weight-black\",\n              children: \"Gi\\xE1o tr\\xECnh\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(Menu, {\n              mode: \"vertical\",\n              children: categoryDoc.map(cate => /*#__PURE__*/_jsxDEV(Menu.Item, {\n                icon: /*#__PURE__*/_jsxDEV(Folder, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 17\n                }, this),\n                onClick: () => {\n                  getDataDocByCategoryID(cate.ID);\n                },\n                children: cate.CategoryName\n              }, cate.ID, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 10\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-9\",\n            children: /*#__PURE__*/_jsxDEV(FileExtension, {\n              isLoading: isLoading,\n              documentList: documentList\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 3\n  }, this);\n}\n\nexport default DocumentCourse;","map":{"version":3,"sources":["D:/MonaMedia/Project/CodingMentor/CodingMentor-FE/src/components/Global/CourseList/CourseListDetail/Document/DocumentCourse.tsx"],"names":["Card","Menu","Spin","PropTypes","React","useEffect","useState","Folder","documentApi","documentCategoryApi","FileExtension","useWrap","DocumentCourse","propTypes","courseID","number","courseDetail","object","defaultProps","props","console","log","isLoading","setIsLoading","type","status","categoryDoc","setCategoryDoc","showNoti","pageSize","documentList","setDocumentList","getDataCategoryDoc","res","getAll","CurriculumnID","CurriculumID","pageIndex","data","error","message","getDataDocByCategoryID","id","CategoryID","map","cate","ID","CategoryName"],"mappings":"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","sourcesContent":["import { Card, Menu, Spin } from 'antd'\r\nimport PropTypes from 'prop-types'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { Folder } from 'react-feather'\r\nimport { documentApi } from '~/apiBase/course-detail/document'\r\nimport { documentCategoryApi } from '~/apiBase/course-detail/document-category'\r\nimport FileExtension from '~/components/Global/CourseList/CourseListDetail/Document/FileExtension'\r\nimport { useWrap } from '~/context/wrap'\r\n// import  FileExtension  from '~/components/Global/document-list/FileExtension';\r\n\r\nDocumentCourse.propTypes = {\r\n\tcourseID: PropTypes.number,\r\n\tcourseDetail: PropTypes.object\r\n}\r\nDocumentCourse.defaultProps = {\r\n\tcourseID: 0\r\n}\r\n\r\nfunction DocumentCourse(props) {\r\n\tconst { courseID, courseDetail } = props\r\n\tconsole.log('courseDetail', courseDetail)\r\n\tconst [isLoading, setIsLoading] = useState({\r\n\t\ttype: '',\r\n\t\tstatus: false\r\n\t})\r\n\tconst [categoryDoc, setCategoryDoc] = useState<ICategoryDoc[]>([])\r\n\tconst { showNoti, pageSize } = useWrap()\r\n\tconst [documentList, setDocumentList] = useState<IDocument[]>([])\r\n\r\n\tconst getDataCategoryDoc = async () => {\r\n\t\ttry {\r\n\t\t\tsetIsLoading({\r\n\t\t\t\ttype: 'FETCH_CATEGORY',\r\n\t\t\t\tstatus: true\r\n\t\t\t})\r\n\t\t\tconst res = await documentCategoryApi.getAll({\r\n\t\t\t\tCurriculumnID: courseDetail.CurriculumID,\r\n\t\t\t\tpageIndex: 1,\r\n\t\t\t\tpageSize: pageSize\r\n\t\t\t})\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tsetCategoryDoc(res.data.data)\r\n\t\t\t}\r\n\t\t\tif (res.status === 204) {\r\n\t\t\t\tshowNoti('danger', 'Không tìm thấy dữ liệu!')\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({\r\n\t\t\t\ttype: 'FETCH_CATEGORY',\r\n\t\t\t\tstatus: false\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tgetDataCategoryDoc()\r\n\t}, [])\r\n\r\n\tconst getDataDocByCategoryID = async (id: number) => {\r\n\t\ttry {\r\n\t\t\tsetIsLoading({\r\n\t\t\t\ttype: 'FETCH_DOCUMENT',\r\n\t\t\t\tstatus: true\r\n\t\t\t})\r\n\t\t\tconst res = await documentApi.getAll({\r\n\t\t\t\tCategoryID: id\r\n\t\t\t})\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tsetDocumentList(res.data.data)\r\n\t\t\t}\r\n\t\t\tif (res.status === 204) {\r\n\t\t\t\tsetDocumentList(null)\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({\r\n\t\t\t\ttype: 'FETCH_DOCUMENT',\r\n\t\t\t\tstatus: false\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Card title=\"Tài liệu\">\r\n\t\t\t\t<Spin spinning={isLoading.type === 'FETCH_CATEGORY' && isLoading.status}>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-3\">\r\n\t\t\t\t\t\t\t<div className=\"pb-3 font-weight-black\">Giáo trình</div>\r\n\t\t\t\t\t\t\t<Menu mode=\"vertical\">\r\n\t\t\t\t\t\t\t\t{categoryDoc.map((cate) => (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item\r\n\t\t\t\t\t\t\t\t\t\tkey={cate.ID}\r\n\t\t\t\t\t\t\t\t\t\ticon={<Folder />}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tgetDataDocByCategoryID(cate.ID)\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{cate.CategoryName}\r\n\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Menu>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-9\">\r\n\t\t\t\t\t\t\t<FileExtension isLoading={isLoading} documentList={documentList} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Spin>\r\n\t\t\t</Card>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default DocumentCourse\r\n"]},"metadata":{},"sourceType":"module"}