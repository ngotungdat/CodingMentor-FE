{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Global\\\\Package\\\\PackageStore\\\\PackageStore.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { faFileVideo } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Card, Image, List, Input } from 'antd';\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { packageApi, packageStudentApi } from '~/apiBase';\nimport { VideoCourseStoreApi } from '~/apiBase/video-course-store';\nimport SortBox from '~/components/Elements/SortBox';\nimport TitlePage from '~/components/Elements/TitlePage';\nimport { useWrap } from '~/context/wrap';\nimport { numberWithCommas } from '~/utils/functions';\nimport TopPackageNewsFeed from '../../NewsFeed/TopPackageNewsFeed';\nimport PackageStoreFilterForm from './PackageStoreFilterForm/PackageStoreFilterForm';\nimport PackageStoreForm from './PackageStoreForm/PackageStoreForm';\nconst {\n  Search\n} = Input;\n\nconst PackageStore = () => {\n  const router = useRouter();\n  const {\n    type\n  } = router.query;\n  const {\n    0: isLoading,\n    1: setIsLoading\n  } = useState({\n    type: '',\n    status: false\n  });\n  const {\n    0: storePackageList,\n    1: setStorePackageList\n  } = useState([]);\n  const {\n    0: totalPage,\n    1: setTotalPage\n  } = useState(null);\n  const {\n    showNoti,\n    userInformation\n  } = useWrap();\n  const {\n    0: courses,\n    1: setCourse\n  } = useState([]); // FILTER\n\n  const listFieldInit = {\n    pageIndex: 1,\n    pageSize: 10,\n    sort: -1,\n    sortType: false,\n    search: '',\n    TeacherID: null,\n    Type: null,\n    Level: null,\n    fromDate: '',\n    toDate: ''\n  };\n  let refValue = useRef({\n    pageIndex: 1,\n    pageSize: 10,\n    sort: -1,\n    sortType: false\n  });\n  const {\n    0: filters,\n    1: setFilters\n  } = useState(listFieldInit);\n  const typeOptionList = [{\n    value: 1,\n    title: 'Miễn phí'\n  }, {\n    value: 2,\n    title: 'Cao cấp'\n  }];\n  const levelOptionList = [{\n    value: 1,\n    title: 'HSK 1'\n  }, {\n    value: 2,\n    title: 'HSK 2'\n  }, {\n    value: 3,\n    title: 'HSK 3'\n  }, {\n    value: 4,\n    title: 'HSK 4'\n  }, {\n    value: 5,\n    title: 'HSK 5'\n  }, {\n    value: 6,\n    title: 'HSK 6'\n  }]; // SORT OPTION\n\n  const sortOptionList = [{\n    dataSort: {\n      sort: 1,\n      sortType: true\n    },\n    value: 3,\n    text: 'Giá tăng dần'\n  }, {\n    dataSort: {\n      sort: 1,\n      sortType: false\n    },\n    value: 4,\n    text: 'Giá giảm dần'\n  }]; // FILTER\n\n  const onFilter = obj => {\n    setFilters(_objectSpread(_objectSpread(_objectSpread({}, listFieldInit), refValue.current), {}, {\n      pageIndex: 1\n    }, obj));\n  }; // PAGINATION\n\n\n  const getPagination = (pageIndex, pageSize) => {\n    if (!pageSize) pageSize = 10;\n    refValue.current = _objectSpread(_objectSpread({}, refValue.current), {}, {\n      pageSize,\n      pageIndex\n    });\n    setFilters(_objectSpread(_objectSpread({}, filters), refValue.current));\n  };\n\n  const getVideoCourse = async () => {\n    setIsLoading({\n      type: 'GET_ALL',\n      status: true\n    });\n\n    try {\n      const res = await VideoCourseStoreApi.getByPoint(5);\n      res.status == 200 && setCourse(res.data.data);\n      setIsLoading({\n        type: 'GET_ALL',\n        status: false\n      });\n    } catch (err) {} finally {\n      setIsLoading({\n        type: 'GET_ALL',\n        status: false\n      });\n    }\n  }; // SORT\n\n\n  const onSort = option => {\n    refValue.current = _objectSpread(_objectSpread({}, refValue.current), {}, {\n      sort: option.title.sort,\n      sortType: option.title.sortType\n    });\n    setFilters(_objectSpread(_objectSpread({}, listFieldInit), refValue.current));\n  }; // RESET SEARCH\n\n\n  const onResetSearch = () => {\n    setFilters(_objectSpread(_objectSpread({}, listFieldInit), {}, {\n      pageSize: refValue.current.pageSize\n    }));\n  }; // GET DATA IN FIRST TIME\n\n\n  const fetchPackageList = async () => {\n    setIsLoading({\n      type: 'GET_ALL',\n      status: true\n    });\n\n    try {\n      const res = await packageApi.getAll(filters);\n\n      if (res.status === 200) {\n        setStorePackageList(res.data.data);\n        setTotalPage(res.data.totalRow);\n      }\n\n      if (res.status === 204) {\n        setStorePackageList([]);\n        setTotalPage(0);\n        showNoti('danger', 'Cửa hàng trống');\n      }\n    } catch (error) {\n      showNoti('danger', error.message);\n    } finally {\n      setIsLoading({\n        type: 'GET_ALL',\n        status: false\n      });\n    }\n  };\n\n  useEffect(() => {\n    getVideoCourse();\n  }, []);\n  useEffect(() => {\n    fetchPackageList();\n  }, [filters]);\n  useEffect(() => {\n    if (type) {\n      setFilters(_objectSpread(_objectSpread(_objectSpread({}, listFieldInit), refValue.current), {}, {\n        pageIndex: 1,\n        Type: type\n      }));\n    }\n  }, [type]);\n\n  const _search = e => {\n    setFilters(_objectSpread(_objectSpread({}, listFieldInit), {}, {\n      search: e\n    }));\n  };\n\n  const onSubmit = async data => {\n    setIsLoading({\n      type: 'ADD_DATA',\n      status: true\n    });\n\n    try {\n      const {\n        ID,\n        Price,\n        PaymentMethodsID,\n        Note\n      } = data;\n      const newPackageStudent = {\n        StudentID: userInformation.UserInformationID,\n        SetPackageID: ID,\n        Paid: Price === 'Miễn phí' ? 0 : parseInt(Price.toString().replace(/\\D/g, '')),\n        PaymentMethodsID,\n        Note\n      };\n      const res = await packageStudentApi.add(newPackageStudent);\n\n      if (res.status === 200) {\n        showNoti('success', res.data.message);\n\n        if (storePackageList.length === 1) {\n          filters.pageIndex === 1 && setStorePackageList([]);\n          return;\n        }\n\n        fetchPackageList();\n      }\n\n      return res;\n    } catch (error) {\n      showNoti('danger', error.message);\n    } finally {\n      setIsLoading({\n        type: 'ADD_DATA',\n        status: false\n      });\n    }\n  }; // CARD EXTRA\n\n\n  const Extra = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row m-0 vc-teach-extra\",\n      style: {\n        justifyContent: 'space-between'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"extra-table\",\n        children: [/*#__PURE__*/_jsxDEV(PackageStoreFilterForm, {\n          handleFilter: onFilter,\n          handleResetFilter: onResetSearch,\n          optionListForFilter: {\n            levelOptionList: levelOptionList,\n            typeOptionList: typeOptionList\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(SortBox, {\n          width: 150,\n          dataOption: sortOptionList,\n          handleSort: onSort\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Search, {\n        className: \"fb-btn-search style-input vc-teach-modal_search on-mobile\",\n        size: \"large\",\n        placeholder: \"T\\xECm ki\\u1EBFm\",\n        onSearch: e => _search(e)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 4\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row package-set package-detail-list\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row m-0 p-0\",\n      children: [/*#__PURE__*/_jsxDEV(TitlePage, {\n        title: \"C\\u1EEDa h\\xE0ng\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrap-table col-md-8 col-12\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          style: {\n            width: '100%'\n          },\n          className: \"package-set-wrap\",\n          title: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"m-2\",\n            children: Extra()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 74\n          }, this),\n          children: /*#__PURE__*/_jsxDEV(List, {\n            loading: (isLoading === null || isLoading === void 0 ? void 0 : isLoading.type) === 'GET_ALL' && (isLoading === null || isLoading === void 0 ? void 0 : isLoading.status),\n            pagination: {\n              onChange: getPagination,\n              total: totalPage,\n              size: 'small',\n              current: filters.pageIndex\n            },\n            itemLayout: \"horizontal\",\n            dataSource: storePackageList,\n            renderItem: (item, idx) => {\n              const {\n                ID,\n                Name,\n                Avatar,\n                Level,\n                Type,\n                TypeName,\n                Price,\n                Description\n              } = item;\n              return /*#__PURE__*/_jsxDEV(List.Item, {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"wrap-set d-flex\",\n                  children: [Type === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"tag-free\",\n                    children: TypeName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 267,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"wrap-set-avatar\",\n                    children: /*#__PURE__*/_jsxDEV(Image, {\n                      width: \"100%\",\n                      height: \"100%\",\n                      src: Avatar || '/images/logo-thumnail-2.jpg',\n                      title: \"\\u1EA2nh b\\xECa b\\u1ED9 \\u0111\\u1EC1\",\n                      alt: \"\\u1EA2nh b\\xECa b\\u1ED9 \\u0111\\u1EC1\",\n                      style: {\n                        objectFit: 'cover'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 269,\n                      columnNumber: 13\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 268,\n                    columnNumber: 12\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"wrap-set-content\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                      className: \"set-title\",\n                      children: Name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 279,\n                      columnNumber: 13\n                    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                      className: \"set-list\",\n                      children: [!!Price && /*#__PURE__*/_jsxDEV(\"li\", {\n                        className: \"price\",\n                        children: [\"Gi\\xE1:\", /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: [numberWithCommas(Price), \" VN\\u0110\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 283,\n                          columnNumber: 20\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 282,\n                        columnNumber: 15\n                      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                        className: \"desc\",\n                        children: [\"M\\xF4 t\\u1EA3:\", /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: Description\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 287,\n                          columnNumber: 21\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 286,\n                        columnNumber: 14\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 280,\n                      columnNumber: 13\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"set-btn\",\n                      children: (userInformation === null || userInformation === void 0 ? void 0 : userInformation.RoleID) !== 1 && (userInformation === null || userInformation === void 0 ? void 0 : userInformation.RoleID) !== 5 && (Type === 1 ? /*#__PURE__*/_jsxDEV(PackageStoreForm, {\n                        isAddPackageFree: true,\n                        isLoading: isLoading,\n                        packageItem: item,\n                        handleSubmit: onSubmit\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 294,\n                        columnNumber: 16\n                      }, this) : /*#__PURE__*/_jsxDEV(PackageStoreForm, {\n                        isLoading: isLoading,\n                        packageItem: item,\n                        handleSubmit: onSubmit\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 296,\n                        columnNumber: 16\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 290,\n                      columnNumber: 13\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 278,\n                    columnNumber: 12\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 10\n              }, this);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-4 col-12 m-0 pl-3 pr-3 test-wrapper done-test\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"table-medium w-100\",\n          title: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"title-question-bank\",\n            style: {\n              display: 'flex',\n              flexDirection: 'row',\n              alignItems: 'center',\n              justifyContent: 'space-between'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"title-big\",\n              style: {\n                paddingTop: 8,\n                paddingBottom: 8\n              },\n              children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faFileVideo,\n                size: \"lg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 10\n              }, this), \"G\\u1EE3i \\xFD kh\\xF3a h\\u1ECDc\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              href: \"/video-course\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"font-weight-black\",\n                style: {\n                  width: 100,\n                  textAlign: 'right'\n                },\n                children: \"Xem th\\xEAm\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 8\n          }, this),\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"test-body done-test-card\",\n            children: /*#__PURE__*/_jsxDEV(TopPackageNewsFeed, {\n              isLoading: isLoading.status,\n              topPackageList: courses\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 247,\n    columnNumber: 3\n  }, this);\n};\n\nexport default PackageStore;","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Global/Package/PackageStore/PackageStore.tsx"],"names":["faFileVideo","FontAwesomeIcon","Card","Image","List","Input","Link","useRouter","React","useEffect","useRef","useState","packageApi","packageStudentApi","VideoCourseStoreApi","SortBox","TitlePage","useWrap","numberWithCommas","TopPackageNewsFeed","PackageStoreFilterForm","PackageStoreForm","Search","PackageStore","router","type","query","isLoading","setIsLoading","status","storePackageList","setStorePackageList","totalPage","setTotalPage","showNoti","userInformation","courses","setCourse","listFieldInit","pageIndex","pageSize","sort","sortType","search","TeacherID","Type","Level","fromDate","toDate","refValue","filters","setFilters","typeOptionList","value","title","levelOptionList","sortOptionList","dataSort","text","onFilter","obj","current","getPagination","getVideoCourse","res","getByPoint","data","err","onSort","option","onResetSearch","fetchPackageList","getAll","totalRow","error","message","_search","e","onSubmit","ID","Price","PaymentMethodsID","Note","newPackageStudent","StudentID","UserInformationID","SetPackageID","Paid","parseInt","toString","replace","add","length","Extra","justifyContent","width","onChange","total","size","item","idx","Name","Avatar","TypeName","Description","objectFit","RoleID","display","flexDirection","alignItems","paddingTop","paddingBottom","textAlign"],"mappings":";;;;;;;;;AAAA,SAASA,WAAT,QAA4B,mCAA5B;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,SAASC,IAAT,EAAeC,KAAf,EAAsBC,IAAtB,EAA4BC,KAA5B,QAAyC,MAAzC;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,EAAmCC,QAAnC,QAAmD,OAAnD;AACA,SAASC,UAAT,EAAqBC,iBAArB,QAA8C,WAA9C;AACA,SAASC,mBAAT,QAAoC,8BAApC;AAEA,OAAOC,OAAP,MAAoB,+BAApB;AACA,OAAOC,SAAP,MAAsB,iCAAtB;AACA,SAASC,OAAT,QAAwB,gBAAxB;AACA,SAASC,gBAAT,QAAiC,mBAAjC;AACA,OAAOC,kBAAP,MAA+B,mCAA/B;AACA,OAAOC,sBAAP,MAAmC,iDAAnC;AACA,OAAOC,gBAAP,MAA6B,qCAA7B;AAEA,MAAM;AAAEC,EAAAA;AAAF,IAAajB,KAAnB;;AAEA,MAAMkB,YAAY,GAAG,MAAM;AAC1B,QAAMC,MAAM,GAAGjB,SAAS,EAAxB;AACA,QAAM;AAAEkB,IAAAA;AAAF,MAAWD,MAAM,CAACE,KAAxB;AACA,QAAM;AAAA,OAACC,SAAD;AAAA,OAAYC;AAAZ,MAA4BjB,QAAQ,CAAC;AAAEc,IAAAA,IAAI,EAAE,EAAR;AAAYI,IAAAA,MAAM,EAAE;AAApB,GAAD,CAA1C;AACA,QAAM;AAAA,OAACC,gBAAD;AAAA,OAAmBC;AAAnB,MAA0CpB,QAAQ,CAAa,EAAb,CAAxD;AACA,QAAM;AAAA,OAACqB,SAAD;AAAA,OAAYC;AAAZ,MAA4BtB,QAAQ,CAAC,IAAD,CAA1C;AACA,QAAM;AAAEuB,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,MAAgClB,OAAO,EAA7C;AACA,QAAM;AAAA,OAACmB,OAAD;AAAA,OAAUC;AAAV,MAAuB1B,QAAQ,CAAM,EAAN,CAArC,CAP0B,CAQ1B;;AACA,QAAM2B,aAAa,GAAG;AACrBC,IAAAA,SAAS,EAAE,CADU;AAErBC,IAAAA,QAAQ,EAAE,EAFW;AAGrBC,IAAAA,IAAI,EAAE,CAAC,CAHc;AAIrBC,IAAAA,QAAQ,EAAE,KAJW;AAKrBC,IAAAA,MAAM,EAAE,EALa;AAOrBC,IAAAA,SAAS,EAAE,IAPU;AAQrBC,IAAAA,IAAI,EAAE,IARe;AASrBC,IAAAA,KAAK,EAAE,IATc;AAUrBC,IAAAA,QAAQ,EAAE,EAVW;AAWrBC,IAAAA,MAAM,EAAE;AAXa,GAAtB;AAaA,MAAIC,QAAQ,GAAGvC,MAAM,CAAC;AACrB6B,IAAAA,SAAS,EAAE,CADU;AAErBC,IAAAA,QAAQ,EAAE,EAFW;AAGrBC,IAAAA,IAAI,EAAE,CAAC,CAHc;AAIrBC,IAAAA,QAAQ,EAAE;AAJW,GAAD,CAArB;AAMA,QAAM;AAAA,OAACQ,OAAD;AAAA,OAAUC;AAAV,MAAwBxC,QAAQ,CAAC2B,aAAD,CAAtC;AACA,QAAMc,cAAc,GAAG,CACtB;AACCC,IAAAA,KAAK,EAAE,CADR;AAECC,IAAAA,KAAK,EAAE;AAFR,GADsB,EAKtB;AACCD,IAAAA,KAAK,EAAE,CADR;AAECC,IAAAA,KAAK,EAAE;AAFR,GALsB,CAAvB;AAUA,QAAMC,eAAe,GAAG,CACvB;AACCF,IAAAA,KAAK,EAAE,CADR;AAECC,IAAAA,KAAK,EAAE;AAFR,GADuB,EAKvB;AACCD,IAAAA,KAAK,EAAE,CADR;AAECC,IAAAA,KAAK,EAAE;AAFR,GALuB,EASvB;AACCD,IAAAA,KAAK,EAAE,CADR;AAECC,IAAAA,KAAK,EAAE;AAFR,GATuB,EAavB;AACCD,IAAAA,KAAK,EAAE,CADR;AAECC,IAAAA,KAAK,EAAE;AAFR,GAbuB,EAiBvB;AACCD,IAAAA,KAAK,EAAE,CADR;AAECC,IAAAA,KAAK,EAAE;AAFR,GAjBuB,EAqBvB;AACCD,IAAAA,KAAK,EAAE,CADR;AAECC,IAAAA,KAAK,EAAE;AAFR,GArBuB,CAAxB,CAvC0B,CAiE1B;;AACA,QAAME,cAAc,GAAG,CACtB;AACCC,IAAAA,QAAQ,EAAE;AACThB,MAAAA,IAAI,EAAE,CADG;AAETC,MAAAA,QAAQ,EAAE;AAFD,KADX;AAKCW,IAAAA,KAAK,EAAE,CALR;AAMCK,IAAAA,IAAI,EAAE;AANP,GADsB,EAStB;AACCD,IAAAA,QAAQ,EAAE;AACThB,MAAAA,IAAI,EAAE,CADG;AAETC,MAAAA,QAAQ,EAAE;AAFD,KADX;AAKCW,IAAAA,KAAK,EAAE,CALR;AAMCK,IAAAA,IAAI,EAAE;AANP,GATsB,CAAvB,CAlE0B,CAoF1B;;AACA,QAAMC,QAAQ,GAAIC,GAAD,IAAS;AACzBT,IAAAA,UAAU,+CACNb,aADM,GAENW,QAAQ,CAACY,OAFH;AAGTtB,MAAAA,SAAS,EAAE;AAHF,OAINqB,GAJM,EAAV;AAMA,GAPD,CArF0B,CA6F1B;;;AACA,QAAME,aAAa,GAAG,CAACvB,SAAD,EAAoBC,QAApB,KAAyC;AAC9D,QAAI,CAACA,QAAL,EAAeA,QAAQ,GAAG,EAAX;AACfS,IAAAA,QAAQ,CAACY,OAAT,mCACIZ,QAAQ,CAACY,OADb;AAECrB,MAAAA,QAFD;AAGCD,MAAAA;AAHD;AAKAY,IAAAA,UAAU,iCAAMD,OAAN,GAAkBD,QAAQ,CAACY,OAA3B,EAAV;AACA,GARD;;AASA,QAAME,cAAc,GAAG,YAAY;AAClCnC,IAAAA,YAAY,CAAC;AAAEH,MAAAA,IAAI,EAAE,SAAR;AAAmBI,MAAAA,MAAM,EAAE;AAA3B,KAAD,CAAZ;;AACA,QAAI;AACH,YAAMmC,GAAG,GAAG,MAAMlD,mBAAmB,CAACmD,UAApB,CAA+B,CAA/B,CAAlB;AACAD,MAAAA,GAAG,CAACnC,MAAJ,IAAc,GAAd,IAAqBQ,SAAS,CAAC2B,GAAG,CAACE,IAAJ,CAASA,IAAV,CAA9B;AACAtC,MAAAA,YAAY,CAAC;AAAEH,QAAAA,IAAI,EAAE,SAAR;AAAmBI,QAAAA,MAAM,EAAE;AAA3B,OAAD,CAAZ;AACA,KAJD,CAIE,OAAOsC,GAAP,EAAY,CACb,CALD,SAKU;AACTvC,MAAAA,YAAY,CAAC;AAAEH,QAAAA,IAAI,EAAE,SAAR;AAAmBI,QAAAA,MAAM,EAAE;AAA3B,OAAD,CAAZ;AACA;AACD,GAVD,CAvG0B,CAkH1B;;;AACA,QAAMuC,MAAM,GAAIC,MAAD,IAAY;AAC1BpB,IAAAA,QAAQ,CAACY,OAAT,mCACIZ,QAAQ,CAACY,OADb;AAECpB,MAAAA,IAAI,EAAE4B,MAAM,CAACf,KAAP,CAAab,IAFpB;AAGCC,MAAAA,QAAQ,EAAE2B,MAAM,CAACf,KAAP,CAAaZ;AAHxB;AAKAS,IAAAA,UAAU,iCACNb,aADM,GAENW,QAAQ,CAACY,OAFH,EAAV;AAIA,GAVD,CAnH0B,CA8H1B;;;AACA,QAAMS,aAAa,GAAG,MAAM;AAC3BnB,IAAAA,UAAU,iCACNb,aADM;AAETE,MAAAA,QAAQ,EAAES,QAAQ,CAACY,OAAT,CAAiBrB;AAFlB,OAAV;AAIA,GALD,CA/H0B,CAqI1B;;;AACA,QAAM+B,gBAAgB,GAAG,YAAY;AACpC3C,IAAAA,YAAY,CAAC;AAAEH,MAAAA,IAAI,EAAE,SAAR;AAAmBI,MAAAA,MAAM,EAAE;AAA3B,KAAD,CAAZ;;AACA,QAAI;AACH,YAAMmC,GAAG,GAAG,MAAMpD,UAAU,CAAC4D,MAAX,CAAkBtB,OAAlB,CAAlB;;AACA,UAAIc,GAAG,CAACnC,MAAJ,KAAe,GAAnB,EAAwB;AACvBE,QAAAA,mBAAmB,CAACiC,GAAG,CAACE,IAAJ,CAASA,IAAV,CAAnB;AACAjC,QAAAA,YAAY,CAAC+B,GAAG,CAACE,IAAJ,CAASO,QAAV,CAAZ;AACA;;AACD,UAAIT,GAAG,CAACnC,MAAJ,KAAe,GAAnB,EAAwB;AACvBE,QAAAA,mBAAmB,CAAC,EAAD,CAAnB;AACAE,QAAAA,YAAY,CAAC,CAAD,CAAZ;AACAC,QAAAA,QAAQ,CAAC,QAAD,EAAW,gBAAX,CAAR;AACA;AACD,KAXD,CAWE,OAAOwC,KAAP,EAAc;AACfxC,MAAAA,QAAQ,CAAC,QAAD,EAAWwC,KAAK,CAACC,OAAjB,CAAR;AACA,KAbD,SAaU;AACT/C,MAAAA,YAAY,CAAC;AAAEH,QAAAA,IAAI,EAAE,SAAR;AAAmBI,QAAAA,MAAM,EAAE;AAA3B,OAAD,CAAZ;AACA;AACD,GAlBD;;AAoBApB,EAAAA,SAAS,CAAC,MAAM;AACfsD,IAAAA,cAAc;AACd,GAFQ,EAEN,EAFM,CAAT;AAIAtD,EAAAA,SAAS,CAAC,MAAM;AACf8D,IAAAA,gBAAgB;AAChB,GAFQ,EAEN,CAACrB,OAAD,CAFM,CAAT;AAIAzC,EAAAA,SAAS,CAAC,MAAM;AACf,QAAIgB,IAAJ,EAAU;AACT0B,MAAAA,UAAU,+CAAMb,aAAN,GAAwBW,QAAQ,CAACY,OAAjC;AAA0CtB,QAAAA,SAAS,EAAE,CAArD;AAAwDM,QAAAA,IAAI,EAAEpB;AAA9D,SAAV;AACA;AACD,GAJQ,EAIN,CAACA,IAAD,CAJM,CAAT;;AAMA,QAAMmD,OAAO,GAAIC,CAAD,IAAe;AAC9B1B,IAAAA,UAAU,iCAAMb,aAAN;AAAqBK,MAAAA,MAAM,EAAEkC;AAA7B,OAAV;AACA,GAFD;;AAIA,QAAMC,QAAQ,GAAG,MAAOZ,IAAP,IAAuF;AACvGtC,IAAAA,YAAY,CAAC;AAAEH,MAAAA,IAAI,EAAE,UAAR;AAAoBI,MAAAA,MAAM,EAAE;AAA5B,KAAD,CAAZ;;AACA,QAAI;AACH,YAAM;AAAEkD,QAAAA,EAAF;AAAMC,QAAAA,KAAN;AAAaC,QAAAA,gBAAb;AAA+BC,QAAAA;AAA/B,UAAwChB,IAA9C;AACA,YAAMiB,iBAAiB,GAAG;AACzBC,QAAAA,SAAS,EAAEjD,eAAe,CAACkD,iBADF;AAEzBC,QAAAA,YAAY,EAAEP,EAFW;AAGzBQ,QAAAA,IAAI,EAAEP,KAAK,KAAK,UAAV,GAAuB,CAAvB,GAA2BQ,QAAQ,CAACR,KAAK,CAACS,QAAN,GAAiBC,OAAjB,CAAyB,KAAzB,EAAgC,EAAhC,CAAD,CAHhB;AAIzBT,QAAAA,gBAJyB;AAKzBC,QAAAA;AALyB,OAA1B;AAOA,YAAMlB,GAAG,GAAG,MAAMnD,iBAAiB,CAAC8E,GAAlB,CAAsBR,iBAAtB,CAAlB;;AACA,UAAInB,GAAG,CAACnC,MAAJ,KAAe,GAAnB,EAAwB;AACvBK,QAAAA,QAAQ,CAAC,SAAD,EAAY8B,GAAG,CAACE,IAAJ,CAASS,OAArB,CAAR;;AACA,YAAI7C,gBAAgB,CAAC8D,MAAjB,KAA4B,CAAhC,EAAmC;AAClC1C,UAAAA,OAAO,CAACX,SAAR,KAAsB,CAAtB,IAA2BR,mBAAmB,CAAC,EAAD,CAA9C;AACA;AACA;;AACDwC,QAAAA,gBAAgB;AAChB;;AACD,aAAOP,GAAP;AACA,KAnBD,CAmBE,OAAOU,KAAP,EAAc;AACfxC,MAAAA,QAAQ,CAAC,QAAD,EAAWwC,KAAK,CAACC,OAAjB,CAAR;AACA,KArBD,SAqBU;AACT/C,MAAAA,YAAY,CAAC;AAAEH,QAAAA,IAAI,EAAE,UAAR;AAAoBI,QAAAA,MAAM,EAAE;AAA5B,OAAD,CAAZ;AACA;AACD,GA1BD,CA5K0B,CAwM1B;;;AACA,QAAMgE,KAAK,GAAG,MAAM;AACnB,wBACC;AAAK,MAAA,SAAS,EAAC,wBAAf;AAAwC,MAAA,KAAK,EAAE;AAAEC,QAAAA,cAAc,EAAE;AAAlB,OAA/C;AAAA,8BACC;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA,gCACC,QAAC,sBAAD;AACC,UAAA,YAAY,EAAEnC,QADf;AAEC,UAAA,iBAAiB,EAAEW,aAFpB;AAGC,UAAA,mBAAmB,EAAE;AACpBf,YAAAA,eAAe,EAAEA,eADG;AAEpBH,YAAAA,cAAc,EAAEA;AAFI;AAHtB;AAAA;AAAA;AAAA;AAAA,gBADD,eASC,QAAC,OAAD;AAAS,UAAA,KAAK,EAAE,GAAhB;AAAqB,UAAA,UAAU,EAAEI,cAAjC;AAAiD,UAAA,UAAU,EAAEY;AAA7D;AAAA;AAAA;AAAA;AAAA,gBATD;AAAA;AAAA;AAAA;AAAA;AAAA,cADD,eAaC,QAAC,MAAD;AACC,QAAA,SAAS,EAAC,2DADX;AAEC,QAAA,IAAI,EAAC,OAFN;AAGC,QAAA,WAAW,EAAC,kBAHb;AAIC,QAAA,QAAQ,EAAGS,CAAD,IAAOD,OAAO,CAACC,CAAD;AAJzB;AAAA;AAAA;AAAA;AAAA,cAbD;AAAA;AAAA;AAAA;AAAA;AAAA,YADD;AAsBA,GAvBD;;AAyBA,sBACC;AAAK,IAAA,SAAS,EAAC,qCAAf;AAAA,2BACC;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA,8BACC,QAAC,SAAD;AAAW,QAAA,KAAK,EAAC;AAAjB;AAAA;AAAA;AAAA;AAAA,cADD,eAEC;AAAK,QAAA,SAAS,EAAC,4BAAf;AAAA,+BACC,QAAC,IAAD;AAAM,UAAA,KAAK,EAAE;AAAEkB,YAAAA,KAAK,EAAE;AAAT,WAAb;AAAgC,UAAA,SAAS,EAAC,kBAA1C;AAA6D,UAAA,KAAK,eAAE;AAAK,YAAA,SAAS,EAAC,KAAf;AAAA,sBAAsBF,KAAK;AAA3B;AAAA;AAAA;AAAA;AAAA,kBAApE;AAAA,iCACC,QAAC,IAAD;AACC,YAAA,OAAO,EAAE,CAAAlE,SAAS,SAAT,IAAAA,SAAS,WAAT,YAAAA,SAAS,CAAEF,IAAX,MAAoB,SAApB,KAAiCE,SAAjC,aAAiCA,SAAjC,uBAAiCA,SAAS,CAAEE,MAA5C,CADV;AAEC,YAAA,UAAU,EAAE;AACXmE,cAAAA,QAAQ,EAAElC,aADC;AAEXmC,cAAAA,KAAK,EAAEjE,SAFI;AAGXkE,cAAAA,IAAI,EAAE,OAHK;AAIXrC,cAAAA,OAAO,EAAEX,OAAO,CAACX;AAJN,aAFb;AAQC,YAAA,UAAU,EAAC,YARZ;AASC,YAAA,UAAU,EAAET,gBATb;AAUC,YAAA,UAAU,EAAE,CAACqE,IAAD,EAAiBC,GAAjB,KAAyB;AACpC,oBAAM;AAAErB,gBAAAA,EAAF;AAAMsB,gBAAAA,IAAN;AAAYC,gBAAAA,MAAZ;AAAoBxD,gBAAAA,KAApB;AAA2BD,gBAAAA,IAA3B;AAAiC0D,gBAAAA,QAAjC;AAA2CvB,gBAAAA,KAA3C;AAAkDwB,gBAAAA;AAAlD,kBAAkEL,IAAxE;AACA,kCACC,QAAC,IAAD,CAAM,IAAN;AAAA,uCACC;AAAK,kBAAA,SAAS,EAAC,iBAAf;AAAA,6BACEtD,IAAI,KAAK,CAAT,iBAAc;AAAK,oBAAA,SAAS,EAAC,UAAf;AAAA,8BAA2B0D;AAA3B;AAAA;AAAA;AAAA;AAAA,0BADhB,eAEC;AAAK,oBAAA,SAAS,EAAC,iBAAf;AAAA,2CACC,QAAC,KAAD;AACC,sBAAA,KAAK,EAAC,MADP;AAEC,sBAAA,MAAM,EAAC,MAFR;AAGC,sBAAA,GAAG,EAAED,MAAM,IAAI,6BAHhB;AAIC,sBAAA,KAAK,EAAC,sCAJP;AAKC,sBAAA,GAAG,EAAC,sCALL;AAMC,sBAAA,KAAK,EAAE;AAAEG,wBAAAA,SAAS,EAAE;AAAb;AANR;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,0BAFD,eAYC;AAAK,oBAAA,SAAS,EAAC,kBAAf;AAAA,4CACC;AAAI,sBAAA,SAAS,EAAC,WAAd;AAAA,gCAA2BJ;AAA3B;AAAA;AAAA;AAAA;AAAA,4BADD,eAEC;AAAI,sBAAA,SAAS,EAAC,UAAd;AAAA,iCACE,CAAC,CAACrB,KAAF,iBACA;AAAI,wBAAA,SAAS,EAAC,OAAd;AAAA,2DACK;AAAA,qCAAO9D,gBAAgB,CAAC8D,KAAD,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA,gCADL;AAAA;AAAA;AAAA;AAAA;AAAA,8BAFF,eAMC;AAAI,wBAAA,SAAS,EAAC,MAAd;AAAA,kEACO;AAAA,oCAAOwB;AAAP;AAAA;AAAA;AAAA;AAAA,gCADP;AAAA;AAAA;AAAA;AAAA;AAAA,8BAND;AAAA;AAAA;AAAA;AAAA;AAAA,4BAFD,eAYC;AAAK,sBAAA,SAAS,EAAC,SAAf;AAAA,gCACE,CAAArE,eAAe,SAAf,IAAAA,eAAe,WAAf,YAAAA,eAAe,CAAEuE,MAAjB,MAA4B,CAA5B,IACA,CAAAvE,eAAe,SAAf,IAAAA,eAAe,WAAf,YAAAA,eAAe,CAAEuE,MAAjB,MAA4B,CAD5B,KAEC7D,IAAI,KAAK,CAAT,gBACA,QAAC,gBAAD;AAAkB,wBAAA,gBAAgB,EAAE,IAApC;AAA0C,wBAAA,SAAS,EAAElB,SAArD;AAAgE,wBAAA,WAAW,EAAEwE,IAA7E;AAAmF,wBAAA,YAAY,EAAErB;AAAjG;AAAA;AAAA;AAAA;AAAA,8BADA,gBAGA,QAAC,gBAAD;AAAkB,wBAAA,SAAS,EAAEnD,SAA7B;AAAwC,wBAAA,WAAW,EAAEwE,IAArD;AAA2D,wBAAA,YAAY,EAAErB;AAAzE;AAAA;AAAA;AAAA;AAAA,8BALD;AADF;AAAA;AAAA;AAAA;AAAA,4BAZD;AAAA;AAAA;AAAA;AAAA;AAAA,0BAZD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,sBADD;AAuCA;AAnDF;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,cAFD,eA4DC;AAAK,QAAA,SAAS,EAAC,sDAAf;AAAA,+BACC,QAAC,IAAD;AACC,UAAA,SAAS,EAAC,oBADX;AAEC,UAAA,KAAK,eACJ;AACC,YAAA,SAAS,EAAC,qBADX;AAEC,YAAA,KAAK,EAAE;AAAE6B,cAAAA,OAAO,EAAE,MAAX;AAAmBC,cAAAA,aAAa,EAAE,KAAlC;AAAyCC,cAAAA,UAAU,EAAE,QAArD;AAA+Df,cAAAA,cAAc,EAAE;AAA/E,aAFR;AAAA,oCAIC;AAAI,cAAA,SAAS,EAAC,WAAd;AAA0B,cAAA,KAAK,EAAE;AAAEgB,gBAAAA,UAAU,EAAE,CAAd;AAAiBC,gBAAAA,aAAa,EAAE;AAAhC,eAAjC;AAAA,sCACC,QAAC,eAAD;AAAiB,gBAAA,IAAI,EAAE/G,WAAvB;AAAoC,gBAAA,IAAI,EAAC;AAAzC;AAAA;AAAA;AAAA;AAAA,sBADD;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJD,eAQC,QAAC,IAAD;AAAM,cAAA,IAAI,EAAC,eAAX;AAAA,qCACC;AAAG,gBAAA,SAAS,EAAC,mBAAb;AAAiC,gBAAA,KAAK,EAAE;AAAE+F,kBAAAA,KAAK,EAAE,GAAT;AAAciB,kBAAAA,SAAS,EAAE;AAAzB,iBAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,oBARD;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHF;AAAA,iCAmBC;AAAK,YAAA,SAAS,EAAC,0BAAf;AAAA,mCACC,QAAC,kBAAD;AAAoB,cAAA,SAAS,EAAErF,SAAS,CAACE,MAAzC;AAAiD,cAAA,cAAc,EAAEO;AAAjE;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AAnBD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,cA5DD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,UADD;AA0FA,CA5TD;;AA8TA,eAAeb,YAAf","sourcesContent":["import { faFileVideo } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { Card, Image, List, Input } from 'antd'\r\nimport Link from 'next/link'\r\nimport { useRouter } from 'next/router'\r\nimport React, { useEffect, useRef, useState } from 'react'\r\nimport { packageApi, packageStudentApi } from '~/apiBase'\r\nimport { VideoCourseStoreApi } from '~/apiBase/video-course-store'\r\nimport SearchBox from '~/components/Elements/SearchBox'\r\nimport SortBox from '~/components/Elements/SortBox'\r\nimport TitlePage from '~/components/Elements/TitlePage'\r\nimport { useWrap } from '~/context/wrap'\r\nimport { numberWithCommas } from '~/utils/functions'\r\nimport TopPackageNewsFeed from '../../NewsFeed/TopPackageNewsFeed'\r\nimport PackageStoreFilterForm from './PackageStoreFilterForm/PackageStoreFilterForm'\r\nimport PackageStoreForm from './PackageStoreForm/PackageStoreForm'\r\n\r\nconst { Search } = Input\r\n\r\nconst PackageStore = () => {\r\n\tconst router = useRouter()\r\n\tconst { type } = router.query\r\n\tconst [isLoading, setIsLoading] = useState({ type: '', status: false })\r\n\tconst [storePackageList, setStorePackageList] = useState<IPackage[]>([])\r\n\tconst [totalPage, setTotalPage] = useState(null)\r\n\tconst { showNoti, userInformation } = useWrap()\r\n\tconst [courses, setCourse] = useState<any>([])\r\n\t// FILTER\r\n\tconst listFieldInit = {\r\n\t\tpageIndex: 1,\r\n\t\tpageSize: 10,\r\n\t\tsort: -1,\r\n\t\tsortType: false,\r\n\t\tsearch: '',\r\n\r\n\t\tTeacherID: null,\r\n\t\tType: null,\r\n\t\tLevel: null,\r\n\t\tfromDate: '',\r\n\t\ttoDate: ''\r\n\t}\r\n\tlet refValue = useRef({\r\n\t\tpageIndex: 1,\r\n\t\tpageSize: 10,\r\n\t\tsort: -1,\r\n\t\tsortType: false\r\n\t})\r\n\tconst [filters, setFilters] = useState(listFieldInit)\r\n\tconst typeOptionList = [\r\n\t\t{\r\n\t\t\tvalue: 1,\r\n\t\t\ttitle: 'Miễn phí'\r\n\t\t},\r\n\t\t{\r\n\t\t\tvalue: 2,\r\n\t\t\ttitle: 'Cao cấp'\r\n\t\t}\r\n\t]\r\n\tconst levelOptionList = [\r\n\t\t{\r\n\t\t\tvalue: 1,\r\n\t\t\ttitle: 'HSK 1'\r\n\t\t},\r\n\t\t{\r\n\t\t\tvalue: 2,\r\n\t\t\ttitle: 'HSK 2'\r\n\t\t},\r\n\t\t{\r\n\t\t\tvalue: 3,\r\n\t\t\ttitle: 'HSK 3'\r\n\t\t},\r\n\t\t{\r\n\t\t\tvalue: 4,\r\n\t\t\ttitle: 'HSK 4'\r\n\t\t},\r\n\t\t{\r\n\t\t\tvalue: 5,\r\n\t\t\ttitle: 'HSK 5'\r\n\t\t},\r\n\t\t{\r\n\t\t\tvalue: 6,\r\n\t\t\ttitle: 'HSK 6'\r\n\t\t}\r\n\t]\r\n\t// SORT OPTION\r\n\tconst sortOptionList = [\r\n\t\t{\r\n\t\t\tdataSort: {\r\n\t\t\t\tsort: 1,\r\n\t\t\t\tsortType: true\r\n\t\t\t},\r\n\t\t\tvalue: 3,\r\n\t\t\ttext: 'Giá tăng dần'\r\n\t\t},\r\n\t\t{\r\n\t\t\tdataSort: {\r\n\t\t\t\tsort: 1,\r\n\t\t\t\tsortType: false\r\n\t\t\t},\r\n\t\t\tvalue: 4,\r\n\t\t\ttext: 'Giá giảm dần'\r\n\t\t}\r\n\t]\r\n\t// FILTER\r\n\tconst onFilter = (obj) => {\r\n\t\tsetFilters({\r\n\t\t\t...listFieldInit,\r\n\t\t\t...refValue.current,\r\n\t\t\tpageIndex: 1,\r\n\t\t\t...obj\r\n\t\t})\r\n\t}\r\n\t// PAGINATION\r\n\tconst getPagination = (pageIndex: number, pageSize: number) => {\r\n\t\tif (!pageSize) pageSize = 10\r\n\t\trefValue.current = {\r\n\t\t\t...refValue.current,\r\n\t\t\tpageSize,\r\n\t\t\tpageIndex\r\n\t\t}\r\n\t\tsetFilters({ ...filters, ...refValue.current })\r\n\t}\r\n\tconst getVideoCourse = async () => {\r\n\t\tsetIsLoading({ type: 'GET_ALL', status: true })\r\n\t\ttry {\r\n\t\t\tconst res = await VideoCourseStoreApi.getByPoint(5)\r\n\t\t\tres.status == 200 && setCourse(res.data.data)\r\n\t\t\tsetIsLoading({ type: 'GET_ALL', status: false })\r\n\t\t} catch (err) {\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({ type: 'GET_ALL', status: false })\r\n\t\t}\r\n\t}\r\n\t// SORT\r\n\tconst onSort = (option) => {\r\n\t\trefValue.current = {\r\n\t\t\t...refValue.current,\r\n\t\t\tsort: option.title.sort,\r\n\t\t\tsortType: option.title.sortType\r\n\t\t}\r\n\t\tsetFilters({\r\n\t\t\t...listFieldInit,\r\n\t\t\t...refValue.current\r\n\t\t})\r\n\t}\r\n\t// RESET SEARCH\r\n\tconst onResetSearch = () => {\r\n\t\tsetFilters({\r\n\t\t\t...listFieldInit,\r\n\t\t\tpageSize: refValue.current.pageSize\r\n\t\t})\r\n\t}\r\n\t// GET DATA IN FIRST TIME\r\n\tconst fetchPackageList = async () => {\r\n\t\tsetIsLoading({ type: 'GET_ALL', status: true })\r\n\t\ttry {\r\n\t\t\tconst res = await packageApi.getAll(filters)\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tsetStorePackageList(res.data.data)\r\n\t\t\t\tsetTotalPage(res.data.totalRow)\r\n\t\t\t}\r\n\t\t\tif (res.status === 204) {\r\n\t\t\t\tsetStorePackageList([])\r\n\t\t\t\tsetTotalPage(0)\r\n\t\t\t\tshowNoti('danger', 'Cửa hàng trống')\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({ type: 'GET_ALL', status: false })\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tgetVideoCourse()\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchPackageList()\r\n\t}, [filters])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (type) {\r\n\t\t\tsetFilters({ ...listFieldInit, ...refValue.current, pageIndex: 1, Type: type })\r\n\t\t}\r\n\t}, [type])\r\n\r\n\tconst _search = (e: string) => {\r\n\t\tsetFilters({ ...listFieldInit, search: e })\r\n\t}\r\n\r\n\tconst onSubmit = async (data: { ID: number; Price: string; PaymentMethodsID: number; Note: string }) => {\r\n\t\tsetIsLoading({ type: 'ADD_DATA', status: true })\r\n\t\ttry {\r\n\t\t\tconst { ID, Price, PaymentMethodsID, Note } = data\r\n\t\t\tconst newPackageStudent = {\r\n\t\t\t\tStudentID: userInformation.UserInformationID,\r\n\t\t\t\tSetPackageID: ID,\r\n\t\t\t\tPaid: Price === 'Miễn phí' ? 0 : parseInt(Price.toString().replace(/\\D/g, '')),\r\n\t\t\t\tPaymentMethodsID,\r\n\t\t\t\tNote\r\n\t\t\t}\r\n\t\t\tconst res = await packageStudentApi.add(newPackageStudent)\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tshowNoti('success', res.data.message)\r\n\t\t\t\tif (storePackageList.length === 1) {\r\n\t\t\t\t\tfilters.pageIndex === 1 && setStorePackageList([])\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tfetchPackageList()\r\n\t\t\t}\r\n\t\t\treturn res\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({ type: 'ADD_DATA', status: false })\r\n\t\t}\r\n\t}\r\n\r\n\t// CARD EXTRA\r\n\tconst Extra = () => {\r\n\t\treturn (\r\n\t\t\t<div className=\"row m-0 vc-teach-extra\" style={{ justifyContent: 'space-between' }}>\r\n\t\t\t\t<div className=\"extra-table\">\r\n\t\t\t\t\t<PackageStoreFilterForm\r\n\t\t\t\t\t\thandleFilter={onFilter}\r\n\t\t\t\t\t\thandleResetFilter={onResetSearch}\r\n\t\t\t\t\t\toptionListForFilter={{\r\n\t\t\t\t\t\t\tlevelOptionList: levelOptionList,\r\n\t\t\t\t\t\t\ttypeOptionList: typeOptionList\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<SortBox width={150} dataOption={sortOptionList} handleSort={onSort} />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Search\r\n\t\t\t\t\tclassName=\"fb-btn-search style-input vc-teach-modal_search on-mobile\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tplaceholder=\"Tìm kiếm\"\r\n\t\t\t\t\tonSearch={(e) => _search(e)}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"row package-set package-detail-list\">\r\n\t\t\t<div className=\"row m-0 p-0\">\r\n\t\t\t\t<TitlePage title=\"Cửa hàng\" />\r\n\t\t\t\t<div className=\"wrap-table col-md-8 col-12\">\r\n\t\t\t\t\t<Card style={{ width: '100%' }} className=\"package-set-wrap\" title={<div className=\"m-2\">{Extra()}</div>}>\r\n\t\t\t\t\t\t<List\r\n\t\t\t\t\t\t\tloading={isLoading?.type === 'GET_ALL' && isLoading?.status}\r\n\t\t\t\t\t\t\tpagination={{\r\n\t\t\t\t\t\t\t\tonChange: getPagination,\r\n\t\t\t\t\t\t\t\ttotal: totalPage,\r\n\t\t\t\t\t\t\t\tsize: 'small',\r\n\t\t\t\t\t\t\t\tcurrent: filters.pageIndex\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\titemLayout=\"horizontal\"\r\n\t\t\t\t\t\t\tdataSource={storePackageList}\r\n\t\t\t\t\t\t\trenderItem={(item: IPackage, idx) => {\r\n\t\t\t\t\t\t\t\tconst { ID, Name, Avatar, Level, Type, TypeName, Price, Description } = item\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<List.Item>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"wrap-set d-flex\">\r\n\t\t\t\t\t\t\t\t\t\t\t{Type === 1 && <div className=\"tag-free\">{TypeName}</div>}\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"wrap-set-avatar\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Image\r\n\t\t\t\t\t\t\t\t\t\t\t\t\twidth=\"100%\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\theight=\"100%\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={Avatar || '/images/logo-thumnail-2.jpg'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle=\"Ảnh bìa bộ đề\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"Ảnh bìa bộ đề\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ objectFit: 'cover' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"wrap-set-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"set-title\">{Name}</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ul className=\"set-list\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{!!Price && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li className=\"price\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tGiá:<span>{numberWithCommas(Price)} VNĐ</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<li className=\"desc\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tMô tả:<span>{Description}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"set-btn\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{userInformation?.RoleID !== 1 &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuserInformation?.RoleID !== 5 &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(Type === 1 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PackageStoreForm isAddPackageFree={true} isLoading={isLoading} packageItem={item} handleSubmit={onSubmit} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PackageStoreForm isLoading={isLoading} packageItem={item} handleSubmit={onSubmit} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</List.Item>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"col-md-4 col-12 m-0 pl-3 pr-3 test-wrapper done-test\">\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\tclassName=\"table-medium w-100\"\r\n\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName=\"title-question-bank\"\r\n\t\t\t\t\t\t\t\tstyle={{ display: 'flex', flexDirection: 'row', alignItems: 'center', justifyContent: 'space-between' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<h3 className=\"title-big\" style={{ paddingTop: 8, paddingBottom: 8 }}>\r\n\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faFileVideo} size=\"lg\" />\r\n\t\t\t\t\t\t\t\t\tGợi ý khóa học\r\n\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t<Link href=\"/video-course\">\r\n\t\t\t\t\t\t\t\t\t<a className=\"font-weight-black\" style={{ width: 100, textAlign: 'right' }}>\r\n\t\t\t\t\t\t\t\t\t\tXem thêm\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div className=\"test-body done-test-card\">\r\n\t\t\t\t\t\t\t<TopPackageNewsFeed isLoading={isLoading.status} topPackageList={courses} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default PackageStore\r\n"]},"metadata":{},"sourceType":"module"}