{"ast":null,"code":"import _defineProperty from \"D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport moment from 'moment';\nimport { useEffect, useRef } from 'react'; //  ---------EXPORT TO ARRAY FOR SELECT FIELD---------\n\nexport var fmSelectArr = function fmSelectArr(arr, title, value) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n\n  if (Array.isArray(arr) && arr.length > 0) {\n    return arr.filter(function (x) {\n      return x.Enable === false ? false : x;\n    }).map(function (x) {\n      return {\n        title: x[title],\n        value: x[value],\n        options: options.reduce(function (obj, o) {\n          return _objectSpread(_objectSpread({}, obj), {}, _defineProperty({}, o, x[o]));\n        }, {})\n      };\n    });\n  }\n\n  return [];\n};\nexport function removeRepeatElementSorted(arr, n) {\n  if (n == 0 || n == 1) return n;\n  var temp = [arr[0]]; // Start traversing elements\n\n  var j = 0;\n\n  for (var i = 0; i < n - 1; i++) {\n    if (arr[i] != arr[i + 1]) temp.push(arr[i + 1]);\n  }\n\n  return temp;\n}\nexport var clearOptionsDuplicate = function clearOptionsDuplicate(arr) {\n  return arr.reduce(function (newArr, o) {\n    if (!newArr.some(function (o2) {\n      return o2.value === o.value;\n    })) {\n      newArr.push(o);\n    }\n\n    return newArr;\n  }, []);\n};\nexport var fmArrayToObjectWithSpecialKey = function fmArrayToObjectWithSpecialKey(arr, key) {\n  return arr.reduce(function (newObj, s) {\n    newObj[s[key]] ? newObj[s[key]].push(s) : newObj[s[key]] = [s];\n    return newObj;\n  }, {});\n};\nexport var numberWithCommas = function numberWithCommas(number) {\n  if (number == '' || number == undefined || number == null) {\n    return 'Không xác định';\n  }\n\n  number += '';\n  var x = number.split('.');\n  var x1 = x[0];\n  var x2 = x.length > 1 ? '.' + x[1] : '';\n  var rgx = /(\\d+)(\\d{3})/;\n\n  while (rgx.test(x1)) {\n    x1 = x1.replace(rgx, '$1' + ',' + '$2');\n  }\n\n  return x1 + x2;\n};\nexport var mathRound = function mathRound(number) {\n  return Math.round(number * 100) / 100;\n};\nexport var fmDateFromNow = function fmDateFromNow(date) {\n  var local = moment(date).local();\n  var formattedDate = '';\n  var days = moment().diff(local, 'days');\n\n  if (days >= 2) {\n    formattedDate = local.locale('vi').format('DD/MM/YYYY HH:mm');\n  } else {\n    formattedDate = local.locale('vi').fromNow();\n  }\n\n  return formattedDate;\n};\nexport var parsePriceStrToNumber = function parsePriceStrToNumber(str) {\n  return parseInt(str.toString().replace(/\\D/g, '')) || 0;\n}; // GET VISIBLE STATUS\n\nexport function usePageVisibility(cb) {\n  _s();\n\n  var timeoutId = useRef(null);\n  var delay = 0;\n\n  var browserCompatApi = function browserCompatApi() {\n    var hidden, visibilityChange;\n\n    if ('hidden' in document) {\n      hidden = 'hidden';\n      visibilityChange = 'visibilitychange';\n    } else if ('mozHidden' in document) {\n      // Firefox up to v17\n      hidden = 'mozHidden';\n      visibilityChange = 'mozvisibilitychange';\n    } else if ('webkitHidden' in document) {\n      // Chrome up to v32, Android up to v4.4, Blackberry up to v10\n      hidden = 'webkitHidden';\n      visibilityChange = 'webkitvisibilitychange';\n    }\n\n    return {\n      hidden: hidden,\n      visibilityChange: visibilityChange\n    };\n  };\n\n  var cleanupTimeout = function cleanupTimeout() {\n    return clearTimeout(timeoutId.current);\n  };\n\n  useEffect(function () {\n    var _browserCompatApi = browserCompatApi(),\n        hidden = _browserCompatApi.hidden,\n        visibilityChange = _browserCompatApi.visibilityChange;\n\n    if (typeof cb !== 'function') throw new Error('callback must be a function');\n\n    var handleVisibilityChange = function handleVisibilityChange() {\n      if (delay) {\n        if (typeof delay !== 'number' || delay < 0) {\n          throw new Error('delay must be a positive integer');\n        }\n\n        if (timeoutId.current) cleanupTimeout();\n        timeoutId.current = setTimeout(function () {\n          return cb(!document[hidden]);\n        }, delay);\n      } else {\n        cb(!document[hidden]);\n      }\n    };\n\n    document.addEventListener(visibilityChange, handleVisibilityChange);\n    return function () {\n      document.removeEventListener(visibilityChange, handleVisibilityChange);\n    };\n  }, [cb]);\n}\n\n_s(usePageVisibility, \"2tJ4pj5F/sAnlsJQcnMVDg7jg5Q=\");\n\nexport var parseToMoney = function parseToMoney(value) {\n  if (value == '' || value == undefined || value == null) {\n    return 'Không xác định';\n  }\n\n  value += '';\n  var x = value.split('.');\n  var x1 = x[0];\n  var x2 = x.length > 1 ? '.' + x[1] : '';\n  var rgx = /(\\d+)(\\d{3})/;\n\n  while (rgx.test(x1)) {\n    x1 = x1.replace(rgx, '$1' + ',' + '$2');\n  }\n\n  return x1 + x2;\n};\nexport var createDateObject = function createDateObject(dateState, locale) {\n  var year = dateState.getFullYear();\n  var month = dateState.toLocaleDateString(locale, {\n    month: 'long'\n  });\n  var date = dateState.getDate();\n  var hour = ('0' + dateState.getHours()).slice(-2);\n  var minute = ('0' + dateState.getMinutes()).slice(-2);\n  var second = ('0' + dateState.getSeconds()).slice(-2);\n  return {\n    year: year,\n    month: month,\n    date: date,\n    hour: hour,\n    minute: minute,\n    second: second\n  };\n};\nexport var getTypeURL = function getTypeURL(param) {\n  if (param !== undefined && param !== null && param !== '') {\n    if (param[4] == ':') {\n      return 'LOCALHOST';\n    } else {\n      if (param[4] == 's' && param[8] == 'a' && param[9] == 'p' && param[10] == 'p') {\n        return 'LIVE';\n      } else {\n        return 'HEROKU';\n      }\n    }\n  }\n};","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/utils/functions/index.tsx"],"names":["moment","useEffect","useRef","fmSelectArr","arr","title","value","options","Array","isArray","length","filter","x","Enable","map","reduce","obj","o","removeRepeatElementSorted","n","temp","j","i","push","clearOptionsDuplicate","newArr","some","o2","fmArrayToObjectWithSpecialKey","key","newObj","s","numberWithCommas","number","undefined","split","x1","x2","rgx","test","replace","mathRound","Math","round","fmDateFromNow","date","local","formattedDate","days","diff","locale","format","fromNow","parsePriceStrToNumber","str","parseInt","toString","usePageVisibility","cb","timeoutId","delay","browserCompatApi","hidden","visibilityChange","document","cleanupTimeout","clearTimeout","current","Error","handleVisibilityChange","setTimeout","addEventListener","removeEventListener","parseToMoney","createDateObject","dateState","year","getFullYear","month","toLocaleDateString","getDate","hour","getHours","slice","minute","getMinutes","second","getSeconds","getTypeURL","param"],"mappings":"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","sourcesContent":["import moment from 'moment'\r\nimport React, { useEffect, useRef } from 'react'\r\n\r\n//  ---------EXPORT TO ARRAY FOR SELECT FIELD---------\r\nexport const fmSelectArr = (arr: Array<{ [key: string]: any }>, title: string, value: string, options = []) => {\r\n\tif (Array.isArray(arr) && arr.length > 0) {\r\n\t\treturn arr\r\n\t\t\t.filter((x) => (x.Enable === false ? false : x))\r\n\t\t\t.map((x) => ({\r\n\t\t\t\ttitle: x[title],\r\n\t\t\t\tvalue: x[value],\r\n\t\t\t\toptions: options.reduce((obj, o) => ({ ...obj, [o]: x[o] }), {})\r\n\t\t\t}))\r\n\t}\r\n\treturn []\r\n}\r\nexport function removeRepeatElementSorted(arr, n) {\r\n\tif (n == 0 || n == 1) return n\r\n\r\n\tlet temp = [arr[0]]\r\n\t// Start traversing elements\r\n\tlet j = 0\r\n\tfor (let i = 0; i < n - 1; i++) if (arr[i] != arr[i + 1]) temp.push(arr[i + 1])\r\n\treturn temp\r\n}\r\n\r\nexport const clearOptionsDuplicate = (arr: IOptionCommon[]) => {\r\n\treturn arr.reduce((newArr, o) => {\r\n\t\tif (!newArr.some((o2) => o2.value === o.value)) {\r\n\t\t\tnewArr.push(o)\r\n\t\t}\r\n\t\treturn newArr\r\n\t}, [])\r\n}\r\nexport const fmArrayToObjectWithSpecialKey = (arr, key) => {\r\n\treturn arr.reduce((newObj, s) => {\r\n\t\tnewObj[s[key]] ? newObj[s[key]].push(s) : (newObj[s[key]] = [s])\r\n\t\treturn newObj\r\n\t}, {})\r\n}\r\nexport const numberWithCommas = (number: any) => {\r\n\tif (number == '' || number == undefined || number == null) {\r\n\t\treturn 'Không xác định'\r\n\t}\r\n\r\n\tnumber += ''\r\n\tlet x = number.split('.')\r\n\tlet x1 = x[0]\r\n\tlet x2 = x.length > 1 ? '.' + x[1] : ''\r\n\tlet rgx = /(\\d+)(\\d{3})/\r\n\twhile (rgx.test(x1)) {\r\n\t\tx1 = x1.replace(rgx, '$1' + ',' + '$2')\r\n\t}\r\n\treturn x1 + x2\r\n}\r\nexport const mathRound = (number) => {\r\n\treturn Math.round(number * 100) / 100\r\n}\r\nexport const fmDateFromNow = (date) => {\r\n\tconst local = moment(date).local()\r\n\tlet formattedDate = ''\r\n\tconst days = moment().diff(local, 'days')\r\n\tif (days >= 2) {\r\n\t\tformattedDate = local.locale('vi').format('DD/MM/YYYY HH:mm')\r\n\t} else {\r\n\t\tformattedDate = local.locale('vi').fromNow()\r\n\t}\r\n\treturn formattedDate\r\n}\r\nexport const parsePriceStrToNumber = (str: number | string) => parseInt(str.toString().replace(/\\D/g, '')) || 0\r\n\r\n// GET VISIBLE STATUS\r\nexport function usePageVisibility(cb) {\r\n\tconst timeoutId = useRef(null)\r\n\r\n\tlet delay = 0\r\n\r\n\tconst browserCompatApi = () => {\r\n\t\tlet hidden, visibilityChange\r\n\t\tif ('hidden' in document) {\r\n\t\t\thidden = 'hidden'\r\n\t\t\tvisibilityChange = 'visibilitychange'\r\n\t\t} else if ('mozHidden' in document) {\r\n\t\t\t// Firefox up to v17\r\n\t\t\thidden = 'mozHidden'\r\n\t\t\tvisibilityChange = 'mozvisibilitychange'\r\n\t\t} else if ('webkitHidden' in document) {\r\n\t\t\t// Chrome up to v32, Android up to v4.4, Blackberry up to v10\r\n\t\t\thidden = 'webkitHidden'\r\n\t\t\tvisibilityChange = 'webkitvisibilitychange'\r\n\t\t}\r\n\t\treturn {\r\n\t\t\thidden,\r\n\t\t\tvisibilityChange\r\n\t\t}\r\n\t}\r\n\r\n\tconst cleanupTimeout = () => clearTimeout(timeoutId.current)\r\n\r\n\tuseEffect(() => {\r\n\t\tconst { hidden, visibilityChange } = browserCompatApi()\r\n\r\n\t\tif (typeof cb !== 'function') throw new Error('callback must be a function')\r\n\r\n\t\tconst handleVisibilityChange = () => {\r\n\t\t\tif (delay) {\r\n\t\t\t\tif (typeof delay !== 'number' || delay < 0) {\r\n\t\t\t\t\tthrow new Error('delay must be a positive integer')\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (timeoutId.current) cleanupTimeout()\r\n\t\t\t\ttimeoutId.current = setTimeout(() => cb(!document[hidden]), delay)\r\n\t\t\t} else {\r\n\t\t\t\tcb(!document[hidden])\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdocument.addEventListener(visibilityChange, handleVisibilityChange)\r\n\r\n\t\treturn () => {\r\n\t\t\tdocument.removeEventListener(visibilityChange, handleVisibilityChange)\r\n\t\t}\r\n\t}, [cb])\r\n}\r\n\r\nexport const parseToMoney = (value: any) => {\r\n\tif (value == '' || value == undefined || value == null) {\r\n\t\treturn 'Không xác định'\r\n\t}\r\n\r\n\tvalue += ''\r\n\tlet x = value.split('.')\r\n\tlet x1 = x[0]\r\n\tlet x2 = x.length > 1 ? '.' + x[1] : ''\r\n\tlet rgx = /(\\d+)(\\d{3})/\r\n\twhile (rgx.test(x1)) {\r\n\t\tx1 = x1.replace(rgx, '$1' + ',' + '$2')\r\n\t}\r\n\treturn x1 + x2\r\n}\r\n\r\nexport const createDateObject = (dateState, locale) => {\r\n\tconst year = dateState.getFullYear()\r\n\tconst month = dateState.toLocaleDateString(locale, { month: 'long' })\r\n\tconst date = dateState.getDate()\r\n\tconst hour = ('0' + dateState.getHours()).slice(-2)\r\n\tconst minute = ('0' + dateState.getMinutes()).slice(-2)\r\n\tconst second = ('0' + dateState.getSeconds()).slice(-2)\r\n\treturn { year, month, date, hour, minute, second }\r\n}\r\n\r\nexport const getTypeURL = (param: any) => {\r\n\tif (param !== undefined && param !== null && param !== '') {\r\n\t\tif (param[4] == ':') {\r\n\t\t\treturn 'LOCALHOST'\r\n\t\t} else {\r\n\t\t\tif (param[4] == 's' && param[8] == 'a' && param[9] == 'p' && param[10] == 'p') {\r\n\t\t\t\treturn 'LIVE'\r\n\t\t\t} else {\r\n\t\t\t\treturn 'HEROKU'\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n"]},"metadata":{},"sourceType":"module"}