{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\components\\\\Elements\\\\UploadAudio\\\\index.tsx\";\nimport React, { useState } from 'react';\nimport { Upload, Spin, Button } from 'antd';\nimport { UploadOutlined } from '@ant-design/icons';\nimport { useWrap } from '~/context/wrap';\nimport { exerciseGroupApi } from '~/apiBase/';\n\nconst UploadAudio = props => {\n  const {\n    getFile,\n    valueFile,\n    onDeleteAudio\n  } = props;\n  const {\n    0: linkUpload,\n    1: setLinkUpload\n  } = useState(valueFile);\n  const {\n    0: loadingUpload,\n    1: setLoadingUpload\n  } = useState(false);\n  const {\n    showNoti\n  } = useWrap(); // Upload file audio\n\n  const onchange_UploadFile = async info => {\n    if (info.file.status === 'uploading') {\n      setLoadingUpload(true);\n      return;\n    }\n\n    setLoadingUpload(true);\n\n    try {\n      let res = await exerciseGroupApi.UploadAudio(info.file.originFileObj);\n\n      if (res.status == 200) {\n        setLinkUpload(res.data.data);\n        getFile && getFile(res.data.data);\n        showNoti('success', 'Upload file thành công');\n      }\n    } catch (error) {\n      showNoti('danger', error.message);\n    } finally {\n      setLoadingUpload(false);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Upload, {\n      onChange: onchange_UploadFile,\n      showUploadList: false,\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        icon: /*#__PURE__*/_jsxDEV(UploadOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 19\n        }, this),\n        children: \"B\\u1EA5m \\u0111\\u1EC3 t\\u1EA3i file\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-block mt-3\",\n      children: loadingUpload ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(Spin, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            marginLeft: '5px',\n            fontStyle: 'italic',\n            fontSize: '13px'\n          },\n          children: \"Loading audio...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 6\n      }, this) : linkUpload && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"audio\", {\n          controls: true,\n          children: /*#__PURE__*/_jsxDEV(\"source\", {\n            src: linkUpload,\n            type: \"audio/mpeg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 8\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 3\n  }, this);\n};\n\nexport default UploadAudio;","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/components/Elements/UploadAudio/index.tsx"],"names":["React","useState","Upload","Spin","Button","UploadOutlined","useWrap","exerciseGroupApi","UploadAudio","props","getFile","valueFile","onDeleteAudio","linkUpload","setLinkUpload","loadingUpload","setLoadingUpload","showNoti","onchange_UploadFile","info","file","status","res","originFileObj","data","error","message","marginLeft","fontStyle","fontSize"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,MAAvB,QAAqC,MAArC;AACA,SAASC,cAAT,QAA+B,mBAA/B;AACA,SAASC,OAAT,QAAwB,gBAAxB;AACA,SAASC,gBAAT,QAAiC,YAAjC;;AAEA,MAAMC,WAAW,GAAIC,KAAD,IAAW;AAC9B,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA,SAAX;AAAsBC,IAAAA;AAAtB,MAAwCH,KAA9C;AACA,QAAM;AAAA,OAACI,UAAD;AAAA,OAAaC;AAAb,MAA8Bb,QAAQ,CAACU,SAAD,CAA5C;AACA,QAAM;AAAA,OAACI,aAAD;AAAA,OAAgBC;AAAhB,MAAoCf,QAAQ,CAAC,KAAD,CAAlD;AACA,QAAM;AAAEgB,IAAAA;AAAF,MAAeX,OAAO,EAA5B,CAJ8B,CAM9B;;AACA,QAAMY,mBAAmB,GAAG,MAAOC,IAAP,IAAgB;AAC3C,QAAIA,IAAI,CAACC,IAAL,CAAUC,MAAV,KAAqB,WAAzB,EAAsC;AACrCL,MAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACA;AACA;;AACDA,IAAAA,gBAAgB,CAAC,IAAD,CAAhB;;AACA,QAAI;AACH,UAAIM,GAAG,GAAG,MAAMf,gBAAgB,CAACC,WAAjB,CAA6BW,IAAI,CAACC,IAAL,CAAUG,aAAvC,CAAhB;;AACA,UAAID,GAAG,CAACD,MAAJ,IAAc,GAAlB,EAAuB;AACtBP,QAAAA,aAAa,CAACQ,GAAG,CAACE,IAAJ,CAASA,IAAV,CAAb;AACAd,QAAAA,OAAO,IAAIA,OAAO,CAACY,GAAG,CAACE,IAAJ,CAASA,IAAV,CAAlB;AACAP,QAAAA,QAAQ,CAAC,SAAD,EAAY,wBAAZ,CAAR;AACA;AACD,KAPD,CAOE,OAAOQ,KAAP,EAAc;AACfR,MAAAA,QAAQ,CAAC,QAAD,EAAWQ,KAAK,CAACC,OAAjB,CAAR;AACA,KATD,SASU;AACTV,MAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACA;AACD,GAlBD;;AAoBA,sBACC;AAAA,4BACC,QAAC,MAAD;AAAQ,MAAA,QAAQ,EAAEE,mBAAlB;AAAuC,MAAA,cAAc,EAAE,KAAvD;AAAA,6BACC,QAAC,MAAD;AAAQ,QAAA,IAAI,eAAE,QAAC,cAAD;AAAA;AAAA;AAAA;AAAA,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,YADD,eAIC;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA,gBACEH,aAAa,gBACb;AAAK,QAAA,SAAS,EAAC,2BAAf;AAAA,gCACC,QAAC,IAAD;AAAA;AAAA;AAAA;AAAA,gBADD,eAEC;AACC,UAAA,KAAK,EAAE;AACNY,YAAAA,UAAU,EAAE,KADN;AAENC,YAAAA,SAAS,EAAE,QAFL;AAGNC,YAAAA,QAAQ,EAAE;AAHJ,WADR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,cADa,GAcbhB,UAAU,iBACT;AAAA,+BACC;AAAO,UAAA,QAAQ,MAAf;AAAA,iCACC;AAAQ,YAAA,GAAG,EAAEA,UAAb;AAAyB,YAAA,IAAI,EAAC;AAA9B;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AAhBH;AAAA;AAAA;AAAA;AAAA,YAJD;AAAA;AAAA;AAAA;AAAA;AAAA,UADD;AAoCA,CA/DD;;AAiEA,eAAeL,WAAf","sourcesContent":["import React, { useState } from 'react'\r\nimport { Upload, Spin, Button } from 'antd'\r\nimport { UploadOutlined } from '@ant-design/icons'\r\nimport { useWrap } from '~/context/wrap'\r\nimport { exerciseGroupApi } from '~/apiBase/'\r\n\r\nconst UploadAudio = (props) => {\r\n\tconst { getFile, valueFile, onDeleteAudio } = props\r\n\tconst [linkUpload, setLinkUpload] = useState(valueFile)\r\n\tconst [loadingUpload, setLoadingUpload] = useState(false)\r\n\tconst { showNoti } = useWrap()\r\n\r\n\t// Upload file audio\r\n\tconst onchange_UploadFile = async (info) => {\r\n\t\tif (info.file.status === 'uploading') {\r\n\t\t\tsetLoadingUpload(true)\r\n\t\t\treturn\r\n\t\t}\r\n\t\tsetLoadingUpload(true)\r\n\t\ttry {\r\n\t\t\tlet res = await exerciseGroupApi.UploadAudio(info.file.originFileObj)\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tsetLinkUpload(res.data.data)\r\n\t\t\t\tgetFile && getFile(res.data.data)\r\n\t\t\t\tshowNoti('success', 'Upload file thành công')\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetLoadingUpload(false)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Upload onChange={onchange_UploadFile} showUploadList={false}>\r\n\t\t\t\t<Button icon={<UploadOutlined />}>Bấm để tải file</Button>\r\n\t\t\t</Upload>\r\n\t\t\t<div className=\"d-block mt-3\">\r\n\t\t\t\t{loadingUpload ? (\r\n\t\t\t\t\t<div className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t<Spin />\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tmarginLeft: '5px',\r\n\t\t\t\t\t\t\t\tfontStyle: 'italic',\r\n\t\t\t\t\t\t\t\tfontSize: '13px'\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tLoading audio...\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\tlinkUpload && (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<audio controls>\r\n\t\t\t\t\t\t\t\t<source src={linkUpload} type=\"audio/mpeg\" />\r\n\t\t\t\t\t\t\t</audio>\r\n\t\t\t\t\t\t\t{/* <Tooltip title=\"Xóa audio\">\r\n                <button className=\"delete-ans ms-3\" onClick={deleteAudio}>\r\n                  <CloseOutlined />\r\n                </button>\r\n              </Tooltip> */}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default UploadAudio\r\n"]},"metadata":{},"sourceType":"module"}