{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"D:/MonaMedia/Project/CodingMentor/CodingMentor-FE/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/MonaMedia/Project/CodingMentor/CodingMentor-FE/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\CodingMentor\\\\CodingMentor-FE\\\\src\\\\components\\\\Global\\\\CourseExam\\\\CourseExamPoint.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { courseExamApi } from '~/apiBase/package/course-exam';\nimport NestedTable from '~/components/Elements/NestedTable';\nimport { useWrap } from '~/context/wrap';\nimport { Modal, Tooltip } from 'antd';\nimport Link from 'next/link';\n\nvar CourseExamPoint = function CourseExamPoint(props) {\n  _s();\n\n  var infoID = props.infoID,\n      point = props.point,\n      detailID = props.detailID;\n\n  var _useState = useState({\n    type: '',\n    status: false\n  }),\n      isLoading = _useState[0],\n      setIsLoading = _useState[1];\n\n  var _useState2 = useState([]),\n      detail = _useState2[0],\n      setDetail = _useState2[1];\n\n  var _useWrap = useWrap(),\n      showNoti = _useWrap.showNoti;\n\n  var _useState3 = useState(false),\n      isModalVisible = _useState3[0],\n      setIsModalVisible = _useState3[1];\n\n  var showModal = function showModal() {\n    setIsModalVisible(true);\n  };\n\n  var handleOk = function handleOk() {\n    setIsModalVisible(false);\n  };\n\n  var handleCancel = function handleCancel() {\n    setIsModalVisible(false);\n  };\n\n  var fetchDetailInfo = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res, arr;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setIsLoading({\n                type: 'GET_ALL',\n                status: true\n              });\n              _context.prev = 1;\n              _context.next = 4;\n              return courseExamApi.getDetail(infoID);\n\n            case 4:\n              res = _context.sent;\n\n              if (res.status == 200) {\n                arr = [];\n                arr.push(res.data.data);\n                setDetail(arr);\n              }\n\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](1);\n              showNoti('danger', _context.t0.message);\n\n            case 11:\n              _context.prev = 11;\n              setIsLoading({\n                type: 'GET_ALL',\n                status: false\n              });\n              return _context.finish(11);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 8, 11, 14]]);\n    }));\n\n    return function fetchDetailInfo() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    fetchDetailInfo();\n  }, []);\n  var columns = [{\n    title: 'Tổng câu hỏi',\n    dataIndex: 'NumberExercise',\n    render: function render(text) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-weight-black\",\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 22\n      }, _this);\n    }\n  }, {\n    title: 'Điểm từng môn',\n    align: 'center',\n    children: [{\n      title: 'Nghe',\n      align: 'center',\n      dataIndex: 'ListeningPoint'\n    }, {\n      title: 'Nói',\n      align: 'center',\n      dataIndex: 'SpeakingPoint'\n    }, {\n      title: 'Đọc',\n      align: 'center',\n      dataIndex: 'ReadingPoint'\n    }, {\n      title: 'Viết',\n      align: 'center',\n      dataIndex: 'WritingPoint'\n    }]\n  }, {\n    title: 'Tổng điểm',\n    align: 'center',\n    dataIndex: 'PointTotal',\n    render: function render(text) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-weight-black\",\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 22\n      }, _this);\n    }\n  }, {\n    title: 'Ghi chú',\n    dataIndex: 'Note'\n  }];\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n      title: \"Xem \\u0111i\\u1EC3m chi ti\\u1EBFt\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"font-weight-black btn-nostyle\",\n        onClick: showModal,\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"\",\n          onClick: function onClick(e) {\n            e.preventDefault();\n          },\n          children: point\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 6\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 4\n    }, _this), /*#__PURE__*/_jsxDEV(Modal, {\n      width: 1000,\n      title: \"B\\u1EA3ng \\u0111i\\u1EC3m chi ti\\u1EBFt\",\n      visible: isModalVisible,\n      cancelButtonProps: null,\n      okText: \"\\u0110\\xF3ng\",\n      onOk: handleOk,\n      onCancel: handleCancel,\n      children: [/*#__PURE__*/_jsxDEV(NestedTable, {\n        loading: isLoading,\n        addClass: \"basic-header\",\n        dataSource: detail,\n        columns: columns,\n        haveBorder: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 5\n      }, _this), /*#__PURE__*/_jsxDEV(Link, {\n        href: {\n          pathname: '/package/course-exam/detail/[slug]',\n          query: {\n            slug: \"\".concat(detailID)\n          }\n        },\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"#\",\n          className: \"font-weight-black style-link\",\n          children: \"Xem chi ti\\u1EBFt b\\xE0i l\\xE0m\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 6\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 5\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 4\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(CourseExamPoint, \"GxL6bS6CC3sSGeLIs9f7RCukgxM=\", false, function () {\n  return [useWrap];\n});\n\n_c = CourseExamPoint;\nexport default CourseExamPoint;\n\nvar _c;\n\n$RefreshReg$(_c, \"CourseExamPoint\");","map":{"version":3,"sources":["D:/MonaMedia/Project/CodingMentor/CodingMentor-FE/src/components/Global/CourseExam/CourseExamPoint.tsx"],"names":["React","useEffect","useState","courseExamApi","NestedTable","useWrap","Modal","Tooltip","Link","CourseExamPoint","props","infoID","point","detailID","type","status","isLoading","setIsLoading","detail","setDetail","showNoti","isModalVisible","setIsModalVisible","showModal","handleOk","handleCancel","fetchDetailInfo","getDetail","res","arr","push","data","message","columns","title","dataIndex","render","text","align","children","e","preventDefault","pathname","query","slug"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { courseExamApi } from '~/apiBase/package/course-exam'\r\nimport NestedTable from '~/components/Elements/NestedTable'\r\nimport { useWrap } from '~/context/wrap'\r\nimport { Modal, Tooltip } from 'antd'\r\nimport Link from 'next/link'\r\n\r\nconst CourseExamPoint = (props) => {\r\n\tconst { infoID, point, detailID } = props\r\n\tconst [isLoading, setIsLoading] = useState({\r\n\t\ttype: '',\r\n\t\tstatus: false\r\n\t})\r\n\tconst [detail, setDetail] = useState([])\r\n\tconst { showNoti } = useWrap()\r\n\tconst [isModalVisible, setIsModalVisible] = useState(false)\r\n\r\n\tconst showModal = () => {\r\n\t\tsetIsModalVisible(true)\r\n\t}\r\n\r\n\tconst handleOk = () => {\r\n\t\tsetIsModalVisible(false)\r\n\t}\r\n\r\n\tconst handleCancel = () => {\r\n\t\tsetIsModalVisible(false)\r\n\t}\r\n\r\n\tconst fetchDetailInfo = async () => {\r\n\t\tsetIsLoading({\r\n\t\t\ttype: 'GET_ALL',\r\n\t\t\tstatus: true\r\n\t\t})\r\n\t\ttry {\r\n\t\t\tlet res = await courseExamApi.getDetail(infoID)\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tlet arr = []\r\n\t\t\t\tarr.push(res.data.data)\r\n\t\t\t\tsetDetail(arr)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tshowNoti('danger', err.message)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading({\r\n\t\t\t\ttype: 'GET_ALL',\r\n\t\t\t\tstatus: false\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchDetailInfo()\r\n\t}, [])\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Tổng câu hỏi',\r\n\t\t\tdataIndex: 'NumberExercise',\r\n\t\t\trender: (text) => <p className=\"font-weight-black\">{text}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Điểm từng môn',\r\n\t\t\talign: 'center',\r\n\t\t\tchildren: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'Nghe',\r\n\t\t\t\t\talign: 'center',\r\n\t\t\t\t\tdataIndex: 'ListeningPoint'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'Nói',\r\n\t\t\t\t\talign: 'center',\r\n\t\t\t\t\tdataIndex: 'SpeakingPoint'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'Đọc',\r\n\t\t\t\t\talign: 'center',\r\n\t\t\t\t\tdataIndex: 'ReadingPoint'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'Viết',\r\n\t\t\t\t\talign: 'center',\r\n\t\t\t\t\tdataIndex: 'WritingPoint'\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Tổng điểm',\r\n\t\t\talign: 'center',\r\n\t\t\tdataIndex: 'PointTotal',\r\n\t\t\trender: (text) => <p className=\"font-weight-black\">{text}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Ghi chú',\r\n\t\t\tdataIndex: 'Note'\r\n\t\t}\r\n\t]\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Tooltip title=\"Xem điểm chi tiết\">\r\n\t\t\t\t<button className=\"font-weight-black btn-nostyle\" onClick={showModal}>\r\n\t\t\t\t\t<a\r\n\t\t\t\t\t\thref=\"\"\r\n\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{point}\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</button>\r\n\t\t\t</Tooltip>\r\n\t\t\t<Modal\r\n\t\t\t\twidth={1000}\r\n\t\t\t\ttitle=\"Bảng điểm chi tiết\"\r\n\t\t\t\tvisible={isModalVisible}\r\n\t\t\t\tcancelButtonProps={null}\r\n\t\t\t\tokText=\"Đóng\"\r\n\t\t\t\tonOk={handleOk}\r\n\t\t\t\tonCancel={handleCancel}\r\n\t\t\t>\r\n\t\t\t\t<NestedTable loading={isLoading} addClass=\"basic-header\" dataSource={detail} columns={columns} haveBorder={true} />\r\n\t\t\t\t<Link\r\n\t\t\t\t\thref={{\r\n\t\t\t\t\t\tpathname: '/package/course-exam/detail/[slug]',\r\n\t\t\t\t\t\tquery: { slug: `${detailID}` }\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<a href=\"#\" className=\"font-weight-black style-link\">\r\n\t\t\t\t\t\tXem chi tiết bài làm\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</Link>\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default CourseExamPoint\r\n"]},"metadata":{},"sourceType":"module"}