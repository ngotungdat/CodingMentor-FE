{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\MonaMedia\\\\Project\\\\IELTS-NguyenHuyen-FE\\\\IELTS-Nguyen-Huyen\\\\src\\\\pages\\\\question-bank\\\\exam-list\\\\index.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useRef, useState, useEffect } from 'react';\nimport { Card, Spin, Skeleton, Select, Modal, Tooltip } from 'antd';\nimport TitlePage from '~/components/Elements/TitlePage';\nimport { Bookmark, Trash2 } from 'react-feather';\nimport { SyncOutlined } from '@ant-design/icons';\nimport CreateExamForm from '~/components/Global/QuestionBank/CreateExamForm';\nimport LayoutBase from '~/components/LayoutBase';\nimport Link from 'next/link';\nimport { examTopicApi, programApi, curriculumApi } from '~/apiBase';\nimport { useWrap } from '~/context/wrap';\nimport SearchBox from '~/components/Elements/SearchBox';\nconst {\n  Option\n} = Select;\n\nconst DeleteExam = props => {\n  const {\n    examID,\n    onFetchData\n  } = props;\n  const {\n    showNoti\n  } = useWrap();\n  const {\n    0: isLoading,\n    1: setIsLoading\n  } = useState(false);\n  const {\n    0: isModalVisible,\n    1: setIsModalVisible\n  } = useState(false);\n\n  const showModal = () => {\n    setIsModalVisible(true);\n  };\n\n  const handleSubmit = async () => {\n    setIsLoading(true);\n\n    try {\n      let res = await examTopicApi.update({\n        ID: examID,\n        Enable: false\n      });\n\n      if (res.status == 200) {\n        onFetchData && onFetchData();\n        showNoti('success', 'Xóa thành công');\n        setIsModalVisible(false);\n      }\n    } catch (error) {\n      showNoti('danger', error.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-icon delete\",\n      onClick: showModal,\n      children: /*#__PURE__*/_jsxDEV(Trash2, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      title: \"Ch\\xFA \\xFD!\",\n      visible: isModalVisible,\n      onCancel: handleCancel,\n      footer: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-light mr-2\",\n          onClick: handleCancel,\n          children: \"H\\u1EE7y\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: handleSubmit,\n          children: [\"X\\xF3a\", isLoading && /*#__PURE__*/_jsxDEV(Spin, {\n            className: \"loading-base\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 22\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 6\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontWeight: 500\n        },\n        children: \"B\\u1EA1n c\\xF3 ch\\u1EAFc mu\\u1ED1n x\\xF3a \\u0111\\u1EC1 thi n\\xE0y?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n};\n\nconst ExamList = props => {\n  const {\n    showNoti,\n    userInformation\n  } = useWrap();\n  const {\n    0: dataExam,\n    1: setDataExam\n  } = useState([]);\n  const {\n    0: isLoading,\n    1: setIsLoading\n  } = useState(false);\n  const listTodoApi = {\n    pageIndex: 1,\n    pageSize: 10,\n    CurriculumID: null,\n    Type: null,\n    Code: null\n  };\n  const {\n    0: todoApi,\n    1: setTodoApi\n  } = useState(listTodoApi);\n  const {\n    0: dataProgram,\n    1: setDataProgram\n  } = useState([]);\n  const {\n    0: dataCurriculum,\n    1: setDataCurriculum\n  } = useState([]);\n  const {\n    0: loadingSelect,\n    1: setLoadingSelect\n  } = useState(false);\n  const {\n    0: loadingQuestion,\n    1: setLoadingQuestion\n  } = useState(false);\n  const {\n    0: totalPageIndex,\n    1: setTotalPageIndex\n  } = useState(0);\n  const boxEl = useRef(null);\n  const {\n    0: valueCurriculum,\n    1: setValueCurriculum\n  } = useState(null);\n  const {\n    0: valueProgram,\n    1: setValueProgram\n  } = useState(null);\n  const {\n    0: valueTypeExam,\n    1: setValueTypeExam\n  } = useState(null);\n  const {\n    0: valueFilter,\n    1: setValueFilter\n  } = useState(null);\n  const {\n    0: showFilter,\n    1: setShowFilter\n  } = useState(false);\n\n  const getAllExam = async () => {\n    try {\n      let res = await examTopicApi.getAll(todoApi);\n\n      if (res.status == 200) {\n        let cloneData = [...dataExam];\n        res.data.data.forEach((item, index) => {\n          cloneData.push(item);\n        });\n        setDataExam([...cloneData]); // Caculator pageindex\n\n        let totalPage = Math.ceil(res.data.totalRow / 10);\n        setTotalPageIndex(totalPage);\n      }\n\n      if (res.status == 204) {\n        setDataExam([]);\n      }\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setIsLoading(false);\n      loadingQuestion && setLoadingQuestion(false);\n    }\n  }; // GET DATA PROGRAM\n\n\n  const getDataProgram = async () => {\n    try {\n      let res = await programApi.getAll({\n        pageIndex: 1,\n        pageSize: 999999\n      });\n\n      if (res.status == 200) {\n        let newData = res.data.data.map(item => ({\n          title: item.ProgramName,\n          value: item.ID\n        }));\n        setDataProgram(newData);\n      }\n\n      res.status == 204 && showNoti('danger', 'Chương trình không có dữ liệu');\n    } catch (error) {\n      showNoti('danger', error.message);\n    } finally {}\n  }; // GET DATA Curriculum\n\n\n  const getDataCurriculum = async id => {\n    setLoadingSelect(true);\n\n    try {\n      let res = await curriculumApi.getAll({\n        pageIndex: 1,\n        pageSize: 999999,\n        ProgramID: id\n      });\n\n      if (res.status == 200) {\n        let newData = res.data.data.map(item => ({\n          title: item.CurriculumName,\n          value: item.ID\n        }));\n        setDataCurriculum(newData);\n      }\n\n      res.status == 204 && showNoti('danger', 'Giáo trình không có dữ liệu');\n    } catch (error) {\n      showNoti('danger', error.message);\n    } finally {\n      setLoadingSelect(false);\n    }\n  }; // SELECT PROGRAM\n\n\n  const handleSelect_Program = value => {\n    setValueProgram(value);\n    setValueCurriculum(null);\n    setDataExam([]);\n    getDataCurriculum(value);\n  }; // SELECT Curriculum\n\n\n  const handleSelect_Curriculum = value => {\n    setValueCurriculum(value);\n    reloadData();\n    setTodoApi(_objectSpread(_objectSpread({}, todoApi), {}, {\n      pageIndex: 1,\n      pageSize: 10,\n      CurriculumID: value\n    }));\n  }; // SELECT TYPE\n\n\n  const handleSelect_Type = value => {\n    setValueTypeExam(value);\n    reloadData();\n    setTodoApi(_objectSpread(_objectSpread({}, todoApi), {}, {\n      pageIndex: 1,\n      pageSize: 10,\n      Type: value\n    }));\n  }; // SELECT FILTER\n\n\n  const handleSelect_Filter = value => {\n    setValueFilter(value);\n\n    switch (value) {\n      case 0:\n        reloadData();\n        resetFilter();\n        break;\n\n      case 1:\n        reloadData();\n        setTodoApi(_objectSpread(_objectSpread({}, todoApi), {}, {\n          Type: value,\n          CurriculumID: null\n        }));\n        setShowFilter(false);\n        break;\n      // case 2:\n      // \tsetDataExam([]);\n      // \tsetShowFilter(true);\n      // \tbreak;\n\n      default:\n        reloadData();\n        setTodoApi(_objectSpread(_objectSpread({}, todoApi), {}, {\n          Type: value\n        }));\n        setShowFilter(true);\n        break;\n    }\n  }; // ON FETCH DATA\n\n\n  const onFetchData = () => {\n    reloadData();\n    setTodoApi(_objectSpread(_objectSpread({}, todoApi), {}, {\n      pageIndex: 1,\n      pageSize: 10\n    }));\n  }; // RELOAD DATA\n\n\n  const reloadData = () => {\n    scrollToTop(), setIsLoading(true), setDataExam([]);\n  }; // RESET FILTER\n\n\n  const resetFilter = () => {\n    setValueFilter(0);\n    setShowFilter(false);\n    setValueCurriculum(null);\n    setValueProgram(null);\n    setValueTypeExam(null);\n    reloadData();\n    setTodoApi(_objectSpread({}, listTodoApi));\n  }; // ON SEARCH\n\n\n  const handleSearch = value => {\n    reloadData();\n    setTodoApi(_objectSpread(_objectSpread({}, listTodoApi), {}, {\n      Code: value\n    }));\n  }; // SCROLL TO TOP\n\n\n  const scrollToTop = () => {\n    boxEl.current.scrollTo(0, 0);\n  }; // ON SCROLL\n\n\n  const onScroll = () => {\n    const scrollHeight = boxEl.current.scrollHeight;\n    const offsetHeight = boxEl.current.offsetHeight;\n    const scrollTop = boxEl.current.scrollTop; // console.log(\"Height: \", scrollHeight - offsetHeight);\n    // console.log(\"Scroll: \", scrollTop);\n\n    if (scrollTop > scrollHeight - offsetHeight - 40) {\n      if (todoApi.pageIndex < totalPageIndex) {\n        setLoadingQuestion(true);\n\n        if (scrollTop > 0 && loadingQuestion == false) {\n          setTodoApi(_objectSpread(_objectSpread({}, todoApi), {}, {\n            pageIndex: todoApi.pageIndex + 1\n          }));\n        }\n      }\n    }\n  };\n\n  useEffect(() => {\n    getDataProgram();\n    getAllExam();\n  }, [todoApi]);\n  useEffect(() => {\n    setValueFilter(0);\n    setIsLoading(true);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"question-create exam-create\",\n    children: [/*#__PURE__*/_jsxDEV(TitlePage, {\n      title: \"T\\u1EA1o \\u0111\\u1EC1 thi\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-8 col-12\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"card-detail-exam card-detail-question\",\n          title: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"title-question-bank\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"title-big\",\n              children: [/*#__PURE__*/_jsxDEV(Bookmark, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 10\n              }, this), \" Danh s\\xE1ch \\u0111\\u1EC1\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 8\n          }, this),\n          extra: (userInformation === null || userInformation === void 0 ? void 0 : userInformation.RoleID) !== 2 && /*#__PURE__*/_jsxDEV(CreateExamForm, {\n            onFetchData: onFetchData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 47\n          }, this),\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"question-list\",\n            ref: boxEl,\n            onScroll: onScroll,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row mb-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-12\",\n                children: /*#__PURE__*/_jsxDEV(SearchBox, {\n                  placeholder: 'Tìm theo mã đề thi',\n                  handleSearch: value => handleSearch(value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 8\n            }, this), isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center p-2\",\n              children: /*#__PURE__*/_jsxDEV(Spin, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 9\n            }, this) : (dataExam === null || dataExam === void 0 ? void 0 : dataExam.length) == 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-center\",\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Danh s\\xE1ch c\\xF2n tr\\u1ED1ng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 9\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: [dataExam === null || dataExam === void 0 ? void 0 : dataExam.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-6 col-12\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"package-set\",\n                  children: [(userInformation === null || userInformation === void 0 ? void 0 : userInformation.RoleID) !== 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"edit-exam\",\n                    children: [/*#__PURE__*/_jsxDEV(CreateExamForm, {\n                      onFetchData: () => onFetchData(),\n                      dataItem: item\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 336,\n                      columnNumber: 15\n                    }, this), /*#__PURE__*/_jsxDEV(DeleteExam, {\n                      examID: item.ID,\n                      onFetchData: onFetchData\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 337,\n                      columnNumber: 15\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 335,\n                    columnNumber: 14\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"wrap-set\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"wrap-set-content\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"box-title\",\n                        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                          className: \"set-title\",\n                          children: /*#__PURE__*/_jsxDEV(Link, {\n                            href: {\n                              pathname: '/question-bank/exam-list/exam-detail/[slug]',\n                              query: {\n                                slug: item.ID\n                              }\n                            },\n                            children: /*#__PURE__*/_jsxDEV(\"a\", {\n                              href: \"\",\n                              children: item.Name\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 350,\n                              columnNumber: 18\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 344,\n                            columnNumber: 17\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 343,\n                          columnNumber: 16\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"code\",\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            children: \"M\\xE3: \"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 354,\n                            columnNumber: 17\n                          }, this), \" \", item.Code]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 353,\n                          columnNumber: 16\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 342,\n                        columnNumber: 15\n                      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                        className: \"set-list\",\n                        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                          className: \"status\",\n                          children: [\"Gi\\xE1o tr\\xECnh: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                            children: item.CurriculumName\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 359,\n                            columnNumber: 29\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 358,\n                          columnNumber: 16\n                        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                          className: \"price\",\n                          children: [\"D\\u1EA1ng: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                            children: item.TypeName\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 362,\n                            columnNumber: 23\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 361,\n                          columnNumber: 16\n                        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                          className: \"time\",\n                          children: [\"Th\\u1EDDi gian: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                            children: [item.Time, \" ph\\xFAt\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 365,\n                            columnNumber: 28\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 364,\n                          columnNumber: 16\n                        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                          className: \"time\",\n                          children: [\"S\\u1ED1 c\\xE2u h\\u1ECFi: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                            children: item === null || item === void 0 ? void 0 : item.NumberExercise\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 368,\n                            columnNumber: 29\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 367,\n                          columnNumber: 16\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 357,\n                        columnNumber: 15\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"set-btn\",\n                        children: /*#__PURE__*/_jsxDEV(Link, {\n                          href: {\n                            pathname: '/question-bank/exam-list/exam-detail/[slug]',\n                            query: {\n                              slug: item.ID\n                            }\n                          },\n                          children: /*#__PURE__*/_jsxDEV(\"a\", {\n                            className: \"btn btn-warning\",\n                            children: \"Xem chi ti\\u1EBFt\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 378,\n                            columnNumber: 17\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 372,\n                          columnNumber: 16\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 371,\n                        columnNumber: 15\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 341,\n                      columnNumber: 14\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 340,\n                    columnNumber: 13\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 333,\n                  columnNumber: 12\n                }, this)\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 11\n              }, this)), loadingQuestion && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-6 col-12\",\n                  children: /*#__PURE__*/_jsxDEV(Skeleton, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 389,\n                    columnNumber: 13\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 388,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-6 col-12\",\n                  children: /*#__PURE__*/_jsxDEV(Skeleton, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 392,\n                    columnNumber: 13\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 391,\n                  columnNumber: 12\n                }, this)]\n              }, void 0, true)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-4 col-12\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"card-box-type\",\n          title: \"L\\u1ECDc nhanh\",\n          extra: /*#__PURE__*/_jsxDEV(Tooltip, {\n            title: \"Reset\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-icon edit\",\n              onClick: resetFilter,\n              children: /*#__PURE__*/_jsxDEV(SyncOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 8\n          }, this),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mb-3\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-12 col-12 mt-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-select\",\n                children: /*#__PURE__*/_jsxDEV(Select, {\n                  className: \"style-input\",\n                  placeholder: \"Ph\\xE2n lo\\u1EA1i\",\n                  value: valueFilter,\n                  style: {\n                    width: '100%'\n                  },\n                  onChange: (value, option) => handleSelect_Filter(value),\n                  children: [/*#__PURE__*/_jsxDEV(Option, {\n                    value: 0,\n                    children: \"T\\u1EA5t c\\u1EA3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 424,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(Option, {\n                    value: 2,\n                    children: \"\\u0110\\u1EC1 b\\xE1n\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 426,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(Option, {\n                    value: 3,\n                    children: \"\\u0110\\u1EC1 Ki\\u1EC3m tra\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 427,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(Option, {\n                    value: 4,\n                    children: \"B\\xE0i t\\u1EADp\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 428,\n                    columnNumber: 11\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 7\n          }, this), showFilter && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-6 col-12 \",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-select\",\n                children: /*#__PURE__*/_jsxDEV(Select, {\n                  className: \"style-input\",\n                  placeholder: \"Ch\\u1ECDn ch\\u01B0\\u01A1ng tr\\xECnh\",\n                  value: valueProgram,\n                  style: {\n                    width: '100%'\n                  },\n                  onChange: (value, option) => handleSelect_Program(value),\n                  children: dataProgram === null || dataProgram === void 0 ? void 0 : dataProgram.map((item, index) => /*#__PURE__*/_jsxDEV(Option, {\n                    value: item.value,\n                    children: item.title\n                  }, index, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 446,\n                    columnNumber: 13\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 438,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-6 col-12 \",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-select\",\n                children: /*#__PURE__*/_jsxDEV(Select, {\n                  loading: loadingSelect,\n                  className: \"style-input\",\n                  placeholder: \"Ch\\u1ECDn gi\\xE1o tr\\xECnh\",\n                  value: valueCurriculum,\n                  style: {\n                    width: '100%'\n                  },\n                  onChange: (value, option) => handleSelect_Curriculum(value),\n                  children: dataCurriculum === null || dataCurriculum === void 0 ? void 0 : dataCurriculum.map((item, index) => /*#__PURE__*/_jsxDEV(Option, {\n                    value: item.value,\n                    children: item.title\n                  }, index, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 465,\n                    columnNumber: 13\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 456,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 455,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 299,\n    columnNumber: 3\n  }, this);\n};\n\nExamList.layout = LayoutBase;\nexport default ExamList;","map":{"version":3,"sources":["D:/MonaMedia/Project/IELTS-NguyenHuyen-FE/IELTS-Nguyen-Huyen/src/pages/question-bank/exam-list/index.tsx"],"names":["React","useRef","useState","useEffect","Card","Spin","Skeleton","Select","Modal","Tooltip","TitlePage","Bookmark","Trash2","SyncOutlined","CreateExamForm","LayoutBase","Link","examTopicApi","programApi","curriculumApi","useWrap","SearchBox","Option","DeleteExam","props","examID","onFetchData","showNoti","isLoading","setIsLoading","isModalVisible","setIsModalVisible","showModal","handleSubmit","res","update","ID","Enable","status","error","message","handleCancel","fontWeight","ExamList","userInformation","dataExam","setDataExam","listTodoApi","pageIndex","pageSize","CurriculumID","Type","Code","todoApi","setTodoApi","dataProgram","setDataProgram","dataCurriculum","setDataCurriculum","loadingSelect","setLoadingSelect","loadingQuestion","setLoadingQuestion","totalPageIndex","setTotalPageIndex","boxEl","valueCurriculum","setValueCurriculum","valueProgram","setValueProgram","valueTypeExam","setValueTypeExam","valueFilter","setValueFilter","showFilter","setShowFilter","getAllExam","getAll","cloneData","data","forEach","item","index","push","totalPage","Math","ceil","totalRow","console","log","getDataProgram","newData","map","title","ProgramName","value","getDataCurriculum","id","ProgramID","CurriculumName","handleSelect_Program","handleSelect_Curriculum","reloadData","handleSelect_Type","handleSelect_Filter","resetFilter","scrollToTop","handleSearch","current","scrollTo","onScroll","scrollHeight","offsetHeight","scrollTop","RoleID","length","pathname","query","slug","Name","TypeName","Time","NumberExercise","width","option","layout"],"mappings":"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","sourcesContent":["import React, { useRef, useState, useEffect } from 'react'\r\n\r\nimport { Card, Spin, Skeleton, Select, Modal, Tooltip } from 'antd'\r\nimport TitlePage from '~/components/Elements/TitlePage'\r\nimport { Bookmark, Trash2 } from 'react-feather'\r\nimport { SyncOutlined } from '@ant-design/icons'\r\nimport CreateExamForm from '~/components/Global/QuestionBank/CreateExamForm'\r\nimport LayoutBase from '~/components/LayoutBase'\r\nimport Link from 'next/link'\r\nimport { examTopicApi, programApi, curriculumApi } from '~/apiBase'\r\nimport { useWrap } from '~/context/wrap'\r\nimport SearchBox from '~/components/Elements/SearchBox'\r\n\r\nconst { Option } = Select\r\n\r\ntype dataOject = {\r\n\ttitle: string\r\n\tvalue: number\r\n}\r\n\r\nconst DeleteExam = (props) => {\r\n\tconst { examID, onFetchData } = props\r\n\tconst { showNoti } = useWrap()\r\n\tconst [isLoading, setIsLoading] = useState(false)\r\n\tconst [isModalVisible, setIsModalVisible] = useState(false)\r\n\r\n\tconst showModal = () => {\r\n\t\tsetIsModalVisible(true)\r\n\t}\r\n\r\n\tconst handleSubmit = async () => {\r\n\t\tsetIsLoading(true)\r\n\t\ttry {\r\n\t\t\tlet res = await examTopicApi.update({ ID: examID, Enable: false })\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tonFetchData && onFetchData()\r\n\t\t\t\tshowNoti('success', 'Xóa thành công')\r\n\t\t\t\tsetIsModalVisible(false)\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading(false)\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleCancel = () => {\r\n\t\tsetIsModalVisible(false)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<button className=\"btn btn-icon delete\" onClick={showModal}>\r\n\t\t\t\t<Trash2 />\r\n\t\t\t</button>\r\n\t\t\t<Modal\r\n\t\t\t\ttitle=\"Chú ý!\"\r\n\t\t\t\tvisible={isModalVisible}\r\n\t\t\t\tonCancel={handleCancel}\r\n\t\t\t\tfooter={\r\n\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t<button className=\"btn btn-light mr-2\" onClick={handleCancel}>\r\n\t\t\t\t\t\t\tHủy\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={handleSubmit}>\r\n\t\t\t\t\t\t\tXóa\r\n\t\t\t\t\t\t\t{isLoading && <Spin className=\"loading-base\" />}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<p style={{ fontWeight: 500 }}>Bạn có chắc muốn xóa đề thi này?</p>\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nconst ExamList = (props) => {\r\n\tconst { showNoti, userInformation } = useWrap()\r\n\tconst [dataExam, setDataExam] = useState<IExamTopic[]>([])\r\n\tconst [isLoading, setIsLoading] = useState(false)\r\n\tconst listTodoApi = {\r\n\t\tpageIndex: 1,\r\n\t\tpageSize: 10,\r\n\t\tCurriculumID: null,\r\n\t\tType: null,\r\n\t\tCode: null\r\n\t}\r\n\tconst [todoApi, setTodoApi] = useState(listTodoApi)\r\n\tconst [dataProgram, setDataProgram] = useState<dataOject[]>([])\r\n\tconst [dataCurriculum, setDataCurriculum] = useState<dataOject[]>([])\r\n\tconst [loadingSelect, setLoadingSelect] = useState(false)\r\n\tconst [loadingQuestion, setLoadingQuestion] = useState(false)\r\n\tconst [totalPageIndex, setTotalPageIndex] = useState(0)\r\n\tconst boxEl = useRef(null)\r\n\tconst [valueCurriculum, setValueCurriculum] = useState(null)\r\n\tconst [valueProgram, setValueProgram] = useState(null)\r\n\tconst [valueTypeExam, setValueTypeExam] = useState(null)\r\n\tconst [valueFilter, setValueFilter] = useState(null)\r\n\tconst [showFilter, setShowFilter] = useState(false)\r\n\r\n\tconst getAllExam = async () => {\r\n\t\ttry {\r\n\t\t\tlet res = await examTopicApi.getAll(todoApi)\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tlet cloneData = [...dataExam]\r\n\t\t\t\tres.data.data.forEach((item, index) => {\r\n\t\t\t\t\tcloneData.push(item)\r\n\t\t\t\t})\r\n\r\n\t\t\t\tsetDataExam([...cloneData])\r\n\r\n\t\t\t\t// Caculator pageindex\r\n\t\t\t\tlet totalPage = Math.ceil(res.data.totalRow / 10)\r\n\t\t\t\tsetTotalPageIndex(totalPage)\r\n\t\t\t}\r\n\t\t\tif (res.status == 204) {\r\n\t\t\t\tsetDataExam([])\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error)\r\n\t\t} finally {\r\n\t\t\tsetIsLoading(false)\r\n\t\t\tloadingQuestion && setLoadingQuestion(false)\r\n\t\t}\r\n\t}\r\n\r\n\t// GET DATA PROGRAM\r\n\tconst getDataProgram = async () => {\r\n\t\ttry {\r\n\t\t\tlet res = await programApi.getAll({ pageIndex: 1, pageSize: 999999 })\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tlet newData = res.data.data.map((item) => ({\r\n\t\t\t\t\ttitle: item.ProgramName,\r\n\t\t\t\t\tvalue: item.ID\r\n\t\t\t\t}))\r\n\t\t\t\tsetDataProgram(newData)\r\n\t\t\t}\r\n\r\n\t\t\tres.status == 204 && showNoti('danger', 'Chương trình không có dữ liệu')\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t}\r\n\t}\r\n\r\n\t// GET DATA Curriculum\r\n\tconst getDataCurriculum = async (id) => {\r\n\t\tsetLoadingSelect(true)\r\n\t\ttry {\r\n\t\t\tlet res = await curriculumApi.getAll({\r\n\t\t\t\tpageIndex: 1,\r\n\t\t\t\tpageSize: 999999,\r\n\t\t\t\tProgramID: id\r\n\t\t\t})\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tlet newData = res.data.data.map((item) => ({\r\n\t\t\t\t\ttitle: item.CurriculumName,\r\n\t\t\t\t\tvalue: item.ID\r\n\t\t\t\t}))\r\n\t\t\t\tsetDataCurriculum(newData)\r\n\t\t\t}\r\n\r\n\t\t\tres.status == 204 && showNoti('danger', 'Giáo trình không có dữ liệu')\r\n\t\t} catch (error) {\r\n\t\t\tshowNoti('danger', error.message)\r\n\t\t} finally {\r\n\t\t\tsetLoadingSelect(false)\r\n\t\t}\r\n\t}\r\n\r\n\t// SELECT PROGRAM\r\n\tconst handleSelect_Program = (value) => {\r\n\t\tsetValueProgram(value)\r\n\t\tsetValueCurriculum(null)\r\n\t\tsetDataExam([])\r\n\t\tgetDataCurriculum(value)\r\n\t}\r\n\r\n\t// SELECT Curriculum\r\n\tconst handleSelect_Curriculum = (value) => {\r\n\t\tsetValueCurriculum(value)\r\n\r\n\t\treloadData()\r\n\t\tsetTodoApi({ ...todoApi, pageIndex: 1, pageSize: 10, CurriculumID: value })\r\n\t}\r\n\r\n\t// SELECT TYPE\r\n\tconst handleSelect_Type = (value) => {\r\n\t\tsetValueTypeExam(value)\r\n\t\treloadData()\r\n\t\tsetTodoApi({ ...todoApi, pageIndex: 1, pageSize: 10, Type: value })\r\n\t}\r\n\r\n\t// SELECT FILTER\r\n\tconst handleSelect_Filter = (value) => {\r\n\t\tsetValueFilter(value)\r\n\t\tswitch (value) {\r\n\t\t\tcase 0:\r\n\t\t\t\treloadData()\r\n\t\t\t\tresetFilter()\r\n\t\t\t\tbreak\r\n\t\t\tcase 1:\r\n\t\t\t\treloadData()\r\n\t\t\t\tsetTodoApi({\r\n\t\t\t\t\t...todoApi,\r\n\t\t\t\t\tType: value,\r\n\t\t\t\t\tCurriculumID: null\r\n\t\t\t\t})\r\n\t\t\t\tsetShowFilter(false)\r\n\t\t\t\tbreak\r\n\t\t\t// case 2:\r\n\t\t\t// \tsetDataExam([]);\r\n\t\t\t// \tsetShowFilter(true);\r\n\t\t\t// \tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\treloadData()\r\n\t\t\t\tsetTodoApi({\r\n\t\t\t\t\t...todoApi,\r\n\t\t\t\t\tType: value\r\n\t\t\t\t})\r\n\t\t\t\tsetShowFilter(true)\r\n\t\t\t\tbreak\r\n\t\t}\r\n\t}\r\n\r\n\t// ON FETCH DATA\r\n\tconst onFetchData = () => {\r\n\t\treloadData()\r\n\t\tsetTodoApi({ ...todoApi, pageIndex: 1, pageSize: 10 })\r\n\t}\r\n\r\n\t// RELOAD DATA\r\n\tconst reloadData = () => {\r\n\t\tscrollToTop(), setIsLoading(true), setDataExam([])\r\n\t}\r\n\r\n\t// RESET FILTER\r\n\tconst resetFilter = () => {\r\n\t\tsetValueFilter(0)\r\n\t\tsetShowFilter(false)\r\n\t\tsetValueCurriculum(null)\r\n\t\tsetValueProgram(null)\r\n\t\tsetValueTypeExam(null)\r\n\t\treloadData()\r\n\t\tsetTodoApi({\r\n\t\t\t...listTodoApi\r\n\t\t})\r\n\t}\r\n\r\n\t// ON SEARCH\r\n\tconst handleSearch = (value) => {\r\n\t\treloadData()\r\n\t\tsetTodoApi({\r\n\t\t\t...listTodoApi,\r\n\t\t\tCode: value\r\n\t\t})\r\n\t}\r\n\r\n\t// SCROLL TO TOP\r\n\tconst scrollToTop = () => {\r\n\t\tboxEl.current.scrollTo(0, 0)\r\n\t}\r\n\r\n\t// ON SCROLL\r\n\tconst onScroll = () => {\r\n\t\tconst scrollHeight = boxEl.current.scrollHeight\r\n\t\tconst offsetHeight = boxEl.current.offsetHeight\r\n\t\tconst scrollTop = boxEl.current.scrollTop\r\n\r\n\t\t// console.log(\"Height: \", scrollHeight - offsetHeight);\r\n\t\t// console.log(\"Scroll: \", scrollTop);\r\n\r\n\t\tif (scrollTop > scrollHeight - offsetHeight - 40) {\r\n\t\t\tif (todoApi.pageIndex < totalPageIndex) {\r\n\t\t\t\tsetLoadingQuestion(true)\r\n\r\n\t\t\t\tif (scrollTop > 0 && loadingQuestion == false) {\r\n\t\t\t\t\tsetTodoApi({\r\n\t\t\t\t\t\t...todoApi,\r\n\t\t\t\t\t\tpageIndex: todoApi.pageIndex + 1\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tgetDataProgram()\r\n\t\tgetAllExam()\r\n\t}, [todoApi])\r\n\r\n\tuseEffect(() => {\r\n\t\tsetValueFilter(0)\r\n\t\tsetIsLoading(true)\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<div className=\"question-create exam-create\">\r\n\t\t\t<TitlePage title=\"Tạo đề thi\" />\r\n\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"col-md-8 col-12\">\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\tclassName=\"card-detail-exam card-detail-question\"\r\n\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t<div className=\"title-question-bank\">\r\n\t\t\t\t\t\t\t\t<h3 className=\"title-big\">\r\n\t\t\t\t\t\t\t\t\t<Bookmark /> Danh sách đề\r\n\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\textra={userInformation?.RoleID !== 2 && <CreateExamForm onFetchData={onFetchData} />}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div className=\"question-list\" ref={boxEl} onScroll={onScroll}>\r\n\t\t\t\t\t\t\t<div className=\"row mb-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t\t\t\t<SearchBox placeholder={'Tìm theo mã đề thi'} handleSearch={(value) => handleSearch(value)} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{isLoading ? (\r\n\t\t\t\t\t\t\t\t<div className=\"text-center p-2\">\r\n\t\t\t\t\t\t\t\t\t<Spin />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : dataExam?.length == 0 ? (\r\n\t\t\t\t\t\t\t\t<p className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t<b>Danh sách còn trống</b>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t{dataExam?.map((item, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-12\" key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"package-set\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{userInformation?.RoleID !== 2 && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"edit-exam\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CreateExamForm onFetchData={() => onFetchData()} dataItem={item} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteExam examID={item.ID} onFetchData={onFetchData} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"wrap-set\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"wrap-set-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"box-title\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"set-title\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpathname: '/question-bank/exam-list/exam-detail/[slug]',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tquery: { slug: item.ID }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href=\"\">{item.Name}</a>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"code\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>Mã: </span> {item.Code}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ul className=\"set-list\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li className=\"status\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tGiáo trình: <span>{item.CurriculumName}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li className=\"price\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tDạng: <span>{item.TypeName}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li className=\"time\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tThời gian: <span>{item.Time} phút</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li className=\"time\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSố câu hỏi: <span>{item?.NumberExercise}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"set-btn\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpathname: '/question-bank/exam-list/exam-detail/[slug]',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tquery: { slug: item.ID }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a className=\"btn btn-warning\">Xem chi tiết</a>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t{loadingQuestion && (\r\n\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Skeleton />\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Skeleton />\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-md-4 col-12\">\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\tclassName=\"card-box-type\"\r\n\t\t\t\t\t\ttitle=\"Lọc nhanh\"\r\n\t\t\t\t\t\textra={\r\n\t\t\t\t\t\t\t<Tooltip title=\"Reset\">\r\n\t\t\t\t\t\t\t\t<button className=\"btn btn-icon edit\" onClick={resetFilter}>\r\n\t\t\t\t\t\t\t\t\t<SyncOutlined />\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div className=\"row mb-3\">\r\n\t\t\t\t\t\t\t{/**  PHÂN LOẠI  */}\r\n\t\t\t\t\t\t\t<div className=\"col-md-12 col-12 mt-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"item-select\">\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"style-input\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Phân loại\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={valueFilter}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: '100%' }}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(value, option) => handleSelect_Filter(value)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Option value={0}>Tất cả</Option>\r\n\t\t\t\t\t\t\t\t\t\t{/* <Option value={1}>Đề hẹn test</Option> */}\r\n\t\t\t\t\t\t\t\t\t\t<Option value={2}>Đề bán</Option>\r\n\t\t\t\t\t\t\t\t\t\t<Option value={3}>Đề Kiểm tra</Option>\r\n\t\t\t\t\t\t\t\t\t\t<Option value={4}>Bài tập</Option>\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{showFilter && (\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t{/** CHỌN CHƯƠNG TRÌNH */}\r\n\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-12 \">\r\n\t\t\t\t\t\t\t\t\t<div className=\"item-select\">\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"style-input\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Chọn chương trình\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={valueProgram}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: '100%' }}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(value, option) => handleSelect_Program(value)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{dataProgram?.map((item, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option key={index} value={item.value}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.title}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{/** CHỌN Giáo trình */}\r\n\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-12 \">\r\n\t\t\t\t\t\t\t\t\t<div className=\"item-select\">\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tloading={loadingSelect}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"style-input\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Chọn giáo trình\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={valueCurriculum}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: '100%' }}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(value, option) => handleSelect_Curriculum(value)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{dataCurriculum?.map((item, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option key={index} value={item.value}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.title}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t{/** CHỌN DẠNG ĐỀ  */}\r\n\t\t\t\t\t\t\t\t{/* <div className=\"col-md-10 col-10 mt-3\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"item-select\">\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"style-input\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Chọn dạng đề\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={valueTypeExam}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: '100%' }}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(value, option) => handleSelect_Type(value)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value={2}>Đề bán</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value={3}>Đề kiểm tra</Option>\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div> */}\r\n\t\t\t\t\t\t\t\t{/* <div className=\"col-md-2 col-2 mt-3 d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t\t<Tooltip title=\"Reset\">\r\n\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-icon edit\" onClick={resetFilter}>\r\n\t\t\t\t\t\t\t\t\t\t\t<SyncOutlined />\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t</div> */}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\nExamList.layout = LayoutBase\r\nexport default ExamList\r\n"]},"metadata":{},"sourceType":"module"}